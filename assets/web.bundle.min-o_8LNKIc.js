var fp=Object.defineProperty;var cp=(t,i,r)=>i in t?fp(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r;var Pt=(t,i,r)=>(cp(t,typeof i!="symbol"?i+"":i,r),r);var dp=Object.create,ya=Object.defineProperty,pp=Object.getOwnPropertyDescriptor,gp=Object.getOwnPropertyNames,mp=Object.getPrototypeOf,yp=Object.prototype.hasOwnProperty,bp=(t,i,r)=>i in t?ya(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,Of=(t,i)=>()=>(t&&(i=t(t=0)),i),gt=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports),ba=(t,i)=>{for(var r in i)ya(t,r,{get:i[r],enumerable:!0})},If=(t,i,r,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of gp(i))!yp.call(t,a)&&a!==r&&ya(t,a,{get:()=>i[a],enumerable:!(u=pp(i,a))||u.enumerable});return t},ye=(t,i,r)=>(r=t!=null?dp(mp(t)):{},If(i||!t||!t.__esModule?ya(r,"default",{value:t,enumerable:!0}):r,t)),Bf=t=>If(ya({},"__esModule",{value:!0}),t),Wr=(t,i,r)=>(bp(t,typeof i!="symbol"?i+"":i,r),r),Co=gt(t=>{lt(),t.byteLength=c,t.toByteArray=l,t.fromByteArray=y;var i=[],r=[],u=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,e=a.length;s<e;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;var s,e;r[45]=62,r[95]=63;function o(m){var M=m.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=m.indexOf("=");E===-1&&(E=M);var B=E===M?0:4-E%4;return[E,B]}function c(m){var M=o(m),E=M[0],B=M[1];return(E+B)*3/4-B}function f(m,M,E){return(M+E)*3/4-E}function l(m){var M,E=o(m),B=E[0],x=E[1],C=new u(f(m,B,x)),N=0,F=x>0?B-4:B,I;for(I=0;I<F;I+=4)M=r[m.charCodeAt(I)]<<18|r[m.charCodeAt(I+1)]<<12|r[m.charCodeAt(I+2)]<<6|r[m.charCodeAt(I+3)],C[N++]=M>>16&255,C[N++]=M>>8&255,C[N++]=M&255;return x===2&&(M=r[m.charCodeAt(I)]<<2|r[m.charCodeAt(I+1)]>>4,C[N++]=M&255),x===1&&(M=r[m.charCodeAt(I)]<<10|r[m.charCodeAt(I+1)]<<4|r[m.charCodeAt(I+2)]>>2,C[N++]=M>>8&255,C[N++]=M&255),C}function p(m){return i[m>>18&63]+i[m>>12&63]+i[m>>6&63]+i[m&63]}function g(m,M,E){for(var B,x=[],C=M;C<E;C+=3)B=(m[C]<<16&16711680)+(m[C+1]<<8&65280)+(m[C+2]&255),x.push(p(B));return x.join("")}function y(m){for(var M,E=m.length,B=E%3,x=[],C=16383,N=0,F=E-B;N<F;N+=C)x.push(g(m,N,N+C>F?F:N+C));return B===1?(M=m[E-1],x.push(i[M>>2]+i[M<<4&63]+"==")):B===2&&(M=(m[E-2]<<8)+m[E-1],x.push(i[M>>10]+i[M>>4&63]+i[M<<2&63]+"=")),x.join("")}}),vp=gt(t=>{lt(),t.read=function(i,r,u,a,s){var e,o,c=s*8-a-1,f=(1<<c)-1,l=f>>1,p=-7,g=u?s-1:0,y=u?-1:1,m=i[r+g];for(g+=y,e=m&(1<<-p)-1,m>>=-p,p+=c;p>0;e=e*256+i[r+g],g+=y,p-=8);for(o=e&(1<<-p)-1,e>>=-p,p+=a;p>0;o=o*256+i[r+g],g+=y,p-=8);if(e===0)e=1-l;else{if(e===f)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,a),e=e-l}return(m?-1:1)*o*Math.pow(2,e-a)},t.write=function(i,r,u,a,s,e){var o,c,f,l=e*8-s-1,p=(1<<l)-1,g=p>>1,y=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:e-1,M=a?1:-1,E=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,o=p):(o=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+g>=1?r+=y/f:r+=y*Math.pow(2,1-g),r*f>=2&&(o++,f/=2),o+g>=p?(c=0,o=p):o+g>=1?(c=(r*f-1)*Math.pow(2,s),o=o+g):(c=r*Math.pow(2,g-1)*Math.pow(2,s),o=0));s>=8;i[u+m]=c&255,m+=M,c/=256,s-=8);for(o=o<<s|c,l+=s;l>0;i[u+m]=o&255,m+=M,o/=256,l-=8);i[u+m-M]|=E*128}}),$e=gt(t=>{lt();var i=Co(),r=vp(),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var K=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(K,G),K.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function e(K){if(K>a)throw new RangeError('The value "'+K+'" is invalid for option "size"');var G=new Uint8Array(K);return Object.setPrototypeOf(G,o.prototype),G}function o(K,G,H){if(typeof K=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(K)}return c(K,G,H)}o.poolSize=8192;function c(K,G,H){if(typeof K=="string")return g(K,G);if(ArrayBuffer.isView(K))return m(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(z(K,ArrayBuffer)||K&&z(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(z(K,SharedArrayBuffer)||K&&z(K.buffer,SharedArrayBuffer)))return M(K,G,H);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=K.valueOf&&K.valueOf();if(Y!=null&&Y!==K)return o.from(Y,G,H);var it=E(K);if(it)return it;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return o.from(K[Symbol.toPrimitive]("string"),G,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}o.from=function(K,G,H){return c(K,G,H)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function l(K,G,H){return f(K),K<=0?e(K):G!==void 0?typeof H=="string"?e(K).fill(G,H):e(K).fill(G):e(K)}o.alloc=function(K,G,H){return l(K,G,H)};function p(K){return f(K),e(K<0?0:B(K)|0)}o.allocUnsafe=function(K){return p(K)},o.allocUnsafeSlow=function(K){return p(K)};function g(K,G){if((typeof G!="string"||G==="")&&(G="utf8"),!o.isEncoding(G))throw new TypeError("Unknown encoding: "+G);var H=C(K,G)|0,Y=e(H),it=Y.write(K,G);return it!==H&&(Y=Y.slice(0,it)),Y}function y(K){for(var G=K.length<0?0:B(K.length)|0,H=e(G),Y=0;Y<G;Y+=1)H[Y]=K[Y]&255;return H}function m(K){if(z(K,Uint8Array)){var G=new Uint8Array(K);return M(G.buffer,G.byteOffset,G.byteLength)}return y(K)}function M(K,G,H){if(G<0||K.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<G+(H||0))throw new RangeError('"length" is outside of buffer bounds');var Y;return G===void 0&&H===void 0?Y=new Uint8Array(K):H===void 0?Y=new Uint8Array(K,G):Y=new Uint8Array(K,G,H),Object.setPrototypeOf(Y,o.prototype),Y}function E(K){if(o.isBuffer(K)){var G=B(K.length)|0,H=e(G);return H.length===0||K.copy(H,0,0,G),H}if(K.length!==void 0)return typeof K.length!="number"||Z(K.length)?e(0):y(K);if(K.type==="Buffer"&&Array.isArray(K.data))return y(K.data)}function B(K){if(K>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return K|0}function x(K){return+K!=K&&(K=0),o.alloc(+K)}o.isBuffer=function(K){return K!=null&&K._isBuffer===!0&&K!==o.prototype},o.compare=function(K,G){if(z(K,Uint8Array)&&(K=o.from(K,K.offset,K.byteLength)),z(G,Uint8Array)&&(G=o.from(G,G.offset,G.byteLength)),!o.isBuffer(K)||!o.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===G)return 0;for(var H=K.length,Y=G.length,it=0,ot=Math.min(H,Y);it<ot;++it)if(K[it]!==G[it]){H=K[it],Y=G[it];break}return H<Y?-1:Y<H?1:0},o.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(K,G){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(K.length===0)return o.alloc(0);var H;if(G===void 0)for(G=0,H=0;H<K.length;++H)G+=K[H].length;var Y=o.allocUnsafe(G),it=0;for(H=0;H<K.length;++H){var ot=K[H];if(z(ot,Uint8Array))it+ot.length>Y.length?o.from(ot).copy(Y,it):Uint8Array.prototype.set.call(Y,ot,it);else if(o.isBuffer(ot))ot.copy(Y,it);else throw new TypeError('"list" argument must be an Array of Buffers');it+=ot.length}return Y};function C(K,G){if(o.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||z(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var H=K.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&H===0)return 0;for(var it=!1;;)switch(G){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return at(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H*2;case"hex":return H>>>1;case"base64":return R(K).length;default:if(it)return Y?-1:at(K).length;G=(""+G).toLowerCase(),it=!0}}o.byteLength=C;function N(K,G,H){var Y=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0,G>>>=0,H<=G))return"";for(K||(K="utf8");;)switch(K){case"hex":return S(this,G,H);case"utf8":case"utf-8":return n(this,G,H);case"ascii":return A(this,G,H);case"latin1":case"binary":return T(this,G,H);case"base64":return L(this,G,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,G,H);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}o.prototype._isBuffer=!0;function F(K,G,H){var Y=K[G];K[G]=K[H],K[H]=Y}o.prototype.swap16=function(){var K=this.length;if(K%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<K;G+=2)F(this,G,G+1);return this},o.prototype.swap32=function(){var K=this.length;if(K%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<K;G+=4)F(this,G,G+3),F(this,G+1,G+2);return this},o.prototype.swap64=function(){var K=this.length;if(K%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<K;G+=8)F(this,G,G+7),F(this,G+1,G+6),F(this,G+2,G+5),F(this,G+3,G+4);return this},o.prototype.toString=function(){var K=this.length;return K===0?"":arguments.length===0?n(this,0,K):N.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(K){if(!o.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K?!0:o.compare(this,K)===0},o.prototype.inspect=function(){var K="",G=t.INSPECT_MAX_BYTES;return K=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(K+=" ... "),"<Buffer "+K+">"},u&&(o.prototype[u]=o.prototype.inspect),o.prototype.compare=function(K,G,H,Y,it){if(z(K,Uint8Array)&&(K=o.from(K,K.offset,K.byteLength)),!o.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(G===void 0&&(G=0),H===void 0&&(H=K?K.length:0),Y===void 0&&(Y=0),it===void 0&&(it=this.length),G<0||H>K.length||Y<0||it>this.length)throw new RangeError("out of range index");if(Y>=it&&G>=H)return 0;if(Y>=it)return-1;if(G>=H)return 1;if(G>>>=0,H>>>=0,Y>>>=0,it>>>=0,this===K)return 0;for(var ot=it-Y,mt=H-G,_t=Math.min(ot,mt),ht=this.slice(Y,it),vt=K.slice(G,H),pt=0;pt<_t;++pt)if(ht[pt]!==vt[pt]){ot=ht[pt],mt=vt[pt];break}return ot<mt?-1:mt<ot?1:0};function I(K,G,H,Y,it){if(K.length===0)return-1;if(typeof H=="string"?(Y=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,Z(H)&&(H=it?0:K.length-1),H<0&&(H=K.length+H),H>=K.length){if(it)return-1;H=K.length-1}else if(H<0)if(it)H=0;else return-1;if(typeof G=="string"&&(G=o.from(G,Y)),o.isBuffer(G))return G.length===0?-1:U(K,G,H,Y,it);if(typeof G=="number")return G=G&255,typeof Uint8Array.prototype.indexOf=="function"?it?Uint8Array.prototype.indexOf.call(K,G,H):Uint8Array.prototype.lastIndexOf.call(K,G,H):U(K,[G],H,Y,it);throw new TypeError("val must be string, number or Buffer")}function U(K,G,H,Y,it){var ot=1,mt=K.length,_t=G.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(K.length<2||G.length<2)return-1;ot=2,mt/=2,_t/=2,H/=2}function ht(st,yt){return ot===1?st[yt]:st.readUInt16BE(yt*ot)}var vt;if(it){var pt=-1;for(vt=H;vt<mt;vt++)if(ht(K,vt)===ht(G,pt===-1?0:vt-pt)){if(pt===-1&&(pt=vt),vt-pt+1===_t)return pt*ot}else pt!==-1&&(vt-=vt-pt),pt=-1}else for(H+_t>mt&&(H=mt-_t),vt=H;vt>=0;vt--){for(var V=!0,rt=0;rt<_t;rt++)if(ht(K,vt+rt)!==ht(G,rt)){V=!1;break}if(V)return vt}return-1}o.prototype.includes=function(K,G,H){return this.indexOf(K,G,H)!==-1},o.prototype.indexOf=function(K,G,H){return I(this,K,G,H,!0)},o.prototype.lastIndexOf=function(K,G,H){return I(this,K,G,H,!1)};function P(K,G,H,Y){H=Number(H)||0;var it=K.length-H;Y?(Y=Number(Y),Y>it&&(Y=it)):Y=it;var ot=G.length;Y>ot/2&&(Y=ot/2);for(var mt=0;mt<Y;++mt){var _t=parseInt(G.substr(mt*2,2),16);if(Z(_t))return mt;K[H+mt]=_t}return mt}function D(K,G,H,Y){return j(at(G,K.length-H),K,H,Y)}function W(K,G,H,Y){return j($(G),K,H,Y)}function q(K,G,H,Y){return j(R(G),K,H,Y)}function O(K,G,H,Y){return j(J(G,K.length-H),K,H,Y)}o.prototype.write=function(K,G,H,Y){if(G===void 0)Y="utf8",H=this.length,G=0;else if(H===void 0&&typeof G=="string")Y=G,H=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(H)?(H=H>>>0,Y===void 0&&(Y="utf8")):(Y=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var it=this.length-G;if((H===void 0||H>it)&&(H=it),K.length>0&&(H<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");for(var ot=!1;;)switch(Y){case"hex":return P(this,K,G,H);case"utf8":case"utf-8":return D(this,K,G,H);case"ascii":case"latin1":case"binary":return W(this,K,G,H);case"base64":return q(this,K,G,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,K,G,H);default:if(ot)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),ot=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(K,G,H){return G===0&&H===K.length?i.fromByteArray(K):i.fromByteArray(K.slice(G,H))}function n(K,G,H){H=Math.min(K.length,H);for(var Y=[],it=G;it<H;){var ot=K[it],mt=null,_t=ot>239?4:ot>223?3:ot>191?2:1;if(it+_t<=H){var ht,vt,pt,V;switch(_t){case 1:ot<128&&(mt=ot);break;case 2:ht=K[it+1],(ht&192)===128&&(V=(ot&31)<<6|ht&63,V>127&&(mt=V));break;case 3:ht=K[it+1],vt=K[it+2],(ht&192)===128&&(vt&192)===128&&(V=(ot&15)<<12|(ht&63)<<6|vt&63,V>2047&&(V<55296||V>57343)&&(mt=V));break;case 4:ht=K[it+1],vt=K[it+2],pt=K[it+3],(ht&192)===128&&(vt&192)===128&&(pt&192)===128&&(V=(ot&15)<<18|(ht&63)<<12|(vt&63)<<6|pt&63,V>65535&&V<1114112&&(mt=V))}}mt===null?(mt=65533,_t=1):mt>65535&&(mt-=65536,Y.push(mt>>>10&1023|55296),mt=56320|mt&1023),Y.push(mt),it+=_t}return v(Y)}var d=4096;function v(K){var G=K.length;if(G<=d)return String.fromCharCode.apply(String,K);for(var H="",Y=0;Y<G;)H+=String.fromCharCode.apply(String,K.slice(Y,Y+=d));return H}function A(K,G,H){var Y="";H=Math.min(K.length,H);for(var it=G;it<H;++it)Y+=String.fromCharCode(K[it]&127);return Y}function T(K,G,H){var Y="";H=Math.min(K.length,H);for(var it=G;it<H;++it)Y+=String.fromCharCode(K[it]);return Y}function S(K,G,H){var Y=K.length;(!G||G<0)&&(G=0),(!H||H<0||H>Y)&&(H=Y);for(var it="",ot=G;ot<H;++ot)it+=Q[K[ot]];return it}function w(K,G,H){for(var Y=K.slice(G,H),it="",ot=0;ot<Y.length-1;ot+=2)it+=String.fromCharCode(Y[ot]+Y[ot+1]*256);return it}o.prototype.slice=function(K,G){var H=this.length;K=~~K,G=G===void 0?H:~~G,K<0?(K+=H,K<0&&(K=0)):K>H&&(K=H),G<0?(G+=H,G<0&&(G=0)):G>H&&(G=H),G<K&&(G=K);var Y=this.subarray(K,G);return Object.setPrototypeOf(Y,o.prototype),Y};function b(K,G,H){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+G>H)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(K,G,H){K=K>>>0,G=G>>>0,H||b(K,G,this.length);for(var Y=this[K],it=1,ot=0;++ot<G&&(it*=256);)Y+=this[K+ot]*it;return Y},o.prototype.readUintBE=o.prototype.readUIntBE=function(K,G,H){K=K>>>0,G=G>>>0,H||b(K,G,this.length);for(var Y=this[K+--G],it=1;G>0&&(it*=256);)Y+=this[K+--G]*it;return Y},o.prototype.readUint8=o.prototype.readUInt8=function(K,G){return K=K>>>0,G||b(K,1,this.length),this[K]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(K,G){return K=K>>>0,G||b(K,2,this.length),this[K]|this[K+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(K,G){return K=K>>>0,G||b(K,2,this.length),this[K]<<8|this[K+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(K,G){return K=K>>>0,G||b(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+this[K+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(K,G){return K=K>>>0,G||b(K,4,this.length),this[K]*16777216+(this[K+1]<<16|this[K+2]<<8|this[K+3])},o.prototype.readIntLE=function(K,G,H){K=K>>>0,G=G>>>0,H||b(K,G,this.length);for(var Y=this[K],it=1,ot=0;++ot<G&&(it*=256);)Y+=this[K+ot]*it;return it*=128,Y>=it&&(Y-=Math.pow(2,8*G)),Y},o.prototype.readIntBE=function(K,G,H){K=K>>>0,G=G>>>0,H||b(K,G,this.length);for(var Y=G,it=1,ot=this[K+--Y];Y>0&&(it*=256);)ot+=this[K+--Y]*it;return it*=128,ot>=it&&(ot-=Math.pow(2,8*G)),ot},o.prototype.readInt8=function(K,G){return K=K>>>0,G||b(K,1,this.length),this[K]&128?(255-this[K]+1)*-1:this[K]},o.prototype.readInt16LE=function(K,G){K=K>>>0,G||b(K,2,this.length);var H=this[K]|this[K+1]<<8;return H&32768?H|4294901760:H},o.prototype.readInt16BE=function(K,G){K=K>>>0,G||b(K,2,this.length);var H=this[K+1]|this[K]<<8;return H&32768?H|4294901760:H},o.prototype.readInt32LE=function(K,G){return K=K>>>0,G||b(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},o.prototype.readInt32BE=function(K,G){return K=K>>>0,G||b(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},o.prototype.readFloatLE=function(K,G){return K=K>>>0,G||b(K,4,this.length),r.read(this,K,!0,23,4)},o.prototype.readFloatBE=function(K,G){return K=K>>>0,G||b(K,4,this.length),r.read(this,K,!1,23,4)},o.prototype.readDoubleLE=function(K,G){return K=K>>>0,G||b(K,8,this.length),r.read(this,K,!0,52,8)},o.prototype.readDoubleBE=function(K,G){return K=K>>>0,G||b(K,8,this.length),r.read(this,K,!1,52,8)};function h(K,G,H,Y,it,ot){if(!o.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>it||G<ot)throw new RangeError('"value" argument is out of bounds');if(H+Y>K.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(K,G,H,Y){if(K=+K,G=G>>>0,H=H>>>0,!Y){var it=Math.pow(2,8*H)-1;h(this,K,G,H,it,0)}var ot=1,mt=0;for(this[G]=K&255;++mt<H&&(ot*=256);)this[G+mt]=K/ot&255;return G+H},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(K,G,H,Y){if(K=+K,G=G>>>0,H=H>>>0,!Y){var it=Math.pow(2,8*H)-1;h(this,K,G,H,it,0)}var ot=H-1,mt=1;for(this[G+ot]=K&255;--ot>=0&&(mt*=256);)this[G+ot]=K/mt&255;return G+H},o.prototype.writeUint8=o.prototype.writeUInt8=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,1,255,0),this[G]=K&255,G+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,2,65535,0),this[G]=K&255,this[G+1]=K>>>8,G+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,2,65535,0),this[G]=K>>>8,this[G+1]=K&255,G+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,4,4294967295,0),this[G+3]=K>>>24,this[G+2]=K>>>16,this[G+1]=K>>>8,this[G]=K&255,G+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,4,4294967295,0),this[G]=K>>>24,this[G+1]=K>>>16,this[G+2]=K>>>8,this[G+3]=K&255,G+4},o.prototype.writeIntLE=function(K,G,H,Y){if(K=+K,G=G>>>0,!Y){var it=Math.pow(2,8*H-1);h(this,K,G,H,it-1,-it)}var ot=0,mt=1,_t=0;for(this[G]=K&255;++ot<H&&(mt*=256);)K<0&&_t===0&&this[G+ot-1]!==0&&(_t=1),this[G+ot]=(K/mt>>0)-_t&255;return G+H},o.prototype.writeIntBE=function(K,G,H,Y){if(K=+K,G=G>>>0,!Y){var it=Math.pow(2,8*H-1);h(this,K,G,H,it-1,-it)}var ot=H-1,mt=1,_t=0;for(this[G+ot]=K&255;--ot>=0&&(mt*=256);)K<0&&_t===0&&this[G+ot+1]!==0&&(_t=1),this[G+ot]=(K/mt>>0)-_t&255;return G+H},o.prototype.writeInt8=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,1,127,-128),K<0&&(K=255+K+1),this[G]=K&255,G+1},o.prototype.writeInt16LE=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,2,32767,-32768),this[G]=K&255,this[G+1]=K>>>8,G+2},o.prototype.writeInt16BE=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,2,32767,-32768),this[G]=K>>>8,this[G+1]=K&255,G+2},o.prototype.writeInt32LE=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,4,2147483647,-2147483648),this[G]=K&255,this[G+1]=K>>>8,this[G+2]=K>>>16,this[G+3]=K>>>24,G+4},o.prototype.writeInt32BE=function(K,G,H){return K=+K,G=G>>>0,H||h(this,K,G,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),this[G]=K>>>24,this[G+1]=K>>>16,this[G+2]=K>>>8,this[G+3]=K&255,G+4};function k(K,G,H,Y,it,ot){if(H+Y>K.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function tt(K,G,H,Y,it){return G=+G,H=H>>>0,it||k(K,G,H,4),r.write(K,G,H,Y,23,4),H+4}o.prototype.writeFloatLE=function(K,G,H){return tt(this,K,G,!0,H)},o.prototype.writeFloatBE=function(K,G,H){return tt(this,K,G,!1,H)};function X(K,G,H,Y,it){return G=+G,H=H>>>0,it||k(K,G,H,8),r.write(K,G,H,Y,52,8),H+8}o.prototype.writeDoubleLE=function(K,G,H){return X(this,K,G,!0,H)},o.prototype.writeDoubleBE=function(K,G,H){return X(this,K,G,!1,H)},o.prototype.copy=function(K,G,H,Y){if(!o.isBuffer(K))throw new TypeError("argument should be a Buffer");if(H||(H=0),!Y&&Y!==0&&(Y=this.length),G>=K.length&&(G=K.length),G||(G=0),Y>0&&Y<H&&(Y=H),Y===H||K.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),K.length-G<Y-H&&(Y=K.length-G+H);var it=Y-H;return this===K&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,H,Y):Uint8Array.prototype.set.call(K,this.subarray(H,Y),G),it},o.prototype.fill=function(K,G,H,Y){if(typeof K=="string"){if(typeof G=="string"?(Y=G,G=0,H=this.length):typeof H=="string"&&(Y=H,H=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!o.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(K.length===1){var it=K.charCodeAt(0);(Y==="utf8"&&it<128||Y==="latin1")&&(K=it)}}else typeof K=="number"?K=K&255:typeof K=="boolean"&&(K=Number(K));if(G<0||this.length<G||this.length<H)throw new RangeError("Out of range index");if(H<=G)return this;G=G>>>0,H=H===void 0?this.length:H>>>0,K||(K=0);var ot;if(typeof K=="number")for(ot=G;ot<H;++ot)this[ot]=K;else{var mt=o.isBuffer(K)?K:o.from(K,Y),_t=mt.length;if(_t===0)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(ot=0;ot<H-G;++ot)this[ot+G]=mt[ot%_t]}return this};var ft=/[^+/0-9A-Za-z-_]/g;function et(K){if(K=K.split("=")[0],K=K.trim().replace(ft,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function at(K,G){G=G||1/0;for(var H,Y=K.length,it=null,ot=[],mt=0;mt<Y;++mt){if(H=K.charCodeAt(mt),H>55295&&H<57344){if(!it){if(H>56319){(G-=3)>-1&&ot.push(239,191,189);continue}else if(mt+1===Y){(G-=3)>-1&&ot.push(239,191,189);continue}it=H;continue}if(H<56320){(G-=3)>-1&&ot.push(239,191,189),it=H;continue}H=(it-55296<<10|H-56320)+65536}else it&&(G-=3)>-1&&ot.push(239,191,189);if(it=null,H<128){if((G-=1)<0)break;ot.push(H)}else if(H<2048){if((G-=2)<0)break;ot.push(H>>6|192,H&63|128)}else if(H<65536){if((G-=3)<0)break;ot.push(H>>12|224,H>>6&63|128,H&63|128)}else if(H<1114112){if((G-=4)<0)break;ot.push(H>>18|240,H>>12&63|128,H>>6&63|128,H&63|128)}else throw new Error("Invalid code point")}return ot}function $(K){for(var G=[],H=0;H<K.length;++H)G.push(K.charCodeAt(H)&255);return G}function J(K,G){for(var H,Y,it,ot=[],mt=0;mt<K.length&&!((G-=2)<0);++mt)H=K.charCodeAt(mt),Y=H>>8,it=H%256,ot.push(it),ot.push(Y);return ot}function R(K){return i.toByteArray(et(K))}function j(K,G,H,Y){for(var it=0;it<Y&&!(it+H>=G.length||it>=K.length);++it)G[it+H]=K[it];return it}function z(K,G){return K instanceof G||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===G.name}function Z(K){return K!==K}var Q=function(){for(var K="0123456789abcdef",G=new Array(256),H=0;H<16;++H)for(var Y=H*16,it=0;it<16;++it)G[Y+it]=K[H]+K[it];return G}()}),wp=gt((t,i)=>{lt();var r=i.exports={},u,a;function s(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=s}catch{u=s}try{typeof clearTimeout=="function"?a=clearTimeout:a=e}catch{a=e}})();function o(B){if(u===setTimeout)return setTimeout(B,0);if((u===s||!u)&&setTimeout)return u=setTimeout,setTimeout(B,0);try{return u(B,0)}catch{try{return u.call(null,B,0)}catch{return u.call(this,B,0)}}}function c(B){if(a===clearTimeout)return clearTimeout(B);if((a===e||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(B);try{return a(B)}catch{try{return a.call(null,B)}catch{return a.call(this,B)}}}var f=[],l=!1,p,g=-1;function y(){!l||!p||(l=!1,p.length?f=p.concat(f):g=-1,f.length&&m())}function m(){if(!l){var B=o(y);l=!0;for(var x=f.length;x;){for(p=f,f=[];++g<x;)p&&p[g].run();g=-1,x=f.length}p=null,l=!1,c(B)}}r.nextTick=function(B){var x=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)x[C-1]=arguments[C];f.push(new M(B,x)),f.length===1&&!l&&o(m)};function M(B,x){this.fun=B,this.array=x}M.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function E(){}r.on=E,r.addListener=E,r.once=E,r.off=E,r.removeListener=E,r.removeAllListeners=E,r.emit=E,r.prependListener=E,r.prependOnceListener=E,r.listeners=function(B){return[]},r.binding=function(B){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(B){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),Ut,Jt,al,le,lt=Of(()=>{Ut=ye($e()),Jt=ye(wp()),al=function(t){function i(){var u=this||self;return delete t.prototype.__magic__,u}if(typeof globalThis=="object")return globalThis;if(this)return i();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:i});var r=__magic__;return r}(Object),le=al}),Jn=gt((t,i)=>{lt(),typeof window<"u"?(window.global=window,le.fetch=window.fetch,i.exports={Buffer:$e().Buffer,Crypto:window.crypto}):i.exports={Buffer:$e().Buffer,Crypto:crypto}}),Cf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.lvlToOrder=t.LogLevelOrder=void 0,t.LogLevelOrder={silly:0,trace:1,debug:2,info:3,warn:4,error:5,fatal:6,none:7};function i(r){return t.LogLevelOrder[r]}t.lvlToOrder=i}),Pf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0;var i=Cf(),r=class{constructor(u,a){this.moduleName=u,this.settings=a}trace(u,...a){this.shouldLog("trace")&&console.debug(this.message("trace",u),a)}error(u,...a){this.shouldLog("error")&&console.error(this.message("error",u),a)}info(u,...a){this.shouldLog("info")&&console.info(this.message("info",u),a)}silly(u,...a){this.shouldLog("silly")&&console.debug(this.message("silly",u),a)}debug(u,...a){this.shouldLog("debug")&&console.debug(this.message("debug",u),a)}warn(u,...a){this.shouldLog("warn")&&console.warn(this.message("warn",u),a)}log(u,...a){this.shouldLog("info")&&console.info(this.message("info",u),a)}fatal(u,...a){this.shouldLog("fatal")&&console.error(this.message("fatal",u),a)}shouldLog(u){return(0,i.lvlToOrder)(u)>=(0,i.lvlToOrder)(this.settings.minLevel)}setSettings(u){this.settings=u}message(u,a){return`${new Date().toISOString()} ${u.toUpperCase()} [${this.moduleName}] ${a}`}};t.ConsoleLogger=r}),Rf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLoggerFactory=void 0;var i=Pf(),r=class{constructor(){this.registeredLoggers={},this.registeredOptions={},this.defOptions={minLevel:"info"},this.setOptions=this.setOptions.bind(this),this.getOptions=this.getOptions.bind(this),this.create=this.create.bind(this),this.logLevel=this.logLevel.bind(this)}setOptions(u,a){a?this.registeredLoggers[a]?this.registeredLoggers[a].setSettings({...this.registeredLoggers[a].settings,...u}):this.registeredOptions[a]={...this.defOptions,...u}:(this.defOptions=u,Object.keys(this.registeredLoggers).forEach(s=>{this.registeredLoggers[s].setSettings({...this.registeredLoggers[s].settings,...u})}))}getOptions(u){return u?this.registeredLoggers[u]?this.registeredLoggers[u].settings:this.registeredOptions[u]?this.registeredOptions[u]:this.defOptions:this.defOptions}logLevel(u,a){this.setOptions({minLevel:u},a)}create(u="SWC"){return Object.prototype.hasOwnProperty.call(this.registeredLoggers,u)||(this.registeredLoggers[u]=new i.ConsoleLogger(u,this.getOptions(u))),this.registeredLoggers[u]}};t.ConsoleLoggerFactory=r}),_p=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),or=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerFactory=void 0;var i=Rf(),r=class{constructor(){}setOptions(u,a){r.INST.setOptions(u,a)}getOptions(u){return r.INST.getOptions(u)}logLevel(u,a){r.INST.logLevel(u,a)}create(u){return r.INST.create(u)}static use(u){r.INST=u}};t.LoggerFactory=r,r.INST=new i.ConsoleLoggerFactory}),fn=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Benchmark=void 0;var i=class{static measure(){return new i}constructor(){this.start=Date.now(),this.end=null}reset(){this.start=Date.now(),this.end=null}stop(){this.end=Date.now()}elapsed(r=!1){this.end===null&&(this.end=Date.now());let u=this.end-this.start;return r?u:`${(this.end-this.start).toFixed(0)}ms`}};t.Benchmark=i}),Ep=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),Xn=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.SortKeyCacheResult=t.CacheKey=void 0;var i=class{constructor(u,a){this.key=u,this.sortKey=a}};t.CacheKey=i;var r=class{constructor(u,a){this.sortKey=u,this.cachedValue=a}};t.SortKeyCacheResult=r}),Sp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),Ap=gt(t=>{lt(),t.supports=function(...i){let r=i.reduce((u,a)=>Object.assign(u,a),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}}),cn=gt((t,i)=>{lt(),i.exports=class extends Error{constructor(r,u){super(r||""),typeof u=="object"&&u!==null&&(u.code&&(this.code=String(u.code)),u.expected&&(this.expected=!0),u.transient&&(this.transient=!0),u.cause&&(this.cause=u.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}}),Nf=gt((t,i)=>{lt();var r=null;i.exports=function(){return r===null&&(r={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),r}}),Lf=gt(t=>{lt();var i=cn(),r=new Set(["buffer","view","utf8"]),u=class{constructor(a){if(this.encode=a.encode||this.encode,this.decode=a.decode||this.decode,this.name=a.name||this.name,this.format=a.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!r.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");a.createViewTranscoder&&(this.createViewTranscoder=a.createViewTranscoder),a.createBufferTranscoder&&(this.createBufferTranscoder=a.createBufferTranscoder),a.createUTF8Transcoder&&(this.createUTF8Transcoder=a.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new i(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new i(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new i(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};t.Encoding=u}),Df=gt(t=>{lt();var{Buffer:i}=$e()||{},{Encoding:r}=Lf(),u=Nf(),a=class extends r{constructor(o){super({...o,format:"buffer"})}createViewTranscoder(){return new s({encode:this.encode,decode:o=>this.decode(i.from(o.buffer,o.byteOffset,o.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},s=class extends r{constructor(o){super({...o,format:"view"})}createBufferTranscoder(){return new a({encode:o=>{let c=this.encode(o);return i.from(c.buffer,c.byteOffset,c.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},e=class extends r{constructor(o){super({...o,format:"utf8"})}createBufferTranscoder(){return new a({encode:o=>i.from(this.encode(o),"utf8"),decode:o=>this.decode(o.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:o,textDecoder:c}=u();return new s({encode:f=>o.encode(this.encode(f)),decode:f=>this.decode(c.decode(f)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};t.BufferFormat=a,t.ViewFormat=s,t.UTF8Format=e}),Tp=gt(t=>{lt();var{Buffer:i}=$e()||{Buffer:{isBuffer:()=>!1}},{textEncoder:r,textDecoder:u}=Nf()(),{BufferFormat:a,ViewFormat:s,UTF8Format:e}=Df(),o=c=>c;t.utf8=new e({encode:function(c){return i.isBuffer(c)?c.toString("utf8"):ArrayBuffer.isView(c)?u.decode(c):String(c)},decode:o,name:"utf8",createViewTranscoder(){return new s({encode:function(c){return ArrayBuffer.isView(c)?c:r.encode(c)},decode:function(c){return u.decode(c)},name:`${this.name}+view`})},createBufferTranscoder(){return new a({encode:function(c){return i.isBuffer(c)?c:ArrayBuffer.isView(c)?i.from(c.buffer,c.byteOffset,c.byteLength):i.from(String(c),"utf8")},decode:function(c){return c.toString("utf8")},name:`${this.name}+buffer`})}}),t.json=new e({encode:JSON.stringify,decode:JSON.parse,name:"json"}),t.buffer=new a({encode:function(c){return i.isBuffer(c)?c:ArrayBuffer.isView(c)?i.from(c.buffer,c.byteOffset,c.byteLength):i.from(String(c),"utf8")},decode:o,name:"buffer",createViewTranscoder(){return new s({encode:function(c){return ArrayBuffer.isView(c)?c:i.from(String(c),"utf8")},decode:function(c){return i.from(c.buffer,c.byteOffset,c.byteLength)},name:`${this.name}+view`})}}),t.view=new s({encode:function(c){return ArrayBuffer.isView(c)?c:r.encode(c)},decode:o,name:"view",createBufferTranscoder(){return new a({encode:function(c){return i.isBuffer(c)?c:ArrayBuffer.isView(c)?i.from(c.buffer,c.byteOffset,c.byteLength):i.from(String(c),"utf8")},decode:o,name:`${this.name}+buffer`})}}),t.hex=new a({encode:function(c){return i.isBuffer(c)?c:i.from(String(c),"hex")},decode:function(c){return c.toString("hex")},name:"hex"}),t.base64=new a({encode:function(c){return i.isBuffer(c)?c:i.from(String(c),"base64")},decode:function(c){return c.toString("base64")},name:"base64"})}),Mp=gt(t=>{lt();var i=cn(),r=Tp(),{Encoding:u}=Lf(),{BufferFormat:a,ViewFormat:s,UTF8Format:e}=Df(),o=Symbol("formats"),c=Symbol("encodings"),f=new Set(["buffer","view","utf8"]),l=class{constructor(E){if(Array.isArray(E)){if(!E.every(B=>f.has(B)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[c]=new Map,this[o]=new Set(E);for(let B in r)try{this.encoding(B)}catch(x){if(x.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw x}}encodings(){return Array.from(new Set(this[c].values()))}encoding(E){let B=this[c].get(E);if(B===void 0){if(typeof E=="string"&&E!==""){if(B=m[E],!B)throw new i(`Encoding '${E}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof E!="object"||E===null)throw new TypeError("First argument 'encoding' must be a string or object");B=p(E)}let{name:x,format:C}=B;if(!this[o].has(C))if(this[o].has("view"))B=B.createViewTranscoder();else if(this[o].has("buffer"))B=B.createBufferTranscoder();else if(this[o].has("utf8"))B=B.createUTF8Transcoder();else throw new i(`Encoding '${x}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let N of[E,x,B.name,B.commonName])this[c].set(N,B)}return B}};t.Transcoder=l;function p(E){if(E instanceof u)return E;let B="type"in E&&typeof E.type=="string"?E.type:void 0,x=E.name||B||`anonymous-${M++}`;switch(g(E)){case"view":return new s({...E,name:x});case"utf8":return new e({...E,name:x});case"buffer":return new a({...E,name:x});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function g(E){return"format"in E&&E.format!==void 0?E.format:"buffer"in E&&typeof E.buffer=="boolean"?E.buffer?"buffer":"utf8":"code"in E&&Number.isInteger(E.code)?"view":"buffer"}var y={binary:r.buffer,"utf-8":r.utf8},m={...r,...y},M=0}),wn=gt((t,i)=>{lt();var r=typeof Reflect=="object"?Reflect:null,u=r&&typeof r.apply=="function"?r.apply:function(I,U,P){return Function.prototype.apply.call(I,U,P)},a;r&&typeof r.ownKeys=="function"?a=r.ownKeys:Object.getOwnPropertySymbols?a=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:a=function(I){return Object.getOwnPropertyNames(I)};function s(I){console&&console.warn&&console.warn(I)}var e=Number.isNaN||function(I){return I!==I};function o(){o.init.call(this)}i.exports=o,i.exports.once=C,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var c=10;function f(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(I){if(typeof I!="number"||I<0||e(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");c=I}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||e(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function l(I){return I._maxListeners===void 0?o.defaultMaxListeners:I._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(I){for(var U=[],P=1;P<arguments.length;P++)U.push(arguments[P]);var D=I==="error",W=this._events;if(W!==void 0)D=D&&W.error===void 0;else if(!D)return!1;if(D){var q;if(U.length>0&&(q=U[0]),q instanceof Error)throw q;var O=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw O.context=q,O}var L=W[I];if(L===void 0)return!1;if(typeof L=="function")u(L,this,U);else for(var n=L.length,d=E(L,n),P=0;P<n;++P)u(d[P],this,U);return!0};function p(I,U,P,D){var W,q,O;if(f(P),q=I._events,q===void 0?(q=I._events=Object.create(null),I._eventsCount=0):(q.newListener!==void 0&&(I.emit("newListener",U,P.listener?P.listener:P),q=I._events),O=q[U]),O===void 0)O=q[U]=P,++I._eventsCount;else if(typeof O=="function"?O=q[U]=D?[P,O]:[O,P]:D?O.unshift(P):O.push(P),W=l(I),W>0&&O.length>W&&!O.warned){O.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(U)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=I,L.type=U,L.count=O.length,s(L)}return I}o.prototype.addListener=function(I,U){return p(this,I,U,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(I,U){return p(this,I,U,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(I,U,P){var D={fired:!1,wrapFn:void 0,target:I,type:U,listener:P},W=g.bind(D);return W.listener=P,D.wrapFn=W,W}o.prototype.once=function(I,U){return f(U),this.on(I,y(this,I,U)),this},o.prototype.prependOnceListener=function(I,U){return f(U),this.prependListener(I,y(this,I,U)),this},o.prototype.removeListener=function(I,U){var P,D,W,q,O;if(f(U),D=this._events,D===void 0)return this;if(P=D[I],P===void 0)return this;if(P===U||P.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete D[I],D.removeListener&&this.emit("removeListener",I,P.listener||U));else if(typeof P!="function"){for(W=-1,q=P.length-1;q>=0;q--)if(P[q]===U||P[q].listener===U){O=P[q].listener,W=q;break}if(W<0)return this;W===0?P.shift():B(P,W),P.length===1&&(D[I]=P[0]),D.removeListener!==void 0&&this.emit("removeListener",I,O||U)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(I){var U,P,D;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[I]),this;if(arguments.length===0){var W=Object.keys(P),q;for(D=0;D<W.length;++D)q=W[D],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=P[I],typeof U=="function")this.removeListener(I,U);else if(U!==void 0)for(D=U.length-1;D>=0;D--)this.removeListener(I,U[D]);return this};function m(I,U,P){var D=I._events;if(D===void 0)return[];var W=D[U];return W===void 0?[]:typeof W=="function"?P?[W.listener||W]:[W]:P?x(W):E(W,W.length)}o.prototype.listeners=function(I){return m(this,I,!0)},o.prototype.rawListeners=function(I){return m(this,I,!1)},o.listenerCount=function(I,U){return typeof I.listenerCount=="function"?I.listenerCount(U):M.call(I,U)},o.prototype.listenerCount=M;function M(I){var U=this._events;if(U!==void 0){var P=U[I];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function E(I,U){for(var P=new Array(U),D=0;D<U;++D)P[D]=I[D];return P}function B(I,U){for(;U+1<I.length;U++)I[U]=I[U+1];I.pop()}function x(I){for(var U=new Array(I.length),P=0;P<U.length;++P)U[P]=I[P].listener||I[P];return U}function C(I,U){return new Promise(function(P,D){function W(O){I.removeListener(U,q),D(O)}function q(){typeof I.removeListener=="function"&&I.removeListener("error",W),P([].slice.call(arguments))}F(I,U,q,{once:!0}),U!=="error"&&N(I,W,{once:!0})})}function N(I,U,P){typeof I.on=="function"&&F(I,"error",U,P)}function F(I,U,P,D){if(typeof I.on=="function")D.once?I.once(U,P):I.on(U,P);else if(typeof I.addEventListener=="function")I.addEventListener(U,function W(q){D.once&&I.removeEventListener(U,W),P(q)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}}),xp=gt((t,i)=>{lt(),i.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)}),Po=gt(t=>{lt();var i=xp();t.fromCallback=function(r,u){if(r===void 0){var a=new Promise(function(s,e){r=function(o,c){o?e(o):s(c)}});r[u!==void 0?u:"promise"]=a}else if(typeof r!="function")throw new TypeError("Callback must be a function");return r},t.fromPromise=function(r,u){if(u===void 0)return r;r.then(function(a){i(()=>u(null,a))}).catch(function(a){i(()=>u(a))})}}),cu=gt(t=>{lt(),t.getCallback=function(i,r){return typeof i=="function"?i:r},t.getOptions=function(i,r){return typeof i=="object"&&i!==null?i:r!==void 0?r:{}}}),si=gt(t=>{lt();var{fromCallback:i}=Po(),r=cn(),{getOptions:u,getCallback:a}=cu(),s=Symbol("promise"),e=Symbol("callback"),o=Symbol("working"),c=Symbol("handleOne"),f=Symbol("handleMany"),l=Symbol("autoClose"),p=Symbol("finishWork"),g=Symbol("returnMany"),y=Symbol("closing"),m=Symbol("handleClose"),M=Symbol("closed"),E=Symbol("closeCallbacks"),B=Symbol("keyEncoding"),x=Symbol("valueEncoding"),C=Symbol("abortOnClose"),N=Symbol("legacy"),F=Symbol("keys"),I=Symbol("values"),U=Symbol("limit"),P=Symbol("count"),D=Object.freeze({}),W=()=>{},q=!1,O=class{constructor(A,T,S){if(typeof A!="object"||A===null){let w=A===null?"null":typeof A;throw new TypeError(`The first argument must be an abstract-level database, received ${w}`)}if(typeof T!="object"||T===null)throw new TypeError("The second argument must be an options object");this[M]=!1,this[E]=[],this[o]=!1,this[y]=!1,this[l]=!1,this[e]=null,this[c]=this[c].bind(this),this[f]=this[f].bind(this),this[m]=this[m].bind(this),this[B]=T[B],this[x]=T[x],this[N]=S,this[U]=Number.isInteger(T.limit)&&T.limit>=0?T.limit:1/0,this[P]=0,this[C]=!!T.abortOnClose,this.db=A,this.db.attachResource(this),this.nextTick=A.nextTick}get count(){return this[P]}get limit(){return this[U]}next(A){let T;if(A===void 0)T=new Promise((S,w)=>{A=(b,h,k)=>{b?w(b):this[N]?h===void 0&&k===void 0?S():S([h,k]):S(h)}});else if(typeof A!="function")throw new TypeError("Callback must be a function");return this[y]?this.nextTick(A,new r("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[o]?this.nextTick(A,new r("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[o]=!0,this[e]=A,this[P]>=this[U]?this.nextTick(this[c],null):this._next(this[c])),T}_next(A){this.nextTick(A)}nextv(A,T,S){return S=a(T,S),S=i(S,s),T=u(T,D),Number.isInteger(A)?(this[y]?this.nextTick(S,new r("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[o]?this.nextTick(S,new r("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(A<1&&(A=1),this[U]<1/0&&(A=Math.min(A,this[U]-this[P])),this[o]=!0,this[e]=S,A<=0?this.nextTick(this[f],null,[]):this._nextv(A,T,this[f])),S[s]):(this.nextTick(S,new TypeError("The first argument 'size' must be an integer")),S[s])}_nextv(A,T,S){let w=[],b=(h,k,tt)=>{if(h)return S(h);if(this[N]?k===void 0&&tt===void 0:k===void 0)return S(null,w);w.push(this[N]?[k,tt]:k),w.length===A?S(null,w):this._next(b)};this._next(b)}all(A,T){return T=a(A,T),T=i(T,s),A=u(A,D),this[y]?this.nextTick(T,new r("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[o]?this.nextTick(T,new r("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[o]=!0,this[e]=T,this[l]=!0,this[P]>=this[U]?this.nextTick(this[f],null,[]):this._all(A,this[f])),T[s]}_all(A,T){let S=this[P],w=[],b=()=>{let k=this[U]<1/0?Math.min(1e3,this[U]-S):1e3;k<=0?this.nextTick(T,null,w):this._nextv(k,D,h)},h=(k,tt)=>{k?T(k):tt.length===0?T(null,w):(w.push.apply(w,tt),S+=tt.length,b())};b()}[p](){let A=this[e];return this[C]&&A===null?W:(this[o]=!1,this[e]=null,this[y]&&this._close(this[m]),A)}[g](A,T,S){this[l]?this.close(A.bind(null,T,S)):A(T,S)}seek(A,T){if(T=u(T,D),!this[y]){if(this[o])throw new r("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let S=this.db.keyEncoding(T.keyEncoding||this[B]),w=S.format;T.keyEncoding!==w&&(T={...T,keyEncoding:w});let b=this.db.prefixKey(S.encode(A),w);this._seek(b,T)}}}_seek(A,T){throw new r("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(A){return A=i(A,s),this[M]?this.nextTick(A):this[y]?this[E].push(A):(this[y]=!0,this[E].push(A),this[o]?this[C]&&this[p]()(new r("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[m])),A[s]}_close(A){this.nextTick(A)}[m](){this[M]=!0,this.db.detachResource(this);let A=this[E];this[E]=[];for(let T of A)T()}async*[Symbol.asyncIterator](){try{let A;for(;(A=await this.next())!==void 0;)yield A}finally{this[M]||await this.close()}}},L=class extends O{constructor(A,T){super(A,T,!0),this[F]=T.keys!==!1,this[I]=T.values!==!1}[c](A,T,S){let w=this[p]();if(A)return w(A);try{T=this[F]&&T!==void 0?this[B].decode(T):void 0,S=this[I]&&S!==void 0?this[x].decode(S):void 0}catch(b){return w(new v("entry",b))}T===void 0&&S===void 0||this[P]++,w(null,T,S)}[f](A,T){let S=this[p]();if(A)return this[g](S,A);try{for(let w of T){let b=w[0],h=w[1];w[0]=this[F]&&b!==void 0?this[B].decode(b):void 0,w[1]=this[I]&&h!==void 0?this[x].decode(h):void 0}}catch(w){return this[g](S,new v("entries",w))}this[P]+=T.length,this[g](S,null,T)}end(A){return!q&&typeof console<"u"&&(q=!0,console.warn(new r("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(A)}},n=class extends O{constructor(A,T){super(A,T,!1)}[c](A,T){let S=this[p]();if(A)return S(A);try{T=T!==void 0?this[B].decode(T):void 0}catch(w){return S(new v("key",w))}T!==void 0&&this[P]++,S(null,T)}[f](A,T){let S=this[p]();if(A)return this[g](S,A);try{for(let w=0;w<T.length;w++){let b=T[w];T[w]=b!==void 0?this[B].decode(b):void 0}}catch(w){return this[g](S,new v("keys",w))}this[P]+=T.length,this[g](S,null,T)}},d=class extends O{constructor(A,T){super(A,T,!1)}[c](A,T){let S=this[p]();if(A)return S(A);try{T=T!==void 0?this[x].decode(T):void 0}catch(w){return S(new v("value",w))}T!==void 0&&this[P]++,S(null,T)}[f](A,T){let S=this[p]();if(A)return this[g](S,A);try{for(let w=0;w<T.length;w++){let b=T[w];T[w]=b!==void 0?this[x].decode(b):void 0}}catch(w){return this[g](S,new v("values",w))}this[P]+=T.length,this[g](S,null,T)}},v=class extends r{constructor(A,T){super(`Iterator could not decode ${A}`,{code:"LEVEL_DECODE_ERROR",cause:T})}};for(let A of["_ended property","_nexting property","_end method"])Object.defineProperty(L.prototype,A.split(" ")[0],{get(){throw new r(`The ${A} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new r(`The ${A} has been removed`,{code:"LEVEL_LEGACY"})}});L.keyEncoding=B,L.valueEncoding=x,t.AbstractIterator=L,t.AbstractKeyIterator=n,t.AbstractValueIterator=d}),kp=gt(t=>{lt();var{AbstractKeyIterator:i,AbstractValueIterator:r}=si(),u=Symbol("iterator"),a=Symbol("callback"),s=Symbol("handleOne"),e=Symbol("handleMany"),o=class extends i{constructor(f,l){super(f,l),this[u]=f.iterator({...l,keys:!0,values:!1}),this[s]=this[s].bind(this),this[e]=this[e].bind(this)}},c=class extends r{constructor(f,l){super(f,l),this[u]=f.iterator({...l,keys:!1,values:!0}),this[s]=this[s].bind(this),this[e]=this[e].bind(this)}};for(let f of[o,c]){let l=f===o,p=l?g=>g[0]:g=>g[1];f.prototype._next=function(g){this[a]=g,this[u].next(this[s])},f.prototype[s]=function(g,y,m){let M=this[a];g?M(g):M(null,l?y:m)},f.prototype._nextv=function(g,y,m){this[a]=m,this[u].nextv(g,y,this[e])},f.prototype._all=function(g,y){this[a]=y,this[u].all(g,this[e])},f.prototype[e]=function(g,y){let m=this[a];g?m(g):m(null,y.map(p))},f.prototype._seek=function(g,y){this[u].seek(g,y)},f.prototype._close=function(g){this[u].close(g)}}t.DefaultKeyIterator=o,t.DefaultValueIterator=c}),Op=gt(t=>{lt();var{AbstractIterator:i,AbstractKeyIterator:r,AbstractValueIterator:u}=si(),a=cn(),s=Symbol("nut"),e=Symbol("undefer"),o=Symbol("factory"),c=class extends i{constructor(p,g){super(p,g),this[s]=null,this[o]=()=>p.iterator(g),this.db.defer(()=>this[e]())}},f=class extends r{constructor(p,g){super(p,g),this[s]=null,this[o]=()=>p.keys(g),this.db.defer(()=>this[e]())}},l=class extends u{constructor(p,g){super(p,g),this[s]=null,this[o]=()=>p.values(g),this.db.defer(()=>this[e]())}};for(let p of[c,f,l])p.prototype[e]=function(){this.db.status==="open"&&(this[s]=this[o]())},p.prototype._next=function(g){this[s]!==null?this[s].next(g):this.db.status==="opening"?this.db.defer(()=>this._next(g)):this.nextTick(g,new a("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},p.prototype._nextv=function(g,y,m){this[s]!==null?this[s].nextv(g,y,m):this.db.status==="opening"?this.db.defer(()=>this._nextv(g,y,m)):this.nextTick(m,new a("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},p.prototype._all=function(g,y){this[s]!==null?this[s].all(y):this.db.status==="opening"?this.db.defer(()=>this._all(g,y)):this.nextTick(y,new a("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},p.prototype._seek=function(g,y){this[s]!==null?this[s]._seek(g,y):this.db.status==="opening"&&this.db.defer(()=>this._seek(g,y))},p.prototype._close=function(g){this[s]!==null?this[s].close(g):this.db.status==="opening"?this.db.defer(()=>this._close(g)):this.nextTick(g)};t.DeferredIterator=c,t.DeferredKeyIterator=f,t.DeferredValueIterator=l}),jf=gt(t=>{lt();var{fromCallback:i}=Po(),r=cn(),{getCallback:u,getOptions:a}=cu(),s=Symbol("promise"),e=Symbol("status"),o=Symbol("operations"),c=Symbol("finishClose"),f=Symbol("closeCallbacks"),l=class{constructor(p){if(typeof p!="object"||p===null){let g=p===null?"null":typeof p;throw new TypeError(`The first argument must be an abstract-level database, received ${g}`)}this[o]=[],this[f]=[],this[e]="open",this[c]=this[c].bind(this),this.db=p,this.db.attachResource(this),this.nextTick=p.nextTick}get length(){return this[o].length}put(p,g,y){if(this[e]!=="open")throw new r("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let m=this.db._checkKey(p)||this.db._checkValue(g);if(m)throw m;let M=y&&y.sublevel!=null?y.sublevel:this.db,E=y,B=M.keyEncoding(y&&y.keyEncoding),x=M.valueEncoding(y&&y.valueEncoding),C=B.format;y={...y,keyEncoding:C,valueEncoding:x.format},M!==this.db&&(y.sublevel=null);let N=M.prefixKey(B.encode(p),C),F=x.encode(g);return this._put(N,F,y),this[o].push({...E,type:"put",key:p,value:g}),this}_put(p,g,y){}del(p,g){if(this[e]!=="open")throw new r("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let y=this.db._checkKey(p);if(y)throw y;let m=g&&g.sublevel!=null?g.sublevel:this.db,M=g,E=m.keyEncoding(g&&g.keyEncoding),B=E.format;return g={...g,keyEncoding:B},m!==this.db&&(g.sublevel=null),this._del(m.prefixKey(E.encode(p),B),g),this[o].push({...M,type:"del",key:p}),this}_del(p,g){}clear(){if(this[e]!=="open")throw new r("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[o]=[],this}_clear(){}write(p,g){return g=u(p,g),g=i(g,s),p=a(p),this[e]!=="open"?this.nextTick(g,new r("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(g):(this[e]="writing",this._write(p,y=>{this[e]="closing",this[f].push(()=>g(y)),y||this.db.emit("batch",this[o]),this._close(this[c])})),g[s]}_write(p,g){}close(p){return p=i(p,s),this[e]==="closing"?this[f].push(p):this[e]==="closed"?this.nextTick(p):(this[f].push(p),this[e]!=="writing"&&(this[e]="closing",this._close(this[c]))),p[s]}_close(p){this.nextTick(p)}[c](){this[e]="closed",this.db.detachResource(this);let p=this[f];this[f]=[];for(let g of p)g()}};t.AbstractChainedBatch=l}),Ip=gt(t=>{lt();var{AbstractChainedBatch:i}=jf(),r=cn(),u=Symbol("encoded"),a=class extends i{constructor(s){super(s),this[u]=[]}_put(s,e,o){this[u].push({...o,type:"put",key:s,value:e})}_del(s,e){this[u].push({...e,type:"del",key:s})}_clear(){this[u]=[]}_write(s,e){this.db.status==="opening"?this.db.defer(()=>this._write(s,e)):this.db.status==="open"?this[u].length===0?this.nextTick(e):this.db._batch(this[u],s,e):this.nextTick(e,new r("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};t.DefaultChainedBatch=a}),Bp=gt((t,i)=>{lt();var r=cn(),u=Object.prototype.hasOwnProperty,a=new Set(["lt","lte","gt","gte"]);i.exports=function(s,e){let o={};for(let c in s)if(u.call(s,c)&&!(c==="keyEncoding"||c==="valueEncoding")){if(c==="start"||c==="end")throw new r(`The legacy range option '${c}' has been removed`,{code:"LEVEL_LEGACY"});if(c==="encoding")throw new r("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});a.has(c)?o[c]=e.encode(s[c]):o[c]=s[c]}return o.reverse=!!o.reverse,o.limit=Number.isInteger(o.limit)&&o.limit>=0?o.limit:-1,o}}),Uf=gt((t,i)=>{lt();var r;i.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:le):u=>(r||(r=Promise.resolve())).then(u).catch(a=>setTimeout(()=>{throw a},0))}),Cp=gt((t,i)=>{lt();var r=Uf();i.exports=function(u,...a){a.length===0?r(u):r(()=>u(...a))}}),Pp=gt(t=>{lt();var{AbstractIterator:i,AbstractKeyIterator:r,AbstractValueIterator:u}=si(),a=Symbol("unfix"),s=Symbol("iterator"),e=Symbol("handleOne"),o=Symbol("handleMany"),c=Symbol("callback"),f=class extends i{constructor(g,y,m,M){super(g,y),this[s]=m,this[a]=M,this[e]=this[e].bind(this),this[o]=this[o].bind(this),this[c]=null}[e](g,y,m){let M=this[c];if(g)return M(g);y!==void 0&&(y=this[a](y)),M(g,y,m)}[o](g,y){let m=this[c];if(g)return m(g);for(let M of y){let E=M[0];E!==void 0&&(M[0]=this[a](E))}m(g,y)}},l=class extends r{constructor(g,y,m,M){super(g,y),this[s]=m,this[a]=M,this[e]=this[e].bind(this),this[o]=this[o].bind(this),this[c]=null}[e](g,y){let m=this[c];if(g)return m(g);y!==void 0&&(y=this[a](y)),m(g,y)}[o](g,y){let m=this[c];if(g)return m(g);for(let M=0;M<y.length;M++){let E=y[M];E!==void 0&&(y[M]=this[a](E))}m(g,y)}},p=class extends u{constructor(g,y,m){super(g,y),this[s]=m}};for(let g of[f,l])g.prototype._next=function(y){this[c]=y,this[s].next(this[e])},g.prototype._nextv=function(y,m,M){this[c]=M,this[s].nextv(y,m,this[o])},g.prototype._all=function(y,m){this[c]=m,this[s].all(y,this[o])};for(let g of[p])g.prototype._next=function(y){this[s].next(y)},g.prototype._nextv=function(y,m,M){this[s].nextv(y,m,M)},g.prototype._all=function(y,m){this[s].all(y,m)};for(let g of[f,l,p])g.prototype._seek=function(y,m){this[s].seek(y,m)},g.prototype._close=function(y){this[s].close(y)};t.AbstractSublevelIterator=f,t.AbstractSublevelKeyIterator=l,t.AbstractSublevelValueIterator=p}),Rp=gt((t,i)=>{lt();var r=cn(),{Buffer:u}=$e()||{},{AbstractSublevelIterator:a,AbstractSublevelKeyIterator:s,AbstractSublevelValueIterator:e}=Pp(),o=Symbol("prefix"),c=Symbol("upperBound"),f=Symbol("prefixRange"),l=Symbol("parent"),p=Symbol("unfix"),g=new TextEncoder,y={separator:"!"};i.exports=function({AbstractLevel:C}){class N extends C{static defaults(I){if(typeof I=="string")throw new r("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(I&&I.open)throw new r("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return I==null?y:I.separator?I:{...I,separator:"!"}}constructor(I,U,P){let{separator:D,manifest:W,...q}=N.defaults(P);U=x(U,D);let O=D.charCodeAt(0)+1,L=I[l]||I;if(!g.encode(U).every(v=>v>O&&v<127))throw new r(`Prefix must use bytes > ${O} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(m(L,W),q);let n=(I.prefix||"")+D+U+D,d=n.slice(0,-1)+String.fromCharCode(O);this[l]=L,this[o]=new E(n),this[c]=new E(d),this[p]=new B,this.nextTick=L.nextTick}prefixKey(I,U){if(U==="utf8")return this[o].utf8+I;if(I.byteLength===0)return this[o][U];if(U==="view"){let P=this[o].view,D=new Uint8Array(P.byteLength+I.byteLength);return D.set(P,0),D.set(I,P.byteLength),D}else{let P=this[o].buffer;return u.concat([P,I],P.byteLength+I.byteLength)}}[f](I,U){I.gte!==void 0?I.gte=this.prefixKey(I.gte,U):I.gt!==void 0?I.gt=this.prefixKey(I.gt,U):I.gte=this[o][U],I.lte!==void 0?I.lte=this.prefixKey(I.lte,U):I.lt!==void 0?I.lt=this.prefixKey(I.lt,U):I.lte=this[c][U]}get prefix(){return this[o].utf8}get db(){return this[l]}_open(I,U){this[l].open({passive:!0},U)}_put(I,U,P,D){this[l].put(I,U,P,D)}_get(I,U,P){this[l].get(I,U,P)}_getMany(I,U,P){this[l].getMany(I,U,P)}_del(I,U,P){this[l].del(I,U,P)}_batch(I,U,P){this[l].batch(I,U,P)}_clear(I,U){this[f](I,I.keyEncoding),this[l].clear(I,U)}_iterator(I){this[f](I,I.keyEncoding);let U=this[l].iterator(I),P=this[p].get(this[o].utf8.length,I.keyEncoding);return new a(this,I,U,P)}_keys(I){this[f](I,I.keyEncoding);let U=this[l].keys(I),P=this[p].get(this[o].utf8.length,I.keyEncoding);return new s(this,I,U,P)}_values(I){this[f](I,I.keyEncoding);let U=this[l].values(I);return new e(this,I,U)}}return{AbstractSublevel:N}};var m=function(C,N){return{...C.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...N,encodings:{utf8:M(C,"utf8"),buffer:M(C,"buffer"),view:M(C,"view")}}},M=function(C,N){return C.supports.encodings[N]?C.keyEncoding(N).name===N:!1},E=class{constructor(C){this.utf8=C,this.view=g.encode(C),this.buffer=u?u.from(this.view.buffer,0,this.view.byteLength):{}}},B=class{constructor(){this.cache=new Map}get(C,N){let F=this.cache.get(N);return F===void 0&&(N==="view"?F=(function(I,U){return U.subarray(I)}).bind(null,C):F=(function(I,U){return U.slice(I)}).bind(null,C),this.cache.set(N,F)),F}},x=function(C,N){let F=0,I=C.length;for(;F<I&&C[F]===N;)F++;for(;I>F&&C[I-1]===N;)I--;return C.slice(F,I)}}),ol=gt(t=>{lt();var{supports:i}=Ap(),{Transcoder:r}=Mp(),{EventEmitter:u}=wn(),{fromCallback:a}=Po(),s=cn(),{AbstractIterator:e}=si(),{DefaultKeyIterator:o,DefaultValueIterator:c}=kp(),{DeferredIterator:f,DeferredKeyIterator:l,DeferredValueIterator:p}=Op(),{DefaultChainedBatch:g}=Ip(),{getCallback:y,getOptions:m}=cu(),M=Bp(),E=Symbol("promise"),B=Symbol("landed"),x=Symbol("resources"),C=Symbol("closeResources"),N=Symbol("operations"),F=Symbol("undefer"),I=Symbol("deferOpen"),U=Symbol("options"),P=Symbol("status"),D=Symbol("defaultOptions"),W=Symbol("transcoder"),q=Symbol("keyEncoding"),O=Symbol("valueEncoding"),L=()=>{},n=class extends u{constructor(T,S){if(super(),typeof T!="object"||T===null)throw new TypeError("The first argument 'manifest' must be an object");S=m(S);let{keyEncoding:w,valueEncoding:b,passive:h,...k}=S;this[x]=new Set,this[N]=[],this[I]=!0,this[U]=k,this[P]="opening",this.supports=i(T,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:T.snapshots!==!1,permanence:T.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:T.encodings||{},events:Object.assign({},T.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[W]=new r(A(this)),this[q]=this[W].encoding(w||"utf8"),this[O]=this[W].encoding(b||"utf8");for(let tt of this[W].encodings())this.supports.encodings[tt.commonName]||(this.supports.encodings[tt.commonName]=!0);this[D]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[q].commonName,valueEncoding:this[O].commonName}),key:Object.freeze({keyEncoding:this[q].commonName})},this.nextTick(()=>{this[I]&&this.open({passive:!1},L)})}get status(){return this[P]}keyEncoding(T){return this[W].encoding(T??this[q])}valueEncoding(T){return this[W].encoding(T??this[O])}open(T,S){S=y(T,S),S=a(S,E),T={...this[U],...m(T)},T.createIfMissing=T.createIfMissing!==!1,T.errorIfExists=!!T.errorIfExists;let w=b=>{this[P]==="closing"||this[P]==="opening"?this.once(B,b?()=>w(b):w):this[P]!=="open"?S(new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:b})):S()};return T.passive?this[P]==="opening"?this.once(B,w):this.nextTick(w):this[P]==="closed"||this[I]?(this[I]=!1,this[P]="opening",this.emit("opening"),this._open(T,b=>{if(b){this[P]="closed",this[C](()=>{this.emit(B),w(b)}),this[F]();return}this[P]="open",this[F](),this.emit(B),this[P]==="open"&&this.emit("open"),this[P]==="open"&&this.emit("ready"),w()})):this[P]==="open"?this.nextTick(w):this.once(B,()=>this.open(T,S)),S[E]}_open(T,S){this.nextTick(S)}close(T){T=a(T,E);let S=w=>{this[P]==="opening"||this[P]==="closing"?this.once(B,w?S(w):S):this[P]!=="closed"?T(new s("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:w})):T()};if(this[P]==="open"){this[P]="closing",this.emit("closing");let w=b=>{this[P]="open",this[F](),this.emit(B),S(b)};this[C](()=>{this._close(b=>{if(b)return w(b);this[P]="closed",this[F](),this.emit(B),this[P]==="closed"&&this.emit("closed"),S()})})}else this[P]==="closed"?this.nextTick(S):this.once(B,()=>this.close(T));return T[E]}[C](T){if(this[x].size===0)return this.nextTick(T);let S=this[x].size,w=!0,b=()=>{--S===0&&(w?this.nextTick(T):T())};for(let h of this[x])h.close(b);w=!1,this[x].clear()}_close(T){this.nextTick(T)}get(T,S,w){if(w=y(S,w),w=a(w,E),S=m(S,this[D].entry),this[P]==="opening")return this.defer(()=>this.get(T,S,w)),w[E];if(v(this,w))return w[E];let b=this._checkKey(T);if(b)return this.nextTick(w,b),w[E];let h=this.keyEncoding(S.keyEncoding),k=this.valueEncoding(S.valueEncoding),tt=h.format,X=k.format;return(S.keyEncoding!==tt||S.valueEncoding!==X)&&(S=Object.assign({},S,{keyEncoding:tt,valueEncoding:X})),this._get(this.prefixKey(h.encode(T),tt),S,(ft,et)=>{if(ft)return(ft.code==="LEVEL_NOT_FOUND"||ft.notFound||/NotFound/i.test(ft))&&(ft.code||(ft.code="LEVEL_NOT_FOUND"),ft.notFound||(ft.notFound=!0),ft.status||(ft.status=404)),w(ft);try{et=k.decode(et)}catch(at){return w(new s("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:at}))}w(null,et)}),w[E]}_get(T,S,w){this.nextTick(w,new Error("NotFound"))}getMany(T,S,w){if(w=y(S,w),w=a(w,E),S=m(S,this[D].entry),this[P]==="opening")return this.defer(()=>this.getMany(T,S,w)),w[E];if(v(this,w))return w[E];if(!Array.isArray(T))return this.nextTick(w,new TypeError("The first argument 'keys' must be an array")),w[E];if(T.length===0)return this.nextTick(w,null,[]),w[E];let b=this.keyEncoding(S.keyEncoding),h=this.valueEncoding(S.valueEncoding),k=b.format,tt=h.format;(S.keyEncoding!==k||S.valueEncoding!==tt)&&(S=Object.assign({},S,{keyEncoding:k,valueEncoding:tt}));let X=new Array(T.length);for(let ft=0;ft<T.length;ft++){let et=T[ft],at=this._checkKey(et);if(at)return this.nextTick(w,at),w[E];X[ft]=this.prefixKey(b.encode(et),k)}return this._getMany(X,S,(ft,et)=>{if(ft)return w(ft);try{for(let at=0;at<et.length;at++)et[at]!==void 0&&(et[at]=h.decode(et[at]))}catch(at){return w(new s(`Could not decode one or more of ${et.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:at}))}w(null,et)}),w[E]}_getMany(T,S,w){this.nextTick(w,null,new Array(T.length).fill(void 0))}put(T,S,w,b){if(b=y(w,b),b=a(b,E),w=m(w,this[D].entry),this[P]==="opening")return this.defer(()=>this.put(T,S,w,b)),b[E];if(v(this,b))return b[E];let h=this._checkKey(T)||this._checkValue(S);if(h)return this.nextTick(b,h),b[E];let k=this.keyEncoding(w.keyEncoding),tt=this.valueEncoding(w.valueEncoding),X=k.format,ft=tt.format;(w.keyEncoding!==X||w.valueEncoding!==ft)&&(w=Object.assign({},w,{keyEncoding:X,valueEncoding:ft}));let et=this.prefixKey(k.encode(T),X),at=tt.encode(S);return this._put(et,at,w,$=>{if($)return b($);this.emit("put",T,S),b()}),b[E]}_put(T,S,w,b){this.nextTick(b)}del(T,S,w){if(w=y(S,w),w=a(w,E),S=m(S,this[D].key),this[P]==="opening")return this.defer(()=>this.del(T,S,w)),w[E];if(v(this,w))return w[E];let b=this._checkKey(T);if(b)return this.nextTick(w,b),w[E];let h=this.keyEncoding(S.keyEncoding),k=h.format;return S.keyEncoding!==k&&(S=Object.assign({},S,{keyEncoding:k})),this._del(this.prefixKey(h.encode(T),k),S,tt=>{if(tt)return w(tt);this.emit("del",T),w()}),w[E]}_del(T,S,w){this.nextTick(w)}batch(T,S,w){if(!arguments.length){if(this[P]==="opening")return new g(this);if(this[P]!=="open")throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof T=="function"?w=T:w=y(S,w),w=a(w,E),S=m(S,this[D].empty),this[P]==="opening")return this.defer(()=>this.batch(T,S,w)),w[E];if(v(this,w))return w[E];if(!Array.isArray(T))return this.nextTick(w,new TypeError("The first argument 'operations' must be an array")),w[E];if(T.length===0)return this.nextTick(w),w[E];let b=new Array(T.length),{keyEncoding:h,valueEncoding:k,...tt}=S;for(let X=0;X<T.length;X++){if(typeof T[X]!="object"||T[X]===null)return this.nextTick(w,new TypeError("A batch operation must be an object")),w[E];let ft=Object.assign({},T[X]);if(ft.type!=="put"&&ft.type!=="del")return this.nextTick(w,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),w[E];let et=this._checkKey(ft.key);if(et)return this.nextTick(w,et),w[E];let at=ft.sublevel!=null?ft.sublevel:this,$=at.keyEncoding(ft.keyEncoding||h),J=$.format;if(ft.key=at.prefixKey($.encode(ft.key),J),ft.keyEncoding=J,ft.type==="put"){let R=this._checkValue(ft.value);if(R)return this.nextTick(w,R),w[E];let j=at.valueEncoding(ft.valueEncoding||k);ft.value=j.encode(ft.value),ft.valueEncoding=j.format}at!==this&&(ft.sublevel=null),b[X]=ft}return this._batch(b,tt,X=>{if(X)return w(X);this.emit("batch",T),w()}),w[E]}_batch(T,S,w){this.nextTick(w)}sublevel(T,S){return this._sublevel(T,d.defaults(S))}_sublevel(T,S){return new d(this,T,S)}prefixKey(T,S){return T}clear(T,S){if(S=y(T,S),S=a(S,E),T=m(T,this[D].empty),this[P]==="opening")return this.defer(()=>this.clear(T,S)),S[E];if(v(this,S))return S[E];let w=T,b=this.keyEncoding(T.keyEncoding);return T=M(T,b),T.keyEncoding=b.format,T.limit===0?this.nextTick(S):this._clear(T,h=>{if(h)return S(h);this.emit("clear",w),S()}),S[E]}_clear(T,S){this.nextTick(S)}iterator(T){let S=this.keyEncoding(T&&T.keyEncoding),w=this.valueEncoding(T&&T.valueEncoding);if(T=M(T,S),T.keys=T.keys!==!1,T.values=T.values!==!1,T[e.keyEncoding]=S,T[e.valueEncoding]=w,T.keyEncoding=S.format,T.valueEncoding=w.format,this[P]==="opening")return new f(this,T);if(this[P]!=="open")throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(T)}_iterator(T){return new e(this,T)}keys(T){let S=this.keyEncoding(T&&T.keyEncoding),w=this.valueEncoding(T&&T.valueEncoding);if(T=M(T,S),T[e.keyEncoding]=S,T[e.valueEncoding]=w,T.keyEncoding=S.format,T.valueEncoding=w.format,this[P]==="opening")return new l(this,T);if(this[P]!=="open")throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(T)}_keys(T){return new o(this,T)}values(T){let S=this.keyEncoding(T&&T.keyEncoding),w=this.valueEncoding(T&&T.valueEncoding);if(T=M(T,S),T[e.keyEncoding]=S,T[e.valueEncoding]=w,T.keyEncoding=S.format,T.valueEncoding=w.format,this[P]==="opening")return new p(this,T);if(this[P]!=="open")throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(T)}_values(T){return new c(this,T)}defer(T){if(typeof T!="function")throw new TypeError("The first argument must be a function");this[N].push(T)}[F](){if(this[N].length===0)return;let T=this[N];this[N]=[];for(let S of T)S()}attachResource(T){if(typeof T!="object"||T===null||typeof T.close!="function")throw new TypeError("The first argument must be a resource object");this[x].add(T)}detachResource(T){this[x].delete(T)}_chainedBatch(){return new g(this)}_checkKey(T){if(T==null)return new s("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(T){if(T==null)return new s("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};n.prototype.nextTick=Cp();var{AbstractSublevel:d}=Rp()({AbstractLevel:n});t.AbstractLevel=n,t.AbstractSublevel=d;var v=function(T,S){return T[P]!=="open"?(T.nextTick(S,new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},A=function(T){return Object.keys(T.supports.encodings).filter(S=>!!T.supports.encodings[S])}}),du=gt(t=>{lt(),t.AbstractLevel=ol().AbstractLevel,t.AbstractSublevel=ol().AbstractSublevel,t.AbstractIterator=si().AbstractIterator,t.AbstractKeyIterator=si().AbstractKeyIterator,t.AbstractValueIterator=si().AbstractValueIterator,t.AbstractChainedBatch=jf().AbstractChainedBatch}),Np=gt((t,i)=>{lt(),i.exports=u;var r=Uf();function u(a,s,e){if(typeof s!="number")throw new Error("second argument must be a Number");let o,c,f,l,p,g=!0,y;Array.isArray(a)?(o=[],f=c=a.length):(l=Object.keys(a),o={},f=c=l.length);function m(E){function B(){e&&e(E,o),e=null}g?r(B):B()}function M(E,B,x){if(o[E]=x,B&&(p=!0),--f===0||B)m(B);else if(!p&&y<c){let C;l?(C=l[y],y+=1,a[C](function(N,F){M(C,N,F)})):(C=y,y+=1,a[C](function(N,F){M(C,N,F)}))}}y=s,f?l?l.some(function(E,B){return a[E](function(x,C){M(E,x,C)}),B===s-1}):a.some(function(E,B){return E(function(x,C){M(B,x,C)}),B===s-1}):m(null),g=!1}}),Ff=gt((t,i)=>{lt(),i.exports=function(r){let u=r.gte!==void 0?r.gte:r.gt!==void 0?r.gt:void 0,a=r.lte!==void 0?r.lte:r.lt!==void 0?r.lt:void 0,s=r.gte===void 0,e=r.lte===void 0;return u!==void 0&&a!==void 0?IDBKeyRange.bound(u,a,s,e):u!==void 0?IDBKeyRange.lowerBound(u,s):a!==void 0?IDBKeyRange.upperBound(a,e):null}}),Kf=gt((t,i)=>{lt();var r=new TextEncoder;i.exports=function(u){return u instanceof Uint8Array?u:u instanceof ArrayBuffer?new Uint8Array(u):r.encode(u)}}),Lp=gt(t=>{lt();var{AbstractIterator:i}=du(),r=Ff(),u=Kf(),a=Symbol("cache"),s=Symbol("finished"),e=Symbol("options"),o=Symbol("currentOptions"),c=Symbol("position"),f=Symbol("location"),l=Symbol("first"),p={},g=class extends i{constructor(m,M,E){super(m,E),this[a]=[],this[s]=this.limit===0,this[e]=E,this[o]={...E},this[c]=void 0,this[f]=M,this[l]=!0}_nextv(m,M,E){if(this[l]=!1,this[s])return this.nextTick(E,null,[]);if(this[a].length>0)return m=Math.min(m,this[a].length),this.nextTick(E,null,this[a].splice(0,m));this[c]!==void 0&&(this[e].reverse?(this[o].lt=this[c],this[o].lte=void 0):(this[o].gt=this[c],this[o].gte=void 0));let B;try{B=r(this[o])}catch{return this[s]=!0,this.nextTick(E,null,[])}let x=this.db.db.transaction([this[f]],"readonly"),C=x.objectStore(this[f]),N=[];if(this[e].reverse){let F=!this[e].values&&C.openKeyCursor?"openKeyCursor":"openCursor";C[F](B,"prev").onsuccess=I=>{let U=I.target.result;if(U){let{key:P,value:D}=U;this[c]=P,N.push([this[e].keys&&P!==void 0?u(P):void 0,this[e].values&&D!==void 0?u(D):void 0]),N.length<m?U.continue():y(x)}else this[s]=!0}}else{let F,I,U=()=>{if(F===void 0||I===void 0)return;let P=Math.max(F.length,I.length);P===0||m===1/0?this[s]=!0:this[c]=F[P-1],N.length=P;for(let D=0;D<P;D++){let W=F[D],q=I[D];N[D]=[this[e].keys&&W!==void 0?u(W):void 0,this[e].values&&q!==void 0?u(q):void 0]}y(x)};this[e].keys||m<1/0?C.getAllKeys(B,m<1/0?m:void 0).onsuccess=P=>{F=P.target.result,U()}:(F=[],this.nextTick(U)),this[e].values?C.getAll(B,m<1/0?m:void 0).onsuccess=P=>{I=P.target.result,U()}:(I=[],this.nextTick(U))}x.onabort=()=>{E(x.error||new Error("aborted by user")),E=null},x.oncomplete=()=>{E(null,N),E=null}}_next(m){if(this[a].length>0){let[M,E]=this[a].shift();this.nextTick(m,null,M,E)}else if(this[s])this.nextTick(m);else{let M=Math.min(100,this.limit-this.count);this[l]&&(this[l]=!1,M=1),this._nextv(M,p,(E,B)=>{if(E)return m(E);this[a]=B,this._next(m)})}}_all(m,M){this[l]=!1;let E=this[a].splice(0,this[a].length),B=this.limit-this.count-E.length;if(B<=0)return this.nextTick(M,null,E);this._nextv(B,p,(x,C)=>{if(x)return M(x);E.length>0&&(C=E.concat(C)),M(null,C)})}_seek(m,M){this[l]=!0,this[a]=[],this[s]=!1,this[c]=void 0,this[o]={...this[e]};let E;try{E=r(this[e])}catch{this[s]=!0;return}E!==null&&!E.includes(m)?this[s]=!0:this[e].reverse?this[o].lte=m:this[o].gte=m}};t.Iterator=g;function y(m){typeof m.commit=="function"&&m.commit()}}),Dp=gt((t,i)=>{lt(),i.exports=function(r,u,a,s,e){if(s.limit===0)return r.nextTick(e);let o=r.db.transaction([u],"readwrite"),c=o.objectStore(u),f=0;o.oncomplete=function(){e()},o.onabort=function(){e(o.error||new Error("aborted by user"))};let l=c.openKeyCursor?"openKeyCursor":"openCursor",p=s.reverse?"prev":"next";c[l](a,p).onsuccess=function(g){let y=g.target.result;y&&(c.delete(y.key).onsuccess=function(){(s.limit<=0||++f<s.limit)&&y.continue()})}}}),jp=gt(t=>{lt();var{AbstractLevel:i}=du(),r=cn(),u=Np(),{fromCallback:a}=Po(),{Iterator:s}=Lp(),e=Kf(),o=Dp(),c=Ff(),f="level-js-",l=Symbol("idb"),p=Symbol("namePrefix"),g=Symbol("location"),y=Symbol("version"),m=Symbol("store"),M=Symbol("onComplete"),E=Symbol("promise"),B=class extends i{constructor(x,C,N){if(typeof C=="function"||typeof N=="function")throw new r("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:F,version:I,...U}=C||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},U),typeof x!="string")throw new Error("constructor requires a location string argument");this[g]=x,this[p]=F??f,this[y]=parseInt(I||1,10),this[l]=null}get location(){return this[g]}get namePrefix(){return this[p]}get version(){return this[y]}get db(){return this[l]}get type(){return"browser-level"}_open(x,C){let N=indexedDB.open(this[p]+this[g],this[y]);N.onerror=function(){C(N.error||new Error("unknown error"))},N.onsuccess=()=>{this[l]=N.result,C()},N.onupgradeneeded=F=>{let I=F.target.result;I.objectStoreNames.contains(this[g])||I.createObjectStore(this[g])}}[m](x){return this[l].transaction([this[g]],x).objectStore(this[g])}[M](x,C){let N=x.transaction;N.onabort=function(){C(N.error||new Error("aborted by user"))},N.oncomplete=function(){C(null,x.result)}}_get(x,C,N){let F=this[m]("readonly"),I;try{I=F.get(x)}catch(U){return this.nextTick(N,U)}this[M](I,function(U,P){if(U)return N(U);if(P===void 0)return N(new r("Entry not found",{code:"LEVEL_NOT_FOUND"}));N(null,e(P))})}_getMany(x,C,N){let F=this[m]("readonly"),I=x.map(U=>P=>{let D;try{D=F.get(U)}catch(W){return P(W)}D.onsuccess=()=>{let W=D.result;P(null,W===void 0?W:e(W))},D.onerror=W=>{W.stopPropagation(),P(D.error)}});u(I,16,N)}_del(x,C,N){let F=this[m]("readwrite"),I;try{I=F.delete(x)}catch(U){return this.nextTick(N,U)}this[M](I,N)}_put(x,C,N,F){let I=this[m]("readwrite"),U;try{U=I.put(C,x)}catch(P){return this.nextTick(F,P)}this[M](U,F)}_iterator(x){return new s(this,this[g],x)}_batch(x,C,N){let F=this[m]("readwrite"),I=F.transaction,U=0,P;I.onabort=function(){N(P||I.error||new Error("aborted by user"))},I.oncomplete=function(){N()};function D(){let W=x[U++],q=W.key,O;try{O=W.type==="del"?F.delete(q):F.put(W.value,q)}catch(L){P=L,I.abort();return}U<x.length?O.onsuccess=D:typeof I.commit=="function"&&I.commit()}D()}_clear(x,C){let N,F;try{N=c(x)}catch{return this.nextTick(C)}if(x.limit>=0)return o(this,this[g],N,x,C);try{let I=this[m]("readwrite");F=N?I.delete(N):I.clear()}catch(I){return this.nextTick(C,I)}this[M](F,C)}_close(x){this[l].close(),this.nextTick(x)}};B.destroy=function(x,C,N){typeof C=="function"&&(N=C,C=f),N=a(N,E);let F=indexedDB.deleteDatabase(C+x);return F.onsuccess=function(){N()},F.onerror=function(I){N(I)},N[E]},t.BrowserLevel=B}),Up=gt(t=>{lt(),t.Level=jp().BrowserLevel}),Fp=gt((t,i)=>{lt(),i.exports=x;var r=0,u=1;function a(C,N,F,I,U,P){this._color=C,this.key=N,this.value=F,this.left=I,this.right=U,this._count=P}function s(C){return new a(C._color,C.key,C.value,C.left,C.right,C._count)}function e(C,N){return new a(C,N.key,N.value,N.left,N.right,N._count)}function o(C){C._count=1+(C.left?C.left._count:0)+(C.right?C.right._count:0)}function c(C,N){this._compare=C,this.root=N}var f=c.prototype;Object.defineProperty(f,"keys",{get:function(){var C=[];return this.forEach(function(N,F){C.push(N)}),C}}),Object.defineProperty(f,"values",{get:function(){var C=[];return this.forEach(function(N,F){C.push(F)}),C}}),Object.defineProperty(f,"length",{get:function(){return this.root?this.root._count:0}}),f.insert=function(C,N){for(var F=this._compare,I=this.root,U=[],P=[];I;){var D=F(C,I.key);U.push(I),P.push(D),D<=0?I=I.left:I=I.right}U.push(new a(r,C,N,null,null,1));for(var W=U.length-2;W>=0;--W){var I=U[W];P[W]<=0?U[W]=new a(I._color,I.key,I.value,U[W+1],I.right,I._count+1):U[W]=new a(I._color,I.key,I.value,I.left,U[W+1],I._count+1)}for(var W=U.length-1;W>1;--W){var q=U[W-1],I=U[W];if(q._color===u||I._color===u)break;var O=U[W-2];if(O.left===q)if(q.left===I){var L=O.right;if(L&&L._color===r)q._color=u,O.right=e(u,L),O._color=r,W-=1;else{if(O._color=r,O.left=q.right,q._color=u,q.right=O,U[W-2]=q,U[W-1]=I,o(O),o(q),W>=3){var n=U[W-3];n.left===O?n.left=q:n.right=q}break}}else{var L=O.right;if(L&&L._color===r)q._color=u,O.right=e(u,L),O._color=r,W-=1;else{if(q.right=I.left,O._color=r,O.left=I.right,I._color=u,I.left=q,I.right=O,U[W-2]=I,U[W-1]=q,o(O),o(q),o(I),W>=3){var n=U[W-3];n.left===O?n.left=I:n.right=I}break}}else if(q.right===I){var L=O.left;if(L&&L._color===r)q._color=u,O.left=e(u,L),O._color=r,W-=1;else{if(O._color=r,O.right=q.left,q._color=u,q.left=O,U[W-2]=q,U[W-1]=I,o(O),o(q),W>=3){var n=U[W-3];n.right===O?n.right=q:n.left=q}break}}else{var L=O.left;if(L&&L._color===r)q._color=u,O.left=e(u,L),O._color=r,W-=1;else{if(q.left=I.right,O._color=r,O.right=I.left,I._color=u,I.right=q,I.left=O,U[W-2]=I,U[W-1]=q,o(O),o(q),o(I),W>=3){var n=U[W-3];n.right===O?n.right=I:n.left=I}break}}}return U[0]._color=u,new c(F,U[0])};function l(C,N){if(N.left){var F=l(C,N.left);if(F)return F}var F=C(N.key,N.value);if(F)return F;if(N.right)return l(C,N.right)}function p(C,N,F,I){var U=N(C,I.key);if(U<=0){if(I.left){var P=p(C,N,F,I.left);if(P)return P}var P=F(I.key,I.value);if(P)return P}if(I.right)return p(C,N,F,I.right)}function g(C,N,F,I,U){var P=F(C,U.key),D=F(N,U.key),W;if(P<=0&&(U.left&&(W=g(C,N,F,I,U.left),W)||D>0&&(W=I(U.key,U.value),W)))return W;if(D>0&&U.right)return g(C,N,F,I,U.right)}f.forEach=function(C,N,F){if(this.root)switch(arguments.length){case 1:return l(C,this.root);case 2:return p(N,this._compare,C,this.root);case 3:return this._compare(N,F)>=0?void 0:g(N,F,this._compare,C,this.root)}},Object.defineProperty(f,"begin",{get:function(){for(var C=[],N=this.root;N;)C.push(N),N=N.left;return new y(this,C)}}),Object.defineProperty(f,"end",{get:function(){for(var C=[],N=this.root;N;)C.push(N),N=N.right;return new y(this,C)}}),f.at=function(C){if(C<0)return new y(this,[]);for(var N=this.root,F=[];;){if(F.push(N),N.left){if(C<N.left._count){N=N.left;continue}C-=N.left._count}if(!C)return new y(this,F);if(C-=1,N.right){if(C>=N.right._count)break;N=N.right}else break}return new y(this,[])},f.ge=function(C){for(var N=this._compare,F=this.root,I=[],U=0;F;){var P=N(C,F.key);I.push(F),P<=0&&(U=I.length),P<=0?F=F.left:F=F.right}return I.length=U,new y(this,I)},f.gt=function(C){for(var N=this._compare,F=this.root,I=[],U=0;F;){var P=N(C,F.key);I.push(F),P<0&&(U=I.length),P<0?F=F.left:F=F.right}return I.length=U,new y(this,I)},f.lt=function(C){for(var N=this._compare,F=this.root,I=[],U=0;F;){var P=N(C,F.key);I.push(F),P>0&&(U=I.length),P<=0?F=F.left:F=F.right}return I.length=U,new y(this,I)},f.le=function(C){for(var N=this._compare,F=this.root,I=[],U=0;F;){var P=N(C,F.key);I.push(F),P>=0&&(U=I.length),P<0?F=F.left:F=F.right}return I.length=U,new y(this,I)},f.find=function(C){for(var N=this._compare,F=this.root,I=[];F;){var U=N(C,F.key);if(I.push(F),U===0)return new y(this,I);U<=0?F=F.left:F=F.right}return new y(this,[])},f.remove=function(C){var N=this.find(C);return N?N.remove():this},f.get=function(C){for(var N=this._compare,F=this.root;F;){var I=N(C,F.key);if(I===0)return F.value;I<=0?F=F.left:F=F.right}};function y(C,N){this.tree=C,this._stack=N}var m=y.prototype;Object.defineProperty(m,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(m,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),m.clone=function(){return new y(this.tree,this._stack.slice())};function M(C,N){C.key=N.key,C.value=N.value,C.left=N.left,C.right=N.right,C._color=N._color,C._count=N._count}function E(C){for(var N,F,I,U,P=C.length-1;P>=0;--P){if(N=C[P],P===0){N._color=u;return}if(F=C[P-1],F.left===N){if(I=F.right,I.right&&I.right._color===r){if(I=F.right=s(I),U=I.right=s(I.right),F.right=I.left,I.left=F,I.right=U,I._color=F._color,N._color=u,F._color=u,U._color=u,o(F),o(I),P>1){var D=C[P-2];D.left===F?D.left=I:D.right=I}C[P-1]=I;return}else if(I.left&&I.left._color===r){if(I=F.right=s(I),U=I.left=s(I.left),F.right=U.left,I.left=U.right,U.left=F,U.right=I,U._color=F._color,F._color=u,I._color=u,N._color=u,o(F),o(I),o(U),P>1){var D=C[P-2];D.left===F?D.left=U:D.right=U}C[P-1]=U;return}if(I._color===u)if(F._color===r){F._color=u,F.right=e(r,I);return}else{F.right=e(r,I);continue}else{if(I=s(I),F.right=I.left,I.left=F,I._color=F._color,F._color=r,o(F),o(I),P>1){var D=C[P-2];D.left===F?D.left=I:D.right=I}C[P-1]=I,C[P]=F,P+1<C.length?C[P+1]=N:C.push(N),P=P+2}}else{if(I=F.left,I.left&&I.left._color===r){if(I=F.left=s(I),U=I.left=s(I.left),F.left=I.right,I.right=F,I.left=U,I._color=F._color,N._color=u,F._color=u,U._color=u,o(F),o(I),P>1){var D=C[P-2];D.right===F?D.right=I:D.left=I}C[P-1]=I;return}else if(I.right&&I.right._color===r){if(I=F.left=s(I),U=I.right=s(I.right),F.left=U.right,I.right=U.left,U.right=F,U.left=I,U._color=F._color,F._color=u,I._color=u,N._color=u,o(F),o(I),o(U),P>1){var D=C[P-2];D.right===F?D.right=U:D.left=U}C[P-1]=U;return}if(I._color===u)if(F._color===r){F._color=u,F.left=e(r,I);return}else{F.left=e(r,I);continue}else{if(I=s(I),F.left=I.right,I.right=F,I._color=F._color,F._color=r,o(F),o(I),P>1){var D=C[P-2];D.right===F?D.right=I:D.left=I}C[P-1]=I,C[P]=F,P+1<C.length?C[P+1]=N:C.push(N),P=P+2}}}}m.remove=function(){var C=this._stack;if(C.length===0)return this.tree;var N=new Array(C.length),F=C[C.length-1];N[N.length-1]=new a(F._color,F.key,F.value,F.left,F.right,F._count);for(var I=C.length-2;I>=0;--I){var F=C[I];F.left===C[I+1]?N[I]=new a(F._color,F.key,F.value,N[I+1],F.right,F._count):N[I]=new a(F._color,F.key,F.value,F.left,N[I+1],F._count)}if(F=N[N.length-1],F.left&&F.right){var U=N.length;for(F=F.left;F.right;)N.push(F),F=F.right;var P=N[U-1];N.push(new a(F._color,P.key,P.value,F.left,F.right,F._count)),N[U-1].key=F.key,N[U-1].value=F.value;for(var I=N.length-2;I>=U;--I)F=N[I],N[I]=new a(F._color,F.key,F.value,F.left,N[I+1],F._count);N[U-1].left=N[U]}if(F=N[N.length-1],F._color===r){var D=N[N.length-2];D.left===F?D.left=null:D.right===F&&(D.right=null),N.pop();for(var I=0;I<N.length;++I)N[I]._count--;return new c(this.tree._compare,N[0])}else if(F.left||F.right){F.left?M(F,F.left):F.right&&M(F,F.right),F._color=u;for(var I=0;I<N.length-1;++I)N[I]._count--;return new c(this.tree._compare,N[0])}else{if(N.length===1)return new c(this.tree._compare,null);for(var I=0;I<N.length;++I)N[I]._count--;var W=N[N.length-2];E(N),W.left===F?W.left=null:W.right=null}return new c(this.tree._compare,N[0])},Object.defineProperty(m,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(m,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(m,"index",{get:function(){var C=0,N=this._stack;if(N.length===0){var F=this.tree.root;return F?F._count:0}else N[N.length-1].left&&(C=N[N.length-1].left._count);for(var I=N.length-2;I>=0;--I)N[I+1]===N[I].right&&(++C,N[I].left&&(C+=N[I].left._count));return C},enumerable:!0}),m.next=function(){var C=this._stack;if(C.length!==0){var N=C[C.length-1];if(N.right)for(N=N.right;N;)C.push(N),N=N.left;else for(C.pop();C.length>0&&C[C.length-1].right===N;)N=C[C.length-1],C.pop()}},Object.defineProperty(m,"hasNext",{get:function(){var C=this._stack;if(C.length===0)return!1;if(C[C.length-1].right)return!0;for(var N=C.length-1;N>0;--N)if(C[N-1].left===C[N])return!0;return!1}}),m.update=function(C){var N=this._stack;if(N.length===0)throw new Error("Can't update empty node!");var F=new Array(N.length),I=N[N.length-1];F[F.length-1]=new a(I._color,I.key,C,I.left,I.right,I._count);for(var U=N.length-2;U>=0;--U)I=N[U],I.left===N[U+1]?F[U]=new a(I._color,I.key,I.value,F[U+1],I.right,I._count):F[U]=new a(I._color,I.key,I.value,I.left,F[U+1],I._count);return new c(this.tree._compare,F[0])},m.prev=function(){var C=this._stack;if(C.length!==0){var N=C[C.length-1];if(N.left)for(N=N.left;N;)C.push(N),N=N.right;else for(C.pop();C.length>0&&C[C.length-1].left===N;)N=C[C.length-1],C.pop()}},Object.defineProperty(m,"hasPrev",{get:function(){var C=this._stack;if(C.length===0)return!1;if(C[C.length-1].left)return!0;for(var N=C.length-1;N>0;--N)if(C[N-1].right===C[N])return!0;return!1}});function B(C,N){return C<N?-1:C>N?1:0}function x(C){return new c(C||B,null)}}),Kp=gt(t=>{lt();var{AbstractLevel:i,AbstractIterator:r,AbstractKeyIterator:u,AbstractValueIterator:a}=du(),s=cn(),e=Fp(),o=new Set(["gt","gte","lt","lte"]),c=Symbol("none"),f=Symbol("tree"),l=Symbol("iterator"),p=Symbol("lowerBound"),g=Symbol("upperBound"),y=Symbol("outOfRange"),m=Symbol("reverse"),M=Symbol("options"),E=Symbol("test"),B=Symbol("advance"),x=Symbol("init");function C(L,n){if(typeof L=="string")return L<n?-1:L>n?1:0;let d=Math.min(L.byteLength,n.byteLength);for(let v=0;v<d;v++){let A=L[v]-n[v];if(A!==0)return A}return L.byteLength-n.byteLength}function N(L){return C(L,this[g])>0}function F(L){return C(L,this[g])>=0}function I(L){return C(L,this[g])<0}function U(L){return C(L,this[g])<=0}var P=class extends r{constructor(L,n){super(L,n),this[x](L[f],n)}_next(L){if(!this[l].valid)return this.nextTick(L);let n=this[l].key,d=this[l].value;if(!this[E](n))return this.nextTick(L);this[l][this[B]](),this.nextTick(L,null,n,d)}_nextv(L,n,d){let v=this[l],A=[];for(;v.valid&&A.length<L&&this[E](v.key);)A.push([v.key,v.value]),v[this[B]]();this.nextTick(d,null,A)}_all(L,n){let d=this.limit-this.count,v=this[l],A=[];for(;v.valid&&A.length<d&&this[E](v.key);)A.push([v.key,v.value]),v[this[B]]();this.nextTick(n,null,A)}},D=class extends u{constructor(L,n){super(L,n),this[x](L[f],n)}_next(L){if(!this[l].valid)return this.nextTick(L);let n=this[l].key;if(!this[E](n))return this.nextTick(L);this[l][this[B]](),this.nextTick(L,null,n)}_nextv(L,n,d){let v=this[l],A=[];for(;v.valid&&A.length<L&&this[E](v.key);)A.push(v.key),v[this[B]]();this.nextTick(d,null,A)}_all(L,n){let d=this.limit-this.count,v=this[l],A=[];for(;v.valid&&A.length<d&&this[E](v.key);)A.push(v.key),v[this[B]]();this.nextTick(n,null,A)}},W=class extends a{constructor(L,n){super(L,n),this[x](L[f],n)}_next(L){if(!this[l].valid)return this.nextTick(L);let n=this[l].key,d=this[l].value;if(!this[E](n))return this.nextTick(L);this[l][this[B]](),this.nextTick(L,null,d)}_nextv(L,n,d){let v=this[l],A=[];for(;v.valid&&A.length<L&&this[E](v.key);)A.push(v.value),v[this[B]]();this.nextTick(d,null,A)}_all(L,n){let d=this.limit-this.count,v=this[l],A=[];for(;v.valid&&A.length<d&&this[E](v.key);)A.push(v.value),v[this[B]]();this.nextTick(n,null,A)}};for(let L of[P,D,W])L.prototype[x]=function(n,d){this[m]=d.reverse,this[M]=d,this[m]?(this[B]="prev",this[p]="lte"in d?d.lte:"lt"in d?d.lt:c,this[g]="gte"in d?d.gte:"gt"in d?d.gt:c,this[p]===c?this[l]=n.end:"lte"in d?this[l]=n.le(this[p]):this[l]=n.lt(this[p]),this[g]!==c&&(this[E]="gte"in d?F:N)):(this[B]="next",this[p]="gte"in d?d.gte:"gt"in d?d.gt:c,this[g]="lte"in d?d.lte:"lt"in d?d.lt:c,this[p]===c?this[l]=n.begin:"gte"in d?this[l]=n.ge(this[p]):this[l]=n.gt(this[p]),this[g]!==c&&(this[E]="lte"in d?U:I))},L.prototype[E]=function(){return!0},L.prototype[y]=function(n){return this[E](n)?this[p]===c?!1:this[m]?"lte"in this[M]?C(n,this[p])>0:C(n,this[p])>=0:"gte"in this[M]?C(n,this[p])<0:C(n,this[p])<=0:!0},L.prototype._seek=function(n,d){this[y](n)?(this[l]=this[l].tree.end,this[l].next()):this[m]?this[l]=this[l].tree.le(n):this[l]=this[l].tree.ge(n)};var q=class extends i{constructor(L,n,d){if(typeof L=="object"&&L!==null&&(n=L),typeof L=="function"||typeof n=="function"||typeof d=="function")throw new s("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{storeEncoding:v,...A}=n||{};if(v=v||"buffer",!["buffer","view","utf8"].includes(v))throw new s("The storeEncoding option must be 'buffer', 'view' or 'utf8'",{code:"LEVEL_ENCODING_NOT_SUPPORTED"});super({seek:!0,permanence:!1,createIfMissing:!1,errorIfExists:!1,encodings:{[v]:!0}},A),this[f]=e(C)}_put(L,n,d,v){let A=this[f].find(L);A.valid?this[f]=A.update(n):this[f]=this[f].insert(L,n),this.nextTick(v)}_get(L,n,d){let v=this[f].get(L);if(typeof v>"u")return this.nextTick(d,new Error("NotFound"));this.nextTick(d,null,v)}_getMany(L,n,d){this.nextTick(d,null,L.map(v=>this[f].get(v)))}_del(L,n,d){this[f]=this[f].remove(L),this.nextTick(d)}_batch(L,n,d){let v=this[f];for(let A of L){let T=A.key,S=v.find(T);A.type==="put"?v=S.valid?S.update(A.value):v.insert(T,A.value):v=S.remove()}this[f]=v,this.nextTick(d)}_clear(L,n){if(L.limit===-1&&!Object.keys(L).some(O))return this[f]=e(C),this.nextTick(n);let d=this._keys({...L}),v=d.limit,A=0,T=()=>{for(let S=0;S<500;S++){if(++A>v||!d[l].valid||!d[E](d[l].key))return n();this[f]=this[f].remove(d[l].key),d[l][d[B]]()}this.nextTick(T)};this.nextTick(T)}_iterator(L){return new P(this,L)}_keys(L){return new D(this,L)}_values(L){return new W(this,L)}};if(t.MemoryLevel=q,typeof Jt.default<"u"&&!Jt.default.browser&&typeof le<"u"&&typeof le.setImmediate=="function"){let L=le.setImmediate;q.prototype.nextTick=function(n,...d){d.length===0?L(n):L(()=>n(...d))}}function O(L){return o.has(L)}}),Ro=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.LevelDbCache=void 0;var i=Xn(),r=Up(),u=Kp(),a=or(),s=class{constructor(o,c=!1){this.value=o,this.tomb=c}},e=class{get db(){if(!this._db)if(this.cacheOptions.inMemory)this._db=new u.MemoryLevel(this.subLevelOptions);else{if(!this.cacheOptions.dbLocation)throw new Error("LevelDb cache configuration error - no db location specified");let o=this.cacheOptions.dbLocation;this.logger.info(`Using location ${o}`),this._db=new r.Level(o,this.subLevelOptions)}return this._db}constructor(o){this.cacheOptions=o,this.ongoingTransactionMark="$$warp-internal-transaction$$",this.logger=a.LoggerFactory.INST.create("LevelDbCache"),this.subLevelSeparator=o.subLevelSeparator||"!",this.subLevelOptions={valueEncoding:"json",separator:this.subLevelSeparator}}async get(o,c){this.validateKey(o.key);let f=this.db.sublevel(o.key,this.subLevelOptions);await f.open();let l=await this.getValueFromLevel(o.sortKey,f);return l?new i.SortKeyCacheResult(o.sortKey,l):null}async getLast(o){let c=this.db.sublevel(o,this.subLevelOptions);await c.open();let f=await c.keys({reverse:!0,limit:1}).all();if(f.length){let l=await this.getValueFromLevel(f[0],c);if(l)return new i.SortKeyCacheResult(f[0],l)}return null}async getLessOrEqual(o,c){let f=this.db.sublevel(o,this.subLevelOptions);await f.open();let l=await f.keys({reverse:!0,lte:c,limit:1}).all();if(l.length){let p=await this.getValueFromLevel(l[0],f);if(p!=null)return new i.SortKeyCacheResult(l[0],p)}return null}async getValueFromLevel(o,c){try{let f=await c.get(o);if(f&&f.tomb===void 0&&f.value===void 0)return f;if(f&&f.tomb===!1&&f.value!=null)return f.value}catch(f){if(f.code!="LEVEL_NOT_FOUND")throw f}return null}async put(o,c){await this.setClientValue(o,new s(c))}async del(o){await this.setClientValue(o,new s(null,!0))}async setClientValue(o,c){this.validateKey(o.key);let f=this.db.sublevel(o.key,this.subLevelOptions);await f.open(),await f.put(o.sortKey,c),this._rollbackBatch&&this._rollbackBatch.del(o.sortKey,{sublevel:f})}async delete(o){let c=this.db.sublevel(o,this.subLevelOptions);await c.open(),await c.clear()}async batch(o){for(let c of o)c.type==="put"?await this.put(c.key,c.value):c.type==="del"&&await this.delete(c.key)}async open(){await this.db.open()}async close(){this._db&&await this._db.close()}async begin(){await this.initRollbackBatch()}async rollback(){this._rollbackBatch&&(this._rollbackBatch.del(this.ongoingTransactionMark),await this._rollbackBatch.write(),await this._rollbackBatch.close()),this._rollbackBatch=null}async initRollbackBatch(){return this._rollbackBatch==null&&(await this.checkPreviousTransactionFinished(),await this.db.put(this.ongoingTransactionMark,"ongoing"),this._rollbackBatch=this.db.batch()),this._rollbackBatch}async checkPreviousTransactionFinished(){let o;try{o=await this.db.get(this.ongoingTransactionMark)}catch(c){if(c.code!="LEVEL_NOT_FOUND")throw c}if(o=="ongoing")throw new Error("Database seems to be in inconsistent state. The previous transaction has not finished.")}async commit(){this._rollbackBatch&&(await this._rollbackBatch.clear(),await this.db.del(this.ongoingTransactionMark),await this._rollbackBatch.close()),this._rollbackBatch=null}async dump(){return await this.db.iterator().all()}async getLastSortKey(){let o="";await this.db.open();let c=await this.db.keys().all();for(let f of c){let l=f.split(this.subLevelSeparator)[1];l.localeCompare(o)>0&&(o=l)}return o==""?null:o}async keys(o,c){return Array.from((await this.kvMap(o,c)).keys())}validateKey(o){if(o.includes(this.ongoingTransactionMark))throw new Error(`Validation error: Key ${o} for internal use only`);if(o.includes(this.subLevelSeparator))throw new Error(`Validation error: key ${o} contains db separator ${this.subLevelSeparator}`)}extractOriginalKey(o){return o.split(this.subLevelSeparator)[1]}extractSortKey(o){return o.split(this.subLevelSeparator)[2]}async kvMap(o,c){let f=new Map,l=(await this.db.keys(this.levelRangeOptions(c)).all()).filter(p=>p!=this.ongoingTransactionMark).filter(p=>!o||this.extractSortKey(p).localeCompare(o)<=0).map(p=>this.extractOriginalKey(p));for(let p of l){let g=await this.getLessOrEqual(p,o);g&&f.set(p,g.cachedValue)}if(c!=null&&c.limit){let p=new Map;for(let g of Array.from(f.entries()).slice(0,c.limit))p.set(g[0],g[1]);return p}return f}levelRangeOptions(o){let c={reverse:o==null?void 0:o.reverse};return o!=null&&o.gte&&(c.gte=this.subLevelSeparator+o.gte),o!=null&&o.lt&&(c.lt=this.subLevelSeparator+o.lt),c}storage(){return this.db}async getNumEntries(){return(await this.db.keys().all()).length}async prune(o=5){(!o||o<=0)&&(o=1);let c=await this.allKeys();for(let f=0;f<c.length;f++){let l=this.db.sublevel(c[f],this.subLevelOptions);await l.open();let p=await l.keys({reverse:!0,limit:o}).all();!p||p.length<o||(await l.clear({lt:p[p.length-1]}),await l.close())}return null}async allKeys(){return(await this.db.keys().all()).filter(o=>o!=this.ongoingTransactionMark).map(o=>this.extractOriginalKey(o))}};t.LevelDbCache=e}),zp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.MemCache=void 0;var i=class{constructor(){this.storage={}}clearAll(){Object.keys(this.storage).forEach(r=>{delete this.storage[r]})}contains(r){return Object.prototype.hasOwnProperty.call(this.storage,r)}get(r){return this.storage[r]}put(r,u){this.storage[r]=u}remove(r){delete this.storage[r]}};t.MemCache=i}),Wp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),qp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),$p=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),Hp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),Gp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=Function.prototype.toString,r=Object.create,u=Object.prototype.toString,a=function(){function G(){this._keys=[],this._values=[]}return G.prototype.has=function(H){return!!~this._keys.indexOf(H)},G.prototype.get=function(H){return this._values[this._keys.indexOf(H)]},G.prototype.set=function(H,Y){this._keys.push(H),this._values.push(Y)},G}();function s(){return new a}function e(){return new WeakMap}var o=typeof WeakMap<"u"?e:s;function c(G){if(!G)return r(null);var H=G.constructor;if(H===Object)return G===Object.prototype?{}:r(G);if(~i.call(H).indexOf("[native code]"))try{return new H}catch{}return r(G)}function f(G){var H="";return G.global&&(H+="g"),G.ignoreCase&&(H+="i"),G.multiline&&(H+="m"),G.unicode&&(H+="u"),G.sticky&&(H+="y"),H}function l(G){return G.flags}var p=/test/g.flags==="g"?l:f;function g(G){var H=u.call(G);return H.substring(8,H.length-1)}function y(G){return G[Symbol.toStringTag]||g(G)}var m=typeof Symbol<"u"?y:g,M=Object.defineProperty,E=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,C=Object.prototype,N=C.hasOwnProperty,F=C.propertyIsEnumerable,I=typeof x=="function";function U(G){return B(G).concat(x(G))}var P=I?U:B;function D(G,H,Y){for(var it=P(G),ot=0,mt=it.length,_t=void 0,ht=void 0;ot<mt;++ot)if(_t=it[ot],!(_t==="callee"||_t==="caller")){if(ht=E(G,_t),!ht){H[_t]=Y.copier(G[_t],Y);continue}!ht.get&&!ht.set&&(ht.value=Y.copier(ht.value,Y));try{M(H,_t,ht)}catch{H[_t]=ht.value}}return H}function W(G,H){var Y=new H.Constructor;H.cache.set(G,Y);for(var it=0,ot=G.length;it<ot;++it)Y[it]=H.copier(G[it],H);return Y}function q(G,H){var Y=new H.Constructor;return H.cache.set(G,Y),D(G,Y,H)}function O(G,H){return G.slice(0)}function L(G,H){return G.slice(0,G.size,G.type)}function n(G,H){return new H.Constructor(O(G.buffer))}function d(G,H){return new H.Constructor(G.getTime())}function v(G,H){var Y=new H.Constructor;return H.cache.set(G,Y),G.forEach(function(it,ot){Y.set(ot,H.copier(it,H))}),Y}function A(G,H){return D(G,v(G,H),H)}function T(G,H){var Y=c(H.prototype);H.cache.set(G,Y);for(var it in G)N.call(G,it)&&(Y[it]=H.copier(G[it],H));return Y}function S(G,H){var Y=c(H.prototype);H.cache.set(G,Y);for(var it in G)N.call(G,it)&&(Y[it]=H.copier(G[it],H));for(var ot=x(G),mt=0,_t=ot.length,ht=void 0;mt<_t;++mt)ht=ot[mt],F.call(G,ht)&&(Y[ht]=H.copier(G[ht],H));return Y}var w=I?S:T;function b(G,H){var Y=c(H.prototype);return H.cache.set(G,Y),D(G,Y,H)}function h(G,H){return new H.Constructor(G.valueOf())}function k(G,H){var Y=new H.Constructor(G.source,p(G));return Y.lastIndex=G.lastIndex,Y}function tt(G,H){return G}function X(G,H){var Y=new H.Constructor;return H.cache.set(G,Y),G.forEach(function(it){Y.add(H.copier(it,H))}),Y}function ft(G,H){return D(G,X(G,H),H)}var et=Array.isArray,at=Object.assign,$=Object.getPrototypeOf||function(G){return G.__proto__},J={array:W,arrayBuffer:O,blob:L,dataView:n,date:d,error:tt,map:v,object:w,regExp:k,set:X},R=at({},J,{array:q,map:A,object:b,set:ft});function j(G){return{Arguments:G.object,Array:G.array,ArrayBuffer:G.arrayBuffer,Blob:G.blob,Boolean:h,DataView:G.dataView,Date:G.date,Error:G.error,Float32Array:G.arrayBuffer,Float64Array:G.arrayBuffer,Int8Array:G.arrayBuffer,Int16Array:G.arrayBuffer,Int32Array:G.arrayBuffer,Map:G.map,Number:h,Object:G.object,Promise:tt,RegExp:G.regExp,Set:G.set,String:h,WeakMap:tt,WeakSet:tt,Uint8Array:G.arrayBuffer,Uint8ClampedArray:G.arrayBuffer,Uint16Array:G.arrayBuffer,Uint32Array:G.arrayBuffer,Uint64Array:G.arrayBuffer}}function z(G){var H=at({},J,G),Y=j(H),it=Y.Array,ot=Y.Object;function mt(_t,ht){if(ht.prototype=ht.Constructor=void 0,!_t||typeof _t!="object")return _t;if(ht.cache.has(_t))return ht.cache.get(_t);if(ht.prototype=$(_t),ht.Constructor=ht.prototype&&ht.prototype.constructor,!ht.Constructor||ht.Constructor===Object)return ot(_t,ht);if(et(_t))return it(_t,ht);var vt=Y[m(_t)];return vt?vt(_t,ht):typeof _t.then=="function"?_t:ot(_t,ht)}return function(_t){return mt(_t,{Constructor:void 0,cache:o(),copier:mt,prototype:void 0})}}function Z(G){return z(at({},R,G))}var Q=Z({}),K=z({});t.copyStrict=Q,t.createCopier=z,t.createStrictCopier=Z,t.default=K}),pu=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.KV=t.SWVrf=t.SWBlock=t.SWTransaction=t.SmartWeaveGlobal=void 0;var i=Xn(),r=Er(),u=class{constructor(c,f,l,p,g){this.gasUsed=0,this.gasLimit=Number.MAX_SAFE_INTEGER,this.unsafeClient=c,this.arweave={ar:c.ar,utils:c.utils,wallets:c.wallets,crypto:c.crypto},this.baseArweaveUrl=`${c.api.config.protocol}://${c.api.config.host}:${c.api.config.port}`,this.safeArweaveGet=async function(y){return(0,r.safeGet)(`${this.baseArweaveUrl}${y}`)},this.evaluationOptions=l,this.contract=f,this.transaction=new a(this),this.block=new s(this),this.contracts={readContractState:(y,m,M)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},viewContractState:(y,m)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},write:(y,m,M)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},refreshState:()=>{throw new Error("Not implemented - should be set by HandlerApi implementor")}},this.vrf=new e(this),this.useGas=this.useGas.bind(this),this.getBalance=this.getBalance.bind(this),this.extensions={},this.kv=new o(g,p,this.transaction,this.contract.id)}useGas(c){if(c<0)throw new Error("[RE:GNE] Gas number exception - gas < 0.");if(this.gasUsed+=c,this.gasUsed>this.gasLimit)throw new Error(`[RE:OOG] Out of gas! Used: ${this.gasUsed}, limit: ${this.gasLimit}`)}async getBalance(c,f){if(!this._activeTx)throw new Error("Cannot read balance - active tx is not set.");if(!this.block.height)throw new Error("Cannot read balance - block height not set.");let l=f||this.block.height;return await fetch(`${this.evaluationOptions.walletBalanceUrl}block/height/${l}/wallet/${c}/balance`).then(p=>p.ok?p.text():Promise.reject(p)).catch(p=>{var g;throw new Error(`Unable to read wallet balance. ${p.status}. ${(g=p.body)===null||g===void 0?void 0:g.message}`)})}};t.SmartWeaveGlobal=u;var a=class{constructor(c){this.smartWeaveGlobal=c}get id(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.id}get owner(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.owner.address}get target(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.recipient}get tags(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.tags}get sortKey(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.sortKey}get dryRun(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.dry===!0}get quantity(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.quantity.winston}get reward(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.fee.winston}get origin(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.source==="redstone-sequencer"?"L2":"L1"}};t.SWTransaction=a;var s=class{constructor(c){this.smartWeaveGlobal=c}get height(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.block.height}get indep_hash(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current Tx");return this.smartWeaveGlobal._activeTx.block.id}get timestamp(){if(!this.smartWeaveGlobal._activeTx)throw new Error("No current tx");return this.smartWeaveGlobal._activeTx.block.timestamp}};t.SWBlock=s;var e=class{constructor(c){this.smartWeaveGlobal=c}get data(){return this.smartWeaveGlobal._activeTx.vrf}get value(){return this.smartWeaveGlobal._activeTx.vrf.bigint}randomInt(c){if(!Number.isInteger(c))throw new Error("Integer max value required for random integer generation");let f=BigInt(this.smartWeaveGlobal._activeTx.vrf.bigint)%BigInt(c)+BigInt(1);if(f>Number.MAX_SAFE_INTEGER||f<Number.MIN_SAFE_INTEGER)throw new Error("Random int cannot be cast to number");return Number(f)}};t.SWVrf=e;var o=class{constructor(c,f,l,p){this._storage=c,this._interactionState=f,this._transaction=l,this._contractTxId=p}async put(c,f){this.checkStorageAvailable(),await this._storage.put(new i.CacheKey(c,this._transaction.sortKey),f)}async get(c){var f;this.checkStorageAvailable(),this._transaction.sortKey;let l=await this._interactionState.getKV(this._contractTxId,new i.CacheKey(c,this._transaction.sortKey));if(l!=null)return l;let p=await this._storage.getLessOrEqual(c,this._transaction.sortKey);return(f=p==null?void 0:p.cachedValue)!==null&&f!==void 0?f:null}async del(c){this.checkStorageAvailable(),this._transaction.sortKey;let f=await this._interactionState.delKV(this._contractTxId,new i.CacheKey(c,this._transaction.sortKey));if(f!=null)return f;await this._storage.del(new i.CacheKey(c,this._transaction.sortKey))}async keys(c){let f=this._transaction.sortKey;return await this._storage.keys(f,c)}async kvMap(c){let f=this._transaction.sortKey;return this._storage.kvMap(f,c)}async begin(){if(this._storage)return this._storage.begin()}async commit(){this._storage&&(this._transaction.dryRun?await this._storage.rollback():await this._storage.commit())}async rollback(){this._storage&&await this._storage.rollback()}open(){if(this._storage)return this._storage.open()}close(){if(this._storage)return this._storage.close()}checkStorageAvailable(){if(!this._storage)throw new Error("KV Storage not available")}};t.KV=o}),zf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.rustWasmImports=void 0;var i=or(),r=(u,a,s,e,o)=>{let c=i.LoggerFactory.INST.create("WASM:Rust"),f={metering:{usegas:u.useGas},console:{log:function(ht){c.debug(`${u.contract.id}: ${ht}`)}},Block:{height:function(){return u.block.height},indep_hash:function(){return u.block.indep_hash},timestamp:function(){return u.block.timestamp}},Transaction:{id:function(){return u.transaction.id},owner:function(){return u.transaction.owner},target:function(){return u.transaction.target}},Contract:{id:function(){return u.contract.id},owner:function(){return u.contract.owner}},KV:{get:async function(ht){return await u.kv.get(ht)},put:async function(ht,vt){await u.kv.put(ht,vt)}},SmartWeave:{caller:function(){return u.caller},readContractState:async function(ht){return await u.contracts.readContractState(ht)},viewContractState:async function(ht,vt){return await u.contracts.viewContractState(ht,vt)},write:async function(ht,vt){return await u.contracts.write(ht,vt,!1)}},Vrf:{value:function(){return u.vrf.value},randomInt:function(ht){return u.vrf.randomInt(ht)}}},l=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();let p=null;function g(){return(p===null||p.byteLength===0)&&(p=new Uint8Array(s.exports.memory.buffer)),p}function y(ht,vt){return l.decode(g().subarray(ht,ht+vt))}let m=new Array(128).fill(void 0);m.push(void 0,null,!0,!1);let M=m.length;function E(ht){M===m.length&&m.push(m.length+1);let vt=M;if(M=m[vt],typeof M!="number")throw new Error("corrupt heap");return m[vt]=ht,vt}function B(ht){return m[ht]}function x(ht){if(typeof ht!="boolean")throw new Error("expected a boolean argument")}function C(ht){return ht==null}function N(ht){if(typeof ht!="number")throw new Error("expected a number argument")}let F=null;function I(){return(F===null||F.byteLength===0)&&(F=new Float64Array(s.exports.memory.buffer)),F}let U=null;function P(){return(U===null||U.byteLength===0)&&(U=new Int32Array(s.exports.memory.buffer)),U}let D=0,W=new TextEncoder("utf-8"),q=typeof W.encodeInto=="function"?function(ht,vt){return W.encodeInto(ht,vt)}:function(ht,vt){let pt=W.encode(ht);return vt.set(pt),{read:ht.length,written:pt.length}};function O(ht,vt,pt){if(typeof ht!="string")throw new Error("expected a string argument");if(pt===void 0){let Ct=W.encode(ht),dt=vt(Ct.length);return g().subarray(dt,dt+Ct.length).set(Ct),D=Ct.length,dt}let V=ht.length,rt=vt(V),st=g(),yt=0;for(;yt<V;yt++){let Ct=ht.charCodeAt(yt);if(Ct>127)break;st[rt+yt]=Ct}if(yt!==V){yt!==0&&(ht=ht.slice(yt)),rt=pt(rt,V,V=yt+ht.length*3);let Ct=g().subarray(rt+yt,rt+V),dt=q(ht,Ct);if(dt.read!==ht.length)throw new Error("failed to pass whole string");yt+=dt.written}return D=yt,rt}function L(ht){ht<132||(m[ht]=M,M=ht)}function n(ht){let vt=B(ht);return L(ht),vt}function d(ht){let vt=typeof ht;if(vt=="number"||vt=="boolean"||ht==null)return`${ht}`;if(vt=="string")return`"${ht}"`;if(vt=="symbol"){let rt=ht.description;return rt==null?"Symbol":`Symbol(${rt})`}if(vt=="function"){let rt=ht.name;return typeof rt=="string"&&rt.length>0?`Function(${rt})`:"Function"}if(Array.isArray(ht)){let rt=ht.length,st="[";rt>0&&(st+=d(ht[0]));for(let yt=1;yt<rt;yt++)st+=", "+d(ht[yt]);return st+="]",st}let pt=/\[object ([^\]]+)\]/.exec(toString.call(ht)),V;if(pt.length>1)V=pt[1];else return toString.call(ht);if(V=="Object")try{return"Object("+JSON.stringify(ht)+")"}catch{return"Object"}return ht instanceof Error?`${ht.name}: ${ht.message}
${ht.stack}`:V}function v(ht){if(typeof ht!="bigint")throw new Error("expected a bigint argument")}let A=null;function T(){return(A===null||A.byteLength===0)&&(A=new BigInt64Array(s.exports.memory.buffer)),A}function S(ht,vt,pt,V){let rt={a:ht,b:vt,cnt:1,dtor:pt},st=(...yt)=>{rt.cnt++;let Ct=rt.a;rt.a=0;try{return V(Ct,rt.b,...yt)}finally{--rt.cnt===0?s.exports.__wbindgen_export_2.get(rt.dtor)(Ct,rt.b):rt.a=Ct}};return st.original=rt,st}function w(ht,vt){try{return ht.apply(this,vt)}catch(pt){let V=function(){try{return pt instanceof Error?`${pt.message}

Stack:
${pt.stack}`:pt.toString()}catch{return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",V),pt}}function b(ht,vt,pt){N(ht),N(vt),s.modifiedExports._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__(ht,vt,E(pt))}function h(ht){let vt=s.exports.warpContractWrite(E(ht));return n(vt)}function k(ht){var vt=s.exports.handle(E(ht));return n(vt)}let tt=128;function X(ht){if(tt==1)throw new Error("out of js stack");return m[--tt]=ht,tt}function ft(ht){try{let V=s.exports.__wbindgen_add_to_stack_pointer(-16);s.exports.initState(V,X(ht));var vt=P()[V/4+0],pt=P()[V/4+1];let rt;return vt!==0&&(rt=y(vt,pt).slice(),s.exports.__wbindgen_free(vt,pt*1)),rt}finally{s.exports.__wbindgen_add_to_stack_pointer(16),m[tt++]=void 0}}function et(ht){try{s.exports.initState(X(ht))}finally{m[tt++]=void 0}}function at(){let ht=s.exports.currentState();return n(ht)}function $(){return s.exports.version()}function J(){return s.exports.lang()}function R(ht){let vt=s.exports.warpContractView(E(ht));return n(vt)}function j(ht,vt){try{return ht.apply(this,vt)}catch(pt){s.exports.__wbindgen_exn_store(E(pt))}}function z(ht,vt,pt,V){N(ht),N(vt),s.modifiedExports.wasm_bindgen__convert__closures__invoke2_mut__(ht,vt,E(pt),E(V))}function Z(ht){return()=>{throw new Error(`${ht} is not defined`)}}let Q={__wbindgen_json_parse:function(ht,vt){let pt=JSON.parse(y(ht,vt));return E(pt)},__wbindgen_json_serialize:function(ht,vt){let pt=B(vt),V=JSON.stringify(pt===void 0?null:pt),rt=O(V,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),st=D;P()[ht/4+1]=st,P()[ht/4+0]=rt},__wbindgen_error_new:function(ht,vt){let pt=new Error(y(ht,vt));return E(pt)},__wbindgen_is_undefined:function(ht){let vt=B(ht)===void 0;return x(vt),vt},__wbindgen_in:function(ht,vt){let pt=B(ht)in B(vt);return x(pt),pt},__wbindgen_number_get:function(ht,vt){let pt=B(vt),V=typeof pt=="number"?pt:void 0;C(V)||N(V),I()[ht/8+1]=C(V)?0:V,P()[ht/4+0]=!C(V)},__wbindgen_boolean_get:function(ht){let vt=B(ht),pt=typeof vt=="boolean"?vt?1:0:2;return N(pt),pt},__wbindgen_is_null:function(ht){let vt=B(ht)===null;return x(vt),vt},__wbindgen_string_new:function(ht,vt){let pt=y(ht,vt);return E(pt)},__wbindgen_string_get:function(ht,vt){let pt=B(vt),V=typeof pt=="string"?pt:void 0;var rt=C(V)?0:O(V,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),st=D;P()[ht/4+1]=st,P()[ht/4+0]=rt},__wbindgen_is_bigint:function(ht){let vt=typeof B(ht)=="bigint";return x(vt),vt},__wbindgen_is_object:function(ht){let vt=B(ht),pt=typeof vt=="object"&&vt!==null;return x(pt),pt},__wbindgen_object_clone_ref:function(ht){let vt=B(ht);return E(vt)},__wbindgen_jsval_eq:function(ht,vt){let pt=B(ht)===B(vt);return x(pt),pt},__wbindgen_bigint_from_i64:function(ht){return E(ht)},__wbindgen_bigint_from_u64:function(ht){let vt=BigInt.asUintN(64,ht);return E(vt)},__wbg_readContractState:function(){return j(function(ht,vt){let pt=f.SmartWeave.readContractState(y(ht,vt));return E(pt)},arguments)},__wbg_viewContractState:function(){return j(function(ht,vt,pt){let V=f.SmartWeave.viewContractState(y(ht,vt),n(pt));return E(V)},arguments)},__wbg_write:function(){return j(function(ht,vt,pt){let V=f.SmartWeave.write(y(ht,vt),n(pt));return E(V)},arguments)},__wbg_refreshState:function(ht,vt){},__wbg_kvGet:function(){return j(function(ht,vt){let pt=f.KV.get(y(ht,vt));return E(pt)},arguments)},__wbg_kvPut:function(){return j(function(ht,vt,pt){let V=f.KV.put(y(ht,vt),n(pt));return E(V)},arguments)},__wbindgen_object_drop_ref:function(ht){n(ht)},__wbg_error:function(){return w(function(ht,vt){try{f.console.log(y(ht,vt))}finally{s.exports.__wbindgen_free(ht,vt)}},arguments)},__wbg_new_abda76e883ba8a5f:function(){return w(function(){let ht=new Error;return E(ht)},arguments)},__wbg_stack:function(){return w(function(ht,vt){let pt=Error.stackTraceLimit;Error.stackTraceLimit=25;let V=B(vt).stack,rt=O(V,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),st=D;P()[ht/4+1]=st,P()[ht/4+0]=rt,Error.stackTraceLimit=pt},arguments)},__wbg_indephash:function(){return w(function(ht){let vt=f.Block.indep_hash(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_height:function(){return w(function(){let ht=f.Block.height();return N(ht),ht},arguments)},__wbg_timestamp:function(){return w(function(){let ht=f.Block.timestamp();return N(ht),ht},arguments)},__wbg_contractId:function(){return w(function(ht){let vt=f.Contract.id(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_contractOwner:function(){return w(function(ht){let vt=f.Contract.owner(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_id:function(){return w(function(ht){let vt=f.Transaction.id(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_owner:function(){return w(function(ht){let vt=f.Transaction.owner(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_target:function(){return w(function(ht){let vt=f.Transaction.target(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_caller:function(){return w(function(ht){let vt=f.SmartWeave.caller(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_value_b245bf3240b21a48:function(){return w(function(ht){let vt=f.Vrf.value(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_value_7d69ddc3f1ad7876:function(){return w(function(ht){let vt=f.Vrf.value(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_vrfValue:function(){return w(function(ht){let vt=f.Vrf.value(),pt=O(vt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),V=D;P()[ht/4+1]=V,P()[ht/4+0]=pt},arguments)},__wbg_randomInt:function(){return w(function(ht){let vt=f.Vrf.randomInt(ht);return N(vt),vt},arguments)},__wbg_log:function(){return w(function(ht,vt){f.console.log(y(ht,vt))},arguments)},__wbindgen_cb_drop:function(ht){let vt=n(ht).original;if(vt.cnt--==1)return vt.a=0,!0;let pt=!1;return x(pt),pt},__wbg_debug:function(){return w(function(ht){console.log(B(ht))},arguments)},__wbg_String:function(){return w(function(ht,vt){let pt=String(B(vt)),V=O(pt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),rt=D;P()[ht/4+1]=rt,P()[ht/4+0]=V},arguments)},__wbg_getwithrefkey:function(){return w(function(ht,vt){let pt=B(ht)[B(vt)];return E(pt)},arguments)},__wbg_set_841ac57cff3d672b:function(){return w(function(ht,vt,pt){B(ht)[n(vt)]=n(pt)},arguments)},__wbindgen_number_new:function(ht){return E(ht)},__wbindgen_jsval_loose_eq:function(ht,vt){let pt=B(ht)==B(vt);return x(pt),pt},__wbg_get_27fe3dac1c4d0224:function(){return w(function(ht,vt){let pt=B(ht)[vt>>>0];return E(pt)},arguments)},__wbg_set_17224bc548dd1d7b:function(){return w(function(ht,vt,pt){B(ht)[vt>>>0]=n(pt)},arguments)},__wbg_isArray:function(){return w(function(ht){let vt=Array.isArray(B(ht));return x(vt),vt},arguments)},__wbg_length_e498fbc24f9c1d4f:function(){return w(function(ht){let vt=B(ht).length;return N(vt),vt},arguments)},__wbg_new_b525de17f44a8943:function(){return w(function(){let ht=new Array;return E(ht)},arguments)},__wbg_instanceof_ArrayBuffer:function(){return w(function(ht){let vt;try{vt=B(ht)instanceof ArrayBuffer}catch{vt=!1}let pt=vt;return x(pt),pt},arguments)},__wbg_call_95d1ea488d03e4e8:function(){return j(function(ht,vt){let pt=B(ht).call(B(vt));return E(pt)},arguments)},__wbg_call_9495de66fdbe016b:function(){return j(function(ht,vt,pt){let V=B(ht).call(B(vt),B(pt));return E(V)},arguments)},__wbg_call_94697a95cb7e239c:function(){return j(function(ht,vt,pt){let V=B(ht).call(B(vt),B(pt));return E(V)},arguments)},__wbg_new_f841cc6f2098f4b5:function(){return w(function(){return E(new Map)},arguments)},__wbg_set_388c4c6422704173:function(){return w(function(ht,vt,pt){let V=B(ht).set(B(vt),B(pt));return E(V)},arguments)},__wbg_next_88560ec06a094dea:function(){return j(function(ht){let vt=B(ht).next();return E(vt)},arguments)},__wbg_next_b7d530c04fd8b217:function(){return w(function(ht){let vt=B(ht).next;return E(vt)},arguments)},__wbg_done:function(){return w(function(ht){let vt=B(ht).done;return x(vt),vt},arguments)},__wbg_value_6ac8da5cc5b3efda:function(){return w(function(ht){let vt=B(ht).value;return E(vt)},arguments)},__wbg_isSafeInteger:function(){return w(function(ht){let vt=Number.isSafeInteger(B(ht));return x(vt),vt},arguments)},__wbg_entries:function(){return w(function(ht){let vt=Object.entries(B(ht));return E(vt)},arguments)},__wbg_new_f9876326328f45ed:function(){return w(function(){let ht=new Object;return E(ht)},arguments)},__wbg_iterator:function(){return w(function(){return E(Symbol.iterator)},arguments)},__wbg_new_9d3a9ce4282a18a8:function(){return w(function(ht,vt){try{var pt={a:ht,b:vt},V=(st,yt)=>{let Ct=pt.a;pt.a=0;try{return z(Ct,pt.b,st,yt)}finally{pt.a=Ct}};let rt=new Promise(V);return E(rt)}finally{pt.a=pt.b=0}},arguments)},__wbg_new_4beacc9c71572250:function(){return w(function(ht,vt){try{var pt={a:ht,b:vt},V=(st,yt)=>{let Ct=pt.a;pt.a=0;try{return z(Ct,pt.b,st,yt)}finally{pt.a=Ct}};let rt=new Promise(V);return E(rt)}finally{pt.a=pt.b=0}},arguments)},__wbg_resolve:function(){return w(function(ht){let vt=Promise.resolve(B(ht));return E(vt)},arguments)},__wbg_then_ec5db6d509eb475f:function(){return w(function(ht,vt){let pt=B(ht).then(B(vt));return E(pt)},arguments)},__wbg_then_a6860c82b90816ca:function(){return w(function(ht,vt){let pt=B(ht).then(B(vt));return E(pt)},arguments)},__wbg_then_f753623316e2873a:function(){return w(function(ht,vt,pt){let V=B(ht).then(B(vt),B(pt));return E(V)},arguments)},__wbg_then_58a04e42527f52c6:function(){return w(function(ht,vt,pt){let V=B(ht).then(B(vt),B(pt));return E(V)},arguments)},__wbg_instanceof_Uint8Array:function(){return w(function(ht){let vt;try{vt=B(ht)instanceof Uint8Array}catch{vt=!1}let pt=vt;return x(pt),pt},arguments)},__wbg_new_537b7341ce90bb31:function(){return w(function(ht){let vt=new Uint8Array(B(ht));return E(vt)},arguments)},__wbg_length_27a2afe8ab42b09f:function(){return w(function(ht){let vt=B(ht).length;return N(vt),vt},arguments)},__wbg_set_17499e8aa4003ebd:function(){return w(function(ht,vt,pt){B(ht).set(B(vt),pt>>>0)},arguments)},__wbindgen_is_function:function(ht){let vt=typeof B(ht)=="function";return x(vt),vt},__wbindgen_is_string:function(ht){let vt=typeof B(ht)=="string";return x(vt),vt},__wbg_buffer:function(){return w(function(ht){let vt=B(ht).buffer;return E(vt)},arguments)},__wbg_get_baf4855f9a986186:function(){return j(function(ht,vt){let pt=Reflect.get(B(ht),B(vt));return E(pt)},arguments)},__wbindgen_debug_string:function(ht,vt){let pt=d(B(vt)),V=O(pt,s.exports.__wbindgen_malloc,s.exports.__wbindgen_realloc),rt=D;P()[ht/4+1]=rt,P()[ht/4+0]=V},__wbindgen_bigint_get_as_i64:function(ht,vt){let pt=B(vt),V=typeof pt=="bigint"?pt:void 0;C(V)||v(V),T()[ht/8+1]=C(V)?BigInt(0):V,P()[ht/4+0]=!C(V)},__wbindgen_throw:function(ht,vt){throw new Error(y(ht,vt))},__wbindgen_memory:function(){let ht=s.exports.memory;return E(ht)},__wbindgen_closure_wrapper:function(){return w(function(ht,vt,pt){let V=S(ht,vt,e,b);return E(V)},arguments)}},K={_assertBoolean:x,_assertNum:N,addBorrowedObject:X,addHeapObject:E,getInt32Memory0:P,getObject:B,getStringFromWasm0:y,handleError:j,heap:()=>m,logError:w,notDefined:Z,passStringToWasm0:O,takeObject:n,wasm:()=>s.exports,WASM_VECTOR_LEN:()=>D,__wbg_adapter_4:z,__wbg_adapter_3:b};function G(ht){return function(){return w(function(vt){let pt=ht(n(vt));return E(pt)},arguments)}}function H(ht,vt){var pt,V;let rt={};for(let[st,yt]of Object.entries(ht.extensions)){let Ct=(V=(pt=yt.rustImports)===null||pt===void 0?void 0:pt.call(yt,vt))!==null&&V!==void 0?V:{};for(let[dt,Mt]of Object.entries(Ct))dt.startsWith("__wbg_")?rt[dt]=Mt:rt["__wbg_"+dt]=G(Mt)}return rt}let Y={...Q,...H(u,K)},it=Object.keys(Y),ot=a.reduce((ht,vt)=>{let pt=it.find(V=>vt.startsWith(V));if(pt===void 0)throw new Error(`Cannot find import mapping for ${vt}. Please file a bug.`);if(it.filter(V=>vt.startsWith(V)).length!=1)throw new Error(`Multiple import mappings for ${vt}. Please file a bug.`);if(ht.usedKeys.has(pt))throw new Error(`Multiple methods maps to ${pt}. Please file a bug.`);return ht.res[vt]=Y[pt],ht.usedKeys.add(pt),ht},{res:{},usedKeys:new Set}).res;o==="__WARP_CONTRACTS_VERSION_LEGACY"?(ot.initStateLegacy=et,ot.handle=k):(ot.initState=ft,ot.warpContractWrite=h,ot.warpContractView=R),ot.currentState=at,ot.version=$,ot.lang=J;let mt={};mt.__wbindgen_placeholder__=ot;class _t{__destroy_into_raw(){let vt=this.ptr;return this.ptr=0,vt}free(){let vt=this.__destroy_into_raw();s.exports.__wbg_statewrapper_free(vt)}}return ot.StateWrapper=_t,mt.metering=f.metering,{imports:mt,exports:ot}};t.rustWasmImports=r}),gu=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractContractHandler=void 0;var i=or(),r=Er(),u=va(),a=class{constructor(s,e){this.swGlobal=s,this.contractDefinition=e,this.logger=i.LoggerFactory.INST.create("ContractHandler"),this.assignReadContractState=this.assignReadContractState.bind(this),this.assignViewContractState=this.assignViewContractState.bind(this),this.assignWrite=this.assignWrite.bind(this),this.assignRefreshState=this.assignRefreshState.bind(this)}async dispose(){}assignWrite(s){this.swGlobal.contracts.write=async(e,o,c)=>{if(!s.evaluationOptions.internalWrites)throw new Error("Internal writes feature switched off. Change EvaluationOptions.internalWrites flag to 'true'");let f=c??s.evaluationOptions.throwOnInternalWriteError,l={from:this.contractDefinition.txId,to:e,input:o};this.logger.debug("swGlobal.write call:",l);let p=s.warp.contract(e,s.contract,{callingInteraction:this.swGlobal._activeTx,callType:"write"}),g=await p.applyInput(o,this.swGlobal._activeTx);this.logger.debug("Cache result?:",!this.swGlobal._activeTx.dry);let y=g.type!=="ok"&&f&&(!this.swGlobal._activeTx.dry||this.swGlobal._activeTx.dry&&this.swGlobal._activeTx.strict),m=y?`Internal write auto error for call [${JSON.stringify(l)}]: ${g.errorMessage}`:g.errorMessage,M=m?{...g.originalErrorMessages,[this.swGlobal._activeTx.id]:m}:g.originalErrorMessages;if(p.interactionState().update(p.txId(),{state:g.state,validity:{...g.originalValidity,[this.swGlobal._activeTx.id]:g.type=="ok"},errorMessages:M},this.swGlobal._activeTx.sortKey),y)throw new u.ContractError(g.type==="error"&&g.error?g.error:m);return g}}assignViewContractState(s){this.swGlobal.contracts.viewContractState=async(e,o)=>(this.logger.debug("swGlobal.viewContractState call:",{from:this.contractDefinition.txId,to:e,input:o}),await s.warp.contract(e,s.contract,{callingInteraction:this.swGlobal._activeTx,callType:"view"}).viewStateForTx(o,this.swGlobal._activeTx))}assignReadContractState(s,e){this.swGlobal.contracts.readContractState=async(o,c)=>{var f,l,p;this.logger.debug("swGlobal.readContractState call:",{from:this.contractDefinition.txId,to:o,sortKey:e.sortKey,transaction:this.swGlobal.transaction.id});let{contract:g,warp:y}=s,m=await y.contract(o,g,{callingInteraction:e,callType:"read"}).readState(e.sortKey);if(!((f=m==null?void 0:m.cachedValue)===null||f===void 0)&&f.errorMessages){let M=Reflect.ownKeys((l=m==null?void 0:m.cachedValue)===null||l===void 0?void 0:l.errorMessages);if(M.length){let E=M[M.length-1],B=(p=m==null?void 0:m.cachedValue)===null||p===void 0?void 0:p.errorMessages[E];if(B&&B.startsWith&&(B.startsWith("[SkipUnsafeError]")||B.startsWith("[NonWhitelistedSourceError]")))throw new u.ContractError(B)}}return c?{state:(0,r.deepCopy)(m.cachedValue.state),validity:m.cachedValue.validity,errorMessages:m.cachedValue.errorMessages}:(0,r.deepCopy)(m.cachedValue.state)}}assignRefreshState(s){this.swGlobal.contracts.refreshState=async()=>{var e;return(e=s.contract.interactionState().get(this.swGlobal.contract.id,this.swGlobal._activeTx.sortKey))===null||e===void 0?void 0:e.state}}};t.AbstractContractHandler=a}),Wf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.WasmHandlerApi=void 0;var i=va(),r=gu(),u=Er(),a=class extends r.AbstractContractHandler{constructor(s,e,o){super(s,e),this.wasmExports=o}async handle(s,e,o){try{let{interaction:c,interactionTx:f}=o;this.swGlobal._activeTx=f,this.swGlobal.caller=c.caller,this.swGlobal.gasLimit=s.evaluationOptions.gasLimit,this.swGlobal.gasUsed=0,this.assignReadContractState(s,f),this.assignViewContractState(s),this.assignWrite(s),await this.swGlobal.kv.open(),await this.swGlobal.kv.begin();let l=await this.doHandle(c);return o.interaction.interactionType==="view"?await this.swGlobal.kv.rollback():await this.swGlobal.kv.commit(),{type:"ok",result:l,state:this.doGetCurrentState(),gasUsed:this.swGlobal.gasUsed,event:null}}catch(c){await this.swGlobal.kv.rollback();let f={errorMessage:c.message,state:e.state,result:null};if(c instanceof i.ContractError||c instanceof i.NonWhitelistedSourceError)return{...f,error:c.error,type:"error",event:null};if(c instanceof u.NetworkCommunicationError)throw c;return{...f,type:"exception",event:null}}finally{await this.swGlobal.kv.close()}}initState(s){switch(this.contractDefinition.srcWasmLang){case"rust":{if("initStateLegacy"in this.wasmExports){this.wasmExports.initStateLegacy(s);return}let e=this.wasmExports.initState(s);if(e)throw new Error(e);return}default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}async doHandleLegacy(s){let e=await this.wasmExports.handle(s.input);if(!e)return;if(Object.prototype.hasOwnProperty.call(e,"Ok"))return e.Ok;let o,c="";throw typeof e.Err=="string"||e.Err instanceof String?o=e.Err:"kind"in e.Err?(o=e.Err.kind,c="data"in e.Err?" "+e.Err.data:""):(o=Object.keys(e.Err)[0],c=" "+e.Err[o]),o=="RuntimeError"?new Error(`[RE:RE]${c}`):new i.ContractError(`[CE:${o}${c}]`)}async doHandle(s){switch(this.contractDefinition.srcWasmLang){case"rust":{if("handle"in this.wasmExports)return await this.doHandleLegacy(s);let e=s.interactionType==="write"?await this.wasmExports.warpContractWrite(s.input):await this.wasmExports.warpContractView(s.input);if(!e)return;if(e.type==="ok")return e.result;throw this.logger.error("Error from rust",e),e.type==="error"?new i.ContractError(e.error):new Error(e.errorMessage)}default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}async maybeCallStateConstructor(s,e){var o,c;if(!((c=(o=this.contractDefinition.manifest)===null||o===void 0?void 0:o.evaluationOptions)===null||c===void 0)&&c.useConstructor)throw Error("Constructor is not implemented for wasm");return s}doGetCurrentState(){switch(this.contractDefinition.srcWasmLang){case"rust":return this.wasmExports.currentState();default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}};t.WasmHandlerApi=a}),qf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.checkJsSrc=t.normalizeContractSource=void 0;var i=Er();function r(a,s){let e=a.trim().split(`
`),o=e[0],c=e[e.length-1];return(/\(\s*\(\)\s*=>\s*{/g.test(o)||/\s*\(\s*function\s*\(\)\s*{/g.test(o))&&/}\s*\)\s*\(\)\s*;/g.test(c)&&(e.shift(),e.pop(),a=e.join(`
`)),a=a.replace(/export\s+async\s+function\s+handle/gmu,"async function handle").replace(/export\s+function\s+handle/gmu,"function handle"),s?`
    ${a}
    module.exports = handle;`:`
    const window=void 0,document=void 0,Function=void 0,eval=void 0,globalThis=void 0;
    const [SmartWeave, BigNumber, logger${(0,i.isBrowser)()?", Buffer, atob, btoa":""}] = arguments;
    class ContractError extends Error { constructor(message) { super(message); this.name = 'ContractError' } };
    function ContractAssert(cond, message) { if (!cond) throw new ContractError(message) };
    ${a};
    return handle;
  `}t.normalizeContractSource=r;function u(a,s){try{let e=r(a,!1);return new Function(e)(),!0}catch(e){return s==null||s.error(e),!1}}t.checkJsSrc=u}),Vp=gt((t,i)=>{lt(),function(r){var u,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,e=Math.floor,o="[BigNumber Error] ",c=o+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,p=9007199254740991,g=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,m=1e9;function M(U){var P,D,W,q=X.prototype={constructor:X,toString:null,valueOf:null},O=new X(1),L=20,n=4,d=-7,v=21,A=-1e7,T=1e7,S=!1,w=1,b=0,h={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",tt=!0;function X(R,j){var z,Z,Q,K,G,H,Y,it,ot=this;if(!(ot instanceof X))return new X(R,j);if(j==null){if(R&&R._isBigNumber===!0){ot.s=R.s,!R.c||R.e>T?ot.c=ot.e=null:R.e<A?ot.c=[ot.e=0]:(ot.e=R.e,ot.c=R.c.slice());return}if((H=typeof R=="number")&&R*0==0){if(ot.s=1/R<0?(R=-R,-1):1,R===~~R){for(K=0,G=R;G>=10;G/=10,K++);K>T?ot.c=ot.e=null:(ot.e=K,ot.c=[R]);return}it=String(R)}else{if(!a.test(it=String(R)))return W(ot,it,H);ot.s=it.charCodeAt(0)==45?(it=it.slice(1),-1):1}(K=it.indexOf("."))>-1&&(it=it.replace(".","")),(G=it.search(/e/i))>0?(K<0&&(K=G),K+=+it.slice(G+1),it=it.substring(0,G)):K<0&&(K=it.length)}else{if(C(j,2,k.length,"Base"),j==10&&tt)return ot=new X(R),$(ot,L+ot.e+1,n);if(it=String(R),H=typeof R=="number"){if(R*0!=0)return W(ot,it,H,j);if(ot.s=1/R<0?(it=it.slice(1),-1):1,X.DEBUG&&it.replace(/^0\.0*|\./,"").length>15)throw Error(c+R)}else ot.s=it.charCodeAt(0)===45?(it=it.slice(1),-1):1;for(z=k.slice(0,j),K=G=0,Y=it.length;G<Y;G++)if(z.indexOf(Z=it.charAt(G))<0){if(Z=="."){if(G>K){K=Y;continue}}else if(!Q&&(it==it.toUpperCase()&&(it=it.toLowerCase())||it==it.toLowerCase()&&(it=it.toUpperCase()))){Q=!0,G=-1,K=0;continue}return W(ot,String(R),H,j)}H=!1,it=D(it,j,10,ot.s),(K=it.indexOf("."))>-1?it=it.replace(".",""):K=it.length}for(G=0;it.charCodeAt(G)===48;G++);for(Y=it.length;it.charCodeAt(--Y)===48;);if(it=it.slice(G,++Y)){if(Y-=G,H&&X.DEBUG&&Y>15&&(R>p||R!==e(R)))throw Error(c+ot.s*R);if((K=K-G-1)>T)ot.c=ot.e=null;else if(K<A)ot.c=[ot.e=0];else{if(ot.e=K,ot.c=[],G=(K+1)%l,K<0&&(G+=l),G<Y){for(G&&ot.c.push(+it.slice(0,G)),Y-=l;G<Y;)ot.c.push(+it.slice(G,G+=l));G=l-(it=it.slice(G)).length}else G-=Y;for(;G--;it+="0");ot.c.push(+it)}}else ot.c=[ot.e=0]}X.clone=M,X.ROUND_UP=0,X.ROUND_DOWN=1,X.ROUND_CEIL=2,X.ROUND_FLOOR=3,X.ROUND_HALF_UP=4,X.ROUND_HALF_DOWN=5,X.ROUND_HALF_EVEN=6,X.ROUND_HALF_CEIL=7,X.ROUND_HALF_FLOOR=8,X.EUCLID=9,X.config=X.set=function(R){var j,z;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(j="DECIMAL_PLACES")&&(z=R[j],C(z,0,m,j),L=z),R.hasOwnProperty(j="ROUNDING_MODE")&&(z=R[j],C(z,0,8,j),n=z),R.hasOwnProperty(j="EXPONENTIAL_AT")&&(z=R[j],z&&z.pop?(C(z[0],-m,0,j),C(z[1],0,m,j),d=z[0],v=z[1]):(C(z,-m,m,j),d=-(v=z<0?-z:z))),R.hasOwnProperty(j="RANGE"))if(z=R[j],z&&z.pop)C(z[0],-m,-1,j),C(z[1],1,m,j),A=z[0],T=z[1];else if(C(z,-m,m,j),z)A=-(T=z<0?-z:z);else throw Error(o+j+" cannot be zero: "+z);if(R.hasOwnProperty(j="CRYPTO"))if(z=R[j],z===!!z)if(z)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))S=z;else throw S=!z,Error(o+"crypto unavailable");else S=z;else throw Error(o+j+" not true or false: "+z);if(R.hasOwnProperty(j="MODULO_MODE")&&(z=R[j],C(z,0,9,j),w=z),R.hasOwnProperty(j="POW_PRECISION")&&(z=R[j],C(z,0,m,j),b=z),R.hasOwnProperty(j="FORMAT"))if(z=R[j],typeof z=="object")h=z;else throw Error(o+j+" not an object: "+z);if(R.hasOwnProperty(j="ALPHABET"))if(z=R[j],typeof z=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(z))tt=z.slice(0,10)=="0123456789",k=z;else throw Error(o+j+" invalid: "+z)}else throw Error(o+"Object expected: "+R);return{DECIMAL_PLACES:L,ROUNDING_MODE:n,EXPONENTIAL_AT:[d,v],RANGE:[A,T],CRYPTO:S,MODULO_MODE:w,POW_PRECISION:b,FORMAT:h,ALPHABET:k}},X.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!X.DEBUG)return!0;var j,z,Z=R.c,Q=R.e,K=R.s;t:if({}.toString.call(Z)=="[object Array]"){if((K===1||K===-1)&&Q>=-m&&Q<=m&&Q===e(Q)){if(Z[0]===0){if(Q===0&&Z.length===1)return!0;break t}if(j=(Q+1)%l,j<1&&(j+=l),String(Z[0]).length==j){for(j=0;j<Z.length;j++)if(z=Z[j],z<0||z>=f||z!==e(z))break t;if(z!==0)return!0}}}else if(Z===null&&Q===null&&(K===null||K===1||K===-1))return!0;throw Error(o+"Invalid BigNumber: "+R)},X.maximum=X.max=function(){return et(arguments,q.lt)},X.minimum=X.min=function(){return et(arguments,q.gt)},X.random=function(){var R=9007199254740992,j=Math.random()*R&2097151?function(){return e(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(z){var Z,Q,K,G,H,Y=0,it=[],ot=new X(O);if(z==null?z=L:C(z,0,m),G=s(z/l),S)if(crypto.getRandomValues){for(Z=crypto.getRandomValues(new Uint32Array(G*=2));Y<G;)H=Z[Y]*131072+(Z[Y+1]>>>11),H>=9e15?(Q=crypto.getRandomValues(new Uint32Array(2)),Z[Y]=Q[0],Z[Y+1]=Q[1]):(it.push(H%1e14),Y+=2);Y=G/2}else if(crypto.randomBytes){for(Z=crypto.randomBytes(G*=7);Y<G;)H=(Z[Y]&31)*281474976710656+Z[Y+1]*1099511627776+Z[Y+2]*4294967296+Z[Y+3]*16777216+(Z[Y+4]<<16)+(Z[Y+5]<<8)+Z[Y+6],H>=9e15?crypto.randomBytes(7).copy(Z,Y):(it.push(H%1e14),Y+=7);Y=G/7}else throw S=!1,Error(o+"crypto unavailable");if(!S)for(;Y<G;)H=j(),H<9e15&&(it[Y++]=H%1e14);for(G=it[--Y],z%=l,G&&z&&(H=g[l-z],it[Y]=e(G/H)*H);it[Y]===0;it.pop(),Y--);if(Y<0)it=[K=0];else{for(K=-1;it[0]===0;it.splice(0,1),K-=l);for(Y=1,H=it[0];H>=10;H/=10,Y++);Y<l&&(K-=l-Y)}return ot.e=K,ot.c=it,ot}}(),X.sum=function(){for(var R=1,j=arguments,z=new X(j[0]);R<j.length;)z=z.plus(j[R++]);return z},D=function(){var R="0123456789";function j(z,Z,Q,K){for(var G,H=[0],Y,it=0,ot=z.length;it<ot;){for(Y=H.length;Y--;H[Y]*=Z);for(H[0]+=K.indexOf(z.charAt(it++)),G=0;G<H.length;G++)H[G]>Q-1&&(H[G+1]==null&&(H[G+1]=0),H[G+1]+=H[G]/Q|0,H[G]%=Q)}return H.reverse()}return function(z,Z,Q,K,G){var H,Y,it,ot,mt,_t,ht,vt,pt=z.indexOf("."),V=L,rt=n;for(pt>=0&&(ot=b,b=0,z=z.replace(".",""),vt=new X(Z),_t=vt.pow(z.length-pt),b=ot,vt.c=j(I(B(_t.c),_t.e,"0"),10,Q,R),vt.e=vt.c.length),ht=j(z,Z,Q,G?(H=k,R):(H=R,k)),it=ot=ht.length;ht[--ot]==0;ht.pop());if(!ht[0])return H.charAt(0);if(pt<0?--it:(_t.c=ht,_t.e=it,_t.s=K,_t=P(_t,vt,V,rt,Q),ht=_t.c,mt=_t.r,it=_t.e),Y=it+V+1,pt=ht[Y],ot=Q/2,mt=mt||Y<0||ht[Y+1]!=null,mt=rt<4?(pt!=null||mt)&&(rt==0||rt==(_t.s<0?3:2)):pt>ot||pt==ot&&(rt==4||mt||rt==6&&ht[Y-1]&1||rt==(_t.s<0?8:7)),Y<1||!ht[0])z=mt?I(H.charAt(1),-V,H.charAt(0)):H.charAt(0);else{if(ht.length=Y,mt)for(--Q;++ht[--Y]>Q;)ht[Y]=0,Y||(++it,ht=[1].concat(ht));for(ot=ht.length;!ht[--ot];);for(pt=0,z="";pt<=ot;z+=H.charAt(ht[pt++]));z=I(z,it,H.charAt(0))}return z}}(),P=function(){function R(Z,Q,K){var G,H,Y,it,ot=0,mt=Z.length,_t=Q%y,ht=Q/y|0;for(Z=Z.slice();mt--;)Y=Z[mt]%y,it=Z[mt]/y|0,G=ht*Y+it*_t,H=_t*Y+G%y*y+ot,ot=(H/K|0)+(G/y|0)+ht*it,Z[mt]=H%K;return ot&&(Z=[ot].concat(Z)),Z}function j(Z,Q,K,G){var H,Y;if(K!=G)Y=K>G?1:-1;else for(H=Y=0;H<K;H++)if(Z[H]!=Q[H]){Y=Z[H]>Q[H]?1:-1;break}return Y}function z(Z,Q,K,G){for(var H=0;K--;)Z[K]-=H,H=Z[K]<Q[K]?1:0,Z[K]=H*G+Z[K]-Q[K];for(;!Z[0]&&Z.length>1;Z.splice(0,1));}return function(Z,Q,K,G,H){var Y,it,ot,mt,_t,ht,vt,pt,V,rt,st,yt,Ct,dt,Mt,Lt,wt,ct=Z.s==Q.s?1:-1,Et=Z.c,ut=Q.c;if(!Et||!Et[0]||!ut||!ut[0])return new X(!Z.s||!Q.s||(Et?ut&&Et[0]==ut[0]:!ut)?NaN:Et&&Et[0]==0||!ut?ct*0:ct/0);for(pt=new X(ct),V=pt.c=[],it=Z.e-Q.e,ct=K+it+1,H||(H=f,it=E(Z.e/l)-E(Q.e/l),ct=ct/l|0),ot=0;ut[ot]==(Et[ot]||0);ot++);if(ut[ot]>(Et[ot]||0)&&it--,ct<0)V.push(1),mt=!0;else{for(dt=Et.length,Lt=ut.length,ot=0,ct+=2,_t=e(H/(ut[0]+1)),_t>1&&(ut=R(ut,_t,H),Et=R(Et,_t,H),Lt=ut.length,dt=Et.length),Ct=Lt,rt=Et.slice(0,Lt),st=rt.length;st<Lt;rt[st++]=0);wt=ut.slice(),wt=[0].concat(wt),Mt=ut[0],ut[1]>=H/2&&Mt++;do{if(_t=0,Y=j(ut,rt,Lt,st),Y<0){if(yt=rt[0],Lt!=st&&(yt=yt*H+(rt[1]||0)),_t=e(yt/Mt),_t>1)for(_t>=H&&(_t=H-1),ht=R(ut,_t,H),vt=ht.length,st=rt.length;j(ht,rt,vt,st)==1;)_t--,z(ht,Lt<vt?wt:ut,vt,H),vt=ht.length,Y=1;else _t==0&&(Y=_t=1),ht=ut.slice(),vt=ht.length;if(vt<st&&(ht=[0].concat(ht)),z(rt,ht,st,H),st=rt.length,Y==-1)for(;j(ut,rt,Lt,st)<1;)_t++,z(rt,Lt<st?wt:ut,st,H),st=rt.length}else Y===0&&(_t++,rt=[0]);V[ot++]=_t,rt[0]?rt[st++]=Et[Ct]||0:(rt=[Et[Ct]],st=1)}while((Ct++<dt||rt[0]!=null)&&ct--);mt=rt[0]!=null,V[0]||V.splice(0,1)}if(H==f){for(ot=1,ct=V[0];ct>=10;ct/=10,ot++);$(pt,K+(pt.e=ot+it*l-1)+1,G,mt)}else pt.e=it,pt.r=+mt;return pt}}();function ft(R,j,z,Z){var Q,K,G,H,Y;if(z==null?z=n:C(z,0,8),!R.c)return R.toString();if(Q=R.c[0],G=R.e,j==null)Y=B(R.c),Y=Z==1||Z==2&&(G<=d||G>=v)?F(Y,G):I(Y,G,"0");else if(R=$(new X(R),j,z),K=R.e,Y=B(R.c),H=Y.length,Z==1||Z==2&&(j<=K||K<=d)){for(;H<j;Y+="0",H++);Y=F(Y,K)}else if(j-=G,Y=I(Y,K,"0"),K+1>H){if(--j>0)for(Y+=".";j--;Y+="0");}else if(j+=K-H,j>0)for(K+1==H&&(Y+=".");j--;Y+="0");return R.s<0&&Q?"-"+Y:Y}function et(R,j){for(var z,Z=1,Q=new X(R[0]);Z<R.length;Z++)if(z=new X(R[Z]),z.s)j.call(Q,z)&&(Q=z);else{Q=z;break}return Q}function at(R,j,z){for(var Z=1,Q=j.length;!j[--Q];j.pop());for(Q=j[0];Q>=10;Q/=10,Z++);return(z=Z+z*l-1)>T?R.c=R.e=null:z<A?R.c=[R.e=0]:(R.e=z,R.c=j),R}W=function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,z=/^\.([^.]+)$/,Z=/^-?(Infinity|NaN)$/,Q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(K,G,H,Y){var it,ot=H?G:G.replace(Q,"");if(Z.test(ot))K.s=isNaN(ot)?null:ot<0?-1:1;else{if(!H&&(ot=ot.replace(R,function(mt,_t,ht){return it=(ht=ht.toLowerCase())=="x"?16:ht=="b"?2:8,!Y||Y==it?_t:mt}),Y&&(it=Y,ot=ot.replace(j,"$1").replace(z,"0.$1")),G!=ot))return new X(ot,it);if(X.DEBUG)throw Error(o+"Not a"+(Y?" base "+Y:"")+" number: "+G);K.s=null}K.c=K.e=null}}();function $(R,j,z,Z){var Q,K,G,H,Y,it,ot,mt=R.c,_t=g;if(mt){t:{for(Q=1,H=mt[0];H>=10;H/=10,Q++);if(K=j-Q,K<0)K+=l,G=j,Y=mt[it=0],ot=Y/_t[Q-G-1]%10|0;else if(it=s((K+1)/l),it>=mt.length)if(Z){for(;mt.length<=it;mt.push(0));Y=ot=0,Q=1,K%=l,G=K-l+1}else break t;else{for(Y=H=mt[it],Q=1;H>=10;H/=10,Q++);K%=l,G=K-l+Q,ot=G<0?0:Y/_t[Q-G-1]%10|0}if(Z=Z||j<0||mt[it+1]!=null||(G<0?Y:Y%_t[Q-G-1]),Z=z<4?(ot||Z)&&(z==0||z==(R.s<0?3:2)):ot>5||ot==5&&(z==4||Z||z==6&&(K>0?G>0?Y/_t[Q-G]:0:mt[it-1])%10&1||z==(R.s<0?8:7)),j<1||!mt[0])return mt.length=0,Z?(j-=R.e+1,mt[0]=_t[(l-j%l)%l],R.e=-j||0):mt[0]=R.e=0,R;if(K==0?(mt.length=it,H=1,it--):(mt.length=it+1,H=_t[l-K],mt[it]=G>0?e(Y/_t[Q-G]%_t[G])*H:0),Z)for(;;)if(it==0){for(K=1,G=mt[0];G>=10;G/=10,K++);for(G=mt[0]+=H,H=1;G>=10;G/=10,H++);K!=H&&(R.e++,mt[0]==f&&(mt[0]=1));break}else{if(mt[it]+=H,mt[it]!=f)break;mt[it--]=0,H=1}for(K=mt.length;mt[--K]===0;mt.pop());}R.e>T?R.c=R.e=null:R.e<A&&(R.c=[R.e=0])}return R}function J(R){var j,z=R.e;return z===null?R.toString():(j=B(R.c),j=z<=d||z>=v?F(j,z):I(j,z,"0"),R.s<0?"-"+j:j)}return q.absoluteValue=q.abs=function(){var R=new X(this);return R.s<0&&(R.s=1),R},q.comparedTo=function(R,j){return x(this,new X(R,j))},q.decimalPlaces=q.dp=function(R,j){var z,Z,Q,K=this;if(R!=null)return C(R,0,m),j==null?j=n:C(j,0,8),$(new X(K),R+K.e+1,j);if(!(z=K.c))return null;if(Z=((Q=z.length-1)-E(this.e/l))*l,Q=z[Q])for(;Q%10==0;Q/=10,Z--);return Z<0&&(Z=0),Z},q.dividedBy=q.div=function(R,j){return P(this,new X(R,j),L,n)},q.dividedToIntegerBy=q.idiv=function(R,j){return P(this,new X(R,j),0,1)},q.exponentiatedBy=q.pow=function(R,j){var z,Z,Q,K,G,H,Y,it,ot,mt=this;if(R=new X(R),R.c&&!R.isInteger())throw Error(o+"Exponent not an integer: "+J(R));if(j!=null&&(j=new X(j)),H=R.e>14,!mt.c||!mt.c[0]||mt.c[0]==1&&!mt.e&&mt.c.length==1||!R.c||!R.c[0])return ot=new X(Math.pow(+J(mt),H?R.s*(2-N(R)):+J(R))),j?ot.mod(j):ot;if(Y=R.s<0,j){if(j.c?!j.c[0]:!j.s)return new X(NaN);Z=!Y&&mt.isInteger()&&j.isInteger(),Z&&(mt=mt.mod(j))}else{if(R.e>9&&(mt.e>0||mt.e<-1||(mt.e==0?mt.c[0]>1||H&&mt.c[1]>=24e7:mt.c[0]<8e13||H&&mt.c[0]<=9999975e7)))return K=mt.s<0&&N(R)?-0:0,mt.e>-1&&(K=1/K),new X(Y?1/K:K);b&&(K=s(b/l+2))}for(H?(z=new X(.5),Y&&(R.s=1),it=N(R)):(Q=Math.abs(+J(R)),it=Q%2),ot=new X(O);;){if(it){if(ot=ot.times(mt),!ot.c)break;K?ot.c.length>K&&(ot.c.length=K):Z&&(ot=ot.mod(j))}if(Q){if(Q=e(Q/2),Q===0)break;it=Q%2}else if(R=R.times(z),$(R,R.e+1,1),R.e>14)it=N(R);else{if(Q=+J(R),Q===0)break;it=Q%2}mt=mt.times(mt),K?mt.c&&mt.c.length>K&&(mt.c.length=K):Z&&(mt=mt.mod(j))}return Z?ot:(Y&&(ot=O.div(ot)),j?ot.mod(j):K?$(ot,b,n,G):ot)},q.integerValue=function(R){var j=new X(this);return R==null?R=n:C(R,0,8),$(j,j.e+1,R)},q.isEqualTo=q.eq=function(R,j){return x(this,new X(R,j))===0},q.isFinite=function(){return!!this.c},q.isGreaterThan=q.gt=function(R,j){return x(this,new X(R,j))>0},q.isGreaterThanOrEqualTo=q.gte=function(R,j){return(j=x(this,new X(R,j)))===1||j===0},q.isInteger=function(){return!!this.c&&E(this.e/l)>this.c.length-2},q.isLessThan=q.lt=function(R,j){return x(this,new X(R,j))<0},q.isLessThanOrEqualTo=q.lte=function(R,j){return(j=x(this,new X(R,j)))===-1||j===0},q.isNaN=function(){return!this.s},q.isNegative=function(){return this.s<0},q.isPositive=function(){return this.s>0},q.isZero=function(){return!!this.c&&this.c[0]==0},q.minus=function(R,j){var z,Z,Q,K,G=this,H=G.s;if(R=new X(R,j),j=R.s,!H||!j)return new X(NaN);if(H!=j)return R.s=-j,G.plus(R);var Y=G.e/l,it=R.e/l,ot=G.c,mt=R.c;if(!Y||!it){if(!ot||!mt)return ot?(R.s=-j,R):new X(mt?G:NaN);if(!ot[0]||!mt[0])return mt[0]?(R.s=-j,R):new X(ot[0]?G:n==3?-0:0)}if(Y=E(Y),it=E(it),ot=ot.slice(),H=Y-it){for((K=H<0)?(H=-H,Q=ot):(it=Y,Q=mt),Q.reverse(),j=H;j--;Q.push(0));Q.reverse()}else for(Z=(K=(H=ot.length)<(j=mt.length))?H:j,H=j=0;j<Z;j++)if(ot[j]!=mt[j]){K=ot[j]<mt[j];break}if(K&&(Q=ot,ot=mt,mt=Q,R.s=-R.s),j=(Z=mt.length)-(z=ot.length),j>0)for(;j--;ot[z++]=0);for(j=f-1;Z>H;){if(ot[--Z]<mt[Z]){for(z=Z;z&&!ot[--z];ot[z]=j);--ot[z],ot[Z]+=f}ot[Z]-=mt[Z]}for(;ot[0]==0;ot.splice(0,1),--it);return ot[0]?at(R,ot,it):(R.s=n==3?-1:1,R.c=[R.e=0],R)},q.modulo=q.mod=function(R,j){var z,Z,Q=this;return R=new X(R,j),!Q.c||!R.s||R.c&&!R.c[0]?new X(NaN):!R.c||Q.c&&!Q.c[0]?new X(Q):(w==9?(Z=R.s,R.s=1,z=P(Q,R,0,3),R.s=Z,z.s*=Z):z=P(Q,R,0,w),R=Q.minus(z.times(R)),!R.c[0]&&w==1&&(R.s=Q.s),R)},q.multipliedBy=q.times=function(R,j){var z,Z,Q,K,G,H,Y,it,ot,mt,_t,ht,vt,pt,V,rt=this,st=rt.c,yt=(R=new X(R,j)).c;if(!st||!yt||!st[0]||!yt[0])return!rt.s||!R.s||st&&!st[0]&&!yt||yt&&!yt[0]&&!st?R.c=R.e=R.s=null:(R.s*=rt.s,!st||!yt?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(Z=E(rt.e/l)+E(R.e/l),R.s*=rt.s,Y=st.length,mt=yt.length,Y<mt&&(vt=st,st=yt,yt=vt,Q=Y,Y=mt,mt=Q),Q=Y+mt,vt=[];Q--;vt.push(0));for(pt=f,V=y,Q=mt;--Q>=0;){for(z=0,_t=yt[Q]%V,ht=yt[Q]/V|0,G=Y,K=Q+G;K>Q;)it=st[--G]%V,ot=st[G]/V|0,H=ht*it+ot*_t,it=_t*it+H%V*V+vt[K]+z,z=(it/pt|0)+(H/V|0)+ht*ot,vt[K--]=it%pt;vt[K]=z}return z?++Z:vt.splice(0,1),at(R,vt,Z)},q.negated=function(){var R=new X(this);return R.s=-R.s||null,R},q.plus=function(R,j){var z,Z=this,Q=Z.s;if(R=new X(R,j),j=R.s,!Q||!j)return new X(NaN);if(Q!=j)return R.s=-j,Z.minus(R);var K=Z.e/l,G=R.e/l,H=Z.c,Y=R.c;if(!K||!G){if(!H||!Y)return new X(Q/0);if(!H[0]||!Y[0])return Y[0]?R:new X(H[0]?Z:Q*0)}if(K=E(K),G=E(G),H=H.slice(),Q=K-G){for(Q>0?(G=K,z=Y):(Q=-Q,z=H),z.reverse();Q--;z.push(0));z.reverse()}for(Q=H.length,j=Y.length,Q-j<0&&(z=Y,Y=H,H=z,j=Q),Q=0;j;)Q=(H[--j]=H[j]+Y[j]+Q)/f|0,H[j]=f===H[j]?0:H[j]%f;return Q&&(H=[Q].concat(H),++G),at(R,H,G)},q.precision=q.sd=function(R,j){var z,Z,Q,K=this;if(R!=null&&R!==!!R)return C(R,1,m),j==null?j=n:C(j,0,8),$(new X(K),R,j);if(!(z=K.c))return null;if(Q=z.length-1,Z=Q*l+1,Q=z[Q]){for(;Q%10==0;Q/=10,Z--);for(Q=z[0];Q>=10;Q/=10,Z++);}return R&&K.e+1>Z&&(Z=K.e+1),Z},q.shiftedBy=function(R){return C(R,-p,p),this.times("1e"+R)},q.squareRoot=q.sqrt=function(){var R,j,z,Z,Q,K=this,G=K.c,H=K.s,Y=K.e,it=L+4,ot=new X("0.5");if(H!==1||!G||!G[0])return new X(!H||H<0&&(!G||G[0])?NaN:G?K:1/0);if(H=Math.sqrt(+J(K)),H==0||H==1/0?(j=B(G),(j.length+Y)%2==0&&(j+="0"),H=Math.sqrt(+j),Y=E((Y+1)/2)-(Y<0||Y%2),H==1/0?j="5e"+Y:(j=H.toExponential(),j=j.slice(0,j.indexOf("e")+1)+Y),z=new X(j)):z=new X(H+""),z.c[0]){for(Y=z.e,H=Y+it,H<3&&(H=0);;)if(Q=z,z=ot.times(Q.plus(P(K,Q,it,1))),B(Q.c).slice(0,H)===(j=B(z.c)).slice(0,H))if(z.e<Y&&--H,j=j.slice(H-3,H+1),j=="9999"||!Z&&j=="4999"){if(!Z&&($(Q,Q.e+L+2,0),Q.times(Q).eq(K))){z=Q;break}it+=4,H+=4,Z=1}else{(!+j||!+j.slice(1)&&j.charAt(0)=="5")&&($(z,z.e+L+2,1),R=!z.times(z).eq(K));break}}return $(z,z.e+L+1,n,R)},q.toExponential=function(R,j){return R!=null&&(C(R,0,m),R++),ft(this,R,j,1)},q.toFixed=function(R,j){return R!=null&&(C(R,0,m),R=R+this.e+1),ft(this,R,j)},q.toFormat=function(R,j,z){var Z,Q=this;if(z==null)R!=null&&j&&typeof j=="object"?(z=j,j=null):R&&typeof R=="object"?(z=R,R=j=null):z=h;else if(typeof z!="object")throw Error(o+"Argument not an object: "+z);if(Z=Q.toFixed(R,j),Q.c){var K,G=Z.split("."),H=+z.groupSize,Y=+z.secondaryGroupSize,it=z.groupSeparator||"",ot=G[0],mt=G[1],_t=Q.s<0,ht=_t?ot.slice(1):ot,vt=ht.length;if(Y&&(K=H,H=Y,Y=K,vt-=K),H>0&&vt>0){for(K=vt%H||H,ot=ht.substr(0,K);K<vt;K+=H)ot+=it+ht.substr(K,H);Y>0&&(ot+=it+ht.slice(K)),_t&&(ot="-"+ot)}Z=mt?ot+(z.decimalSeparator||"")+((Y=+z.fractionGroupSize)?mt.replace(new RegExp("\\d{"+Y+"}\\B","g"),"$&"+(z.fractionGroupSeparator||"")):mt):ot}return(z.prefix||"")+Z+(z.suffix||"")},q.toFraction=function(R){var j,z,Z,Q,K,G,H,Y,it,ot,mt,_t,ht=this,vt=ht.c;if(R!=null&&(H=new X(R),!H.isInteger()&&(H.c||H.s!==1)||H.lt(O)))throw Error(o+"Argument "+(H.isInteger()?"out of range: ":"not an integer: ")+J(H));if(!vt)return new X(ht);for(j=new X(O),it=z=new X(O),Z=Y=new X(O),_t=B(vt),K=j.e=_t.length-ht.e-1,j.c[0]=g[(G=K%l)<0?l+G:G],R=!R||H.comparedTo(j)>0?K>0?j:it:H,G=T,T=1/0,H=new X(_t),Y.c[0]=0;ot=P(H,j,0,1),Q=z.plus(ot.times(Z)),Q.comparedTo(R)!=1;)z=Z,Z=Q,it=Y.plus(ot.times(Q=it)),Y=Q,j=H.minus(ot.times(Q=j)),H=Q;return Q=P(R.minus(z),Z,0,1),Y=Y.plus(Q.times(it)),z=z.plus(Q.times(Z)),Y.s=it.s=ht.s,K=K*2,mt=P(it,Z,K,n).minus(ht).abs().comparedTo(P(Y,z,K,n).minus(ht).abs())<1?[it,Z]:[Y,z],T=G,mt},q.toNumber=function(){return+J(this)},q.toPrecision=function(R,j){return R!=null&&C(R,1,m),ft(this,R,j,2)},q.toString=function(R){var j,z=this,Z=z.s,Q=z.e;return Q===null?Z?(j="Infinity",Z<0&&(j="-"+j)):j="NaN":(R==null?j=Q<=d||Q>=v?F(B(z.c),Q):I(B(z.c),Q,"0"):R===10&&tt?(z=$(new X(z),L+Q+1,n),j=I(B(z.c),z.e,"0")):(C(R,2,k.length,"Base"),j=D(I(B(z.c),Q,"0"),10,R,Z,!0)),Z<0&&z.c[0]&&(j="-"+j)),j},q.valueOf=q.toJSON=function(){return J(this)},q._isBigNumber=!0,U!=null&&X.set(U),X}function E(U){var P=U|0;return U>0||U===P?P:P-1}function B(U){for(var P,D,W=1,q=U.length,O=U[0]+"";W<q;){for(P=U[W++]+"",D=l-P.length;D--;P="0"+P);O+=P}for(q=O.length;O.charCodeAt(--q)===48;);return O.slice(0,q+1||1)}function x(U,P){var D,W,q=U.c,O=P.c,L=U.s,n=P.s,d=U.e,v=P.e;if(!L||!n)return null;if(D=q&&!q[0],W=O&&!O[0],D||W)return D?W?0:-n:L;if(L!=n)return L;if(D=L<0,W=d==v,!q||!O)return W?0:!q^D?1:-1;if(!W)return d>v^D?1:-1;for(n=(d=q.length)<(v=O.length)?d:v,L=0;L<n;L++)if(q[L]!=O[L])return q[L]>O[L]^D?1:-1;return d==v?0:d>v^D?1:-1}function C(U,P,D,W){if(U<P||U>D||U!==e(U))throw Error(o+(W||"Argument")+(typeof U=="number"?U<P||U>D?" out of range: ":" not an integer: ":" not a primitive number: ")+String(U))}function N(U){var P=U.c.length-1;return E(U.e/l)==P&&U.c[P]%2!=0}function F(U,P){return(U.length>1?U.charAt(0)+"."+U.slice(1):U)+(P<0?"e":"e+")+P}function I(U,P,D){var W,q;if(P<0){for(q=D+".";++P;q+=D);U=q+U}else if(W=U.length,++P>W){for(q=D,P-=W;--P;q+=D);U+=q}else P<W&&(U=U.slice(0,P)+"."+U.slice(P));return U}u=M(),u.default=u.BigNumber=u,typeof define=="function"&&define.amd?define(function(){return u}):typeof i<"u"&&i.exports?i.exports=u:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=u)}(t)}),va=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerExecutorFactory=t.NonWhitelistedSourceError=t.ContractError=void 0;var i=zf(),r=pu(),u=fn(),a=or(),s=wa(),e=Wf(),o=qf(),c=Er(),f=Jn(),l=Vp(),p=class extends Error{constructor(E,B){super(E.toString()),this.error=E,this.subtype=B,this.name=s.KnownErrors.ContractError}};t.ContractError=p;var g=class extends Error{constructor(E){super(E.toString()),this.error=E,this.name=s.KnownErrors.NonWhitelistedSourceError}};t.NonWhitelistedSourceError=g;var y=class{constructor(E){this.arweave=E,this.logger=a.LoggerFactory.INST.create("HandlerExecutorFactory")}async create(E,B,x,C){if(x.hasPlugin("contract-blacklist")&&await this.blacklistContracts(x,E),B.whitelistSources.length>0&&!B.whitelistSources.includes(E.srcTxId))throw new g(`[NonWhitelistedSourceError] Contract source not part of whitelisted sources list: ${E.srcTxId}.`);let N=null;B.useKVStorage&&(N=x.kvStorageFactory(E.txId));let F=new r.SmartWeaveGlobal(this.arweave,{id:E.txId,owner:E.owner},B,C,N);if(x.matchPlugins("^smartweave-extension-").forEach(I=>{x.loadPlugin(I).process(F.extensions)}),E.contractType=="wasm"){this.logger.info("Creating handler for wasm contract",E.txId);let I=u.Benchmark.measure(),U,P=null,D=m(E.srcBinary);switch(E.srcWasmLang){case"rust":{let W={exports:null,modifiedExports:{wasm_bindgen__convert__closures__invoke2_mut__:null,_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__:null}},q=await M(D,E.srcBinary),O=WebAssembly.Module.exports(q).filter(v=>v.kind==="global"&&v.name.startsWith("__WARP_CONTRACTS_VERSION_")).map(v=>v.name).shift()||"__WARP_CONTRACTS_VERSION_LEGACY",L=WebAssembly.Module.imports(q).filter(v=>v.module==="__wbindgen_placeholder__").map(v=>v.name),{imports:n,exports:d}=(0,i.rustWasmImports)(F,L,W,E.metadata.dtor,O);P=d,U=await WebAssembly.instantiate(q,n),W.exports=U.exports,Object.keys(U.exports).forEach(v=>{v.startsWith("wasm_bindgen__convert__closures__invoke2_mut__")&&(W.modifiedExports.wasm_bindgen__convert__closures__invoke2_mut__=U.exports[v]),v.startsWith("_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__")&&(W.modifiedExports._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__=U.exports[v])});break}default:throw new Error(`Support for ${E.srcWasmLang} not implemented yet.`)}return this.logger.info(`WASM ${E.srcWasmLang} handler created in ${I.elapsed()}`),new e.WasmHandlerApi(F,E,P||U.exports)}else{let I=(0,o.normalizeContractSource)(E.src,x.hasPlugin("vm2"));if(I.includes("unsafeClient"))switch(B.unsafeClient){case"allow":{this.logger.warn(`Reading unsafe contract ${E.txId}, evaluation is non-deterministic!`);break}case"throw":throw new Error(`[SkipUnsafeError] Using unsafeClient is not allowed by default. Use EvaluationOptions.unsafeClient flag to evaluate ${E.txId}.`);case"skip":throw new p(`[SkipUnsafeError] Skipping evaluation of the unsafe contract ${E.txId}.`,"unsafeClientSkip");default:throw new Error(`Unknown unsafeClient setting ${B.unsafeClient}`)}if(!B.allowBigInt&&I.includes("BigInt"))throw new Error("Using BigInt is not allowed by default. Use EvaluationOptions.allowBigInt flag.");if(x.hasPlugin("vm2"))return x.loadPlugin("vm2").process({normalizedSource:I,swGlobal:F,logger:this.logger,contractDefinition:E});if(x.hasPlugin("ivm-handler-api"))return x.loadPlugin("ivm-handler-api").process({contractSource:E.src,evaluationOptions:B,arweave:this.arweave,swGlobal:F,contractDefinition:E});{let U=new Function(I),P=(0,c.isBrowser)()?U(F,l,a.LoggerFactory.INST.create(F.contract.id),f.Buffer,atob,btoa):U(F,l,a.LoggerFactory.INST.create(F.contract.id));return new s.JsHandlerApi(F,E,P)}}}async blacklistContracts(E,B){let x=E.loadPlugin("contract-blacklist"),C=!1;try{C=await x.process(B.txId)}catch(N){this.logger.error(N)}if(C==!0)throw new p(`[SkipUnsafeError] Skipping evaluation of the blacklisted contract ${B.txId}.`,"blacklistedSkip")}};t.HandlerExecutorFactory=y;function m(E){let B={status:200,statusText:"OK",headers:{"Content-Type":"application/wasm"}};return new Response(E,B)}async function M(E,B){return WebAssembly.compileStreaming?await WebAssembly.compileStreaming(E):await WebAssembly.compile(B)}}),$f=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToHex=void 0;function i(r){let u="";for(let a of r)u+=("0"+a.toString(16)).slice(-2);return u}t.arrayToHex=i}),Li=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.LexicographicalInteractionsSorter=t.lastPossibleSortKey=t.genesisSortKey=t.sortingLast=t.sortingFirst=t.defaultArweaveMs=void 0;var i=$f(),r=or(),u="".padEnd(13,"0"),a="".padEnd(13,"9");t.defaultArweaveMs="".padEnd(13,"0"),t.sortingFirst="".padEnd(64,"0"),t.sortingLast="".padEnd(64,"z"),t.genesisSortKey=`${"".padStart(12,"0")},${u},${t.sortingFirst}`,t.lastPossibleSortKey=`${"".padStart(12,"9")},${a},${t.sortingLast}`;var s=class{constructor(e){this.arweave=e,this.logger=r.LoggerFactory.INST.create("LexicographicalInteractionsSorter")}async sort(e){let o=[...e],c=o.map(f=>this.addSortKey(f));return await Promise.all(c),o.sort((f,l)=>f.node.sortKey.localeCompare(l.node.sortKey))}async createSortKey(e,o,c,f=!1){let l=this.arweave.utils.b64UrlToBuffer(e),p=this.arweave.utils.b64UrlToBuffer(o),g=this.arweave.utils.concatBuffers([l,p]),y=(0,i.arrayToHex)(await this.arweave.crypto.hash(g)),m=`${c}`.padStart(12,"0"),M=f?a:t.defaultArweaveMs;return`${m},${M},${y}`}extractBlockHeight(e){return e?parseInt(e.split(",")[0]):null}async addSortKey(e){let{node:o}=e,c=e.node.sortKey;c?(e.node.sortKey=c,this.logger.debug("Using sortKey from sequencer",e.node.sortKey)):e.node.sortKey=await this.createSortKey(o.block.id,o.id,o.block.height)}generateLastSortKey(e){return`${`${e}`.padStart(12,"0")},${a},${t.sortingLast}`}};t.LexicographicalInteractionsSorter=s}),wa=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.JsHandlerApi=t.KnownErrors=void 0;var i=pu(),r=Er(),u=va(),a=Li(),s=gu(),e="__init",o=(l,p)=>{let g=new Error(p);throw g.name=l,g},c;(function(l){l.ContractError="ContractError",l.ConstructorError="ConstructorError",l.NetworkCommunicationError="NetworkCommunicationError",l.NonWhitelistedSourceError="NonWhitelistedSourceError"})(c=t.KnownErrors||(t.KnownErrors={}));var f=class extends s.AbstractContractHandler{constructor(l,p,g){super(l,p),this.contractFunction=g}async handle(l,p,g){let{interaction:y,interactionTx:m}=g;return this.setupSwGlobal(g),this.enableInternalWrites(l,m),this.assertNotConstructorCall(y),await this.runContractFunction(l,y,p.state)}initState(l){}async maybeCallStateConstructor(l,p){var g,y;if(!((y=(g=this.contractDefinition.manifest)===null||g===void 0?void 0:g.evaluationOptions)===null||y===void 0)&&y.useConstructor){let m={input:{function:e,args:l},caller:this.contractDefinition.owner,interactionType:"write"},M={owner:{address:p.caller,key:null},sortKey:a.genesisSortKey},E={interaction:m,interactionTx:M};this.setupSwGlobal(E);let B=this.configureSwGlobalForConstructor(),x=await this.runContractFunction(p,m,{});if(B(),x.type!=="ok")throw p.contract.isRoot()?new Error(`ConstructorError: ${x.errorMessage}`):new u.ContractError(`ConstructorError [${p.contract.txId()}]: ${x.errorMessage}`,"constructor");return x.state}else return l}assertNotConstructorCall(l){var p,g;if(!((g=(p=this.contractDefinition.manifest)===null||p===void 0?void 0:p.evaluationOptions)===null||g===void 0)&&g.useConstructor&&l.input.function===e)throw new Error(`You have enabled {useConstructor: true} option, so you can't call function ${e}`)}configureSwGlobalForConstructor(){let l=m=>({get:(M,E)=>o("ConstructorError",`SmartWeave.${m}.${String(E)} is not accessible in constructor context`)});this.swGlobal.contracts.readContractState=()=>o("ConstructorError","Internal writes feature is not available in constructor"),this.swGlobal.contracts.viewContractState=()=>o("ConstructorError","Internal writes feature is not available in constructor"),this.swGlobal.contracts.refreshState=()=>o("ConstructorError","Internal writes feature is not available in constructor"),this.swGlobal.contracts.write=()=>o("ConstructorError","Internal writes feature is not available in constructor");let p=new i.SWBlock(this.swGlobal);this.swGlobal.block=new Proxy(this.swGlobal.block,l("block"));let g=new i.SWVrf(this.swGlobal);this.swGlobal.vrf=new Proxy(this.swGlobal.vrf,l("vrf"));let y=new i.SWTransaction(this.swGlobal);return this.swGlobal.transaction=new Proxy(this.swGlobal.vrf,l("transaction")),()=>{this.swGlobal.block=p,this.swGlobal.vrf=g,this.swGlobal.transaction=y}}async runContractFunction(l,p,g){let y=(0,r.deepCopy)(g),{timeoutId:m,timeoutPromise:M}=(0,r.timeout)(l.evaluationOptions.maxInteractionEvaluationTimeSeconds);try{await this.swGlobal.kv.open(),await this.swGlobal.kv.begin();let E=await Promise.race([M,this.contractFunction(y,p)]);if(E&&(E.state!==void 0||E.result!==void 0)){await this.swGlobal.kv.commit();let B=null;return E.event&&(B={contractTxId:this.swGlobal.contract.id,sortKey:this.swGlobal.transaction.sortKey,transactionId:this.swGlobal.transaction.id,caller:p.caller,input:p.input,blockTimestamp:this.swGlobal.block.timestamp,blockHeight:this.swGlobal.block.height,data:E.event}),{type:"ok",result:E.result,state:E.state||y,event:B}}throw new Error(`Unexpected result from contract: ${JSON.stringify(E)}`)}catch(E){switch(await this.swGlobal.kv.rollback(),E.name){case c.ContractError:return{type:"error",errorMessage:E.message,state:g,result:null,event:null};case c.ConstructorError:throw l.contract.isRoot()?Error(`ConstructorError: ${E.message}`):new u.ContractError(`ConstructorError [${l.contract.txId()}]: ${E.message}`,"constructor");case c.NetworkCommunicationError:throw E;case c.NonWhitelistedSourceError:return{type:"error",errorMessage:E.message,state:g,result:null,event:null};default:return{type:"exception",errorMessage:`${E&&E.stack||E&&E.message||E}`,state:g,result:null,event:null}}}finally{m&&clearTimeout(m),await this.swGlobal.kv.close()}}setupSwGlobal({interaction:l,interactionTx:p}){this.swGlobal._activeTx=p,this.swGlobal.caller=l.caller}enableInternalWrites(l,p){this.assignReadContractState(l,p),this.assignViewContractState(l),this.assignWrite(l),this.assignRefreshState(l)}};t.JsHandlerApi=f}),Er=gt(t=>{lt();var i=t&&t.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(t,"__esModule",{value:!0}),t.safeGet=t.getJsonResponse=t.NetworkCommunicationError=t.isBrowser=t.bufToBn=t.indent=t.stripTrailingSlash=t.timeout=t.descS=t.desc=t.ascS=t.asc=t.mapReviver=t.mapReplacer=t.deepCopy=t.safeParseInt=t.sleep=void 0;var r=i(Gp()),u=wa(),a=N=>new Promise(F=>setTimeout(F,N));t.sleep=a;var s=N=>{let F=Number.parseInt(N);if(Number.isNaN(F)&&!Number.isSafeInteger(F))throw Error(`Failed to cast ${N} to integer`);return F};t.safeParseInt=s;var e=N=>(0,r.default)(N);t.deepCopy=e;var o=(N,F)=>F instanceof Map?{dataType:"Map",value:Array.from(F.entries())}:F;t.mapReplacer=o;var c=(N,F)=>typeof F=="object"&&F!==null&&F.dataType==="Map"?new Map(F.value):F;t.mapReviver=c;var f=(N,F)=>N-F;t.asc=f;var l=(N,F)=>+N-+F;t.ascS=l;var p=(N,F)=>F-N;t.desc=p;var g=(N,F)=>+F-+N;t.descS=g;function y(N){let F=null,I=new Promise((U,P)=>{F=setTimeout(()=>{clearTimeout(F),P("timeout")},N*1e3)});return{timeoutId:F,timeoutPromise:I}}t.timeout=y;function m(N){return N.endsWith("/")?N.slice(0,-1):N}t.stripTrailingSlash=m;function M(N){return`[d:${N}]`.padEnd(N*2,"-").concat("> ")}t.indent=M;function E(N){let F=[];return Uint8Array.from(N).forEach(function(I){let U=I.toString(16);U.length%2&&(U="0"+U),F.push(U)}),BigInt("0x"+F.join(""))}t.bufToBn=E,t.isBrowser=new Function("try {return this===window;}catch(e){ return false;}");var B=class extends Error{constructor(N){super(N.toString()),this.error=N,this.name=u.KnownErrors.NetworkCommunicationError}};t.NetworkCommunicationError=B;async function x(N){let F;try{F=await N}catch(I){throw new B(`Error during network communication: ${JSON.stringify(I)}`)}if(!(F!=null&&F.ok)){let I=await F.text();throw new B(`Wrong response code: ${F.status}. ${I}`)}try{return await F.json()}catch(I){throw new B(`Error while parsing json response: ${JSON.stringify(I)}`)}}t.getJsonResponse=x;async function C(N,F){return x(fetch(N,F))}t.safeGet=C}),No=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.WarpGatewayInteractionsLoader=t.SourceType=void 0;var i=fn(),r=or();Jn();var u=Er(),a;(function(e){e.ARWEAVE="arweave",e.WARP_SEQUENCER="redstone-sequencer",e.BOTH="both"})(a=t.SourceType||(t.SourceType={}));var s=class{constructor(e=null,o=a.BOTH){this.confirmationStatus=e,this.source=o,this.logger=r.LoggerFactory.INST.create("WarpGatewayInteractionsLoader"),Object.assign(this,e),this.source=o}async load(e,o,c,f){this.logger.debug("Loading interactions: for ",{contractId:e,fromSortKey:o,toSortKey:c});let l=[],p=0,g=0,y=0,m=f?f.sourceType:this.source,M=i.Benchmark.measure(),E=(0,u.stripTrailingSlash)(this._warp.gwUrl());do{let B=i.Benchmark.measure(),x=`${E}/gateway/v2/interactions-sort-key`,C=await(0,u.getJsonResponse)(fetch(`${x}?${new URLSearchParams({contractId:e,...this._warp.whoAmI?{client:this._warp.whoAmI}:"",...o?{from:o}:"",...c?{to:c}:"",page:(++p).toString(),fromSdk:"true",...this.confirmationStatus&&this.confirmationStatus.confirmed?{confirmationStatus:"confirmed"}:"",...this.confirmationStatus&&this.confirmationStatus.notCorrupted?{confirmationStatus:"not_corrupted"}:"",...m==a.BOTH?"":{source:m}})}`));this.logger.debug(`Loading interactions: page ${p} loaded in ${B.elapsed()}`),l.push(...C.interactions),g=C.paging.limit,y=C.paging.items,this.logger.debug(`Loaded interactions length: ${l.length}, from: ${o}, to: ${c}`)}while(y==g);return this.logger.debug("All loaded interactions:",{from:o,to:c,loaded:l.length,time:M.elapsed()}),l}type(){return"warp"}clearCache(){}set warp(e){this._warp=e}};t.WarpGatewayInteractionsLoader=s}),Lo=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionCompleteEvent=t.CustomEvent=t.DefaultEvaluationOptions=t.EvalStateResult=void 0;var i=No(),r=class{constructor(e,o,c){this.state=e,this.validity=o,this.errorMessages=c}};t.EvalStateResult=r;var u=class{constructor(){this.ignoreExceptions=!0,this.waitForConfirmation=!1,this.updateCacheForEachInteraction=!1,this.internalWrites=!1,this.maxCallDepth=7,this.maxInteractionEvaluationTimeSeconds=60,this.stackTrace={saveState:!1},this.sequencerUrl="https://d1o5nlqr4okus2.cloudfront.net/",this.gasLimit=Number.MAX_SAFE_INTEGER,this.sourceType=i.SourceType.BOTH,this.unsafeClient="throw",this.allowBigInt=!1,this.walletBalanceUrl="http://nyc-1.dev.arweave.net:1984/",this.mineArLocalBlocks=!0,this.throwOnInternalWriteError=!0,this.cacheEveryNInteractions=-1,this.useKVStorage=!1,this.remoteStateSyncEnabled=!1,this.remoteStateSyncSource="https://dre-1.warp.cc/contract",this.useConstructor=!1,this.whitelistSources=[]}};t.DefaultEvaluationOptions=u;var a=class extends Event{constructor(e,o){super(e,o),this.detail=o.detail}};t.CustomEvent=a;var s=class{constructor(e,o,c,f,l,p,g,y){this.contractTxId=e,this.sortKey=o,this.transactionId=c,this.caller=f,this.input=l,this.blockTimestamp=p,this.blockHeight=g,this.data=y}};t.InteractionCompleteEvent=s}),Do=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ContractCache=t.SrcCache=t.ContractMetadata=t.SUPPORTED_SRC_CONTENT_TYPES=void 0,t.SUPPORTED_SRC_CONTENT_TYPES=["application/javascript","application/wasm"];var i=class{};t.ContractMetadata=i;var r=class{constructor(a){this.src=a.src,this.srcBinary=a.srcBinary,this.srcWasmLang=a.srcWasmLang}};t.SrcCache=r;var u=class{constructor(a){this.txId=a.txId,this.srcTxId=a.srcTxId,this.initState=a.initState,this.manifest=a.manifest,this.minFee=a.minFee,this.owner=a.owner,this.contractType=a.contractType,this.metadata=a.metadata,this.contractTx=a.contractTx,this.srcTx=a.srcTx,this.testnet=a.testnet}};t.ContractCache=u}),_n=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.WARP_TAGS=t.SMART_WEAVE_TAGS=void 0,t.SMART_WEAVE_TAGS={APP_NAME:"App-Name",APP_VERSION:"App-Version",CONTRACT_TX_ID:"Contract",INPUT:"Input",CONTENT_TYPE:"Content-Type",CONTRACT_SRC_TX_ID:"Contract-Src",SDK:"SDK",MIN_FEE:"Min-Fee"},t.WARP_TAGS={SEQUENCER:"Sequencer",SEQUENCER_OWNER:"Sequencer-Owner",SEQUENCER_MILLIS:"Sequencer-Mills",SEQUENCER_SORT_KEY:"Sequencer-Sort-Key",SEQUENCER_PREV_SORT_KEY:"Sequencer-Prev-Sort-Key",SEQUENCER_LAST_SORT_KEY:"Sequencer-Last-Sort-Key",SEQUENCER_TX_ID:"Sequencer-Tx-Id",SEQUENCER_BLOCK_HEIGHT:"Sequencer-Block-Height",SEQUENCER_BLOCK_ID:"Sequencer-Block-Id",SEQUENCER_BLOCK_TIMESTAMP:"Sequencer-Block-Timestamp",INIT_STATE:"Init-State",INIT_STATE_TX:"Init-State-TX",INTERACT_WRITE:"Interact-Write",WASM_LANG:"Wasm-Lang",WASM_LANG_VERSION:"Wasm-Lang-Version",WASM_META:"Wasm-Meta",REQUEST_VRF:"Request-Vrf",SIGNATURE_TYPE:"Signature-Type",UPLOADER_TX_ID:"Uploader-Tx-Id",WARP_TESTNET:"Warp-Testnet",MANIFEST:"Contract-Manifest",NONCE:"Nonce"}}),Zp=gt((t,i)=>{lt(),function(r){var u,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,e=Math.floor,o="[BigNumber Error] ",c=o+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,p=9007199254740991,g=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,m=1e9;function M(U){var P,D,W,q=X.prototype={constructor:X,toString:null,valueOf:null},O=new X(1),L=20,n=4,d=-7,v=21,A=-1e7,T=1e7,S=!1,w=1,b=0,h={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",tt=!0;function X(R,j){var z,Z,Q,K,G,H,Y,it,ot=this;if(!(ot instanceof X))return new X(R,j);if(j==null){if(R&&R._isBigNumber===!0){ot.s=R.s,!R.c||R.e>T?ot.c=ot.e=null:R.e<A?ot.c=[ot.e=0]:(ot.e=R.e,ot.c=R.c.slice());return}if((H=typeof R=="number")&&R*0==0){if(ot.s=1/R<0?(R=-R,-1):1,R===~~R){for(K=0,G=R;G>=10;G/=10,K++);K>T?ot.c=ot.e=null:(ot.e=K,ot.c=[R]);return}it=String(R)}else{if(!a.test(it=String(R)))return W(ot,it,H);ot.s=it.charCodeAt(0)==45?(it=it.slice(1),-1):1}(K=it.indexOf("."))>-1&&(it=it.replace(".","")),(G=it.search(/e/i))>0?(K<0&&(K=G),K+=+it.slice(G+1),it=it.substring(0,G)):K<0&&(K=it.length)}else{if(C(j,2,k.length,"Base"),j==10&&tt)return ot=new X(R),$(ot,L+ot.e+1,n);if(it=String(R),H=typeof R=="number"){if(R*0!=0)return W(ot,it,H,j);if(ot.s=1/R<0?(it=it.slice(1),-1):1,X.DEBUG&&it.replace(/^0\.0*|\./,"").length>15)throw Error(c+R)}else ot.s=it.charCodeAt(0)===45?(it=it.slice(1),-1):1;for(z=k.slice(0,j),K=G=0,Y=it.length;G<Y;G++)if(z.indexOf(Z=it.charAt(G))<0){if(Z=="."){if(G>K){K=Y;continue}}else if(!Q&&(it==it.toUpperCase()&&(it=it.toLowerCase())||it==it.toLowerCase()&&(it=it.toUpperCase()))){Q=!0,G=-1,K=0;continue}return W(ot,String(R),H,j)}H=!1,it=D(it,j,10,ot.s),(K=it.indexOf("."))>-1?it=it.replace(".",""):K=it.length}for(G=0;it.charCodeAt(G)===48;G++);for(Y=it.length;it.charCodeAt(--Y)===48;);if(it=it.slice(G,++Y)){if(Y-=G,H&&X.DEBUG&&Y>15&&(R>p||R!==e(R)))throw Error(c+ot.s*R);if((K=K-G-1)>T)ot.c=ot.e=null;else if(K<A)ot.c=[ot.e=0];else{if(ot.e=K,ot.c=[],G=(K+1)%l,K<0&&(G+=l),G<Y){for(G&&ot.c.push(+it.slice(0,G)),Y-=l;G<Y;)ot.c.push(+it.slice(G,G+=l));G=l-(it=it.slice(G)).length}else G-=Y;for(;G--;it+="0");ot.c.push(+it)}}else ot.c=[ot.e=0]}X.clone=M,X.ROUND_UP=0,X.ROUND_DOWN=1,X.ROUND_CEIL=2,X.ROUND_FLOOR=3,X.ROUND_HALF_UP=4,X.ROUND_HALF_DOWN=5,X.ROUND_HALF_EVEN=6,X.ROUND_HALF_CEIL=7,X.ROUND_HALF_FLOOR=8,X.EUCLID=9,X.config=X.set=function(R){var j,z;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(j="DECIMAL_PLACES")&&(z=R[j],C(z,0,m,j),L=z),R.hasOwnProperty(j="ROUNDING_MODE")&&(z=R[j],C(z,0,8,j),n=z),R.hasOwnProperty(j="EXPONENTIAL_AT")&&(z=R[j],z&&z.pop?(C(z[0],-m,0,j),C(z[1],0,m,j),d=z[0],v=z[1]):(C(z,-m,m,j),d=-(v=z<0?-z:z))),R.hasOwnProperty(j="RANGE"))if(z=R[j],z&&z.pop)C(z[0],-m,-1,j),C(z[1],1,m,j),A=z[0],T=z[1];else if(C(z,-m,m,j),z)A=-(T=z<0?-z:z);else throw Error(o+j+" cannot be zero: "+z);if(R.hasOwnProperty(j="CRYPTO"))if(z=R[j],z===!!z)if(z)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))S=z;else throw S=!z,Error(o+"crypto unavailable");else S=z;else throw Error(o+j+" not true or false: "+z);if(R.hasOwnProperty(j="MODULO_MODE")&&(z=R[j],C(z,0,9,j),w=z),R.hasOwnProperty(j="POW_PRECISION")&&(z=R[j],C(z,0,m,j),b=z),R.hasOwnProperty(j="FORMAT"))if(z=R[j],typeof z=="object")h=z;else throw Error(o+j+" not an object: "+z);if(R.hasOwnProperty(j="ALPHABET"))if(z=R[j],typeof z=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(z))tt=z.slice(0,10)=="0123456789",k=z;else throw Error(o+j+" invalid: "+z)}else throw Error(o+"Object expected: "+R);return{DECIMAL_PLACES:L,ROUNDING_MODE:n,EXPONENTIAL_AT:[d,v],RANGE:[A,T],CRYPTO:S,MODULO_MODE:w,POW_PRECISION:b,FORMAT:h,ALPHABET:k}},X.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!X.DEBUG)return!0;var j,z,Z=R.c,Q=R.e,K=R.s;t:if({}.toString.call(Z)=="[object Array]"){if((K===1||K===-1)&&Q>=-m&&Q<=m&&Q===e(Q)){if(Z[0]===0){if(Q===0&&Z.length===1)return!0;break t}if(j=(Q+1)%l,j<1&&(j+=l),String(Z[0]).length==j){for(j=0;j<Z.length;j++)if(z=Z[j],z<0||z>=f||z!==e(z))break t;if(z!==0)return!0}}}else if(Z===null&&Q===null&&(K===null||K===1||K===-1))return!0;throw Error(o+"Invalid BigNumber: "+R)},X.maximum=X.max=function(){return et(arguments,-1)},X.minimum=X.min=function(){return et(arguments,1)},X.random=function(){var R=9007199254740992,j=Math.random()*R&2097151?function(){return e(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(z){var Z,Q,K,G,H,Y=0,it=[],ot=new X(O);if(z==null?z=L:C(z,0,m),G=s(z/l),S)if(crypto.getRandomValues){for(Z=crypto.getRandomValues(new Uint32Array(G*=2));Y<G;)H=Z[Y]*131072+(Z[Y+1]>>>11),H>=9e15?(Q=crypto.getRandomValues(new Uint32Array(2)),Z[Y]=Q[0],Z[Y+1]=Q[1]):(it.push(H%1e14),Y+=2);Y=G/2}else if(crypto.randomBytes){for(Z=crypto.randomBytes(G*=7);Y<G;)H=(Z[Y]&31)*281474976710656+Z[Y+1]*1099511627776+Z[Y+2]*4294967296+Z[Y+3]*16777216+(Z[Y+4]<<16)+(Z[Y+5]<<8)+Z[Y+6],H>=9e15?crypto.randomBytes(7).copy(Z,Y):(it.push(H%1e14),Y+=7);Y=G/7}else throw S=!1,Error(o+"crypto unavailable");if(!S)for(;Y<G;)H=j(),H<9e15&&(it[Y++]=H%1e14);for(G=it[--Y],z%=l,G&&z&&(H=g[l-z],it[Y]=e(G/H)*H);it[Y]===0;it.pop(),Y--);if(Y<0)it=[K=0];else{for(K=-1;it[0]===0;it.splice(0,1),K-=l);for(Y=1,H=it[0];H>=10;H/=10,Y++);Y<l&&(K-=l-Y)}return ot.e=K,ot.c=it,ot}}(),X.sum=function(){for(var R=1,j=arguments,z=new X(j[0]);R<j.length;)z=z.plus(j[R++]);return z},D=function(){var R="0123456789";function j(z,Z,Q,K){for(var G,H=[0],Y,it=0,ot=z.length;it<ot;){for(Y=H.length;Y--;H[Y]*=Z);for(H[0]+=K.indexOf(z.charAt(it++)),G=0;G<H.length;G++)H[G]>Q-1&&(H[G+1]==null&&(H[G+1]=0),H[G+1]+=H[G]/Q|0,H[G]%=Q)}return H.reverse()}return function(z,Z,Q,K,G){var H,Y,it,ot,mt,_t,ht,vt,pt=z.indexOf("."),V=L,rt=n;for(pt>=0&&(ot=b,b=0,z=z.replace(".",""),vt=new X(Z),_t=vt.pow(z.length-pt),b=ot,vt.c=j(I(B(_t.c),_t.e,"0"),10,Q,R),vt.e=vt.c.length),ht=j(z,Z,Q,G?(H=k,R):(H=R,k)),it=ot=ht.length;ht[--ot]==0;ht.pop());if(!ht[0])return H.charAt(0);if(pt<0?--it:(_t.c=ht,_t.e=it,_t.s=K,_t=P(_t,vt,V,rt,Q),ht=_t.c,mt=_t.r,it=_t.e),Y=it+V+1,pt=ht[Y],ot=Q/2,mt=mt||Y<0||ht[Y+1]!=null,mt=rt<4?(pt!=null||mt)&&(rt==0||rt==(_t.s<0?3:2)):pt>ot||pt==ot&&(rt==4||mt||rt==6&&ht[Y-1]&1||rt==(_t.s<0?8:7)),Y<1||!ht[0])z=mt?I(H.charAt(1),-V,H.charAt(0)):H.charAt(0);else{if(ht.length=Y,mt)for(--Q;++ht[--Y]>Q;)ht[Y]=0,Y||(++it,ht=[1].concat(ht));for(ot=ht.length;!ht[--ot];);for(pt=0,z="";pt<=ot;z+=H.charAt(ht[pt++]));z=I(z,it,H.charAt(0))}return z}}(),P=function(){function R(Z,Q,K){var G,H,Y,it,ot=0,mt=Z.length,_t=Q%y,ht=Q/y|0;for(Z=Z.slice();mt--;)Y=Z[mt]%y,it=Z[mt]/y|0,G=ht*Y+it*_t,H=_t*Y+G%y*y+ot,ot=(H/K|0)+(G/y|0)+ht*it,Z[mt]=H%K;return ot&&(Z=[ot].concat(Z)),Z}function j(Z,Q,K,G){var H,Y;if(K!=G)Y=K>G?1:-1;else for(H=Y=0;H<K;H++)if(Z[H]!=Q[H]){Y=Z[H]>Q[H]?1:-1;break}return Y}function z(Z,Q,K,G){for(var H=0;K--;)Z[K]-=H,H=Z[K]<Q[K]?1:0,Z[K]=H*G+Z[K]-Q[K];for(;!Z[0]&&Z.length>1;Z.splice(0,1));}return function(Z,Q,K,G,H){var Y,it,ot,mt,_t,ht,vt,pt,V,rt,st,yt,Ct,dt,Mt,Lt,wt,ct=Z.s==Q.s?1:-1,Et=Z.c,ut=Q.c;if(!Et||!Et[0]||!ut||!ut[0])return new X(!Z.s||!Q.s||(Et?ut&&Et[0]==ut[0]:!ut)?NaN:Et&&Et[0]==0||!ut?ct*0:ct/0);for(pt=new X(ct),V=pt.c=[],it=Z.e-Q.e,ct=K+it+1,H||(H=f,it=E(Z.e/l)-E(Q.e/l),ct=ct/l|0),ot=0;ut[ot]==(Et[ot]||0);ot++);if(ut[ot]>(Et[ot]||0)&&it--,ct<0)V.push(1),mt=!0;else{for(dt=Et.length,Lt=ut.length,ot=0,ct+=2,_t=e(H/(ut[0]+1)),_t>1&&(ut=R(ut,_t,H),Et=R(Et,_t,H),Lt=ut.length,dt=Et.length),Ct=Lt,rt=Et.slice(0,Lt),st=rt.length;st<Lt;rt[st++]=0);wt=ut.slice(),wt=[0].concat(wt),Mt=ut[0],ut[1]>=H/2&&Mt++;do{if(_t=0,Y=j(ut,rt,Lt,st),Y<0){if(yt=rt[0],Lt!=st&&(yt=yt*H+(rt[1]||0)),_t=e(yt/Mt),_t>1)for(_t>=H&&(_t=H-1),ht=R(ut,_t,H),vt=ht.length,st=rt.length;j(ht,rt,vt,st)==1;)_t--,z(ht,Lt<vt?wt:ut,vt,H),vt=ht.length,Y=1;else _t==0&&(Y=_t=1),ht=ut.slice(),vt=ht.length;if(vt<st&&(ht=[0].concat(ht)),z(rt,ht,st,H),st=rt.length,Y==-1)for(;j(ut,rt,Lt,st)<1;)_t++,z(rt,Lt<st?wt:ut,st,H),st=rt.length}else Y===0&&(_t++,rt=[0]);V[ot++]=_t,rt[0]?rt[st++]=Et[Ct]||0:(rt=[Et[Ct]],st=1)}while((Ct++<dt||rt[0]!=null)&&ct--);mt=rt[0]!=null,V[0]||V.splice(0,1)}if(H==f){for(ot=1,ct=V[0];ct>=10;ct/=10,ot++);$(pt,K+(pt.e=ot+it*l-1)+1,G,mt)}else pt.e=it,pt.r=+mt;return pt}}();function ft(R,j,z,Z){var Q,K,G,H,Y;if(z==null?z=n:C(z,0,8),!R.c)return R.toString();if(Q=R.c[0],G=R.e,j==null)Y=B(R.c),Y=Z==1||Z==2&&(G<=d||G>=v)?F(Y,G):I(Y,G,"0");else if(R=$(new X(R),j,z),K=R.e,Y=B(R.c),H=Y.length,Z==1||Z==2&&(j<=K||K<=d)){for(;H<j;Y+="0",H++);Y=F(Y,K)}else if(j-=G,Y=I(Y,K,"0"),K+1>H){if(--j>0)for(Y+=".";j--;Y+="0");}else if(j+=K-H,j>0)for(K+1==H&&(Y+=".");j--;Y+="0");return R.s<0&&Q?"-"+Y:Y}function et(R,j){for(var z,Z,Q=1,K=new X(R[0]);Q<R.length;Q++)Z=new X(R[Q]),(!Z.s||(z=x(K,Z))===j||z===0&&K.s===j)&&(K=Z);return K}function at(R,j,z){for(var Z=1,Q=j.length;!j[--Q];j.pop());for(Q=j[0];Q>=10;Q/=10,Z++);return(z=Z+z*l-1)>T?R.c=R.e=null:z<A?R.c=[R.e=0]:(R.e=z,R.c=j),R}W=function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,z=/^\.([^.]+)$/,Z=/^-?(Infinity|NaN)$/,Q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(K,G,H,Y){var it,ot=H?G:G.replace(Q,"");if(Z.test(ot))K.s=isNaN(ot)?null:ot<0?-1:1;else{if(!H&&(ot=ot.replace(R,function(mt,_t,ht){return it=(ht=ht.toLowerCase())=="x"?16:ht=="b"?2:8,!Y||Y==it?_t:mt}),Y&&(it=Y,ot=ot.replace(j,"$1").replace(z,"0.$1")),G!=ot))return new X(ot,it);if(X.DEBUG)throw Error(o+"Not a"+(Y?" base "+Y:"")+" number: "+G);K.s=null}K.c=K.e=null}}();function $(R,j,z,Z){var Q,K,G,H,Y,it,ot,mt=R.c,_t=g;if(mt){t:{for(Q=1,H=mt[0];H>=10;H/=10,Q++);if(K=j-Q,K<0)K+=l,G=j,Y=mt[it=0],ot=e(Y/_t[Q-G-1]%10);else if(it=s((K+1)/l),it>=mt.length)if(Z){for(;mt.length<=it;mt.push(0));Y=ot=0,Q=1,K%=l,G=K-l+1}else break t;else{for(Y=H=mt[it],Q=1;H>=10;H/=10,Q++);K%=l,G=K-l+Q,ot=G<0?0:e(Y/_t[Q-G-1]%10)}if(Z=Z||j<0||mt[it+1]!=null||(G<0?Y:Y%_t[Q-G-1]),Z=z<4?(ot||Z)&&(z==0||z==(R.s<0?3:2)):ot>5||ot==5&&(z==4||Z||z==6&&(K>0?G>0?Y/_t[Q-G]:0:mt[it-1])%10&1||z==(R.s<0?8:7)),j<1||!mt[0])return mt.length=0,Z?(j-=R.e+1,mt[0]=_t[(l-j%l)%l],R.e=-j||0):mt[0]=R.e=0,R;if(K==0?(mt.length=it,H=1,it--):(mt.length=it+1,H=_t[l-K],mt[it]=G>0?e(Y/_t[Q-G]%_t[G])*H:0),Z)for(;;)if(it==0){for(K=1,G=mt[0];G>=10;G/=10,K++);for(G=mt[0]+=H,H=1;G>=10;G/=10,H++);K!=H&&(R.e++,mt[0]==f&&(mt[0]=1));break}else{if(mt[it]+=H,mt[it]!=f)break;mt[it--]=0,H=1}for(K=mt.length;mt[--K]===0;mt.pop());}R.e>T?R.c=R.e=null:R.e<A&&(R.c=[R.e=0])}return R}function J(R){var j,z=R.e;return z===null?R.toString():(j=B(R.c),j=z<=d||z>=v?F(j,z):I(j,z,"0"),R.s<0?"-"+j:j)}return q.absoluteValue=q.abs=function(){var R=new X(this);return R.s<0&&(R.s=1),R},q.comparedTo=function(R,j){return x(this,new X(R,j))},q.decimalPlaces=q.dp=function(R,j){var z,Z,Q,K=this;if(R!=null)return C(R,0,m),j==null?j=n:C(j,0,8),$(new X(K),R+K.e+1,j);if(!(z=K.c))return null;if(Z=((Q=z.length-1)-E(this.e/l))*l,Q=z[Q])for(;Q%10==0;Q/=10,Z--);return Z<0&&(Z=0),Z},q.dividedBy=q.div=function(R,j){return P(this,new X(R,j),L,n)},q.dividedToIntegerBy=q.idiv=function(R,j){return P(this,new X(R,j),0,1)},q.exponentiatedBy=q.pow=function(R,j){var z,Z,Q,K,G,H,Y,it,ot,mt=this;if(R=new X(R),R.c&&!R.isInteger())throw Error(o+"Exponent not an integer: "+J(R));if(j!=null&&(j=new X(j)),H=R.e>14,!mt.c||!mt.c[0]||mt.c[0]==1&&!mt.e&&mt.c.length==1||!R.c||!R.c[0])return ot=new X(Math.pow(+J(mt),H?R.s*(2-N(R)):+J(R))),j?ot.mod(j):ot;if(Y=R.s<0,j){if(j.c?!j.c[0]:!j.s)return new X(NaN);Z=!Y&&mt.isInteger()&&j.isInteger(),Z&&(mt=mt.mod(j))}else{if(R.e>9&&(mt.e>0||mt.e<-1||(mt.e==0?mt.c[0]>1||H&&mt.c[1]>=24e7:mt.c[0]<8e13||H&&mt.c[0]<=9999975e7)))return K=mt.s<0&&N(R)?-0:0,mt.e>-1&&(K=1/K),new X(Y?1/K:K);b&&(K=s(b/l+2))}for(H?(z=new X(.5),Y&&(R.s=1),it=N(R)):(Q=Math.abs(+J(R)),it=Q%2),ot=new X(O);;){if(it){if(ot=ot.times(mt),!ot.c)break;K?ot.c.length>K&&(ot.c.length=K):Z&&(ot=ot.mod(j))}if(Q){if(Q=e(Q/2),Q===0)break;it=Q%2}else if(R=R.times(z),$(R,R.e+1,1),R.e>14)it=N(R);else{if(Q=+J(R),Q===0)break;it=Q%2}mt=mt.times(mt),K?mt.c&&mt.c.length>K&&(mt.c.length=K):Z&&(mt=mt.mod(j))}return Z?ot:(Y&&(ot=O.div(ot)),j?ot.mod(j):K?$(ot,b,n,G):ot)},q.integerValue=function(R){var j=new X(this);return R==null?R=n:C(R,0,8),$(j,j.e+1,R)},q.isEqualTo=q.eq=function(R,j){return x(this,new X(R,j))===0},q.isFinite=function(){return!!this.c},q.isGreaterThan=q.gt=function(R,j){return x(this,new X(R,j))>0},q.isGreaterThanOrEqualTo=q.gte=function(R,j){return(j=x(this,new X(R,j)))===1||j===0},q.isInteger=function(){return!!this.c&&E(this.e/l)>this.c.length-2},q.isLessThan=q.lt=function(R,j){return x(this,new X(R,j))<0},q.isLessThanOrEqualTo=q.lte=function(R,j){return(j=x(this,new X(R,j)))===-1||j===0},q.isNaN=function(){return!this.s},q.isNegative=function(){return this.s<0},q.isPositive=function(){return this.s>0},q.isZero=function(){return!!this.c&&this.c[0]==0},q.minus=function(R,j){var z,Z,Q,K,G=this,H=G.s;if(R=new X(R,j),j=R.s,!H||!j)return new X(NaN);if(H!=j)return R.s=-j,G.plus(R);var Y=G.e/l,it=R.e/l,ot=G.c,mt=R.c;if(!Y||!it){if(!ot||!mt)return ot?(R.s=-j,R):new X(mt?G:NaN);if(!ot[0]||!mt[0])return mt[0]?(R.s=-j,R):new X(ot[0]?G:n==3?-0:0)}if(Y=E(Y),it=E(it),ot=ot.slice(),H=Y-it){for((K=H<0)?(H=-H,Q=ot):(it=Y,Q=mt),Q.reverse(),j=H;j--;Q.push(0));Q.reverse()}else for(Z=(K=(H=ot.length)<(j=mt.length))?H:j,H=j=0;j<Z;j++)if(ot[j]!=mt[j]){K=ot[j]<mt[j];break}if(K&&(Q=ot,ot=mt,mt=Q,R.s=-R.s),j=(Z=mt.length)-(z=ot.length),j>0)for(;j--;ot[z++]=0);for(j=f-1;Z>H;){if(ot[--Z]<mt[Z]){for(z=Z;z&&!ot[--z];ot[z]=j);--ot[z],ot[Z]+=f}ot[Z]-=mt[Z]}for(;ot[0]==0;ot.splice(0,1),--it);return ot[0]?at(R,ot,it):(R.s=n==3?-1:1,R.c=[R.e=0],R)},q.modulo=q.mod=function(R,j){var z,Z,Q=this;return R=new X(R,j),!Q.c||!R.s||R.c&&!R.c[0]?new X(NaN):!R.c||Q.c&&!Q.c[0]?new X(Q):(w==9?(Z=R.s,R.s=1,z=P(Q,R,0,3),R.s=Z,z.s*=Z):z=P(Q,R,0,w),R=Q.minus(z.times(R)),!R.c[0]&&w==1&&(R.s=Q.s),R)},q.multipliedBy=q.times=function(R,j){var z,Z,Q,K,G,H,Y,it,ot,mt,_t,ht,vt,pt,V,rt=this,st=rt.c,yt=(R=new X(R,j)).c;if(!st||!yt||!st[0]||!yt[0])return!rt.s||!R.s||st&&!st[0]&&!yt||yt&&!yt[0]&&!st?R.c=R.e=R.s=null:(R.s*=rt.s,!st||!yt?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(Z=E(rt.e/l)+E(R.e/l),R.s*=rt.s,Y=st.length,mt=yt.length,Y<mt&&(vt=st,st=yt,yt=vt,Q=Y,Y=mt,mt=Q),Q=Y+mt,vt=[];Q--;vt.push(0));for(pt=f,V=y,Q=mt;--Q>=0;){for(z=0,_t=yt[Q]%V,ht=yt[Q]/V|0,G=Y,K=Q+G;K>Q;)it=st[--G]%V,ot=st[G]/V|0,H=ht*it+ot*_t,it=_t*it+H%V*V+vt[K]+z,z=(it/pt|0)+(H/V|0)+ht*ot,vt[K--]=it%pt;vt[K]=z}return z?++Z:vt.splice(0,1),at(R,vt,Z)},q.negated=function(){var R=new X(this);return R.s=-R.s||null,R},q.plus=function(R,j){var z,Z=this,Q=Z.s;if(R=new X(R,j),j=R.s,!Q||!j)return new X(NaN);if(Q!=j)return R.s=-j,Z.minus(R);var K=Z.e/l,G=R.e/l,H=Z.c,Y=R.c;if(!K||!G){if(!H||!Y)return new X(Q/0);if(!H[0]||!Y[0])return Y[0]?R:new X(H[0]?Z:Q*0)}if(K=E(K),G=E(G),H=H.slice(),Q=K-G){for(Q>0?(G=K,z=Y):(Q=-Q,z=H),z.reverse();Q--;z.push(0));z.reverse()}for(Q=H.length,j=Y.length,Q-j<0&&(z=Y,Y=H,H=z,j=Q),Q=0;j;)Q=(H[--j]=H[j]+Y[j]+Q)/f|0,H[j]=f===H[j]?0:H[j]%f;return Q&&(H=[Q].concat(H),++G),at(R,H,G)},q.precision=q.sd=function(R,j){var z,Z,Q,K=this;if(R!=null&&R!==!!R)return C(R,1,m),j==null?j=n:C(j,0,8),$(new X(K),R,j);if(!(z=K.c))return null;if(Q=z.length-1,Z=Q*l+1,Q=z[Q]){for(;Q%10==0;Q/=10,Z--);for(Q=z[0];Q>=10;Q/=10,Z++);}return R&&K.e+1>Z&&(Z=K.e+1),Z},q.shiftedBy=function(R){return C(R,-p,p),this.times("1e"+R)},q.squareRoot=q.sqrt=function(){var R,j,z,Z,Q,K=this,G=K.c,H=K.s,Y=K.e,it=L+4,ot=new X("0.5");if(H!==1||!G||!G[0])return new X(!H||H<0&&(!G||G[0])?NaN:G?K:1/0);if(H=Math.sqrt(+J(K)),H==0||H==1/0?(j=B(G),(j.length+Y)%2==0&&(j+="0"),H=Math.sqrt(+j),Y=E((Y+1)/2)-(Y<0||Y%2),H==1/0?j="5e"+Y:(j=H.toExponential(),j=j.slice(0,j.indexOf("e")+1)+Y),z=new X(j)):z=new X(H+""),z.c[0]){for(Y=z.e,H=Y+it,H<3&&(H=0);;)if(Q=z,z=ot.times(Q.plus(P(K,Q,it,1))),B(Q.c).slice(0,H)===(j=B(z.c)).slice(0,H))if(z.e<Y&&--H,j=j.slice(H-3,H+1),j=="9999"||!Z&&j=="4999"){if(!Z&&($(Q,Q.e+L+2,0),Q.times(Q).eq(K))){z=Q;break}it+=4,H+=4,Z=1}else{(!+j||!+j.slice(1)&&j.charAt(0)=="5")&&($(z,z.e+L+2,1),R=!z.times(z).eq(K));break}}return $(z,z.e+L+1,n,R)},q.toExponential=function(R,j){return R!=null&&(C(R,0,m),R++),ft(this,R,j,1)},q.toFixed=function(R,j){return R!=null&&(C(R,0,m),R=R+this.e+1),ft(this,R,j)},q.toFormat=function(R,j,z){var Z,Q=this;if(z==null)R!=null&&j&&typeof j=="object"?(z=j,j=null):R&&typeof R=="object"?(z=R,R=j=null):z=h;else if(typeof z!="object")throw Error(o+"Argument not an object: "+z);if(Z=Q.toFixed(R,j),Q.c){var K,G=Z.split("."),H=+z.groupSize,Y=+z.secondaryGroupSize,it=z.groupSeparator||"",ot=G[0],mt=G[1],_t=Q.s<0,ht=_t?ot.slice(1):ot,vt=ht.length;if(Y&&(K=H,H=Y,Y=K,vt-=K),H>0&&vt>0){for(K=vt%H||H,ot=ht.substr(0,K);K<vt;K+=H)ot+=it+ht.substr(K,H);Y>0&&(ot+=it+ht.slice(K)),_t&&(ot="-"+ot)}Z=mt?ot+(z.decimalSeparator||"")+((Y=+z.fractionGroupSize)?mt.replace(new RegExp("\\d{"+Y+"}\\B","g"),"$&"+(z.fractionGroupSeparator||"")):mt):ot}return(z.prefix||"")+Z+(z.suffix||"")},q.toFraction=function(R){var j,z,Z,Q,K,G,H,Y,it,ot,mt,_t,ht=this,vt=ht.c;if(R!=null&&(H=new X(R),!H.isInteger()&&(H.c||H.s!==1)||H.lt(O)))throw Error(o+"Argument "+(H.isInteger()?"out of range: ":"not an integer: ")+J(H));if(!vt)return new X(ht);for(j=new X(O),it=z=new X(O),Z=Y=new X(O),_t=B(vt),K=j.e=_t.length-ht.e-1,j.c[0]=g[(G=K%l)<0?l+G:G],R=!R||H.comparedTo(j)>0?K>0?j:it:H,G=T,T=1/0,H=new X(_t),Y.c[0]=0;ot=P(H,j,0,1),Q=z.plus(ot.times(Z)),Q.comparedTo(R)!=1;)z=Z,Z=Q,it=Y.plus(ot.times(Q=it)),Y=Q,j=H.minus(ot.times(Q=j)),H=Q;return Q=P(R.minus(z),Z,0,1),Y=Y.plus(Q.times(it)),z=z.plus(Q.times(Z)),Y.s=it.s=ht.s,K=K*2,mt=P(it,Z,K,n).minus(ht).abs().comparedTo(P(Y,z,K,n).minus(ht).abs())<1?[it,Z]:[Y,z],T=G,mt},q.toNumber=function(){return+J(this)},q.toPrecision=function(R,j){return R!=null&&C(R,1,m),ft(this,R,j,2)},q.toString=function(R){var j,z=this,Z=z.s,Q=z.e;return Q===null?Z?(j="Infinity",Z<0&&(j="-"+j)):j="NaN":(R==null?j=Q<=d||Q>=v?F(B(z.c),Q):I(B(z.c),Q,"0"):R===10&&tt?(z=$(new X(z),L+Q+1,n),j=I(B(z.c),z.e,"0")):(C(R,2,k.length,"Base"),j=D(I(B(z.c),Q,"0"),10,R,Z,!0)),Z<0&&z.c[0]&&(j="-"+j)),j},q.valueOf=q.toJSON=function(){return J(this)},q._isBigNumber=!0,U!=null&&X.set(U),X}function E(U){var P=U|0;return U>0||U===P?P:P-1}function B(U){for(var P,D,W=1,q=U.length,O=U[0]+"";W<q;){for(P=U[W++]+"",D=l-P.length;D--;P="0"+P);O+=P}for(q=O.length;O.charCodeAt(--q)===48;);return O.slice(0,q+1||1)}function x(U,P){var D,W,q=U.c,O=P.c,L=U.s,n=P.s,d=U.e,v=P.e;if(!L||!n)return null;if(D=q&&!q[0],W=O&&!O[0],D||W)return D?W?0:-n:L;if(L!=n)return L;if(D=L<0,W=d==v,!q||!O)return W?0:!q^D?1:-1;if(!W)return d>v^D?1:-1;for(n=(d=q.length)<(v=O.length)?d:v,L=0;L<n;L++)if(q[L]!=O[L])return q[L]>O[L]^D?1:-1;return d==v?0:d>v^D?1:-1}function C(U,P,D,W){if(U<P||U>D||U!==e(U))throw Error(o+(W||"Argument")+(typeof U=="number"?U<P||U>D?" out of range: ":" not an integer: ":" not a primitive number: ")+String(U))}function N(U){var P=U.c.length-1;return E(U.e/l)==P&&U.c[P]%2!=0}function F(U,P){return(U.length>1?U.charAt(0)+"."+U.slice(1):U)+(P<0?"e":"e+")+P}function I(U,P,D){var W,q;if(P<0){for(q=D+".";++P;q+=D);U=q+U}else if(W=U.length,++P>W){for(q=D,P-=W;--P;q+=D);U+=q}else P<W&&(U=U.slice(0,P)+"."+U.slice(P));return U}u=M(),u.default=u.BigNumber=u,typeof define=="function"&&define.amd?define(function(){return u}):typeof i<"u"&&i.exports?i.exports=u:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=u)}(t)}),Jp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=Zp(),r=class{constructor(){Pt(this,"BigNum");this.BigNum=(u,a)=>{let s=i.BigNumber.clone({DECIMAL_PLACES:a});return new s(u)}}winstonToAr(u,{formatted:a=!1,decimals:s=12,trim:e=!0}={}){let o=this.stringToBigNum(u,s).shiftedBy(-12);return a?o.toFormat(s):o.toFixed(s)}arToWinston(u,{formatted:a=!1}={}){let s=this.stringToBigNum(u).shiftedBy(12);return a?s.toFormat():s.toFixed(0)}compare(u,a){let s=this.stringToBigNum(u),e=this.stringToBigNum(a);return s.comparedTo(e)}isEqual(u,a){return this.compare(u,a)===0}isLessThan(u,a){let s=this.stringToBigNum(u),e=this.stringToBigNum(a);return s.isLessThan(e)}isGreaterThan(u,a){let s=this.stringToBigNum(u),e=this.stringToBigNum(a);return s.isGreaterThan(e)}add(u,a){let s=this.stringToBigNum(u);return this.stringToBigNum(a),s.plus(a).toFixed(0)}sub(u,a){let s=this.stringToBigNum(u);return this.stringToBigNum(a),s.minus(a).toFixed(0)}stringToBigNum(u,a=12){return this.BigNum(u,a)}};t.default=r}),Xp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=class{constructor(a){Pt(this,"METHOD_GET","GET");Pt(this,"METHOD_POST","POST");Pt(this,"config");this.applyConfig(a)}applyConfig(a){this.config=this.mergeDefaults(a)}getConfig(){return this.config}mergeDefaults(a){let s=a.protocol||"http",e=a.port||(s==="https"?443:80);return{host:a.host||"127.0.0.1",protocol:s,port:e,timeout:a.timeout||2e4,logging:a.logging||!1,logger:a.logger||console.log,network:a.network}}async get(a,s){return await this.request(a,{...s,method:this.METHOD_GET})}async post(a,s,e){var c;let o=new Headers((e==null?void 0:e.headers)||{});return(c=o.get("content-type"))!=null&&c.includes("application/json")||o.append("content-type","application/json"),o.append("accept","application/json, text/plain, */*"),await this.request(a,{...e,method:this.METHOD_POST,body:typeof s!="string"?JSON.stringify(s):s,headers:o})}async request(a,s){var y,m;let e=new Headers((s==null?void 0:s.headers)||{}),o=`${this.config.protocol}://${this.config.host}:${this.config.port}`,c=s==null?void 0:s.responseType;s==null||delete s.responseType,a.startsWith("/")&&(a=a.slice(1)),this.config.network&&e.append("x-network",this.config.network),this.config.logging&&this.config.logger(`Requesting: ${o}/${a}`);let f=await fetch(`${o}/${a}`,{...s||{},headers:e});this.config.logging&&this.config.logger(`Response:   ${f.url} - ${f.status}`);let l=(m=(y=f.headers.get("content-type"))==null?void 0:y.match(/charset=([^()<>@,;:\"/[\]?.=\s]*)/i))==null?void 0:m[1],p=f,g=async()=>{if(l)try{p.data=new TextDecoder(l).decode(await f.arrayBuffer())}catch{p.data=await f.text()}else p.data=await f.text()};if(c==="arraybuffer")p.data=await f.arrayBuffer();else if(c==="text")await g();else if(c==="webstream")p.data=r(f.body);else try{let M=await f.clone().json();typeof M!="object"?await g():p.data=await f.json(),M=null}catch{await g()}return p}};t.default=i;var r=a=>{let s=a;return typeof s[Symbol.asyncIterator]>"u"?(s[Symbol.asyncIterator]=u(a),s):a},u=function(a){return async function*(){let s=a.getReader();try{for(;;){let{done:e,value:o}=await s.read();if(e)return;yield o}}finally{s.releaseLock()}}}}),En=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var i=Co();function r(g){let y=0;for(let E=0;E<g.length;E++)y+=g[E].byteLength;let m=new Uint8Array(y),M=0;m.set(new Uint8Array(g[0]),M),M+=g[0].byteLength;for(let E=1;E<g.length;E++)m.set(new Uint8Array(g[E]),M),M+=g[E].byteLength;return m}t.concatBuffers=r;function u(g){let y=o(g);return a(y)}t.b64UrlToString=u;function a(g){return new TextDecoder("utf-8",{fatal:!0}).decode(g)}t.bufferToString=a;function s(g){return new TextEncoder().encode(g)}t.stringToBuffer=s;function e(g){return f(s(g))}t.stringToB64Url=e;function o(g){return new Uint8Array(i.toByteArray(p(g)))}t.b64UrlToBuffer=o;function c(g){return i.fromByteArray(new Uint8Array(g))}t.bufferTob64=c;function f(g){return l(c(g))}t.bufferTob64Url=f;function l(g){return g.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}t.b64UrlEncode=l;function p(g){g=g.replace(/\-/g,"+").replace(/\_/g,"/");let y;return g.length%4==0?y=0:y=4-g.length%4,g.concat("=".repeat(y))}t.b64UrlDecode=p}),Yp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=En(),r=class{constructor(){Pt(this,"keyLength",4096);Pt(this,"publicExponent",65537);Pt(this,"hashAlgorithm","sha256");Pt(this,"driver");if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let u=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),a=await this.driver.exportKey("jwk",u.privateKey);return{kty:a.kty,e:a.e,n:a.n,d:a.d,p:a.p,q:a.q,dp:a.dp,dq:a.dq,qi:a.qi}}async sign(u,a,{saltLength:s}={}){let e=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(u),a);return new Uint8Array(e)}async hash(u,a="SHA-256"){let s=await this.driver.digest(a,u);return new Uint8Array(s)}async verify(u,a,s){let e={kty:"RSA",e:"AQAB",n:u},o=await this.jwkToPublicCryptoKey(e),c=await this.driver.digest("SHA-256",a),f=await this.driver.verify({name:"RSA-PSS",saltLength:0},o,s,a),l=await this.driver.verify({name:"RSA-PSS",saltLength:32},o,s,a),p=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((o.algorithm.modulusLength-1)/8)-c.byteLength-2},o,s,a);return f||l||p}async jwkToCryptoKey(u){return this.driver.importKey("jwk",u,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(u){return this.driver.importKey("jwk",u,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let u=crypto==null?void 0:crypto.subtle;return u===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(a=>typeof u[a]=="function")}async encrypt(u,a,s){let e=await this.driver.importKey("raw",typeof a=="string"?i.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),o=await this.driver.deriveKey({name:"PBKDF2",salt:s?i.stringToBuffer(s):i.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},e,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),c=new Uint8Array(16);crypto.getRandomValues(c);let f=await this.driver.encrypt({name:"AES-CBC",iv:c},o,u);return i.concatBuffers([c,f])}async decrypt(u,a,s){let e=await this.driver.importKey("raw",typeof a=="string"?i.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),o=await this.driver.deriveKey({name:"PBKDF2",salt:s?i.stringToBuffer(s):i.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},e,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),c=u.slice(0,16),f=await this.driver.decrypt({name:"AES-CBC",iv:c},o,u.slice(16));return i.concatBuffers([f])}};t.default=r}),Qp=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=class{constructor(r){Pt(this,"api");this.api=r}getInfo(){return this.api.get("info").then(r=>r.data)}getPeers(){return this.api.get("peers").then(r=>r.data)}};t.default=i}),jo=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.getError=void 0;var i=class extends Error{constructor(s,e={}){var a=(...u)=>{super(...u);Pt(this,"type");Pt(this,"response")};e.message?a(e.message):a(),this.type=s,this.response=e.response}getType(){return this.type}};t.default=i;function r(a){let s=a.data;if(typeof a.data=="string")try{s=JSON.parse(a.data)}catch{}if(a.data instanceof ArrayBuffer||a.data instanceof Uint8Array)try{s=JSON.parse(s.toString())}catch{}return s?s.error||s:a.statusText||"unknown"}t.getError=r}),tg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=fo();async function r(a){if(Array.isArray(a)){let o=i.default.utils.concatBuffers([i.default.utils.stringToBuffer("list"),i.default.utils.stringToBuffer(a.length.toString())]);return await u(a,await i.default.crypto.hash(o,"SHA-384"))}let s=i.default.utils.concatBuffers([i.default.utils.stringToBuffer("blob"),i.default.utils.stringToBuffer(a.byteLength.toString())]),e=i.default.utils.concatBuffers([await i.default.crypto.hash(s,"SHA-384"),await i.default.crypto.hash(a,"SHA-384")]);return await i.default.crypto.hash(e,"SHA-384")}t.default=r;async function u(a,s){if(a.length<1)return s;let e=i.default.utils.concatBuffers([s,await r(a[0])]),o=await i.default.crypto.hash(e,"SHA-384");return await u(a.slice(1),o)}}),Hf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.validatePath=t.arrayCompare=t.bufferToInt=t.intToBuffer=t.arrayFlatten=t.generateProofs=t.buildLayers=t.generateTransactionChunks=t.generateTree=t.computeRootHash=t.generateLeaves=t.chunkData=t.MIN_CHUNK_SIZE=t.MAX_CHUNK_SIZE=void 0;var i=fo(),r=En();t.MAX_CHUNK_SIZE=256*1024,t.MIN_CHUNK_SIZE=32*1024;var u=32,a=32;async function s(F){let I=[],U=F,P=0;for(;U.byteLength>=t.MAX_CHUNK_SIZE;){let D=t.MAX_CHUNK_SIZE,W=U.byteLength-t.MAX_CHUNK_SIZE;W>0&&W<t.MIN_CHUNK_SIZE&&(D=Math.ceil(U.byteLength/2));let q=U.slice(0,D),O=await i.default.crypto.hash(q);P+=q.byteLength,I.push({dataHash:O,minByteRange:P-q.byteLength,maxByteRange:P}),U=U.slice(D)}return I.push({dataHash:await i.default.crypto.hash(U),minByteRange:P,maxByteRange:P+U.byteLength}),I}t.chunkData=s;async function e(F){return Promise.all(F.map(async({dataHash:I,minByteRange:U,maxByteRange:P})=>({type:"leaf",id:await M(await Promise.all([M(I),M(E(P))])),dataHash:I,minByteRange:U,maxByteRange:P})))}t.generateLeaves=e;async function o(F){return(await c(F)).id}t.computeRootHash=o;async function c(F){return await l(await e(await s(F)))}t.generateTree=c;async function f(F){let I=await s(F),U=await e(I),P=await l(U),D=await p(P),W=I.slice(-1)[0];return W.maxByteRange-W.minByteRange===0&&(I.splice(I.length-1,1),D.splice(D.length-1,1)),{data_root:P.id,chunks:I,proofs:D}}t.generateTransactionChunks=f;async function l(F,I=0){if(F.length<2)return F[0];let U=[];for(let P=0;P<F.length;P+=2)U.push(await m(F[P],F[P+1]));return l(U,I+1)}t.buildLayers=l;function p(F){let I=g(F);return Array.isArray(I)?y(I):[I]}t.generateProofs=p;function g(F,I=new Uint8Array,U=0){if(F.type=="leaf")return{offset:F.maxByteRange-1,proof:(0,r.concatBuffers)([I,F.dataHash,E(F.maxByteRange)])};if(F.type=="branch"){let P=(0,r.concatBuffers)([I,F.leftChild.id,F.rightChild.id,E(F.byteRange)]);return[g(F.leftChild,P,U+1),g(F.rightChild,P,U+1)]}throw new Error("Unexpected node type")}function y(F){let I=[];return F.forEach(U=>{Array.isArray(U)?I.push(...y(U)):I.push(U)}),I}t.arrayFlatten=y;async function m(F,I){return I?{type:"branch",id:await M([await M(F.id),await M(I.id),await M(E(F.maxByteRange))]),byteRange:F.maxByteRange,maxByteRange:I.maxByteRange,leftChild:F,rightChild:I}:F}async function M(F){return Array.isArray(F)&&(F=i.default.utils.concatBuffers(F)),new Uint8Array(await i.default.crypto.hash(F))}function E(F){let I=new Uint8Array(u);for(var U=I.length-1;U>=0;U--){var P=F%256;I[U]=P,F=(F-P)/256}return I}t.intToBuffer=E;function B(F){let I=0;for(var U=0;U<F.length;U++)I*=256,I+=F[U];return I}t.bufferToInt=B;var x=(F,I)=>F.every((U,P)=>I[P]===U);t.arrayCompare=x;async function C(F,I,U,P,D){if(P<=0)return!1;if(I>=P)return C(F,0,P-1,P,D);if(I<0)return C(F,0,0,P,D);if(D.length==a+u){let v=D.slice(0,a),A=D.slice(v.length,v.length+u),T=await M([await M(v),await M(A)]);return(0,t.arrayCompare)(F,T)?{offset:P-1,leftBound:U,rightBound:P,chunkSize:P-U}:!1}let W=D.slice(0,a),q=D.slice(W.length,W.length+a),O=D.slice(W.length+q.length,W.length+q.length+u),L=B(O),n=D.slice(W.length+q.length+O.length),d=await M([await M(W),await M(q),await M(O)]);return(0,t.arrayCompare)(F,d)?I<L?await C(W,I,U,Math.min(P,L),n):await C(q,I,Math.max(U,L),P,n):!1}t.validatePath=C;async function N(F,I=""){if(F.byteLength<1)return I;let U=F.slice(0,a),P=F.slice(U.length,U.length+a),D=F.slice(U.length+P.length,U.length+P.length+u),W=B(D),q=F.slice(U.length+P.length+D.length),O=await M([await M(U),await M(P),await M(D)]),L=`${I}
${JSON.stringify(Ut.Buffer.from(U))},${JSON.stringify(Ut.Buffer.from(P))},${W} => ${JSON.stringify(O)}`;return N(q,L)}t.debug=N}),mu=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=void 0;var i=En(),r=tg(),u=Hf(),a=class{get(o,c){if(!Object.getOwnPropertyNames(this).includes(o))throw new Error(`Field "${o}" is not a property of the Arweave Transaction class.`);if(this[o]instanceof Uint8Array)return c&&c.decode&&c.string?i.bufferToString(this[o]):c&&c.decode&&!c.string?this[o]:i.bufferTob64Url(this[o]);if(this[o]instanceof Array){if((c==null?void 0:c.decode)!==void 0||(c==null?void 0:c.string)!==void 0)throw o==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[o]}return c&&c.decode==!0?c&&c.string?i.b64UrlToString(this[o]):i.b64UrlToBuffer(this[o]):this[o]}},s=class extends a{constructor(c,f,l=!1){super();Pt(this,"name");Pt(this,"value");this.name=c,this.value=f}};t.Tag=s;var e=class extends a{constructor(c={}){super();Pt(this,"format",2);Pt(this,"id","");Pt(this,"last_tx","");Pt(this,"owner","");Pt(this,"tags",[]);Pt(this,"target","");Pt(this,"quantity","0");Pt(this,"data_size","0");Pt(this,"data",new Uint8Array);Pt(this,"data_root","");Pt(this,"reward","0");Pt(this,"signature","");Pt(this,"chunks");Object.assign(this,c),typeof this.data=="string"&&(this.data=i.b64UrlToBuffer(this.data)),c.tags&&(this.tags=c.tags.map(f=>new s(f.name,f.value)))}addTag(c,f){this.tags.push(new s(i.stringToB64Url(c),i.stringToB64Url(f)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:i.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(c){this.owner=c}setSignature({id:c,owner:f,reward:l,tags:p,signature:g}){this.id=c,this.owner=f,l&&(this.reward=l),p&&(this.tags=p),this.signature=g}async prepareChunks(c){!this.chunks&&c.byteLength>0&&(this.chunks=await(0,u.generateTransactionChunks)(c),this.data_root=i.bufferTob64Url(this.chunks.data_root)),!this.chunks&&c.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(c,f){if(!this.chunks)throw new Error("Chunks have not been prepared");let l=this.chunks.proofs[c],p=this.chunks.chunks[c];return{data_root:this.data_root,data_size:this.data_size,data_path:i.bufferTob64Url(l.proof),offset:l.offset.toString(),chunk:i.bufferTob64Url(f.slice(p.minByteRange,p.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let c=this.tags.reduce((l,p)=>i.concatBuffers([l,p.get("name",{decode:!0,string:!1}),p.get("value",{decode:!0,string:!1})]),new Uint8Array);return i.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),i.stringToBuffer(this.quantity),i.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),c]);case 2:this.data_root||await this.prepareChunks(this.data);let f=this.tags.map(l=>[l.get("name",{decode:!0,string:!1}),l.get("value",{decode:!0,string:!1})]);return await(0,r.default)([i.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),i.stringToBuffer(this.quantity),i.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),f,i.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};t.default=e}),eg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionUploader=void 0;var i=mu(),r=En(),u=jo(),a=Hf(),s=1,e=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],o=1e3*40,c=class{constructor(f,l){Pt(this,"api");Pt(this,"chunkIndex",0);Pt(this,"txPosted",!1);Pt(this,"transaction");Pt(this,"lastRequestTimeEnd",0);Pt(this,"totalErrors",0);Pt(this,"data");Pt(this,"lastResponseStatus",0);Pt(this,"lastResponseError","");if(this.api=f,!l.id)throw new Error("Transaction is not signed");if(!l.chunks)throw new Error("Transaction chunks not prepared");this.data=l.data,this.transaction=new i.default(Object.assign({},l,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(f){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let l=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+o-Date.now(),o);if(l>0&&(l=l-l*Math.random()*.3,await new Promise(y=>setTimeout(y,l))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}f&&(this.chunkIndex=f);let p=this.transaction.getChunk(f||this.chunkIndex,this.data);if(!await(0,a.validatePath)(this.transaction.chunks.data_root,parseInt(p.offset),0,parseInt(p.data_size),r.b64UrlToBuffer(p.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let g=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(y=>(console.error(y.message),{status:-1,data:{error:y.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=g.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,u.getError)(g),e.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(f,l,p){if(!l||typeof l.chunkIndex!="number"||typeof l.transaction!="object")throw new Error("Serialized object does not match expected format.");var g=new i.default(l.transaction);g.chunks||await g.prepareChunks(p);let y=new c(f,g);if(y.chunkIndex=l.chunkIndex,y.lastRequestTimeEnd=l.lastRequestTimeEnd,y.lastResponseError=l.lastResponseError,y.lastResponseStatus=l.lastResponseStatus,y.txPosted=l.txPosted,y.data=p,y.transaction.data_root!==l.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return y}static async fromTransactionId(f,l){let p=await f.get(`tx/${l}`);if(p.status!==200)throw new Error(`Tx ${l} not found: ${p.status}`);let g=p.data;return g.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:g}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=s){this.transaction.data=this.data;let l=await this.api.post("tx",this.transaction).catch(p=>(console.error(p),{status:-1,data:{error:p.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=l.status,this.transaction.data=new Uint8Array(0),l.status>=200&&l.status<300){this.txPosted=!0,this.chunkIndex=s;return}throw this.lastResponseError=(0,u.getError)(l),new Error(`Unable to upload transaction: ${l.status}, ${this.lastResponseError}`)}let f=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=f.status,!(f.status>=200&&f.status<300))throw this.lastResponseError=(0,u.getError)(f),new Error(`Unable to upload transaction: ${f.status}, ${this.lastResponseError}`);this.txPosted=!0}};t.TransactionUploader=c}),Di=gt((t,i)=>{lt(),i.exports={}}),rg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=jo(),r=mu(),u=En(),a=eg();Di();var s=class{constructor(e,o,c){Pt(this,"api");Pt(this,"crypto");Pt(this,"chunks");this.api=e,this.crypto=o,this.chunks=c}async getTransactionAnchor(){let e=await this.api.get("tx_anchor");if(!e.data.match(/^[a-z0-9_-]{43,}/i)||!e.ok)throw new Error(`Could not getTransactionAnchor. Received: ${e.data}. Status: ${e.status}, ${e.statusText}`);return e.data}async getPrice(e,o){let c=o?`price/${e}/${o}`:`price/${e}`,f=await this.api.get(c);if(!/^\d+$/.test(f.data)||!f.ok)throw new Error(`Could not getPrice. Received: ${f.data}. Status: ${f.status}, ${f.statusText}`);return f.data}async get(e){let o=await this.api.get(`tx/${e}`);if(o.status==200){let c=parseInt(o.data.data_size);if(o.data.format>=2&&c>0&&c<=1024*1024*12){let f=await this.getData(e);return new r.default({...o.data,data:f})}return new r.default({...o.data,format:o.data.format||1})}throw o.status==404?new i.default("TX_NOT_FOUND"):o.status==410?new i.default("TX_FAILED"):new i.default("TX_INVALID")}fromRaw(e){return new r.default(e)}async search(e,o){return this.api.post("arql",{op:"equals",expr1:e,expr2:o}).then(c=>c.data?c.data:[])}getStatus(e){return this.api.get(`tx/${e}/status`).then(o=>o.status==200?{status:200,confirmed:o.data}:{status:o.status,confirmed:null})}async getData(e,o){let c;try{c=await this.chunks.downloadChunkedData(e)}catch(f){console.error(`Error while trying to download chunked data for ${e}`),console.error(f)}if(!c){console.warn(`Falling back to gateway cache for ${e}`);try{let{data:f,ok:l,status:p,statusText:g}=await this.api.get(`/${e}`,{responseType:"arraybuffer"});if(!l)throw new Error("Bad http status code",{cause:{status:p,statusText:g}});c=f}catch(f){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(f)}}if(!c)throw new Error(`${e} data was not found!`);return o&&o.decode&&!o.string?c:o&&o.decode&&o.string?u.bufferToString(c):u.bufferTob64Url(c)}async sign(e,o,c){let f=typeof o=="object"&&(p=>{let g=!0;return["n","e","d","p","q","dp","dq","qi"].map(y=>!(y in p)&&(g=!1)),g})(o),l=typeof arweaveWallet=="object";if(!f&&!l)throw new Error("No valid JWK or external wallet found to sign transaction.");if(l){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}let p=await arweaveWallet.sign(e,c);e.setSignature({id:p.id,owner:p.owner,reward:p.reward,tags:p.tags,signature:p.signature})}else if(f){e.setOwner(o.n);let p=await e.getSignatureData(),g=await this.crypto.sign(o,p,c),y=await this.crypto.hash(g);e.setSignature({id:u.bufferTob64Url(y),owner:o.n,signature:u.bufferTob64Url(g)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){let o=await e.getSignatureData(),c=e.get("signature",{decode:!0,string:!1}),f=u.bufferTob64Url(await this.crypto.hash(c));if(e.id!==f)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,o,c)}async post(e){if(typeof e=="string"?e=new r.default(JSON.parse(e)):typeof e.readInt32BE=="function"?e=new r.default(JSON.parse(e.toString())):typeof e=="object"&&!(e instanceof r.default)&&(e=new r.default(e)),!(e instanceof r.default))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);let o=await this.getUploader(e,e.data);try{for(;!o.isComplete;)await o.uploadChunk()}catch(c){if(o.lastResponseStatus>0)return{status:o.lastResponseStatus,statusText:o.lastResponseError,data:{error:o.lastResponseError}};throw c}return{status:200,statusText:"OK",data:{}}}async getUploader(e,o){let c;if(o instanceof ArrayBuffer&&(o=new Uint8Array(o)),e instanceof r.default){if(o||(o=e.data),!(o instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(o),c=new a.TransactionUploader(this.api,e),(!c.data||c.data.length===0)&&(c.data=o)}else{if(typeof e=="string"&&(e=await a.TransactionUploader.fromTransactionId(this.api,e)),!o||!(o instanceof Uint8Array))throw new Error("Must provide data when resuming upload");c=await a.TransactionUploader.fromSerialized(this.api,e,o)}return c}async*upload(e,o){let c=await this.getUploader(e,o);for(;!c.isComplete;)await c.uploadChunk(),yield c;return c}};t.default=s}),ng=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=En();Di();var r=class{constructor(u,a){Pt(this,"api");Pt(this,"crypto");this.api=u,this.crypto=a}getBalance(u){return this.api.get(`wallet/${u}/balance`).then(a=>a.data)}getLastTransactionID(u){return this.api.get(`wallet/${u}/last_tx`).then(a=>a.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(u){return!u||u==="use_wallet"?this.getAddress():this.getAddress(u)}async getAddress(u){if(!u||u==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(u.n)}async ownerToAddress(u){return i.bufferTob64Url(await this.crypto.hash(i.b64UrlToBuffer(u)))}};t.default=r}),ig=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.SiloResource=void 0;var i=En(),r=class{constructor(a,s,e){Pt(this,"api");Pt(this,"crypto");Pt(this,"transactions");this.api=a,this.crypto=s,this.transactions=e}async get(a){if(!a)throw new Error("No Silo URI specified");let s=await this.parseUri(a),e=await this.transactions.search("Silo-Name",s.getAccessKey());if(e.length==0)throw new Error(`No data could be found for the Silo URI: ${a}`);let o=await this.transactions.get(e[0]);if(!o)throw new Error(`No data could be found for the Silo URI: ${a}`);let c=o.get("data",{decode:!0,string:!1});return this.crypto.decrypt(c,s.getEncryptionKey())}async readTransactionData(a,s){if(!s)throw new Error("No Silo URI specified");let e=await this.parseUri(s),o=a.get("data",{decode:!0,string:!1});return this.crypto.decrypt(o,e.getEncryptionKey())}async parseUri(a){let s=a.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!s)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");let e=s[1],o=Math.pow(2,parseInt(s[2])),c=await this.hash(i.stringToBuffer(e),o),f=i.bufferTob64(c.slice(0,15)),l=await this.hash(c.slice(16,31),1);return new u(a,f,l)}async hash(a,s){let e=await this.crypto.hash(a);for(let o=0;o<s-1;o++)e=await this.crypto.hash(e);return e}};t.default=r;var u=class{constructor(a,s,e){Pt(this,"uri");Pt(this,"accessKey");Pt(this,"encryptionKey");this.uri=a,this.accessKey=s,this.encryptionKey=e}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}};t.SiloResource=u}),ag=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=jo(),r=En(),u=class{constructor(a){Pt(this,"api");this.api=a}async getTransactionOffset(a){let s=await this.api.get(`tx/${a}/offset`);if(s.status===200)return s.data;throw new Error(`Unable to get transaction offset: ${(0,i.getError)(s)}`)}async getChunk(a){let s=await this.api.get(`chunk/${a}`);if(s.status===200)return s.data;throw new Error(`Unable to get chunk: ${(0,i.getError)(s)}`)}async getChunkData(a){let s=await this.getChunk(a);return r.b64UrlToBuffer(s.chunk)}firstChunkOffset(a){return parseInt(a.offset)-parseInt(a.size)+1}async downloadChunkedData(a){let s=await this.getTransactionOffset(a),e=parseInt(s.size),o=parseInt(s.offset)-e+1,c=new Uint8Array(e),f=0;for(;f<e;){this.api.config.logging&&console.log(`[chunk] ${f}/${e}`);let l;try{l=await this.getChunkData(o+f)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${o+f}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(l)c.set(l,f),f+=l.length;else throw new Error(`Couldn't complete data download at ${f}/${e}`)}return c}};t.default=u}),og=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=jo();Di();var r=class{constructor(a,s){Pt(this,"api");Pt(this,"network");this.api=a,this.network=s}async get(a){let s=await this.api.get(`${r.ENDPOINT}${a}`);if(s.status===200)return s.data;throw s.status===404?new i.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${s}`)}async getCurrent(){let{current:a}=await this.network.getInfo();return await this.get(a)}},u=r;Wr(u,"ENDPOINT","block/hash/"),t.default=u}),fo=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=Jp(),r=Xp(),u=Yp(),a=Qp(),s=rg(),e=ng(),o=mu(),c=En(),f=ig(),l=ag(),p=og(),g=class{constructor(m){Pt(this,"api");Pt(this,"wallets");Pt(this,"transactions");Pt(this,"network");Pt(this,"blocks");Pt(this,"ar");Pt(this,"silo");Pt(this,"chunks");this.api=new r.default(m),this.wallets=new e.default(this.api,g.crypto),this.chunks=new l.default(this.api),this.transactions=new s.default(this.api,g.crypto,this.chunks),this.silo=new f.default(this.api,this.crypto,this.transactions),this.network=new a.default(this.api),this.blocks=new p.default(this.api,this.network),this.ar=new i.default}get crypto(){return g.crypto}get utils(){return g.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(m,M){let E={};if(Object.assign(E,m),!m.data&&!(m.target&&m.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(m.owner==null&&M&&M!=="use_wallet"&&(E.owner=M.n),m.last_tx==null&&(E.last_tx=await this.transactions.getTransactionAnchor()),typeof m.data=="string"&&(m.data=c.stringToBuffer(m.data)),m.data instanceof ArrayBuffer&&(m.data=new Uint8Array(m.data)),m.data&&!(m.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(m.reward==null){let x=m.data?m.data.byteLength:0;E.reward=await this.transactions.getPrice(x,E.target)}E.data_root="",E.data_size=m.data?m.data.byteLength.toString():"0",E.data=m.data||new Uint8Array(0);let B=new o.default(E);return await B.getSignatureData(),B}async createSiloTransaction(m,M,E){let B={};if(Object.assign(B,m),!m.data)throw new Error("Silo transactions must have a 'data' value");if(!E)throw new Error("No Silo URI specified.");if(m.target||m.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(m.owner==null){if(!M||!M.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");B.owner=M.n}m.last_tx==null&&(B.last_tx=await this.transactions.getTransactionAnchor());let x=await this.silo.parseUri(E);if(typeof m.data=="string"){let N=await this.crypto.encrypt(c.stringToBuffer(m.data),x.getEncryptionKey());B.reward=await this.transactions.getPrice(N.byteLength),B.data=c.bufferTob64Url(N)}if(m.data instanceof Uint8Array){let N=await this.crypto.encrypt(m.data,x.getEncryptionKey());B.reward=await this.transactions.getPrice(N.byteLength),B.data=c.bufferTob64Url(N)}let C=new o.default(B);return C.addTag("Silo-Name",x.getAccessKey()),C.addTag("Silo-Version","0.1.0"),C}arql(m){return this.api.post("/arql",m).then(M=>M.data||[])}},y=g;Wr(y,"init"),Wr(y,"crypto",new u.default),Wr(y,"utils",c),t.default=y}),sg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultConfig=void 0;var i=(a,s)=>{let e=/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,o=s.split("."),c=o[o.length-1],f=["localhost","[::1]"];return f.includes(s)||a=="file"||f.includes(c)||!!s.match(e)||!!c.match(e)},r=a=>{let s=a.charAt(0)==="[",e=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;return!!a.match(e)||s},u=(a,s)=>{if(i(a,s))return{protocol:"https",host:"arweave.net",port:443};if(!r(s)){let e=s.split(".");if(e.length>=3){e.shift();let o=e.join(".");return{protocol:a,host:o}}}return{protocol:a,host:s}};t.getDefaultConfig=u}),yu=gt(t=>{lt();var i=t&&t.__createBinding||(Object.create?function(s,e,o,c){c===void 0&&(c=o);var f=Object.getOwnPropertyDescriptor(e,o);(!f||("get"in f?!e.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(s,c,f)}:function(s,e,o,c){c===void 0&&(c=o),s[c]=e[o]}),r=t&&t.__exportStar||function(s,e){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(e,o)&&i(e,s,o)};Object.defineProperty(t,"__esModule",{value:!0});var u=fo(),a=sg();u.default.init=function(s={}){let e={host:"arweave.net",port:443,protocol:"https"};if(typeof location!="object"||!location.protocol||!location.hostname)return new u.default({...s,...e});let o=location.protocol.replace(":",""),c=location.hostname,f=location.port?parseInt(location.port):o=="https"?443:80,l=(0,a.getDefaultConfig)(o,c),p=s.protocol||l.protocol,g=s.host||l.host,y=s.port||l.port||f;return new u.default({...s,host:g,protocol:p,port:y})},typeof globalThis=="object"?globalThis.Arweave=u.default:typeof self=="object"&&(self.Arweave=u.default),r(fo(),t),t.default=u.default}),_a=gt(t=>{lt();var i=t&&t.__createBinding||(Object.create?function(c,f,l,p){p===void 0&&(p=l);var g=Object.getOwnPropertyDescriptor(f,l);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(c,p,g)}:function(c,f,l,p){p===void 0&&(p=l),c[p]=f[l]}),r=t&&t.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),u=t&&t.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var l in c)l!=="default"&&Object.prototype.hasOwnProperty.call(c,l)&&i(f,c,l);return r(f,c),f};Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=t.Transaction=void 0;var a=u(En()),s=class{get(c,f){if(!Object.getOwnPropertyNames(this).includes(c))throw new Error(`Field "${c}" is not a property of the Arweave Transaction class.`);return this[c]instanceof Uint8Array?f&&f.decode&&f.string?a.bufferToString(this[c]):f&&f.decode&&!f.string?this[c]:a.bufferTob64Url(this[c]):f&&f.decode==!0?f&&f.string?a.b64UrlToString(this[c]):a.b64UrlToBuffer(this[c]):this[c]}},e=class extends s{constructor(c={}){super(),this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,c),typeof this.data=="string"&&(this.data=a.b64UrlToBuffer(this.data)),c.tags&&(this.tags=c.tags.map(f=>new o(f.name,f.value)))}addTag(c,f){this.tags.push(new o(a.stringToB64Url(c),a.stringToB64Url(f)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:a.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(c){this.owner=c}setSignature({id:c,owner:f,reward:l,tags:p,signature:g}){this.id=c,this.owner=f,l&&(this.reward=l),p&&(this.tags=p),this.signature=g}async prepareChunks(c){throw new Error("Should not be called, use arweave-js version.")}getChunk(c,f){if(!this.chunks)throw new Error("Chunks have not been prepared");let l=this.chunks.proofs[c],p=this.chunks.chunks[c];return{data_root:this.data_root,data_size:this.data_size,data_path:a.bufferTob64Url(l.proof),offset:l.offset.toString(),chunk:a.bufferTob64Url(f.slice(p.minByteRange,p.maxByteRange))}}async getSignatureData(){throw new Error("Should not be called, use arweave-js version.")}};t.Transaction=e;var o=class extends s{constructor(c,f,l=!1){super(),this.name=c,this.value=f}};t.Tag=o}),ci=gt(t=>{lt();var i=t&&t.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.ArweaveWrapper=void 0;var r=i(yu()),u=Jn(),a=or(),s=_a(),e=Er(),o=class{constructor(c){this.warp=c,this.logger=a.LoggerFactory.INST.create("ArweaveWrapper");let{arweave:f}=c;this.baseUrl=`${f.api.config.protocol}://${f.api.config.host}:${f.api.config.port}`,this.logger.debug("baseurl",this.baseUrl)}async warpGwInfo(){return await this.doFetchInfo(`${(0,e.stripTrailingSlash)(this.warp.gwUrl())}/gateway/arweave/info`)}async warpGwBlock(){return this.logger.debug("Calling warp gw block info"),await this.doFetchInfo(`${(0,e.stripTrailingSlash)(this.warp.gwUrl())}/gateway/arweave/block`)}async info(){return await this.doFetchInfo(`${this.baseUrl}/info`)}async gql(c,f){try{let l=JSON.stringify({query:c,variables:f});return{data:await(0,e.getJsonResponse)(fetch(`${this.baseUrl}/graphql`,{method:"POST",body:l,headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Accept:"application/json"}})),status:200}}catch(l){throw this.logger.error("Error while loading gql",l),l}}async tx(c){let f=await fetch(`${this.baseUrl}/tx/${c}`).then(l=>l.ok?l.json():Promise.reject(l)).catch(l=>{var p,g;throw!((p=l.body)===null||p===void 0)&&p.message&&this.logger.error(l.body.message),new e.NetworkCommunicationError(`Unable to retrieve tx ${c}. ${l.status}. ${(g=l.body)===null||g===void 0?void 0:g.message}`)});return new s.Transaction({...f})}async txData(c){let f=await fetch(`${this.baseUrl}/${c}`);if(f.ok){let l=await f.arrayBuffer();return u.Buffer.from(l)}else{this.logger.warn(`Unable to load data from arweave.net/${c} endpoint, falling back to arweave.js`);let l=await this.warp.arweave.transactions.getData(c,{decode:!0});return u.Buffer.from(l)}}async txDataString(c){let f=await this.txData(c);return r.default.utils.bufferToString(f)}async doFetchInfo(c){return await(0,e.getJsonResponse)(fetch(c))}};t.ArweaveWrapper=o}),di=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.TagsParser=void 0;var i=_n(),r=or(),u=class{constructor(){this.logger=r.LoggerFactory.INST.create("TagsParser")}getInputTag(a,s){if(u.hasMultipleInteractions(a)){this.logger.debug("Interaction transaction is using multiple input tx tag format.");let e=a.tags.findIndex(c=>c.name===i.SMART_WEAVE_TAGS.CONTRACT_TX_ID&&c.value===s);if(a.tags.length-1===e){this.logger.warn("Wrong tags format: 'Contract' is the last tag");return}let o=a.tags[e+1];if(o.name!==i.SMART_WEAVE_TAGS.INPUT){this.logger.warn(`No 'Input' tag found after 'Contract' tag. Instead ${o.name} was found`);return}return o}else return a.tags.find(e=>e.name===i.SMART_WEAVE_TAGS.INPUT)}isInteractWrite(a,s){return a.tags.some(e=>e.name===i.WARP_TAGS.INTERACT_WRITE&&e.value===s)}getInteractWritesContracts(a){return a.tags.filter(s=>s.name===i.WARP_TAGS.INTERACT_WRITE).map(s=>s.value)}getContractTag(a){var s;return(s=a.tags.find(e=>e.name===i.SMART_WEAVE_TAGS.CONTRACT_TX_ID))===null||s===void 0?void 0:s.value}getContractsWithInputs(a){let s=new Map;return a.tags.filter(e=>e.name===i.SMART_WEAVE_TAGS.CONTRACT_TX_ID).forEach(e=>{s.set(e.value,this.getInputTag(a,e.value))}),s}isEvmSigned(a){return a.tags.some(s=>s.name===i.WARP_TAGS.SIGNATURE_TYPE&&s.value==="ethereum")}static hasMultipleInteractions(a){return a.tags.filter(s=>s.name===i.SMART_WEAVE_TAGS.CONTRACT_TX_ID).length>1}decodeTags(a){let s=a.get("tags"),e=[];for(let o of s)try{let c=o.get("name",{decode:!0,string:!0}),f=o.get("value",{decode:!0,string:!0});e.push({name:c,value:f})}catch{}return e}getTag(a,s){let e=a.get("tags");for(let o of e)try{if(o.get("name",{decode:!0,string:!0})===s)return o.get("value",{decode:!0,string:!0})}catch{}return!1}hasVrfTag(a){return a.tags.some(s=>s.name==i.WARP_TAGS.REQUEST_VRF&&s.value==="true")}};t.TagsParser=u}),ug=gt((t,i)=>{lt(),function(r,u){typeof t=="object"&&typeof i<"u"?u(t):typeof define=="function"&&define.amd?define(["exports"],u):(r=typeof globalThis<"u"?globalThis:r||self,u(r.unzipit={}))}(t,function(r){function u(wt){return wt.arrayBuffer?wt.arrayBuffer():new Promise((ct,Et)=>{let ut=new FileReader;ut.addEventListener("loadend",()=>{ct(ut.result)}),ut.addEventListener("error",Et),ut.readAsArrayBuffer(wt)})}async function a(wt){let ct=await u(wt);return new Uint8Array(ct)}function s(wt){return typeof Blob<"u"&&wt instanceof Blob}function e(wt){return typeof SharedArrayBuffer<"u"&&wt instanceof SharedArrayBuffer}let o=typeof Jt.default<"u"&&Jt.default.versions&&typeof Jt.default.versions.node<"u"&&typeof Jt.default.versions.electron>"u";function c(wt){return wt.byteOffset===0&&wt.byteLength===wt.buffer.byteLength}class f{constructor(ct){this.typedArray=ct instanceof ArrayBuffer||e(ct)?new Uint8Array(ct):new Uint8Array(ct.buffer,ct.byteOffset,ct.byteLength)}async getLength(){return this.typedArray.byteLength}async read(ct,Et){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+ct,Et)}}class l{constructor(ct){this.blob=ct}async getLength(){return this.blob.size}async read(ct,Et){let ut=this.blob.slice(ct,ct+Et),Ot=await u(ut);return new Uint8Array(Ot)}async sliceAsBlob(ct,Et,ut=""){return this.blob.slice(ct,ct+Et,ut)}}class p{constructor(ct){this.url=ct}async getLength(){if(this.length===void 0){let ct=await fetch(this.url,{method:"HEAD"});if(!ct.ok)throw new Error(`failed http request ${this.url}, status: ${ct.status}: ${ct.statusText}`);if(this.length=parseInt(ct.headers.get("content-length")),Number.isNaN(this.length))throw Error("could not get length")}return this.length}async read(ct,Et){if(Et===0)return new Uint8Array(0);let ut=await fetch(this.url,{headers:{Range:`bytes=${ct}-${ct+Et-1}`}});if(!ut.ok)throw new Error(`failed http request ${this.url}, status: ${ut.status} offset: ${ct} size: ${Et}: ${ut.statusText}`);let Ot=await ut.arrayBuffer();return new Uint8Array(Ot)}}function g(wt,ct){var Et=Uint8Array;if(wt[0]==3&&wt[1]==0)return ct||new Et(0);var ut=N,Ot=C,qt=m,nt=F,Rt=ct==null;Rt&&(ct=new Et(wt.length>>>2<<3));for(var Dt=0,bt=0,Tt=0,jt=0,St=0,kt=0,Kt=0,At=0,Nt=0,$t,Ft;Dt==0;){if(Dt=ut(wt,Nt,1),bt=ut(wt,Nt+1,2),Nt+=3,bt==0){Nt&7&&(Nt+=8-(Nt&7));var Wt=(Nt>>>3)+4,ae=wt[Wt-4]|wt[Wt-3]<<8;Rt&&(ct=y(ct,At+ae)),ct.set(new Et(wt.buffer,wt.byteOffset+Wt,ae),At),Nt=Wt+ae<<3,At+=ae;continue}if(Rt&&(ct=y(ct,At+(1<<17))),bt==1&&($t=I.flmap,Ft=I.fdmap,kt=511,Kt=31),bt==2){Tt=Ot(wt,Nt,5)+257,jt=Ot(wt,Nt+5,5)+1,St=Ot(wt,Nt+10,4)+4,Nt+=14;for(var Xt=0;Xt<38;Xt+=2)I.itree[Xt]=0,I.itree[Xt+1]=0;for(var Gt=1,Xt=0;Xt<St;Xt++){var he=Ot(wt,Nt+Xt*3,3);I.itree[(I.ordr[Xt]<<1)+1]=he,he>Gt&&(Gt=he)}Nt+=3*St,E(I.itree,Gt),B(I.itree,Gt,I.imap),$t=I.lmap,Ft=I.dmap,Nt=qt(I.imap,(1<<Gt)-1,Tt+jt,wt,Nt,I.ttree);var Qt=M(I.ttree,0,Tt,I.ltree);kt=(1<<Qt)-1;var Zt=M(I.ttree,Tt,jt,I.dtree);Kt=(1<<Zt)-1,E(I.ltree,Qt),B(I.ltree,Qt,$t),E(I.dtree,Zt),B(I.dtree,Zt,Ft)}for(;;){var se=$t[nt(wt,Nt)&kt];Nt+=se&15;var te=se>>>4;if(!(te>>>8))ct[At++]=te;else{if(te==256)break;var re=At+te-254;if(te>264){var Se=I.ldef[te-257];re=At+(Se>>>3)+Ot(wt,Nt,Se&7),Nt+=Se&7}var Be=Ft[nt(wt,Nt)&Kt];Nt+=Be&15;var Re=Be>>>4,Te=I.ddef[Re],xe=(Te>>>4)+ut(wt,Nt,Te&15);for(Nt+=Te&15,Rt&&(ct=y(ct,At+(1<<17)));At<re;)ct[At]=ct[At++-xe],ct[At]=ct[At++-xe],ct[At]=ct[At++-xe],ct[At]=ct[At++-xe];At=re}}}return ct.length==At?ct:ct.slice(0,At)}function y(wt,ct){var Et=wt.length;if(ct<=Et)return wt;var ut=new Uint8Array(Math.max(Et<<1,ct));return ut.set(wt,0),ut}function m(wt,ct,Et,ut,Ot,qt){for(var nt=C,Rt=F,Dt=0;Dt<Et;){var bt=wt[Rt(ut,Ot)&ct];Ot+=bt&15;var Tt=bt>>>4;if(Tt<=15)qt[Dt]=Tt,Dt++;else{var jt=0,St=0;Tt==16?(St=3+nt(ut,Ot,2),Ot+=2,jt=qt[Dt-1]):Tt==17?(St=3+nt(ut,Ot,3),Ot+=3):Tt==18&&(St=11+nt(ut,Ot,7),Ot+=7);for(var kt=Dt+St;Dt<kt;)qt[Dt]=jt,Dt++}}return Ot}function M(wt,ct,Et,ut){for(var Ot=0,qt=0,nt=ut.length>>>1;qt<Et;){var Rt=wt[qt+ct];ut[qt<<1]=0,ut[(qt<<1)+1]=Rt,Rt>Ot&&(Ot=Rt),qt++}for(;qt<nt;)ut[qt<<1]=0,ut[(qt<<1)+1]=0,qt++;return Ot}function E(wt,ct){for(var Et=wt.length,ut,Ot,qt,Dt,nt,Rt=I.bl_count,Dt=0;Dt<=ct;Dt++)Rt[Dt]=0;for(Dt=1;Dt<Et;Dt+=2)Rt[wt[Dt]]++;var bt=I.next_code;for(ut=0,Rt[0]=0,Ot=1;Ot<=ct;Ot++)ut=ut+Rt[Ot-1]<<1,bt[Ot]=ut;for(qt=0;qt<Et;qt+=2)nt=wt[qt+1],nt!=0&&(wt[qt]=bt[nt],bt[nt]++)}function B(wt,ct,Et){for(var ut=wt.length,Ot=I.rev15,qt=0;qt<ut;qt+=2)if(wt[qt+1]!=0)for(var nt=qt>>1,Rt=wt[qt+1],Dt=nt<<4|Rt,bt=ct-Rt,Tt=wt[qt]<<bt,jt=Tt+(1<<bt);Tt!=jt;){var St=Ot[Tt]>>>15-ct;Et[St]=Dt,Tt++}}function x(wt,ct){for(var Et=I.rev15,ut=15-ct,Ot=0;Ot<wt.length;Ot+=2){var qt=wt[Ot]<<ct-wt[Ot+1];wt[Ot]=Et[qt]>>>ut}}function C(wt,ct,Et){return(wt[ct>>>3]|wt[(ct>>>3)+1]<<8)>>>(ct&7)&(1<<Et)-1}function N(wt,ct,Et){return(wt[ct>>>3]|wt[(ct>>>3)+1]<<8|wt[(ct>>>3)+2]<<16)>>>(ct&7)&(1<<Et)-1}function F(wt,ct){return(wt[ct>>>3]|wt[(ct>>>3)+1]<<8|wt[(ct>>>3)+2]<<16)>>>(ct&7)}let I=function(){var wt=Uint16Array,ct=Uint32Array;return{next_code:new wt(16),bl_count:new wt(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new wt(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new ct(32),flmap:new wt(512),fltree:[],fdmap:new wt(32),fdtree:[],lmap:new wt(32768),ltree:[],ttree:[],dmap:new wt(32768),dtree:[],imap:new wt(512),itree:[],rev15:new wt(32768),lhst:new ct(286),dhst:new ct(30),ihst:new ct(19),lits:new ct(15e3),strt:new wt(65536),prev:new wt(32768)}}();(function(){for(var wt=32768,ct=0;ct<wt;ct++){var Et=ct;Et=(Et&2863311530)>>>1|(Et&1431655765)<<1,Et=(Et&3435973836)>>>2|(Et&858993459)<<2,Et=(Et&4042322160)>>>4|(Et&252645135)<<4,Et=(Et&4278255360)>>>8|(Et&16711935)<<8,I.rev15[ct]=(Et>>>16|Et<<16)>>>17}function ut(Ot,qt,nt){for(;qt--!=0;)Ot.push(0,nt)}for(var ct=0;ct<32;ct++)I.ldef[ct]=I.of0[ct]<<3|I.exb[ct],I.ddef[ct]=I.df0[ct]<<4|I.dxb[ct];ut(I.fltree,144,8),ut(I.fltree,112,9),ut(I.fltree,24,7),ut(I.fltree,8,8),E(I.fltree,9),B(I.fltree,9,I.flmap),x(I.fltree,9),ut(I.fdtree,32,5),E(I.fdtree,5),B(I.fdtree,5,I.fdmap),x(I.fdtree,5),ut(I.itree,19,0),ut(I.ltree,286,0),ut(I.dtree,30,0),ut(I.ttree,320,0)})();let U={table:function(){for(var wt=new Uint32Array(256),ct=0;ct<256;ct++){for(var Et=ct,ut=0;ut<8;ut++)Et&1?Et=3988292384^Et>>>1:Et=Et>>>1;wt[ct]=Et}return wt}(),update:function(wt,ct,Et,ut){for(var Ot=0;Ot<ut;Ot++)wt=U.table[(wt^ct[Et+Ot])&255]^wt>>>8;return wt},crc:function(wt,ct,Et){return U.update(4294967295,wt,ct,Et)^4294967295}};function P(wt,ct){return g(wt,ct)}let D={numWorkers:1,workerURL:"",useWorkers:!1},W=0,q=0,O=!0,L=[],n=[],d=[],v=new Map;function A(wt){b(wt.target);let{id:ct,error:Et,data:ut}=wt.data,Ot=v.get(ct);v.delete(ct),Et?Ot.reject(Et):Ot.resolve(ut)}function T(wt){return new Promise((ct,Et)=>{let ut=new Worker(wt);ut.onmessage=Ot=>{Ot.data==="start"?(ut.onerror=void 0,ut.onmessage=void 0,ct(ut)):Et(new Error(`unexpected message: ${Ot.data}`))},ut.onerror=Et})}function S(wt,ct){return wt.require?wt.require(ct):{}}let w=function(){if(o){let{Worker:wt}=S(i,"worker_threads");return{async createWorker(ct){return new wt(ct)},addEventListener(ct,Et){ct.on("message",ut=>{Et({target:ct,data:ut})})},async terminate(ct){await ct.terminate()}}}else return{async createWorker(wt){try{return await T(wt)}catch{console.warn("could not load worker:",wt)}let ct;try{let Et=await fetch(wt,{mode:"cors"});if(!Et.ok)throw new Error(`could not load: ${wt}`);ct=await Et.text(),wt=URL.createObjectURL(new Blob([ct],{type:"application/javascript"}));let ut=await T(wt);return D.workerURL=wt,ut}catch{console.warn("could not load worker via fetch:",wt)}if(ct!==void 0)try{wt=`data:application/javascript;base64,${btoa(ct)}`;let Et=await T(wt);return D.workerURL=wt,Et}catch{console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(wt,ct){wt.addEventListener("message",ct)},async terminate(wt){wt.terminate()}}}();function b(wt){n.push(wt),tt()}async function h(){if(n.length===0&&q<D.numWorkers){++q;try{let wt=await w.createWorker(D.workerURL);L.push(wt),n.push(wt),w.addEventListener(wt,A)}catch{O=!1}}return n.pop()}function k(wt,ct,Et,ut){let Ot=new Uint8Array(ct);P(wt,Ot),ut(Et?new Blob([Ot],{type:Et}):Ot.buffer)}async function tt(){if(d.length!==0){if(D.useWorkers&&O){let wt=await h();if(O){if(wt){if(d.length===0){b(wt);return}let{id:ct,src:Et,uncompressedSize:ut,type:Ot,resolve:qt,reject:nt}=d.shift();v.set(ct,{id:ct,resolve:qt,reject:nt});let Rt=[];wt.postMessage({type:"inflate",data:{id:ct,type:Ot,src:Et,uncompressedSize:ut}},Rt)}return}}for(;d.length;){let{src:wt,uncompressedSize:ct,type:Et,resolve:ut}=d.shift(),Ot=wt;s(wt)&&(Ot=await a(wt)),k(Ot,ct,Et,ut)}}}function X(wt){D.workerURL=wt.workerURL||D.workerURL,wt.workerURL&&(D.useWorkers=!0),D.useWorkers=wt.useWorkers!==void 0?wt.useWorkers:D.useWorkers,D.numWorkers=wt.numWorkers||D.numWorkers}function ft(wt,ct,Et){return new Promise((ut,Ot)=>{d.push({src:wt,uncompressedSize:ct,type:Et,resolve:ut,reject:Ot,id:W++}),tt()})}function et(wt){wt.splice(0,wt.length)}async function at(){for(let wt of L)await w.terminate(wt);et(L),et(n),et(d),v.clear(),q=0,O=!0}function $(wt,ct){let Et=wt&31,ut=(wt>>5&15)-1,Ot=(wt>>9&127)+1980,qt=0,nt=(ct&31)*2,Rt=ct>>5&63,Dt=ct>>11&31;return new Date(Ot,ut,Et,Dt,Rt,nt,qt)}class J{constructor(ct,Et){this._reader=ct,this._rawEntry=Et,this.name=Et.name,this.nameBytes=Et.nameBytes,this.size=Et.uncompressedSize,this.compressedSize=Et.compressedSize,this.comment=Et.comment,this.commentBytes=Et.commentBytes,this.compressionMethod=Et.compressionMethod,this.lastModDate=$(Et.lastModFileDate,Et.lastModFileTime),this.isDirectory=Et.uncompressedSize===0&&Et.name.endsWith("/"),this.encrypted=!!(Et.generalPurposeBitFlag&1),this.externalFileAttributes=Et.externalFileAttributes,this.versionMadeBy=Et.versionMadeBy}async blob(ct="application/octet-stream"){return await yt(this._reader,this._rawEntry,ct)}async arrayBuffer(){return await st(this._reader,this._rawEntry)}async text(){let ct=await this.arrayBuffer();return mt(new Uint8Array(ct))}async json(){let ct=await this.text();return JSON.parse(ct)}}let R=22,j=65535,z=101010256,Z=101075792;async function Q(wt,ct,Et){return await wt.read(ct,Et)}async function K(wt,ct,Et,ut){return wt.sliceAsBlob?await wt.sliceAsBlob(ct,Et,ut):await wt.read(ct,Et)}let G={unsigned(){return 0}};function H(wt,ct){return wt[ct]+wt[ct+1]*256}function Y(wt,ct){return wt[ct]+wt[ct+1]*256+wt[ct+2]*65536+wt[ct+3]*16777216}function it(wt,ct){return Y(wt,ct)+Y(wt,ct+4)*4294967296}let ot=new TextDecoder;function mt(wt,ct){return e(wt.buffer)&&(wt=new Uint8Array(wt)),ot.decode(wt)}async function _t(wt,ct){let Et=Math.min(R+j,ct),ut=ct-Et,Ot=await Q(wt,ut,Et);for(let qt=Et-R;qt>=0;--qt){if(Y(Ot,qt)!==z)continue;let nt=new Uint8Array(Ot.buffer,Ot.byteOffset+qt,Ot.byteLength-qt),Rt=H(nt,4);if(Rt!==0)throw new Error(`multi-volume zip files are not supported. This is volume: ${Rt}`);let Dt=H(nt,10),bt=Y(nt,12),Tt=Y(nt,16),jt=H(nt,20),St=nt.length-R;if(jt!==St)throw new Error(`invalid comment length. expected: ${St}, actual: ${jt}`);let kt=new Uint8Array(nt.buffer,nt.byteOffset+22,jt),Kt=mt(kt);return Dt===65535||Tt===4294967295?await vt(wt,ut+qt,Kt,kt):await V(wt,Tt,bt,Dt,Kt,kt)}throw new Error("could not find end of central directory. maybe not zip file")}let ht=117853008;async function vt(wt,ct,Et,ut){let Ot=ct-20,qt=await Q(wt,Ot,20);if(Y(qt,0)!==ht)throw new Error("invalid zip64 end of central directory locator signature");let nt=it(qt,8),Rt=await Q(wt,nt,56);if(Y(Rt,0)!==Z)throw new Error("invalid zip64 end of central directory record signature");let Dt=it(Rt,32),bt=it(Rt,40),Tt=it(Rt,48);return V(wt,Tt,bt,Dt,Et,ut)}let pt=33639248;async function V(wt,ct,Et,ut,Ot,qt){let nt=0,Rt=await Q(wt,ct,Et),Dt=[];for(let bt=0;bt<ut;++bt){let Tt=Rt.subarray(nt,nt+46),jt=Y(Tt,0);if(jt!==pt)throw new Error(`invalid central directory file header signature: 0x${jt.toString(16)}`);let St={versionMadeBy:H(Tt,4),versionNeededToExtract:H(Tt,6),generalPurposeBitFlag:H(Tt,8),compressionMethod:H(Tt,10),lastModFileTime:H(Tt,12),lastModFileDate:H(Tt,14),crc32:Y(Tt,16),compressedSize:Y(Tt,20),uncompressedSize:Y(Tt,24),fileNameLength:H(Tt,28),extraFieldLength:H(Tt,30),fileCommentLength:H(Tt,32),internalFileAttributes:H(Tt,36),externalFileAttributes:Y(Tt,38),relativeOffsetOfLocalHeader:Y(Tt,42)};if(St.generalPurposeBitFlag&64)throw new Error("strong encryption is not supported");nt+=46;let kt=Rt.subarray(nt,nt+St.fileNameLength+St.extraFieldLength+St.fileCommentLength);St.nameBytes=kt.slice(0,St.fileNameLength),St.name=mt(St.nameBytes);let Kt=St.fileNameLength+St.extraFieldLength,At=kt.slice(St.fileNameLength,Kt);St.extraFields=[];let Nt=0;for(;Nt<At.length-3;){let Ft=H(At,Nt+0),Wt=H(At,Nt+2),ae=Nt+4,Xt=ae+Wt;if(Xt>At.length)throw new Error("extra field length exceeds extra field buffer size");St.extraFields.push({id:Ft,data:At.slice(ae,Xt)}),Nt=Xt}if(St.commentBytes=kt.slice(Kt,Kt+St.fileCommentLength),St.comment=mt(St.commentBytes),nt+=kt.length,St.uncompressedSize===4294967295||St.compressedSize===4294967295||St.relativeOffsetOfLocalHeader===4294967295){let Ft=St.extraFields.find(Xt=>Xt.id===1);if(!Ft)throw new Error("expected zip64 extended information extra field");let Wt=Ft.data,ae=0;if(St.uncompressedSize===4294967295){if(ae+8>Wt.length)throw new Error("zip64 extended information extra field does not include uncompressed size");St.uncompressedSize=it(Wt,ae),ae+=8}if(St.compressedSize===4294967295){if(ae+8>Wt.length)throw new Error("zip64 extended information extra field does not include compressed size");St.compressedSize=it(Wt,ae),ae+=8}if(St.relativeOffsetOfLocalHeader===4294967295){if(ae+8>Wt.length)throw new Error("zip64 extended information extra field does not include relative header offset");St.relativeOffsetOfLocalHeader=it(Wt,ae),ae+=8}}let $t=St.extraFields.find(Ft=>Ft.id===28789&&Ft.data.length>=6&&Ft.data[0]===1&&Y(Ft.data,1),G.unsigned(St.nameBytes));if($t&&(St.fileName=mt($t.data.slice(5))),St.compressionMethod===0){let Ft=St.uncompressedSize;if(St.generalPurposeBitFlag&1&&(Ft+=12),St.compressedSize!==Ft)throw new Error(`compressed size mismatch for stored file: ${St.compressedSize} != ${Ft}`)}Dt.push(St)}return{zip:{comment:Ot,commentBytes:qt},entries:Dt.map(bt=>new J(wt,bt))}}async function rt(wt,ct){if(ct.generalPurposeBitFlag&1)throw new Error("encrypted entries not supported");let Et=await Q(wt,ct.relativeOffsetOfLocalHeader,30),ut=await wt.getLength(),Ot=Y(Et,0);if(Ot!==67324752)throw new Error(`invalid local file header signature: 0x${Ot.toString(16)}`);let qt=H(Et,26),nt=H(Et,28),Rt=ct.relativeOffsetOfLocalHeader+Et.length+qt+nt,Dt;if(ct.compressionMethod===0)Dt=!1;else if(ct.compressionMethod===8)Dt=!0;else throw new Error(`unsupported compression method: ${ct.compressionMethod}`);let bt=Rt,Tt=bt+ct.compressedSize;if(ct.compressedSize!==0&&Tt>ut)throw new Error(`file data overflows file bounds: ${bt} +  ${ct.compressedSize}  > ${ut}`);return{decompress:Dt,fileDataStart:bt}}async function st(wt,ct){let{decompress:Et,fileDataStart:ut}=await rt(wt,ct);if(!Et){let qt=await Q(wt,ut,ct.compressedSize);return c(qt)?qt.buffer:qt.slice().buffer}let Ot=await K(wt,ut,ct.compressedSize);return await ft(Ot,ct.uncompressedSize)}async function yt(wt,ct,Et){let{decompress:ut,fileDataStart:Ot}=await rt(wt,ct);if(!ut){let nt=await K(wt,Ot,ct.compressedSize,Et);return s(nt)?nt:new Blob([e(nt.buffer)?new Uint8Array(nt):nt],{type:Et})}let qt=await K(wt,Ot,ct.compressedSize);return await ft(qt,ct.uncompressedSize,Et)}function Ct(wt){X(wt)}async function dt(wt){let ct;if(typeof Blob<"u"&&wt instanceof Blob)ct=new l(wt);else if(wt instanceof ArrayBuffer||wt&&wt.buffer&&wt.buffer instanceof ArrayBuffer)ct=new f(wt);else if(e(wt)||e(wt.buffer))ct=new f(wt);else if(typeof wt=="string"){let ut=await fetch(wt);if(!ut.ok)throw new Error(`failed http request ${wt}, status: ${ut.status}: ${ut.statusText}`);let Ot=await ut.blob();ct=new l(Ot)}else if(typeof wt.getLength=="function"&&typeof wt.read=="function")ct=wt;else throw new Error("unsupported source type");let Et=await ct.getLength();if(Et>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${Et}. Only file sizes up 4503599627370496 bytes are supported`);return await _t(ct,Et)}async function Mt(wt){let{zip:ct,entries:Et}=await dt(wt);return{zip:ct,entries:Object.fromEntries(Et.map(ut=>[ut.name,ut]))}}function Lt(){at()}r.HTTPRangeReader=p,r.cleanup=Lt,r.setOptions=Ct,r.unzip=Mt,r.unzipRaw=dt,Object.defineProperty(r,"__esModule",{value:!0})})}),Uo=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.WasmSrc=void 0;var i=ug(),r=Jn(),u=or(),a=class{constructor(s){this.src=s,this.logger=u.LoggerFactory.INST.create("WasmSrc"),this.splitted=this.splitBuffer(s),this.logger.debug(`Buffer splitted into ${this.splitted.length} parts`)}wasmBinary(){return this.splitted[0]}async sourceCode(){let{entries:s}=await(0,i.unzip)(this.splitted[1]),e=new Map;for(let[o,c]of Object.entries(s)){if(c.isDirectory)continue;let f=await c.text();e.set(o,f)}return e}additionalCode(){return this.splitted.length==2?null:this.splitted[2].toString()}splitBuffer(s){let e="",o=parseInt(s.toString("utf8",0,1));this.logger.debug(`Number of elements: ${o}`);let c=s.length,f=0,l=0;for(let y=2;y<c;y++){let m=s.toString("utf8",y,y+1);if(m=="|"&&f++,f==o){l=y+1;break}e+=m}this.logger.debug("Parsed:",{header:e,dataStart:l});let p=e.split("|").map(y=>parseInt(y));this.logger.debug("Lengths",p);let g=[];for(let y of p){let m=r.Buffer.alloc(y),M=l+y;s.copy(m,0,l,M),l=M,g.push(m)}return g}};t.WasmSrc=a}),bu=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ContractDefinitionLoader=void 0;var i=Do(),r=_n(),u=fn(),a=or(),s=ci(),e=di(),o=Uo(),c=class{constructor(f,l){this.arweave=f,this.env=l,this.logger=a.LoggerFactory.INST.create("ContractDefinitionLoader"),this.tagsParser=new e.TagsParser}async load(f,l){let p=u.Benchmark.measure(),g=await this.doLoad(f,l);return this.logger.info(`Contract definition loaded in: ${p.elapsed()}`),g}async doLoad(f,l){let p=u.Benchmark.measure(),g=await this.arweaveWrapper.tx(f),y=await this.arweave.wallets.ownerToAddress(g.owner);this.logger.debug("Contract tx and owner",p.elapsed()),p.reset();let m=l||this.tagsParser.getTag(g,r.SMART_WEAVE_TAGS.CONTRACT_SRC_TX_ID),M=this.tagsParser.getTag(g,r.WARP_TAGS.WARP_TESTNET)||null;if(M&&this.env!=="testnet")throw new Error('Trying to use testnet contract in a non-testnet env. Use the "forTestnet" factory method.');if(!M&&this.env==="testnet")throw new Error("Trying to use non-testnet contract in a testnet env.");let E=this.tagsParser.getTag(g,r.SMART_WEAVE_TAGS.MIN_FEE),B=null,x=this.tagsParser.getTag(g,r.WARP_TAGS.MANIFEST);x&&(B=JSON.parse(x)),this.logger.debug("Tags decoding",p.elapsed()),p.reset();let C=await this.evalInitialState(g);this.logger.debug("init state",C);let N=JSON.parse(C);this.logger.debug("Parsing src and init state",p.elapsed());let{src:F,srcBinary:I,srcWasmLang:U,contractType:P,metadata:D,srcTx:W}=await this.loadContractSource(m);return{txId:f,srcTxId:m,src:F,srcBinary:I,srcWasmLang:U,initState:N,minFee:E,owner:y,contractType:P,metadata:D,manifest:B,contractTx:g.toJSON(),srcTx:W,testnet:M}}async loadContractSource(f){let l=u.Benchmark.measure(),p=await this.arweaveWrapper.tx(f),g=this.tagsParser.getTag(p,r.SMART_WEAVE_TAGS.CONTENT_TYPE);if(!i.SUPPORTED_SRC_CONTENT_TYPES.includes(g))throw new Error(`Contract source content type ${g} not supported`);let y=g=="application/javascript"?"js":"wasm",m=y=="js"?await this.arweaveWrapper.txDataString(f):await this.arweaveWrapper.txData(f),M,E,B;if(y=="wasm"){if(E=new o.WasmSrc(m),M=this.tagsParser.getTag(p,r.WARP_TAGS.WASM_LANG),!M)throw new Error(`Wasm lang not set for wasm contract src ${f}`);B=JSON.parse(this.tagsParser.getTag(p,r.WARP_TAGS.WASM_META))}return this.logger.debug("Contract src tx load",l.elapsed()),l.reset(),{src:y=="js"?m:null,srcBinary:y=="wasm"?E.wasmBinary():null,srcWasmLang:M,contractType:y,metadata:B,srcTx:p.toJSON()}}async evalInitialState(f){if(this.tagsParser.getTag(f,r.WARP_TAGS.INIT_STATE))return this.tagsParser.getTag(f,r.WARP_TAGS.INIT_STATE);if(this.tagsParser.getTag(f,r.WARP_TAGS.INIT_STATE_TX)){let l=this.tagsParser.getTag(f,r.WARP_TAGS.INIT_STATE_TX);return this.arweaveWrapper.txDataString(l)}else return this.arweaveWrapper.txDataString(f.id)}type(){return"arweave"}setCache(f){throw new Error("No cache implemented for this loader")}setSrcCache(f){throw new Error("No cache implemented for this loader")}getCache(){throw new Error("No cache implemented for this loader")}getSrcCache(){throw new Error("No cache implemented for this loader")}set warp(f){this.arweaveWrapper=new s.ArweaveWrapper(f)}};t.ContractDefinitionLoader=c}),Gf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.WarpGatewayContractDefinitionLoader=void 0;var i=bu(),r=Jn(),u=Do(),a=_n(),s=fn(),e=or(),o=ci(),c=Uo(),f=di(),l=Xn(),p=_a(),g=Er(),y=class{constructor(m,M,E,B){this.definitionCache=M,this.srcCache=E,this.env=B,this.rLogger=e.LoggerFactory.INST.create("WarpGatewayContractDefinitionLoader"),this.contractDefinitionLoader=new i.ContractDefinitionLoader(m,B),this.tagsParser=new f.TagsParser}async load(m,M){let E=await this.getFromCache(m,M);if(E)return this.rLogger.debug("WarpGatewayContractDefinitionLoader: Hit from cache!"),E.contractType=="wasm"&&E.srcBinary.data&&(E.srcBinary=r.Buffer.from(E.srcBinary.data)),this.verifyEnv(E),E;let B=s.Benchmark.measure(),x=await this.doLoad(m,M);return this.rLogger.info(`Contract definition loaded in: ${B.elapsed()}`),this.verifyEnv(x),await this.putToCache(m,x,M),x}async doLoad(m,M){try{let E=(0,g.stripTrailingSlash)(this._warp.gwUrl()),B=await(0,g.getJsonResponse)(fetch(`${E}/gateway/contract?txId=${m}${M?`&srcTxId=${M}`:""}`));if(B.srcBinary!=null&&!(B.srcBinary instanceof r.Buffer)&&(B.srcBinary=r.Buffer.from(B.srcBinary.data)),B.srcBinary){let x=new c.WasmSrc(B.srcBinary);B.srcBinary=x.wasmBinary();let C;B.srcTx?C=new p.Transaction({...B.srcTx}):C=await this.arweaveWrapper.tx(B.srcTxId);let N=JSON.parse(this.tagsParser.getTag(C,a.WARP_TAGS.WASM_META));B.metadata=N}return B.contractType=B.src?"js":"wasm",B}catch(E){return this.rLogger.warn("Falling back to default contracts loader",E),await this.contractDefinitionLoader.doLoad(m,M)}}async loadContractSource(m){return await this.contractDefinitionLoader.loadContractSource(m)}type(){return"warp"}setCache(m){this.definitionCache=m}setSrcCache(m){this.srcCache=m}getCache(){return this.definitionCache}getSrcCache(){return this.srcCache}verifyEnv(m){if(m.testnet&&this.env!=="testnet")throw new Error('Trying to use testnet contract in a non-testnet env. Use the "forTestnet" factory method.');if(!m.testnet&&this.env==="testnet")throw new Error("Trying to use non-testnet contract in a testnet env.")}async getFromCache(m,M){let E=await this.definitionCache.get(new l.CacheKey(m,"cd"));if(!E)return null;let B=await this.srcCache.get(new l.CacheKey(M||E.cachedValue.srcTxId,"src"));return B?{...E.cachedValue,...B.cachedValue}:null}async putToCache(m,M,E){let B=new u.SrcCache(M),x=new u.ContractCache(M);await this.definitionCache.put({key:m,sortKey:"cd"},x),await this.srcCache.put({key:E||x.srcTxId,sortKey:"src"},B)}set warp(m){this._warp=m,this.arweaveWrapper=new o.ArweaveWrapper(m),this.contractDefinitionLoader.warp=m}};t.WarpGatewayContractDefinitionLoader=y}),vu=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ArweaveGQLTxsFetcher=void 0;var i=or(),r=ci(),u=Er(),a=fn(),s=_n(),e=`query Transactions($tags: [TagFilter!]!, $blockFilter: BlockFilter!, $first: Int!, $after: String) {
    transactions(tags: $tags, block: $blockFilter, first: $first, sort: HEIGHT_ASC, after: $after) {
      pageInfo {
        hasNextPage
      }
      edges {
        node {
          id
          owner { address }
          recipient
          tags {
            name
            value
          }
          block {
            height
            id
            timestamp
          }
          fee { winston }
          quantity { winston }
          parent { id }
          bundledIn { id }
        }
        cursor
      }
    }
  }`,o=`query Transaction($id: ID!) {
  transaction(id: $id) {
          id
          owner { address, key }
          recipient
          tags {
            name
            value
          }
          block {
            height
            id
            timestamp
          }
          fee { winston, ar }
          quantity { winston, ar }
          bundledIn { id }
    			parent{ id }
          signature
        }
}`,c=`query Transactions($tags: [TagFilter!]!) {
  transactions(tags: $tags) {
      edges {
        node {
          id
          owner { address, key }
          recipient
          tags {
            name
            value
          }
          block {
            height
            id
            timestamp
          }
          fee { winston, ar }
          quantity { winston, ar }
          parent { id }
          bundledIn { id }
          signature
        }
      }
  }
}`,f=30*1e3,l=100,p=class{constructor(g){this.warp=g,this.logger=i.LoggerFactory.INST.create(p.name),this.arweaveWrapper=new r.ArweaveWrapper(g)}async transaction(g){return(await this.fetch(o,{id:g})).transaction}async transactionUsingUploaderTag(g){let y={name:s.WARP_TAGS.UPLOADER_TX_ID,values:[g]},m=(await this.fetch(c,{tags:[y]})).transactions;if(m.edges.length<1)throw new Error(`No interaction with tag ${s.WARP_TAGS.UPLOADER_TX_ID}:${g}`);return m.edges[0].node}async transactions(g){let y=(await this.fetch(e,g)).transactions,m=[...y.edges];for(;y.pageInfo.hasNextPage;){let M=y.edges[l-1].cursor,E={...g,after:M};y=(await this.fetch(e,E)).transactions,m.push(...y.edges)}return m}async fetch(g,y){let m=a.Benchmark.measure(),M=await this.arweaveWrapper.gql(g,y);for(this.logger.debug("GQL page load:",m.elapsed());M.status===403;)this.logger.warn(`GQL rate limiting, waiting ${f}ms before next try.`),await(0,u.sleep)(f),M=await this.arweaveWrapper.gql(g,y);if(M.status!==200)throw new Error(`Unable to retrieve transactions. Arweave gateway responded with status ${M.status}.`);if(M.data.errors)throw this.logger.error(M.data.errors),new Error("Error while fetching arweave transactions");return M.data.data}};t.ArweaveGQLTxsFetcher=p}),Vf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ArweaveGatewayInteractionsLoader=t.bundledTxsFilter=void 0;var i=_n(),r=fn(),u=or(),a=Li(),s=vu(),e=di(),o=100;function c(l){var p,g;return!(!((p=l.node.parent)===null||p===void 0)&&p.id)&&!(!((g=l.node.bundledIn)===null||g===void 0)&&g.id)}t.bundledTxsFilter=c;var f=class{constructor(l,p){this.arweave=l,this.environment=p,this.logger=u.LoggerFactory.INST.create("ArweaveGatewayInteractionsLoader"),this.tagsParser=new e.TagsParser,this.sorter=new a.LexicographicalInteractionsSorter(l)}async load(l,p,g,y){this.logger.debug("Loading interactions for",{contractId:l,fromSortKey:p,toSortKey:g});let m=this.sorter.extractBlockHeight(p),M=this.sorter.extractBlockHeight(g),E={tags:[{name:i.SMART_WEAVE_TAGS.APP_NAME,values:["SmartWeaveAction"]},{name:i.SMART_WEAVE_TAGS.CONTRACT_TX_ID,values:[l]}],blockFilter:{min:m,max:M},first:o},B=r.Benchmark.measure(),x=(await this.arweaveTransactionQuery.transactions(E)).filter(c);if(B.stop(),y.internalWrites){let I={tags:[{name:i.WARP_TAGS.INTERACT_WRITE,values:[l]}],blockFilter:{min:m,max:M},first:o},U=(await this.arweaveTransactionQuery.transactions(I)).filter(c);this.logger.debug("Inner writes interactions length:",U.length),x=x.concat(U)}x=x.filter(I=>I.node.block&&I.node.block.id&&I.node.block.height);let C=await this.sorter.sort(x);p&&g?C=C.filter(I=>I.node.sortKey.localeCompare(p)>0&&I.node.sortKey.localeCompare(g)<=0):p&&!g?C=C.filter(I=>I.node.sortKey.localeCompare(p)>0):!p&&g&&(C=C.filter(I=>I.node.sortKey.localeCompare(g)<=0)),this.logger.debug("All loaded interactions:",{from:p,to:g,loaded:C.length,time:B.elapsed()});let N=this.environment==="local"||this.environment==="testnet",F=this._warp.maybeLoadPlugin("vrf");return C.map(I=>{let U=I.node;return N&&this.tagsParser.hasVrfTag(U)&&(F?U.vrf=F.process().generateMockVrf(U.sortKey):this.logger.warn('Cannot generate mock vrf for interaction - no "warp-contracts-plugin-vrf" attached!')),U})}type(){return"arweave"}clearCache(){}set warp(l){this.arweaveTransactionQuery=new s.ArweaveGQLTxsFetcher(l),this._warp=l}};t.ArweaveGatewayInteractionsLoader=f}),Zf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.CacheableInteractionsLoader=void 0;var i=or(),r=class{constructor(u){this.delegate=u,this.logger=i.LoggerFactory.INST.create("CacheableInteractionsLoader"),this.interactionsCache=new Map}async load(u,a,s,e){if(this.logger.debug("Loading interactions for",{contractTxId:u,fromSortKey:a,toSortKey:s}),this.interactionsCache.has(u)){let o=this.interactionsCache.get(u);if(o!=null&&o.length){let c=o[o.length-1].sortKey;if(c.localeCompare(s)<0){let f=await this.delegate.load(u,c,s,e),l=o.concat(f);return this.interactionsCache.set(u,l),l}}return o}else{let o=await this.delegate.load(u,a,s,e);return o.length&&this.interactionsCache.set(u,o),o}}type(){return this.delegate.type()}clearCache(){this.interactionsCache.clear()}set warp(u){this.delegate.warp=u}};t.CacheableInteractionsLoader=r}),Jf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStateEvaluator=void 0;var i=Xn(),r=fn(),u=or(),a=Er(),s=Lo(),e=di(),o=wa(),c=class{constructor(l,p=[]){this.arweave=l,this.executionContextModifiers=p,this.logger=u.LoggerFactory.INST.create("DefaultStateEvaluator"),this.tagsParser=new e.TagsParser}async eval(l){return this.doReadState(l.sortedInteractions,new s.EvalStateResult(l.contractDefinition.initState,{},{}),l)}async doReadState(l,p,g){var y;let{ignoreExceptions:m,stackTrace:M,internalWrites:E}=g.evaluationOptions,{contract:B,contractDefinition:x,sortedInteractions:C,warp:N}=g,F=p.state,I=null,U=p.validity,P=p.errorMessages;g==null||g.handler.initState(F);let D=g.contract.callDepth();this.logger.debug(`${(0,a.indent)(D)}Evaluating state for ${x.txId} [${l.length} non-cached of ${C.length} all]`);let W=null,q=null,O=l.length,L=N.maybeLoadPlugin("evm-signature-verification"),n=N.maybeLoadPlugin("evaluation-progress"),d=N.maybeLoadPlugin("vrf"),v=!1;for(let T=0;T<O&&!v;T++){let S=l[T];I=S.sortKey,B.interactionState().setInitial(B.txId(),new s.EvalStateResult(F,U,P),I);let w=r.Benchmark.measure();if(S.vrf){if(!d)this.logger.warn('Cannot verify vrf for interaction - no "warp-contracts-plugin-vrf" attached!');else if(!d.process().verify(S.vrf,S.sortKey))throw new Error("Vrf verification failed.")}if(L&&this.tagsParser.isEvmSigned(S))try{if(!await L.process(S)){this.logger.warn(`Interaction ${S.id} was not verified, skipping.`);continue}}catch(h){this.logger.error(h);continue}if(this.logger.debug(`${(0,a.indent)(D)}[${x.txId}][${S.id}][${S.block.height}]: ${l.indexOf(S)+1}/${l.length} [of all:${C.length}]`),this.tagsParser.isInteractWrite(S,x.txId)&&E){let h=this.tagsParser.getContractTag(S);this.logger.debug(`${(0,a.indent)(D)}Internal Write - Loading writing contract`,h);let k=B.getCallStack().addInteractionData({interaction:null,interactionTx:S}),tt=N.contract(h,g.contract,{callingInteraction:S,callType:"read"});this.logger.debug(`${(0,a.indent)(D)}Reading state of the calling contract at`,S.sortKey);let X=null,ft=null;try{ft=await tt.readState(S.sortKey),X=B.interactionState().get(B.txId(),S.sortKey)}catch(et){if(et.name==o.KnownErrors.ContractError&&(et.subtype=="unsafeClientSkip"||et.subtype=="constructor"||et.subtype=="blacklistedSkip")||et.name==o.KnownErrors.NonWhitelistedSourceError){if(this.logger.warn(`Skipping contract in internal write, reason ${et.subtype||et.name}`),P[S.id]=et,f(S)){let at=new s.EvalStateResult(F,U,P);q={tx:S,state:at}}}else throw et}if(X!==null&&ft!==null){let et=ft.cachedValue.validity[S.id];et&&(F=X.state),g==null||g.handler.initState(F),et?(U[S.id]=X.validity[S.id],!((y=X.errorMessages)===null||y===void 0)&&y[S.id]&&(P[S.id]=X.errorMessages[S.id])):(U[S.id]=!1,P[S.id]=ft.cachedValue.errorMessages[S.id]);let at=new s.EvalStateResult(F,U,P);f(S)&&(q={tx:S,state:at})}else U[S.id]=!1;k.update({cacheHit:!1,outputState:M.saveState?F:void 0,executionTime:w.elapsed(!0),valid:U[S.id],errorMessage:W,gasUsed:0})}else{let h=this.tagsParser.getInputTag(S,g.contractDefinition.txId);if(!h){this.logger.error(`${(0,a.indent)(D)}Skipping tx - Input tag not found for ${S.id}`);continue}let k=this.parseInput(h);if(!k){this.logger.error(`${(0,a.indent)(D)}Skipping tx - invalid Input tag - ${S.id}`);continue}let tt={input:k,caller:S.owner.address,interactionType:"write"},X={interaction:tt,interactionTx:S},ft=B.getCallStack().addInteractionData(X),et=await g.handler.handle(g,new s.EvalStateResult(F,U,P),X);if(W=et.errorMessage,et.type!=="ok"&&(P[S.id]=W),this.logResult(et,S,g),this.logger.debug(`${(0,a.indent)(D)}Interaction evaluation`,w.elapsed()),ft.update({cacheHit:!1,outputState:M.saveState?F:void 0,executionTime:w.elapsed(!0),valid:U[S.id],errorMessage:W,gasUsed:et.gasUsed}),et.type==="exception"&&m!==!0)throw new Error(`Exception while processing ${JSON.stringify(tt)}:
${et.errorMessage}`);let at=et.type==="ok";U[S.id]=at,F=et.state;let $=new s.EvalStateResult(F,U,P);f(S)&&(q={tx:S,state:$});let J=et.event;J&&N.eventTarget.dispatchEvent(new s.CustomEvent(at?"interactionCompleted":"interactionFailed",{detail:J}))}n&&n.process({contractTxId:x.txId,allInteractions:O,currentInteraction:T,lastInteractionProcessingTime:w.elapsed()});try{for(let{modify:h}of this.executionContextModifiers)g=await h(F,g)}catch(h){if(h.name==o.KnownErrors.ContractError&&h.subtype=="unsafeClientSkip"||h.name==o.KnownErrors.NonWhitelistedSourceError)U[S.id]=!1,P[S.id]=h.message,v=!0;else throw h}let b=g.evaluationOptions.cacheEveryNInteractions>0&&T%g.evaluationOptions.cacheEveryNInteractions===0;if(B.isRoot())B.clearChildren(),q&&(B.interactionState().update(B.txId(),q.state,q.tx.sortKey),U[S.id]?await B.interactionState().commit(S,b):await B.interactionState().rollback(S,b));else{let h=new s.EvalStateResult(F,U,P);B.interactionState().update(B.txId(),h,I)}}let A=new s.EvalStateResult(F,U,P);return q!==null&&await this.onStateEvaluated(q.tx,g,q.state),new i.SortKeyCacheResult(I,A)}logResult(l,p,g){l.type==="exception"&&this.logger.error(`Executing of interaction: [${g.contractDefinition.txId} -> ${p.id}] threw exception:`,`${l.errorMessage}`),l.type==="error"&&this.logger.warn(`Executing of interaction: [${g.contractDefinition.txId} -> ${p.id}] returned error:`,l.errorMessage)}parseInput(l){try{return JSON.parse(l.value)}catch(p){return this.logger.error(p),null}}};t.DefaultStateEvaluator=c;function f(l){return l.confirmationStatus===void 0?!0:l.confirmationStatus==="confirmed"}}),Xf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.CacheableStateEvaluator=void 0;var i=Xn(),r=or(),u=Er(),a=Lo(),s=Jf(),e=Li(),o=class extends s.DefaultStateEvaluator{constructor(c,f,l=[]){super(c,l),this.cache=f,this.cLogger=r.LoggerFactory.INST.create("CacheableStateEvaluator")}async eval(c){var f,l,p,g;let{cachedState:y,contract:m}=c,M=c.sortedInteractions;if(y&&y.sortKey==c.requestedSortKey&&!(M!=null&&M.length))return this.cLogger.info(`Exact cache hit for sortKey ${(f=c==null?void 0:c.contractDefinition)===null||f===void 0?void 0:f.txId}:${y.sortKey}`),(l=c.handler)===null||l===void 0||l.initState(y.cachedValue.state),y;let E=c.contractDefinition.txId;if(!E)throw new Error("Contract tx id not set in the execution context");let B=y==null,x=B?c.contractDefinition.initState:y.cachedValue.state,C=B?{}:y.cachedValue.validity,N=B?{}:y.cachedValue.errorMessages;if(B&&(x=await c.handler.maybeCallStateConstructor(c.contractDefinition.initState,c),await m.interactionState().commitKV()),M.length==0)if(this.cLogger.info(`No missing interactions ${E}`),B){(p=c.handler)===null||p===void 0||p.initState(x),this.cLogger.debug("Inserting initial state into cache");let F=new a.EvalStateResult(x,{},{});return await this.cache.put(new i.CacheKey(E,e.genesisSortKey),F),new i.SortKeyCacheResult(e.genesisSortKey,F)}else return(g=c.handler)===null||g===void 0||g.initState(y.cachedValue.state),y;return await this.doReadState(M,new a.EvalStateResult(x,C,N||{}),c)}async onStateEvaluated(c,f,l){let p=f.contractDefinition.txId;this.cLogger.debug(`${(0,u.indent)(f.contract.callDepth())}onStateEvaluated: cache update for contract ${p} [${c.sortKey}]`),await this.putInCache(p,c,l)}async onStateUpdate(c,f,l,p=!1){(f.evaluationOptions.updateCacheForEachInteraction||p)&&(this.cLogger.debug(`onStateUpdate: cache update for contract ${f.contractDefinition.txId} [${c.sortKey}]`,{contract:f.contractDefinition.txId,state:l.state,sortKey:c.sortKey}),await this.putInCache(f.contractDefinition.txId,c,l))}async latestAvailableState(c,f){if(this.cLogger.debug("Searching for",{contractTxId:c,sortKey:f}),f){let l=await this.cache.getLessOrEqual(c,f);return l&&this.cLogger.debug(`Latest available state at ${c}: ${l.sortKey}`),l}else return await this.cache.getLast(c)}async onInternalWriteStateUpdate(c,f,l){this.cLogger.debug("Internal write state update:",{sortKey:c.sortKey,dry:c.dry,contractTxId:f,state:l.state}),await this.putInCache(f,c,l)}async onContractCall(c,f,l){var p;if(((p=f.sortedInteractions)===null||p===void 0?void 0:p.length)==0)return;let g=f.sortedInteractions.indexOf(c);g<1||await this.putInCache(f.contractDefinition.txId,f.sortedInteractions[g-1],l)}async putInCache(c,f,l){if(f.dry||f.confirmationStatus!==void 0&&f.confirmationStatus!=="confirmed")return;let p=new a.EvalStateResult(l.state,l.validity,l.errorMessages||{});this.cLogger.debug("Putting into cache",{contractTxId:c,transaction:f.id,sortKey:f.sortKey,dry:f.dry}),await this.cache.put(new i.CacheKey(c,f.sortKey),p)}async syncState(c,f,l,p){let g=new a.EvalStateResult(l,p,{});return await this.cache.put(new i.CacheKey(c,f),g),new i.SortKeyCacheResult(f,g)}async dumpCache(){return await this.cache.dump()}async internalWriteState(c,f){return await this.cache.get(new i.CacheKey(c,f))}async hasContractCached(c){return await this.cache.getLast(c)!=null}async lastCachedSortKey(){return await this.cache.getLastSortKey()}setCache(c){this.cache=c}getCache(){return this.cache}};t.CacheableStateEvaluator=o}),hg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),lg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),Yf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionOutput=t.InteractionInput=t.InteractionCall=t.ContractCallRecord=void 0;var i=Jn(),r=class{constructor(e,o,c=null){this.contractTxId=e,this.depth=o,this.innerCallType=c,this.interactions={},this.id=i.Crypto.randomUUID()}addInteractionData(e){let{interaction:o,interactionTx:c}=e,f=u.create(new a(c.id,c.sortKey,c.block.height,c.block.timestamp,o==null?void 0:o.caller,o==null?void 0:o.input.function,o==null?void 0:o.input,c.dry,{}));return this.interactions[c.id]=f,f}getInteraction(e){return this.interactions[e]}print(){return JSON.stringify(this,null,2)}};t.ContractCallRecord=r;var u=class{constructor(e){this.interactionInput=e}static create(e){return new u(e)}update(e){this.interactionOutput=e}};t.InteractionCall=u;var a=class{constructor(e,o,c,f,l,p,g,y,m={}){this.txId=e,this.sortKey=o,this.blockHeight=c,this.blockTimestamp=f,this.caller=l,this.functionName=p,this.functionArguments=g,this.dryWrite=y,this.foreignContractCalls=m}};t.InteractionInput=a;var s=class{constructor(e,o,c,f,l="",p){this.cacheHit=e,this.outputState=o,this.executionTime=c,this.valid=f,this.errorMessage=l,this.gasUsed=p}};t.InteractionOutput=s}),Qf=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.SmartWeaveError=t.SmartWeaveErrorType=void 0,function(r){r.CONTRACT_NOT_FOUND="CONTRACT_NOT_FOUND"}(t.SmartWeaveErrorType||(t.SmartWeaveErrorType={}));var i=class extends Error{constructor(r,u={}){u.message?super(u.message):super(),this.type=r,this.otherInfo=u}getType(){return this.type}};t.SmartWeaveError=i}),tc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Evolve=void 0;var i=or(),r=Qf(),u=wa();function a(f){if(!f)return!1;let l=e(f);return f.evolve!==void 0||l.has("evolve")}var s=class{constructor(){this.logger=i.LoggerFactory.INST.create("Evolve"),this.modify=this.modify.bind(this)}async modify(f,l){let{definitionLoader:p,executorFactory:g}=l.warp,y=l.contractDefinition.txId,m=s.evolvedSrcTxId(f),M=l.contractDefinition.srcTxId;if(m&&M!==m)try{this.logger.info("Evolving to: ",m);let E=await p.load(y,m),B=await g.create(E,l.evaluationOptions,l.warp,l.contract.interactionState());return l.contractDefinition=E,l.handler=B,l.handler.initState(f),this.logger.debug("evolved to:",{evolve:m,newSrcTxId:l.contractDefinition.srcTxId,currentSrcTxId:M,contract:l.contractDefinition.txId}),l}catch(E){throw E.name===u.KnownErrors.ContractError&&E.subtype==="unsafeClientSkip"||E.name==u.KnownErrors.NonWhitelistedSourceError?E:new r.SmartWeaveError(r.SmartWeaveErrorType.CONTRACT_NOT_FOUND,{message:`Error while evolving ${y} from ${M} to ${m}: ${E}`,requestedTxId:y})}return l}static evolvedSrcTxId(f){if(!a(f))return;let l=e(f),p=f.evolve||l.get("evolve"),g=f.canEvolve||l.get("canEvolve");if(g==null&&(g=!0),p&&/[a-z0-9_-]{43}/i.test(p)&&g)return p}};t.Evolve=s;function e(f){let l=new Map;return f.settings&&(o(f.settings)?l=new Map(f.settings):c(f.settings)&&(l=new Map(Object.entries(f.settings)))),l}function o(f){return f==null?!1:typeof f[Symbol.iterator]=="function"}function c(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)}}),fg=gt((t,i)=>{lt();var{hasOwnProperty:r}=Object.prototype,u=C();u.configure=C,u.stringify=u,u.default=u,t.stringify=u,t.configure=C,i.exports=u;var a=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,s=new RegExp(a,"g"),e=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function o(N){if(N.length===2){let I=N.charCodeAt(1);return`${N[0]}\\u${I.toString(16)}`}let F=N.charCodeAt(0);return e.length>F?e[F]:`\\u${F.toString(16)}`}function c(N){if(N.length<5e3&&!a.test(N))return N;if(N.length>100)return N.replace(s,o);let F="",I=0;for(let U=0;U<N.length;U++){let P=N.charCodeAt(U);if(P===34||P===92||P<32)F+=`${N.slice(I,U)}${e[P]}`,I=U+1;else if(P>=55296&&P<=57343){if(P<=56319&&U+1<N.length){let D=N.charCodeAt(U+1);if(D>=56320&&D<=57343){U++;continue}}F+=`${N.slice(I,U)}\\u${P.toString(16)}`,I=U+1}}return F+=N.slice(I),F}function f(N){if(N.length>200)return N.sort();for(let F=1;F<N.length;F++){let I=N[F],U=F;for(;U!==0&&N[U-1]>I;)N[U]=N[U-1],U--;N[U]=I}return N}var l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function p(N){return l.call(N)!==void 0&&N.length!==0}function g(N,F,I){N.length<I&&(I=N.length);let U=F===","?"":" ",P=`"0":${U}${N[0]}`;for(let D=1;D<I;D++)P+=`${F}"${D}":${U}${N[D]}`;return P}function y(N){if(r.call(N,"circularValue")){let F=N.circularValue;if(typeof F=="string")return`"${F}"`;if(F==null)return F;if(F===Error||F===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function m(N,F){let I;if(r.call(N,F)&&(I=N[F],typeof I!="boolean"))throw new TypeError(`The "${F}" argument must be of type boolean`);return I===void 0?!0:I}function M(N,F){let I;if(r.call(N,F)){if(I=N[F],typeof I!="number")throw new TypeError(`The "${F}" argument must be of type number`);if(!Number.isInteger(I))throw new TypeError(`The "${F}" argument must be an integer`);if(I<1)throw new RangeError(`The "${F}" argument must be >= 1`)}return I===void 0?1/0:I}function E(N){return N===1?"1 item":`${N} items`}function B(N){let F=new Set;for(let I of N)(typeof I=="string"||typeof I=="number")&&F.add(String(I));return F}function x(N){if(r.call(N,"strict")){let F=N.strict;if(typeof F!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(F)return I=>{let U=`Object can not safely be stringified. Received type ${typeof I}`;throw typeof I!="function"&&(U+=` (${I.toString()})`),new Error(U)}}}function C(N){N={...N};let F=x(N);F&&(N.bigint===void 0&&(N.bigint=!1),"circularValue"in N||(N.circularValue=Error));let I=y(N),U=m(N,"bigint"),P=m(N,"deterministic"),D=M(N,"maximumDepth"),W=M(N,"maximumBreadth");function q(v,A,T,S,w,b){let h=A[v];switch(typeof h=="object"&&h!==null&&typeof h.toJSON=="function"&&(h=h.toJSON(v)),h=S.call(A,v,h),typeof h){case"string":return`"${c(h)}"`;case"object":{if(h===null)return"null";if(T.indexOf(h)!==-1)return I;let k="",tt=",",X=b;if(Array.isArray(h)){if(h.length===0)return"[]";if(D<T.length+1)return'"[Array]"';T.push(h),w!==""&&(b+=w,k+=`
${b}`,tt=`,
${b}`);let R=Math.min(h.length,W),j=0;for(;j<R-1;j++){let Z=q(j,h,T,S,w,b);k+=Z!==void 0?Z:"null",k+=tt}let z=q(j,h,T,S,w,b);if(k+=z!==void 0?z:"null",h.length-1>W){let Z=h.length-W-1;k+=`${tt}"... ${E(Z)} not stringified"`}return w!==""&&(k+=`
${X}`),T.pop(),`[${k}]`}let ft=Object.keys(h),et=ft.length;if(et===0)return"{}";if(D<T.length+1)return'"[Object]"';let at="",$="";w!==""&&(b+=w,tt=`,
${b}`,at=" ");let J=Math.min(et,W);p(h)&&(k+=g(h,tt,W),ft=ft.slice(h.length),J-=h.length,$=tt),P&&(ft=f(ft)),T.push(h);for(let R=0;R<J;R++){let j=ft[R],z=q(j,h,T,S,w,b);z!==void 0&&(k+=`${$}"${c(j)}":${at}${z}`,$=tt)}if(et>W){let R=et-W;k+=`${$}"...":${at}"${E(R)} not stringified"`,$=tt}return w!==""&&$.length>1&&(k=`
${b}${k}
${X}`),T.pop(),`{${k}}`}case"number":return isFinite(h)?String(h):F?F(h):"null";case"boolean":return h===!0?"true":"false";case"undefined":return;case"bigint":if(U)return String(h);default:return F?F(h):void 0}}function O(v,A,T,S,w,b){switch(typeof A=="object"&&A!==null&&typeof A.toJSON=="function"&&(A=A.toJSON(v)),typeof A){case"string":return`"${c(A)}"`;case"object":{if(A===null)return"null";if(T.indexOf(A)!==-1)return I;let h=b,k="",tt=",";if(Array.isArray(A)){if(A.length===0)return"[]";if(D<T.length+1)return'"[Array]"';T.push(A),w!==""&&(b+=w,k+=`
${b}`,tt=`,
${b}`);let et=Math.min(A.length,W),at=0;for(;at<et-1;at++){let J=O(at,A[at],T,S,w,b);k+=J!==void 0?J:"null",k+=tt}let $=O(at,A[at],T,S,w,b);if(k+=$!==void 0?$:"null",A.length-1>W){let J=A.length-W-1;k+=`${tt}"... ${E(J)} not stringified"`}return w!==""&&(k+=`
${h}`),T.pop(),`[${k}]`}if(S.size===0)return"{}";T.push(A);let X="";w!==""&&(b+=w,tt=`,
${b}`,X=" ");let ft="";for(let et of S){let at=O(et,A[et],T,S,w,b);at!==void 0&&(k+=`${ft}"${c(et)}":${X}${at}`,ft=tt)}return w!==""&&ft.length>1&&(k=`
${b}${k}
${h}`),T.pop(),`{${k}}`}case"number":return isFinite(A)?String(A):F?F(A):"null";case"boolean":return A===!0?"true":"false";case"undefined":return;case"bigint":if(U)return String(A);default:return F?F(A):void 0}}function L(v,A,T,S,w){switch(typeof A){case"string":return`"${c(A)}"`;case"object":{if(A===null)return"null";if(typeof A.toJSON=="function"){if(A=A.toJSON(v),typeof A!="object")return L(v,A,T,S,w);if(A===null)return"null"}if(T.indexOf(A)!==-1)return I;let b=w;if(Array.isArray(A)){if(A.length===0)return"[]";if(D<T.length+1)return'"[Array]"';T.push(A),w+=S;let at=`
${w}`,$=`,
${w}`,J=Math.min(A.length,W),R=0;for(;R<J-1;R++){let z=L(R,A[R],T,S,w);at+=z!==void 0?z:"null",at+=$}let j=L(R,A[R],T,S,w);if(at+=j!==void 0?j:"null",A.length-1>W){let z=A.length-W-1;at+=`${$}"... ${E(z)} not stringified"`}return at+=`
${b}`,T.pop(),`[${at}]`}let h=Object.keys(A),k=h.length;if(k===0)return"{}";if(D<T.length+1)return'"[Object]"';w+=S;let tt=`,
${w}`,X="",ft="",et=Math.min(k,W);p(A)&&(X+=g(A,tt,W),h=h.slice(A.length),et-=A.length,ft=tt),P&&(h=f(h)),T.push(A);for(let at=0;at<et;at++){let $=h[at],J=L($,A[$],T,S,w);J!==void 0&&(X+=`${ft}"${c($)}": ${J}`,ft=tt)}if(k>W){let at=k-W;X+=`${ft}"...": "${E(at)} not stringified"`,ft=tt}return ft!==""&&(X=`
${w}${X}
${b}`),T.pop(),`{${X}}`}case"number":return isFinite(A)?String(A):F?F(A):"null";case"boolean":return A===!0?"true":"false";case"undefined":return;case"bigint":if(U)return String(A);default:return F?F(A):void 0}}function n(v,A,T){switch(typeof A){case"string":return`"${c(A)}"`;case"object":{if(A===null)return"null";if(typeof A.toJSON=="function"){if(A=A.toJSON(v),typeof A!="object")return n(v,A,T);if(A===null)return"null"}if(T.indexOf(A)!==-1)return I;let S="";if(Array.isArray(A)){if(A.length===0)return"[]";if(D<T.length+1)return'"[Array]"';T.push(A);let tt=Math.min(A.length,W),X=0;for(;X<tt-1;X++){let et=n(X,A[X],T);S+=et!==void 0?et:"null",S+=","}let ft=n(X,A[X],T);if(S+=ft!==void 0?ft:"null",A.length-1>W){let et=A.length-W-1;S+=`,"... ${E(et)} not stringified"`}return T.pop(),`[${S}]`}let w=Object.keys(A),b=w.length;if(b===0)return"{}";if(D<T.length+1)return'"[Object]"';let h="",k=Math.min(b,W);p(A)&&(S+=g(A,",",W),w=w.slice(A.length),k-=A.length,h=","),P&&(w=f(w)),T.push(A);for(let tt=0;tt<k;tt++){let X=w[tt],ft=n(X,A[X],T);ft!==void 0&&(S+=`${h}"${c(X)}":${ft}`,h=",")}if(b>W){let tt=b-W;S+=`${h}"...":"${E(tt)} not stringified"`}return T.pop(),`{${S}}`}case"number":return isFinite(A)?String(A):F?F(A):"null";case"boolean":return A===!0?"true":"false";case"undefined":return;case"bigint":if(U)return String(A);default:return F?F(A):void 0}}function d(v,A,T){if(arguments.length>1){let S="";if(typeof T=="number"?S=" ".repeat(Math.min(T,10)):typeof T=="string"&&(S=T.slice(0,10)),A!=null){if(typeof A=="function")return q("",{"":v},[],A,S,"");if(Array.isArray(A))return O("",v,[],B(A),S,"")}if(S.length!==0)return L("",v,[],S,"")}return n("",v,[])}return d}}),ec=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractionTagsList=t.createDummyTx=t.createInteractionTx=void 0;var i=_n(),r=di(),u=_a();async function a(o,c,f,l,p,g="",y="0",m=!1,M,E){let B={data:Math.random().toString().slice(-4)};g&&g.length&&(B.target=g.toString(),y&&+y>0&&(B.quantity=y.toString())),m&&(B.reward="0",B.last_tx="p7vc1iSP6bvH_fCeUFa9LqoV5qiyW-jdEKouAT0XMoSwrNraB9mgpi29Q10waEpO"),E&&E.length&&(B.reward=E);let x=await o.createTransaction(B);return e(f,l,M,p).forEach(C=>x.addTag(C.name,C.value)),c&&await c(x),x}t.createInteractionTx=a;function s(o,c,f){let l=new r.TagsParser().decodeTags(o);return{id:o.id,owner:{address:c,key:""},recipient:o.target,tags:l,fee:{winston:o.reward,ar:""},quantity:{winston:o.quantity,ar:""},block:{id:f.indep_hash,height:f.height,timestamp:f.timestamp,previous:null},dry:!0,anchor:null,signature:null,data:null,parent:null,bundledIn:null}}t.createDummyTx=s;function e(o,c,f,l){let p=[];if(l&&l.length)for(let g of l)p.push(new u.Tag(g.name.toString(),g.value.toString()));return p.push(new u.Tag(i.SMART_WEAVE_TAGS.APP_NAME,"SmartWeaveAction")),p.push(new u.Tag(i.SMART_WEAVE_TAGS.APP_VERSION,"0.3.0")),p.push(new u.Tag(i.SMART_WEAVE_TAGS.SDK,"Warp")),p.push(new u.Tag(i.SMART_WEAVE_TAGS.CONTRACT_TX_ID,o)),p.push(new u.Tag(i.SMART_WEAVE_TAGS.INPUT,JSON.stringify(c))),f&&p.push(new u.Tag(i.WARP_TAGS.WARP_TESTNET,"1.0.0")),p}t.createInteractionTagsList=e}),rc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.REGISTER_PROVIDER=t.emptyTransfer=void 0,t.emptyTransfer={target:"",winstonQty:"0"},t.REGISTER_PROVIDER=["node1","node2","arweave"]}),nc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.InnerWritesEvaluator=void 0;var i=class{eval(r){let u=[];return Object.keys(r.interactions).forEach(a=>{let s=r.interactions[a];this.evalForeignCalls(r.contractTxId,s,u)}),u}evalForeignCalls(r,u,a){Object.keys(u.interactionInput.foreignContractCalls).forEach(s=>{let e=u.interactionInput.foreignContractCalls[s];e.innerCallType=="write"&&Object.keys(e.interactions).forEach(o=>{let c=e.interactions[o];c.interactionInput.dryWrite&&!a.includes(e.contractTxId)&&r!==e.contractTxId&&a.push(e.contractTxId),this.evalForeignCalls(r,c,a)})})}};t.InnerWritesEvaluator=i}),wu={};ba(wu,{AVSCTap:()=>Ii,ArweaveSigner:()=>Ya,DataItem:()=>Ai,MAX_TAG_BYTES:()=>Qi,MIN_BINARY_SIZE:()=>to,SIG_CONFIG:()=>ai,SignatureConfig:()=>Ir,Signer:()=>Vs,createData:()=>Fo,default:()=>hc,deserializeTags:()=>Xa,indexToType:()=>Qa,serializeTags:()=>_u,tagsExceedLimit:()=>oc,warparbundles:()=>lc});async function ic(t){if(Array.isArray(t)){let a=(0,zr.concatBuffers)([(0,zr.stringToBuffer)("list"),(0,zr.stringToBuffer)(t.length.toString())]);return await ac(t,await On().hash(a,"SHA-384"))}let i=t,r=(0,zr.concatBuffers)([(0,zr.stringToBuffer)("blob"),(0,zr.stringToBuffer)(i.byteLength.toString())]),u=(0,zr.concatBuffers)([await On().hash(r,"SHA-384"),await On().hash(i,"SHA-384")]);return await On().hash(u,"SHA-384")}async function ac(t,i){if(t.length<1)return i;let r=(0,zr.concatBuffers)([i,await ic(t[0])]),u=await On().hash(r,"SHA-384");return await ac(t.slice(1),u)}function On(){return gg??(gg=new sc)}async function Gs(t){return ic([(0,zr.stringToBuffer)("dataitem"),(0,zr.stringToBuffer)("1"),(0,zr.stringToBuffer)(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}async function cg(t,i){let r=await Gs(t),u=await i.sign(r),a=await On().hash(u);return{signature:Ut.Buffer.from(u),id:Ut.Buffer.from(a)}}async function dg(t,i){let{signature:r,id:u}=await cg(t,i);return t.getRaw().set(r,2),u}function _u(t){let i=new Ii;return i.writeTags(t),i.toBuffer()}function oc(t){let i=new Ii;return i.writeTags(t),i.tagsExceedLimit()}function Xa(t){return new Ii(t).readTags()}function Rn(t){let i=0;for(let r=t.length-1;r>=0;r--)i=i*256+t[r];return i}function pg(t){if(t>29)throw new Error("Short too long");let i=[0,0];for(let r=0;r<i.length;r++){let u=t&255;i[r]=u,t=(t-u)/256}return Uint8Array.from(i)}function sl(t){let i=[0,0,0,0,0,0,0,0];for(let r=0;r<i.length;r++){let u=t&255;i[r]=u,t=(t-u)/256}return Uint8Array.from(i)}function Fo(t,i,r){var C,N;let u=i.publicKey,a=r!=null&&r.target?uc.default.toBuffer(r.target):null,s=1+((a==null?void 0:a.byteLength)??0),e=r!=null&&r.anchor?Ut.Buffer.from(r.anchor):null,o=1+((e==null?void 0:e.byteLength)??0),c=(((C=r==null?void 0:r.tags)==null?void 0:C.length)??0)>0?_u(r.tags):null,f=16+(c?c.byteLength:0),l=Ut.Buffer.from(t),p=l.byteLength,g=2+i.signatureLength+i.ownerLength+s+o+f+p,y=Ut.Buffer.alloc(g);if(y.set(pg(i.signatureType),0),y.set(new Uint8Array(i.signatureLength).fill(0),2),u.byteLength!==i.ownerLength)throw new Error(`Owner must be ${i.ownerLength} bytes, but was incorrectly ${u.byteLength}`);y.set(u,2+i.signatureLength);let m=2+i.signatureLength+i.ownerLength;if(y[m]=a?1:0,a){if(a.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${a.byteLength}`);y.set(a,m+1)}let M=m+s,E=M+1;if(y[M]=e?1:0,e){if(E+=e.byteLength,e.byteLength!==32)throw new Error("Anchor must be 32 bytes");y.set(e,M+1)}y.set(sl(((N=r==null?void 0:r.tags)==null?void 0:N.length)??0),E);let B=sl((c==null?void 0:c.byteLength)??0);y.set(B,E+8),c&&y.set(c,E+16);let x=E+f;return y.set(l,x),new Ai(y)}var ul,Fa,hl,ll,fl,cl,pn,dl,pl,Nn,gl,ml,Ka,As,Ts,yl,bl,za,vl,Ms,Vs,wl,zr,Wa,_l,sc,gg,Ir,ai,Ya,Qa,Yr,Ii,El,ni,Qi,to,Ai,uc,qa,hc,lc,Ko=Of(()=>{lt(),ul=Object.create,Fa=Object.defineProperty,hl=Object.getOwnPropertyDescriptor,ll=Object.getOwnPropertyNames,fl=Object.getPrototypeOf,cl=Object.prototype.hasOwnProperty,pn=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports),dl=(t,i)=>{for(var r in i)Fa(t,r,{get:i[r],enumerable:!0})},pl=(t,i,r,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of ll(i))!cl.call(t,a)&&a!==r&&Fa(t,a,{get:()=>i[a],enumerable:!(u=hl(i,a))||u.enumerable});return t},Nn=(t,i,r)=>(r=t!=null?ul(fl(t)):{},pl(i||!t||!t.__esModule?Fa(r,"default",{value:t,enumerable:!0}):r,t)),gl=pn(t=>{Object.defineProperty(t,"__esModule",{value:!0});function i(r){var u=4,a=r.length,s=a%u;if(!s)return r;var e=a,o=u-s,c=a+o,f=Ut.Buffer.alloc(c);for(f.write(r);o--;)f.write("=",e++);return f.toString()}t.default=i}),ml=pn(t=>{Object.defineProperty(t,"__esModule",{value:!0});var i=gl();function r(c,f){return f===void 0&&(f="utf8"),Ut.Buffer.isBuffer(c)?s(c.toString("base64")):s(Ut.Buffer.from(c,f).toString("base64"))}function u(c,f){return f===void 0&&(f="utf8"),Ut.Buffer.from(a(c),"base64").toString(f)}function a(c){return c=c.toString(),i.default(c).replace(/\-/g,"+").replace(/_/g,"/")}function s(c){return c.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function e(c){return Ut.Buffer.from(a(c),"base64")}var o=r;o.encode=r,o.decode=u,o.toBase64=a,o.fromBase64=s,o.toBuffer=e,t.default=o}),Ka=pn((t,i)=>{i.exports=ml().default,i.exports.default=i.exports}),As=pn(t=>{t.byteLength=c,t.toByteArray=l,t.fromByteArray=y;var i=[],r=[],u=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,e=a.length;s<e;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;var s,e;r[45]=62,r[95]=63;function o(m){var M=m.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=m.indexOf("=");E===-1&&(E=M);var B=E===M?0:4-E%4;return[E,B]}function c(m){var M=o(m),E=M[0],B=M[1];return(E+B)*3/4-B}function f(m,M,E){return(M+E)*3/4-E}function l(m){var M,E=o(m),B=E[0],x=E[1],C=new u(f(m,B,x)),N=0,F=x>0?B-4:B,I;for(I=0;I<F;I+=4)M=r[m.charCodeAt(I)]<<18|r[m.charCodeAt(I+1)]<<12|r[m.charCodeAt(I+2)]<<6|r[m.charCodeAt(I+3)],C[N++]=M>>16&255,C[N++]=M>>8&255,C[N++]=M&255;return x===2&&(M=r[m.charCodeAt(I)]<<2|r[m.charCodeAt(I+1)]>>4,C[N++]=M&255),x===1&&(M=r[m.charCodeAt(I)]<<10|r[m.charCodeAt(I+1)]<<4|r[m.charCodeAt(I+2)]>>2,C[N++]=M>>8&255,C[N++]=M&255),C}function p(m){return i[m>>18&63]+i[m>>12&63]+i[m>>6&63]+i[m&63]}function g(m,M,E){for(var B,x=[],C=M;C<E;C+=3)B=(m[C]<<16&16711680)+(m[C+1]<<8&65280)+(m[C+2]&255),x.push(p(B));return x.join("")}function y(m){for(var M,E=m.length,B=E%3,x=[],C=16383,N=0,F=E-B;N<F;N+=C)x.push(g(m,N,N+C>F?F:N+C));return B===1?(M=m[E-1],x.push(i[M>>2]+i[M<<4&63]+"==")):B===2&&(M=(m[E-2]<<8)+m[E-1],x.push(i[M>>10]+i[M>>4&63]+i[M<<2&63]+"=")),x.join("")}}),Ts=pn(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var i=As();function r(g){let y=0;for(let E=0;E<g.length;E++)y+=g[E].byteLength;let m=new Uint8Array(y),M=0;m.set(new Uint8Array(g[0]),M),M+=g[0].byteLength;for(let E=1;E<g.length;E++)m.set(new Uint8Array(g[E]),M),M+=g[E].byteLength;return m}t.concatBuffers=r;function u(g){let y=o(g);return a(y)}t.b64UrlToString=u;function a(g){return new TextDecoder("utf-8",{fatal:!0}).decode(g)}t.bufferToString=a;function s(g){return new TextEncoder().encode(g)}t.stringToBuffer=s;function e(g){return f(s(g))}t.stringToB64Url=e;function o(g){return new Uint8Array(i.toByteArray(p(g)))}t.b64UrlToBuffer=o;function c(g){return i.fromByteArray(new Uint8Array(g))}t.bufferTob64=c;function f(g){return l(c(g))}t.bufferTob64Url=f;function l(g){return g.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}t.b64UrlEncode=l;function p(g){g=g.replace(/\-/g,"+").replace(/\_/g,"/");let y;return g.length%4==0?y=0:y=4-g.length%4,g.concat("=".repeat(y))}t.b64UrlDecode=p}),yl=pn(t=>{Object.defineProperty(t,"__esModule",{value:!0});var i=Ts(),r=class{constructor(){Pt(this,"keyLength",4096);Pt(this,"publicExponent",65537);Pt(this,"hashAlgorithm","sha256");Pt(this,"driver");if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let u=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),a=await this.driver.exportKey("jwk",u.privateKey);return{kty:a.kty,e:a.e,n:a.n,d:a.d,p:a.p,q:a.q,dp:a.dp,dq:a.dq,qi:a.qi}}async sign(u,a,{saltLength:s}={}){let e=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(u),a);return new Uint8Array(e)}async hash(u,a="SHA-256"){let s=await this.driver.digest(a,u);return new Uint8Array(s)}async verify(u,a,s){let e={kty:"RSA",e:"AQAB",n:u},o=await this.jwkToPublicCryptoKey(e),c=await this.driver.digest("SHA-256",a),f=await this.driver.verify({name:"RSA-PSS",saltLength:0},o,s,a),l=await this.driver.verify({name:"RSA-PSS",saltLength:32},o,s,a),p=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((o.algorithm.modulusLength-1)/8)-c.byteLength-2},o,s,a);return f||l||p}async jwkToCryptoKey(u){return this.driver.importKey("jwk",u,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(u){return this.driver.importKey("jwk",u,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let u=crypto==null?void 0:crypto.subtle;return u===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(a=>typeof u[a]=="function")}async encrypt(u,a,s){let e=await this.driver.importKey("raw",typeof a=="string"?i.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),o=await this.driver.deriveKey({name:"PBKDF2",salt:s?i.stringToBuffer(s):i.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},e,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),c=new Uint8Array(16);crypto.getRandomValues(c);let f=await this.driver.encrypt({name:"AES-CBC",iv:c},o,u);return i.concatBuffers([c,f])}async decrypt(u,a,s){let e=await this.driver.importKey("raw",typeof a=="string"?i.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),o=await this.driver.deriveKey({name:"PBKDF2",salt:s?i.stringToBuffer(s):i.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},e,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),c=u.slice(0,16),f=await this.driver.decrypt({name:"AES-CBC",iv:c},o,u.slice(16));return i.concatBuffers([f])}};t.default=r}),bl=pn(t=>{t.read=function(i,r,u,a,s){var e,o,c=s*8-a-1,f=(1<<c)-1,l=f>>1,p=-7,g=u?s-1:0,y=u?-1:1,m=i[r+g];for(g+=y,e=m&(1<<-p)-1,m>>=-p,p+=c;p>0;e=e*256+i[r+g],g+=y,p-=8);for(o=e&(1<<-p)-1,e>>=-p,p+=a;p>0;o=o*256+i[r+g],g+=y,p-=8);if(e===0)e=1-l;else{if(e===f)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,a),e=e-l}return(m?-1:1)*o*Math.pow(2,e-a)},t.write=function(i,r,u,a,s,e){var o,c,f,l=e*8-s-1,p=(1<<l)-1,g=p>>1,y=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:e-1,M=a?1:-1,E=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,o=p):(o=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+g>=1?r+=y/f:r+=y*Math.pow(2,1-g),r*f>=2&&(o++,f/=2),o+g>=p?(c=0,o=p):o+g>=1?(c=(r*f-1)*Math.pow(2,s),o=o+g):(c=r*Math.pow(2,g-1)*Math.pow(2,s),o=0));s>=8;i[u+m]=c&255,m+=M,c/=256,s-=8);for(o=o<<s|c,l+=s;l>0;i[u+m]=o&255,m+=M,o/=256,l-=8);i[u+m-M]|=E*128}}),za=pn(t=>{var i=As(),r=bl(),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let V=new Uint8Array(1),rt={foo:function(){return 42}};return Object.setPrototypeOf(rt,Uint8Array.prototype),Object.setPrototypeOf(V,rt),V.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function e(V){if(V>a)throw new RangeError('The value "'+V+'" is invalid for option "size"');let rt=new Uint8Array(V);return Object.setPrototypeOf(rt,o.prototype),rt}function o(V,rt,st){if(typeof V=="number"){if(typeof rt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(V)}return c(V,rt,st)}o.poolSize=8192;function c(V,rt,st){if(typeof V=="string")return g(V,rt);if(ArrayBuffer.isView(V))return m(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(mt(V,ArrayBuffer)||V&&mt(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mt(V,SharedArrayBuffer)||V&&mt(V.buffer,SharedArrayBuffer)))return M(V,rt,st);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let yt=V.valueOf&&V.valueOf();if(yt!=null&&yt!==V)return o.from(yt,rt,st);let Ct=E(V);if(Ct)return Ct;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return o.from(V[Symbol.toPrimitive]("string"),rt,st);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}o.from=function(V,rt,st){return c(V,rt,st)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function l(V,rt,st){return f(V),V<=0?e(V):rt!==void 0?typeof st=="string"?e(V).fill(rt,st):e(V).fill(rt):e(V)}o.alloc=function(V,rt,st){return l(V,rt,st)};function p(V){return f(V),e(V<0?0:B(V)|0)}o.allocUnsafe=function(V){return p(V)},o.allocUnsafeSlow=function(V){return p(V)};function g(V,rt){if((typeof rt!="string"||rt==="")&&(rt="utf8"),!o.isEncoding(rt))throw new TypeError("Unknown encoding: "+rt);let st=C(V,rt)|0,yt=e(st),Ct=yt.write(V,rt);return Ct!==st&&(yt=yt.slice(0,Ct)),yt}function y(V){let rt=V.length<0?0:B(V.length)|0,st=e(rt);for(let yt=0;yt<rt;yt+=1)st[yt]=V[yt]&255;return st}function m(V){if(mt(V,Uint8Array)){let rt=new Uint8Array(V);return M(rt.buffer,rt.byteOffset,rt.byteLength)}return y(V)}function M(V,rt,st){if(rt<0||V.byteLength<rt)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<rt+(st||0))throw new RangeError('"length" is outside of buffer bounds');let yt;return rt===void 0&&st===void 0?yt=new Uint8Array(V):st===void 0?yt=new Uint8Array(V,rt):yt=new Uint8Array(V,rt,st),Object.setPrototypeOf(yt,o.prototype),yt}function E(V){if(o.isBuffer(V)){let rt=B(V.length)|0,st=e(rt);return st.length===0||V.copy(st,0,0,rt),st}if(V.length!==void 0)return typeof V.length!="number"||_t(V.length)?e(0):y(V);if(V.type==="Buffer"&&Array.isArray(V.data))return y(V.data)}function B(V){if(V>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return V|0}function x(V){return+V!=V&&(V=0),o.alloc(+V)}o.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==o.prototype},o.compare=function(V,rt){if(mt(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),mt(rt,Uint8Array)&&(rt=o.from(rt,rt.offset,rt.byteLength)),!o.isBuffer(V)||!o.isBuffer(rt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===rt)return 0;let st=V.length,yt=rt.length;for(let Ct=0,dt=Math.min(st,yt);Ct<dt;++Ct)if(V[Ct]!==rt[Ct]){st=V[Ct],yt=rt[Ct];break}return st<yt?-1:yt<st?1:0},o.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(V,rt){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return o.alloc(0);let st;if(rt===void 0)for(rt=0,st=0;st<V.length;++st)rt+=V[st].length;let yt=o.allocUnsafe(rt),Ct=0;for(st=0;st<V.length;++st){let dt=V[st];if(mt(dt,Uint8Array))Ct+dt.length>yt.length?(o.isBuffer(dt)||(dt=o.from(dt)),dt.copy(yt,Ct)):Uint8Array.prototype.set.call(yt,dt,Ct);else if(o.isBuffer(dt))dt.copy(yt,Ct);else throw new TypeError('"list" argument must be an Array of Buffers');Ct+=dt.length}return yt};function C(V,rt){if(o.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||mt(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);let st=V.length,yt=arguments.length>2&&arguments[2]===!0;if(!yt&&st===0)return 0;let Ct=!1;for(;;)switch(rt){case"ascii":case"latin1":case"binary":return st;case"utf8":case"utf-8":return G(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st*2;case"hex":return st>>>1;case"base64":return it(V).length;default:if(Ct)return yt?-1:G(V).length;rt=(""+rt).toLowerCase(),Ct=!0}}o.byteLength=C;function N(V,rt,st){let yt=!1;if((rt===void 0||rt<0)&&(rt=0),rt>this.length||((st===void 0||st>this.length)&&(st=this.length),st<=0)||(st>>>=0,rt>>>=0,st<=rt))return"";for(V||(V="utf8");;)switch(V){case"hex":return S(this,rt,st);case"utf8":case"utf-8":return n(this,rt,st);case"ascii":return A(this,rt,st);case"latin1":case"binary":return T(this,rt,st);case"base64":return L(this,rt,st);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,rt,st);default:if(yt)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),yt=!0}}o.prototype._isBuffer=!0;function F(V,rt,st){let yt=V[rt];V[rt]=V[st],V[st]=yt}o.prototype.swap16=function(){let V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let rt=0;rt<V;rt+=2)F(this,rt,rt+1);return this},o.prototype.swap32=function(){let V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let rt=0;rt<V;rt+=4)F(this,rt,rt+3),F(this,rt+1,rt+2);return this},o.prototype.swap64=function(){let V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let rt=0;rt<V;rt+=8)F(this,rt,rt+7),F(this,rt+1,rt+6),F(this,rt+2,rt+5),F(this,rt+3,rt+4);return this},o.prototype.toString=function(){let V=this.length;return V===0?"":arguments.length===0?n(this,0,V):N.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(V){if(!o.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:o.compare(this,V)===0},o.prototype.inspect=function(){let V="",rt=t.INSPECT_MAX_BYTES;return V=this.toString("hex",0,rt).replace(/(.{2})/g,"$1 ").trim(),this.length>rt&&(V+=" ... "),"<Buffer "+V+">"},u&&(o.prototype[u]=o.prototype.inspect),o.prototype.compare=function(V,rt,st,yt,Ct){if(mt(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),!o.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(rt===void 0&&(rt=0),st===void 0&&(st=V?V.length:0),yt===void 0&&(yt=0),Ct===void 0&&(Ct=this.length),rt<0||st>V.length||yt<0||Ct>this.length)throw new RangeError("out of range index");if(yt>=Ct&&rt>=st)return 0;if(yt>=Ct)return-1;if(rt>=st)return 1;if(rt>>>=0,st>>>=0,yt>>>=0,Ct>>>=0,this===V)return 0;let dt=Ct-yt,Mt=st-rt,Lt=Math.min(dt,Mt),wt=this.slice(yt,Ct),ct=V.slice(rt,st);for(let Et=0;Et<Lt;++Et)if(wt[Et]!==ct[Et]){dt=wt[Et],Mt=ct[Et];break}return dt<Mt?-1:Mt<dt?1:0};function I(V,rt,st,yt,Ct){if(V.length===0)return-1;if(typeof st=="string"?(yt=st,st=0):st>2147483647?st=2147483647:st<-2147483648&&(st=-2147483648),st=+st,_t(st)&&(st=Ct?0:V.length-1),st<0&&(st=V.length+st),st>=V.length){if(Ct)return-1;st=V.length-1}else if(st<0)if(Ct)st=0;else return-1;if(typeof rt=="string"&&(rt=o.from(rt,yt)),o.isBuffer(rt))return rt.length===0?-1:U(V,rt,st,yt,Ct);if(typeof rt=="number")return rt=rt&255,typeof Uint8Array.prototype.indexOf=="function"?Ct?Uint8Array.prototype.indexOf.call(V,rt,st):Uint8Array.prototype.lastIndexOf.call(V,rt,st):U(V,[rt],st,yt,Ct);throw new TypeError("val must be string, number or Buffer")}function U(V,rt,st,yt,Ct){let dt=1,Mt=V.length,Lt=rt.length;if(yt!==void 0&&(yt=String(yt).toLowerCase(),yt==="ucs2"||yt==="ucs-2"||yt==="utf16le"||yt==="utf-16le")){if(V.length<2||rt.length<2)return-1;dt=2,Mt/=2,Lt/=2,st/=2}function wt(Et,ut){return dt===1?Et[ut]:Et.readUInt16BE(ut*dt)}let ct;if(Ct){let Et=-1;for(ct=st;ct<Mt;ct++)if(wt(V,ct)===wt(rt,Et===-1?0:ct-Et)){if(Et===-1&&(Et=ct),ct-Et+1===Lt)return Et*dt}else Et!==-1&&(ct-=ct-Et),Et=-1}else for(st+Lt>Mt&&(st=Mt-Lt),ct=st;ct>=0;ct--){let Et=!0;for(let ut=0;ut<Lt;ut++)if(wt(V,ct+ut)!==wt(rt,ut)){Et=!1;break}if(Et)return ct}return-1}o.prototype.includes=function(V,rt,st){return this.indexOf(V,rt,st)!==-1},o.prototype.indexOf=function(V,rt,st){return I(this,V,rt,st,!0)},o.prototype.lastIndexOf=function(V,rt,st){return I(this,V,rt,st,!1)};function P(V,rt,st,yt){st=Number(st)||0;let Ct=V.length-st;yt?(yt=Number(yt),yt>Ct&&(yt=Ct)):yt=Ct;let dt=rt.length;yt>dt/2&&(yt=dt/2);let Mt;for(Mt=0;Mt<yt;++Mt){let Lt=parseInt(rt.substr(Mt*2,2),16);if(_t(Lt))return Mt;V[st+Mt]=Lt}return Mt}function D(V,rt,st,yt){return ot(G(rt,V.length-st),V,st,yt)}function W(V,rt,st,yt){return ot(H(rt),V,st,yt)}function q(V,rt,st,yt){return ot(it(rt),V,st,yt)}function O(V,rt,st,yt){return ot(Y(rt,V.length-st),V,st,yt)}o.prototype.write=function(V,rt,st,yt){if(rt===void 0)yt="utf8",st=this.length,rt=0;else if(st===void 0&&typeof rt=="string")yt=rt,st=this.length,rt=0;else if(isFinite(rt))rt=rt>>>0,isFinite(st)?(st=st>>>0,yt===void 0&&(yt="utf8")):(yt=st,st=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Ct=this.length-rt;if((st===void 0||st>Ct)&&(st=Ct),V.length>0&&(st<0||rt<0)||rt>this.length)throw new RangeError("Attempt to write outside buffer bounds");yt||(yt="utf8");let dt=!1;for(;;)switch(yt){case"hex":return P(this,V,rt,st);case"utf8":case"utf-8":return D(this,V,rt,st);case"ascii":case"latin1":case"binary":return W(this,V,rt,st);case"base64":return q(this,V,rt,st);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,V,rt,st);default:if(dt)throw new TypeError("Unknown encoding: "+yt);yt=(""+yt).toLowerCase(),dt=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(V,rt,st){return rt===0&&st===V.length?i.fromByteArray(V):i.fromByteArray(V.slice(rt,st))}function n(V,rt,st){st=Math.min(V.length,st);let yt=[],Ct=rt;for(;Ct<st;){let dt=V[Ct],Mt=null,Lt=dt>239?4:dt>223?3:dt>191?2:1;if(Ct+Lt<=st){let wt,ct,Et,ut;switch(Lt){case 1:dt<128&&(Mt=dt);break;case 2:wt=V[Ct+1],(wt&192)===128&&(ut=(dt&31)<<6|wt&63,ut>127&&(Mt=ut));break;case 3:wt=V[Ct+1],ct=V[Ct+2],(wt&192)===128&&(ct&192)===128&&(ut=(dt&15)<<12|(wt&63)<<6|ct&63,ut>2047&&(ut<55296||ut>57343)&&(Mt=ut));break;case 4:wt=V[Ct+1],ct=V[Ct+2],Et=V[Ct+3],(wt&192)===128&&(ct&192)===128&&(Et&192)===128&&(ut=(dt&15)<<18|(wt&63)<<12|(ct&63)<<6|Et&63,ut>65535&&ut<1114112&&(Mt=ut))}}Mt===null?(Mt=65533,Lt=1):Mt>65535&&(Mt-=65536,yt.push(Mt>>>10&1023|55296),Mt=56320|Mt&1023),yt.push(Mt),Ct+=Lt}return v(yt)}var d=4096;function v(V){let rt=V.length;if(rt<=d)return String.fromCharCode.apply(String,V);let st="",yt=0;for(;yt<rt;)st+=String.fromCharCode.apply(String,V.slice(yt,yt+=d));return st}function A(V,rt,st){let yt="";st=Math.min(V.length,st);for(let Ct=rt;Ct<st;++Ct)yt+=String.fromCharCode(V[Ct]&127);return yt}function T(V,rt,st){let yt="";st=Math.min(V.length,st);for(let Ct=rt;Ct<st;++Ct)yt+=String.fromCharCode(V[Ct]);return yt}function S(V,rt,st){let yt=V.length;(!rt||rt<0)&&(rt=0),(!st||st<0||st>yt)&&(st=yt);let Ct="";for(let dt=rt;dt<st;++dt)Ct+=ht[V[dt]];return Ct}function w(V,rt,st){let yt=V.slice(rt,st),Ct="";for(let dt=0;dt<yt.length-1;dt+=2)Ct+=String.fromCharCode(yt[dt]+yt[dt+1]*256);return Ct}o.prototype.slice=function(V,rt){let st=this.length;V=~~V,rt=rt===void 0?st:~~rt,V<0?(V+=st,V<0&&(V=0)):V>st&&(V=st),rt<0?(rt+=st,rt<0&&(rt=0)):rt>st&&(rt=st),rt<V&&(rt=V);let yt=this.subarray(V,rt);return Object.setPrototypeOf(yt,o.prototype),yt};function b(V,rt,st){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+rt>st)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(V,rt,st){V=V>>>0,rt=rt>>>0,st||b(V,rt,this.length);let yt=this[V],Ct=1,dt=0;for(;++dt<rt&&(Ct*=256);)yt+=this[V+dt]*Ct;return yt},o.prototype.readUintBE=o.prototype.readUIntBE=function(V,rt,st){V=V>>>0,rt=rt>>>0,st||b(V,rt,this.length);let yt=this[V+--rt],Ct=1;for(;rt>0&&(Ct*=256);)yt+=this[V+--rt]*Ct;return yt},o.prototype.readUint8=o.prototype.readUInt8=function(V,rt){return V=V>>>0,rt||b(V,1,this.length),this[V]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(V,rt){return V=V>>>0,rt||b(V,2,this.length),this[V]|this[V+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(V,rt){return V=V>>>0,rt||b(V,2,this.length),this[V]<<8|this[V+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(V,rt){return V=V>>>0,rt||b(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(V,rt){return V=V>>>0,rt||b(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},o.prototype.readBigUInt64LE=vt(function(V){V=V>>>0,z(V,"offset");let rt=this[V],st=this[V+7];(rt===void 0||st===void 0)&&Z(V,this.length-8);let yt=rt+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24,Ct=this[++V]+this[++V]*2**8+this[++V]*2**16+st*2**24;return BigInt(yt)+(BigInt(Ct)<<BigInt(32))}),o.prototype.readBigUInt64BE=vt(function(V){V=V>>>0,z(V,"offset");let rt=this[V],st=this[V+7];(rt===void 0||st===void 0)&&Z(V,this.length-8);let yt=rt*2**24+this[++V]*2**16+this[++V]*2**8+this[++V],Ct=this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+st;return(BigInt(yt)<<BigInt(32))+BigInt(Ct)}),o.prototype.readIntLE=function(V,rt,st){V=V>>>0,rt=rt>>>0,st||b(V,rt,this.length);let yt=this[V],Ct=1,dt=0;for(;++dt<rt&&(Ct*=256);)yt+=this[V+dt]*Ct;return Ct*=128,yt>=Ct&&(yt-=Math.pow(2,8*rt)),yt},o.prototype.readIntBE=function(V,rt,st){V=V>>>0,rt=rt>>>0,st||b(V,rt,this.length);let yt=rt,Ct=1,dt=this[V+--yt];for(;yt>0&&(Ct*=256);)dt+=this[V+--yt]*Ct;return Ct*=128,dt>=Ct&&(dt-=Math.pow(2,8*rt)),dt},o.prototype.readInt8=function(V,rt){return V=V>>>0,rt||b(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},o.prototype.readInt16LE=function(V,rt){V=V>>>0,rt||b(V,2,this.length);let st=this[V]|this[V+1]<<8;return st&32768?st|4294901760:st},o.prototype.readInt16BE=function(V,rt){V=V>>>0,rt||b(V,2,this.length);let st=this[V+1]|this[V]<<8;return st&32768?st|4294901760:st},o.prototype.readInt32LE=function(V,rt){return V=V>>>0,rt||b(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},o.prototype.readInt32BE=function(V,rt){return V=V>>>0,rt||b(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},o.prototype.readBigInt64LE=vt(function(V){V=V>>>0,z(V,"offset");let rt=this[V],st=this[V+7];(rt===void 0||st===void 0)&&Z(V,this.length-8);let yt=this[V+4]+this[V+5]*2**8+this[V+6]*2**16+(st<<24);return(BigInt(yt)<<BigInt(32))+BigInt(rt+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24)}),o.prototype.readBigInt64BE=vt(function(V){V=V>>>0,z(V,"offset");let rt=this[V],st=this[V+7];(rt===void 0||st===void 0)&&Z(V,this.length-8);let yt=(rt<<24)+this[++V]*2**16+this[++V]*2**8+this[++V];return(BigInt(yt)<<BigInt(32))+BigInt(this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+st)}),o.prototype.readFloatLE=function(V,rt){return V=V>>>0,rt||b(V,4,this.length),r.read(this,V,!0,23,4)},o.prototype.readFloatBE=function(V,rt){return V=V>>>0,rt||b(V,4,this.length),r.read(this,V,!1,23,4)},o.prototype.readDoubleLE=function(V,rt){return V=V>>>0,rt||b(V,8,this.length),r.read(this,V,!0,52,8)},o.prototype.readDoubleBE=function(V,rt){return V=V>>>0,rt||b(V,8,this.length),r.read(this,V,!1,52,8)};function h(V,rt,st,yt,Ct,dt){if(!o.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(rt>Ct||rt<dt)throw new RangeError('"value" argument is out of bounds');if(st+yt>V.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(V,rt,st,yt){if(V=+V,rt=rt>>>0,st=st>>>0,!yt){let Mt=Math.pow(2,8*st)-1;h(this,V,rt,st,Mt,0)}let Ct=1,dt=0;for(this[rt]=V&255;++dt<st&&(Ct*=256);)this[rt+dt]=V/Ct&255;return rt+st},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(V,rt,st,yt){if(V=+V,rt=rt>>>0,st=st>>>0,!yt){let Mt=Math.pow(2,8*st)-1;h(this,V,rt,st,Mt,0)}let Ct=st-1,dt=1;for(this[rt+Ct]=V&255;--Ct>=0&&(dt*=256);)this[rt+Ct]=V/dt&255;return rt+st},o.prototype.writeUint8=o.prototype.writeUInt8=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,1,255,0),this[rt]=V&255,rt+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,2,65535,0),this[rt]=V&255,this[rt+1]=V>>>8,rt+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,2,65535,0),this[rt]=V>>>8,this[rt+1]=V&255,rt+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,4,4294967295,0),this[rt+3]=V>>>24,this[rt+2]=V>>>16,this[rt+1]=V>>>8,this[rt]=V&255,rt+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,4,4294967295,0),this[rt]=V>>>24,this[rt+1]=V>>>16,this[rt+2]=V>>>8,this[rt+3]=V&255,rt+4};function k(V,rt,st,yt,Ct){j(rt,yt,Ct,V,st,7);let dt=Number(rt&BigInt(4294967295));V[st++]=dt,dt=dt>>8,V[st++]=dt,dt=dt>>8,V[st++]=dt,dt=dt>>8,V[st++]=dt;let Mt=Number(rt>>BigInt(32)&BigInt(4294967295));return V[st++]=Mt,Mt=Mt>>8,V[st++]=Mt,Mt=Mt>>8,V[st++]=Mt,Mt=Mt>>8,V[st++]=Mt,st}function tt(V,rt,st,yt,Ct){j(rt,yt,Ct,V,st,7);let dt=Number(rt&BigInt(4294967295));V[st+7]=dt,dt=dt>>8,V[st+6]=dt,dt=dt>>8,V[st+5]=dt,dt=dt>>8,V[st+4]=dt;let Mt=Number(rt>>BigInt(32)&BigInt(4294967295));return V[st+3]=Mt,Mt=Mt>>8,V[st+2]=Mt,Mt=Mt>>8,V[st+1]=Mt,Mt=Mt>>8,V[st]=Mt,st+8}o.prototype.writeBigUInt64LE=vt(function(V,rt=0){return k(this,V,rt,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=vt(function(V,rt=0){return tt(this,V,rt,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(V,rt,st,yt){if(V=+V,rt=rt>>>0,!yt){let Lt=Math.pow(2,8*st-1);h(this,V,rt,st,Lt-1,-Lt)}let Ct=0,dt=1,Mt=0;for(this[rt]=V&255;++Ct<st&&(dt*=256);)V<0&&Mt===0&&this[rt+Ct-1]!==0&&(Mt=1),this[rt+Ct]=(V/dt>>0)-Mt&255;return rt+st},o.prototype.writeIntBE=function(V,rt,st,yt){if(V=+V,rt=rt>>>0,!yt){let Lt=Math.pow(2,8*st-1);h(this,V,rt,st,Lt-1,-Lt)}let Ct=st-1,dt=1,Mt=0;for(this[rt+Ct]=V&255;--Ct>=0&&(dt*=256);)V<0&&Mt===0&&this[rt+Ct+1]!==0&&(Mt=1),this[rt+Ct]=(V/dt>>0)-Mt&255;return rt+st},o.prototype.writeInt8=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,1,127,-128),V<0&&(V=255+V+1),this[rt]=V&255,rt+1},o.prototype.writeInt16LE=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,2,32767,-32768),this[rt]=V&255,this[rt+1]=V>>>8,rt+2},o.prototype.writeInt16BE=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,2,32767,-32768),this[rt]=V>>>8,this[rt+1]=V&255,rt+2},o.prototype.writeInt32LE=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,4,2147483647,-2147483648),this[rt]=V&255,this[rt+1]=V>>>8,this[rt+2]=V>>>16,this[rt+3]=V>>>24,rt+4},o.prototype.writeInt32BE=function(V,rt,st){return V=+V,rt=rt>>>0,st||h(this,V,rt,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[rt]=V>>>24,this[rt+1]=V>>>16,this[rt+2]=V>>>8,this[rt+3]=V&255,rt+4},o.prototype.writeBigInt64LE=vt(function(V,rt=0){return k(this,V,rt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=vt(function(V,rt=0){return tt(this,V,rt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(V,rt,st,yt,Ct,dt){if(st+yt>V.length)throw new RangeError("Index out of range");if(st<0)throw new RangeError("Index out of range")}function ft(V,rt,st,yt,Ct){return rt=+rt,st=st>>>0,Ct||X(V,rt,st,4),r.write(V,rt,st,yt,23,4),st+4}o.prototype.writeFloatLE=function(V,rt,st){return ft(this,V,rt,!0,st)},o.prototype.writeFloatBE=function(V,rt,st){return ft(this,V,rt,!1,st)};function et(V,rt,st,yt,Ct){return rt=+rt,st=st>>>0,Ct||X(V,rt,st,8),r.write(V,rt,st,yt,52,8),st+8}o.prototype.writeDoubleLE=function(V,rt,st){return et(this,V,rt,!0,st)},o.prototype.writeDoubleBE=function(V,rt,st){return et(this,V,rt,!1,st)},o.prototype.copy=function(V,rt,st,yt){if(!o.isBuffer(V))throw new TypeError("argument should be a Buffer");if(st||(st=0),!yt&&yt!==0&&(yt=this.length),rt>=V.length&&(rt=V.length),rt||(rt=0),yt>0&&yt<st&&(yt=st),yt===st||V.length===0||this.length===0)return 0;if(rt<0)throw new RangeError("targetStart out of bounds");if(st<0||st>=this.length)throw new RangeError("Index out of range");if(yt<0)throw new RangeError("sourceEnd out of bounds");yt>this.length&&(yt=this.length),V.length-rt<yt-st&&(yt=V.length-rt+st);let Ct=yt-st;return this===V&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(rt,st,yt):Uint8Array.prototype.set.call(V,this.subarray(st,yt),rt),Ct},o.prototype.fill=function(V,rt,st,yt){if(typeof V=="string"){if(typeof rt=="string"?(yt=rt,rt=0,st=this.length):typeof st=="string"&&(yt=st,st=this.length),yt!==void 0&&typeof yt!="string")throw new TypeError("encoding must be a string");if(typeof yt=="string"&&!o.isEncoding(yt))throw new TypeError("Unknown encoding: "+yt);if(V.length===1){let dt=V.charCodeAt(0);(yt==="utf8"&&dt<128||yt==="latin1")&&(V=dt)}}else typeof V=="number"?V=V&255:typeof V=="boolean"&&(V=Number(V));if(rt<0||this.length<rt||this.length<st)throw new RangeError("Out of range index");if(st<=rt)return this;rt=rt>>>0,st=st===void 0?this.length:st>>>0,V||(V=0);let Ct;if(typeof V=="number")for(Ct=rt;Ct<st;++Ct)this[Ct]=V;else{let dt=o.isBuffer(V)?V:o.from(V,yt),Mt=dt.length;if(Mt===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(Ct=0;Ct<st-rt;++Ct)this[Ct+rt]=dt[Ct%Mt]}return this};var at={};function $(V,rt,st){at[V]=class extends st{constructor(){super(),Object.defineProperty(this,"message",{value:rt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(yt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:yt,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}$("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(V,rt){return`The "${V}" argument must be of type number. Received type ${typeof rt}`},TypeError),$("ERR_OUT_OF_RANGE",function(V,rt,st){let yt=`The value of "${V}" is out of range.`,Ct=st;return Number.isInteger(st)&&Math.abs(st)>2**32?Ct=J(String(st)):typeof st=="bigint"&&(Ct=String(st),(st>BigInt(2)**BigInt(32)||st<-(BigInt(2)**BigInt(32)))&&(Ct=J(Ct)),Ct+="n"),yt+=` It must be ${rt}. Received ${Ct}`,yt},RangeError);function J(V){let rt="",st=V.length,yt=V[0]==="-"?1:0;for(;st>=yt+4;st-=3)rt=`_${V.slice(st-3,st)}${rt}`;return`${V.slice(0,st)}${rt}`}function R(V,rt,st){z(rt,"offset"),(V[rt]===void 0||V[rt+st]===void 0)&&Z(rt,V.length-(st+1))}function j(V,rt,st,yt,Ct,dt){if(V>st||V<rt){let Mt=typeof rt=="bigint"?"n":"",Lt;throw dt>3?rt===0||rt===BigInt(0)?Lt=`>= 0${Mt} and < 2${Mt} ** ${(dt+1)*8}${Mt}`:Lt=`>= -(2${Mt} ** ${(dt+1)*8-1}${Mt}) and < 2 ** ${(dt+1)*8-1}${Mt}`:Lt=`>= ${rt}${Mt} and <= ${st}${Mt}`,new at.ERR_OUT_OF_RANGE("value",Lt,V)}R(yt,Ct,dt)}function z(V,rt){if(typeof V!="number")throw new at.ERR_INVALID_ARG_TYPE(rt,"number",V)}function Z(V,rt,st){throw Math.floor(V)!==V?(z(V,st),new at.ERR_OUT_OF_RANGE(st||"offset","an integer",V)):rt<0?new at.ERR_BUFFER_OUT_OF_BOUNDS:new at.ERR_OUT_OF_RANGE(st||"offset",`>= ${st?1:0} and <= ${rt}`,V)}var Q=/[^+/0-9A-Za-z-_]/g;function K(V){if(V=V.split("=")[0],V=V.trim().replace(Q,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function G(V,rt){rt=rt||1/0;let st,yt=V.length,Ct=null,dt=[];for(let Mt=0;Mt<yt;++Mt){if(st=V.charCodeAt(Mt),st>55295&&st<57344){if(!Ct){if(st>56319){(rt-=3)>-1&&dt.push(239,191,189);continue}else if(Mt+1===yt){(rt-=3)>-1&&dt.push(239,191,189);continue}Ct=st;continue}if(st<56320){(rt-=3)>-1&&dt.push(239,191,189),Ct=st;continue}st=(Ct-55296<<10|st-56320)+65536}else Ct&&(rt-=3)>-1&&dt.push(239,191,189);if(Ct=null,st<128){if((rt-=1)<0)break;dt.push(st)}else if(st<2048){if((rt-=2)<0)break;dt.push(st>>6|192,st&63|128)}else if(st<65536){if((rt-=3)<0)break;dt.push(st>>12|224,st>>6&63|128,st&63|128)}else if(st<1114112){if((rt-=4)<0)break;dt.push(st>>18|240,st>>12&63|128,st>>6&63|128,st&63|128)}else throw new Error("Invalid code point")}return dt}function H(V){let rt=[];for(let st=0;st<V.length;++st)rt.push(V.charCodeAt(st)&255);return rt}function Y(V,rt){let st,yt,Ct,dt=[];for(let Mt=0;Mt<V.length&&!((rt-=2)<0);++Mt)st=V.charCodeAt(Mt),yt=st>>8,Ct=st%256,dt.push(Ct),dt.push(yt);return dt}function it(V){return i.toByteArray(K(V))}function ot(V,rt,st,yt){let Ct;for(Ct=0;Ct<yt&&!(Ct+st>=rt.length||Ct>=V.length);++Ct)rt[Ct+st]=V[Ct];return Ct}function mt(V,rt){return V instanceof rt||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===rt.name}function _t(V){return V!==V}var ht=function(){let V="0123456789abcdef",rt=new Array(256);for(let st=0;st<16;++st){let yt=st*16;for(let Ct=0;Ct<16;++Ct)rt[yt+Ct]=V[st]+V[Ct]}return rt}();function vt(V){return typeof BigInt>"u"?pt:V}function pt(){throw new Error("BigInt not supported")}}),vl=pn((t,i)=>{typeof window<"u"?(window.global=window,le.fetch=window.fetch,i.exports={Buffer:za().Buffer,Crypto:window.crypto}):i.exports={Buffer:za().Buffer,Crypto:crypto}}),Ms={},dl(Ms,{AVSCTap:()=>Ii,ArweaveSigner:()=>Ya,DataItem:()=>Ai,MAX_TAG_BYTES:()=>Qi,MIN_BINARY_SIZE:()=>to,SIG_CONFIG:()=>ai,SignatureConfig:()=>Ir,Signer:()=>Vs,createData:()=>Fo,deserializeTags:()=>Xa,indexToType:()=>Qa,serializeTags:()=>_u,tagsExceedLimit:()=>oc}),Vs=class{constructor(){Pt(this,"signer");Pt(this,"publicKey");Pt(this,"signatureType");Pt(this,"signatureLength");Pt(this,"ownerLength");Pt(this,"pem")}static verify(t,i,r,u){throw new Error("You must implement verify method on child")}},wl=Nn(Ka(),1),zr=Nn(Ts(),1),Wa=Nn(yl(),1),_l=Wa.default.default?Wa.default.default:Wa.default,sc=class extends _l{getPublicKey(t){throw new Error("Unimplemented")}},function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"}(Ir||(Ir={})),ai={[Ir.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[Ir.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[Ir.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[Ir.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[Ir.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[Ir.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[Ir.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}},Ya=class{constructor(t){Pt(this,"signatureType",1);Pt(this,"ownerLength",ai[1].pubLength);Pt(this,"signatureLength",ai[1].sigLength);Pt(this,"jwk");Pt(this,"pk");this.pk=t.n,this.jwk=t}get publicKey(){return wl.default.toBuffer(this.pk)}sign(t){return On().sign(this.jwk,t)}static async verify(t,i,r){return await On().verify(t,i,r)}},Qa={1:Ya},Yr=Nn(Ka(),1),Ii=class{constructor(t=Ut.Buffer.alloc(Qi),i=0){Pt(this,"buf");Pt(this,"pos");this.buf=t,this.pos=i}writeTags(t){if(!Array.isArray(t))throw new Error("input must be array");let i=t.length,r;if(i)for(this.writeLong(i),r=0;r<i;r++){let u=t[r];if((u==null?void 0:u.name)===void 0||(u==null?void 0:u.value)===void 0)throw new Error(`Invalid tag format for ${u}, expected {name:string, value: string}`);this.writeString(u.name),this.writeString(u.value)}this.writeLong(0)}toBuffer(){let t=Ut.Buffer.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(t,0,0,this.pos),t}tagsExceedLimit(){return this.pos>this.buf.length}writeLong(t){let i=this.buf,r,u;if(t>=-1073741824&&t<1073741824){u=t>=0?t<<1:~t<<1|1;do i[this.pos]=u&127,u>>=7;while(u&&(i[this.pos++]|=128))}else{r=t>=0?t*2:-t*2-1;do i[this.pos]=r&127,r/=128;while(r>=1&&(i[this.pos++]|=128))}this.pos++,this.buf=i}writeString(t){let i=Ut.Buffer.byteLength(t),r=this.buf;this.writeLong(i);let u=this.pos;if(this.pos+=i,!(this.pos>r.length)){if(i>64)this.buf.write(t,this.pos-i,i,"utf8");else{let a,s,e,o;for(a=0,s=i;a<s;a++)e=t.charCodeAt(a),e<128?r[u++]=e:e<2048?(r[u++]=e>>6|192,r[u++]=e&63|128):(e&64512)===55296&&((o=t.charCodeAt(a+1))&64512)===56320?(e=65536+((e&1023)<<10)+(o&1023),a++,r[u++]=e>>18|240,r[u++]=e>>12&63|128,r[u++]=e>>6&63|128,r[u++]=e&63|128):(r[u++]=e>>12|224,r[u++]=e>>6&63|128,r[u++]=e&63|128)}this.buf=r}}readLong(){let t=0,i=0,r=this.buf,u,a,s,e;do u=r[this.pos++],a=u&128,t|=(u&127)<<i,i+=7;while(a&&i<28);if(a){s=t,e=268435456;do u=r[this.pos++],s+=(u&127)*e,e*=128;while(u&128);return(s%2?-(s+1):s)/2}return t>>1^-(t&1)}skipLong(){let t=this.buf;for(;t[this.pos++]&128;);}readTags(){let t=[],i;for(;i=this.readLong();)for(i<0&&(i=-i,this.skipLong());i--;){let r=this.readString(),u=this.readString();t.push({name:r,value:u})}return t}readString(){let t=this.readLong(),i=this.pos,r=this.buf;if(this.pos+=t,!(this.pos>r.length))return this.buf.slice(i,i+t).toString()}},El=Nn(vl(),1),ni=Nn(za(),1),Qi=4096,to=80,Ai=class{constructor(t){Pt(this,"binary");Pt(this,"_id");this.binary=t}static isDataItem(t){return t.binary!==void 0}get signatureType(){let t=Rn(this.binary.subarray(0,2));if((Ir==null?void 0:Ir[t])!==void 0)return t;throw new Error("Unknown signature type: "+t)}async isValid(){return Ai.verify(this.binary)}get id(){return(async()=>Yr.default.encode(await this.rawId))()}set id(t){this._id=Yr.default.toBuffer(t)}get rawId(){return(async()=>ni.Buffer.from(await El.Crypto.subtle.digest("SHA-256",this.rawSignature)))()}set rawId(t){this._id=t}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return Yr.default.encode(this.rawSignature)}set rawOwner(t){if(t.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${t.byteLength} bytes.`);this.binary.set(t,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return ai[this.signatureType].sigLength}get owner(){return Yr.default.encode(this.rawOwner)}get ownerLength(){return ai[this.signatureType].pubLength}get rawTarget(){let t=this.getTargetStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):ni.Buffer.alloc(0)}get target(){return Yr.default.encode(this.rawTarget)}get rawAnchor(){let t=this.getAnchorStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):ni.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){let t=this.getTagsStart(),i=Rn(this.binary.subarray(t+8,t+16));return this.binary.subarray(t+16,t+16+i)}get tags(){let t=this.getTagsStart();if(Rn(this.binary.subarray(t,t+8))==0)return[];let i=Rn(this.binary.subarray(t+8,t+16));return Xa(ni.Buffer.from(this.binary.subarray(t+16,t+16+i)))}get tagsB64Url(){return this.tags.map(t=>({name:Yr.default.encode(t.name),value:Yr.default.encode(t.value)}))}getStartOfData(){let t=this.getTagsStart(),i=this.binary.subarray(t+8,t+16),r=Rn(i);return t+16+r}get rawData(){let t=this.getTagsStart(),i=this.binary.subarray(t+8,t+16),r=Rn(i),u=t+16+r;return this.binary.subarray(u,this.binary.length)}get data(){return Yr.default.encode(this.rawData)}getRaw(){return this.binary}async sign(t){return this._id=await dg(this,t),this.rawId}async setSignature(t){this.binary.set(t,2),this._id=ni.Buffer.from(await On().hash(t))}isSigned(){var t;return(((t=this._id)==null?void 0:t.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(t=>({name:Yr.default.encode(t.name),value:Yr.default.encode(t.value)})),data:this.data}}static async verify(t){if(t.byteLength<to)return!1;let i=new Ai(t),r=i.signatureType,u=i.getTagsStart(),a=Rn(t.subarray(u,u+8)),s=t.subarray(u+8,u+16),e=Rn(s);if(e>Qi)return!1;if(a>0)try{if(Xa(ni.Buffer.from(t.subarray(u+16,u+16+e))).length!==a)return!1}catch{return!1}let o=Qa[r],c=await Gs(i);return await o.verify(i.rawOwner,c,i.rawSignature)}async getSignatureData(){return Gs(this)}getTagsStart(){let t=this.getTargetStart(),i=this.binary[t]==1,r=t+(i?33:1),u=this.binary[r]==1;return r+=u?33:1,r}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let t=this.getTargetStart()+1,i=this.binary[this.getTargetStart()]==1;return t+=i?32:0,t}},uc=Nn(Ka(),1),qa={...Ms},globalThis.arbundles??(globalThis.arbundles=qa),hc=qa,lc=qa}),fc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Signature=void 0;var i=(Ko(),Bf(wu)),r=class{constructor(a,s){this.warp=a,this.isCustomSignature(s)?(this.assertEnvForCustomSigner(s.type),this.signer=s.signer,this.type=s.type,this.signatureProviderType="CustomSignature"):this.isValidBundlerSignature(s)?(this.signatureProviderType="BundlerSigner",this.type=u(s.signatureType),this.bundlerSigner=s):(this.assignArweaveSigner(s),this.bundlerSigner=typeof s=="string"?null:new i.ArweaveSigner(s),this.signatureProviderType="ArWallet",this.type="arweave"),this.wallet=s}async getAddress(){if(this.cachedAddress)return this.cachedAddress;switch(this.signatureProviderType){case"CustomSignature":return this.wallet.getAddress?this.cachedAddress=await this.wallet.getAddress():this.cachedAddress=await this.deduceSignerBySigning(),this.cachedAddress;case"ArWallet":return this.cachedAddress=await this.deduceSignerBySigning(),this.cachedAddress;case"BundlerSigner":return this.cachedAddress=await this.deduceSignerBySigning(),this.cachedAddress;default:throw Error("Unknown Signature::signatureProvider : "+this.signatureProviderType)}}async deduceSignerBySigning(){let{arweave:a}=this.warp;if(this.signatureProviderType=="BundlerSigner")try{return await this.bundlerSigner.getAddress()}catch{throw new Error("Could not get address from the signer. Is the 'getAddress' implementation correct?'")}else if(this.signatureProviderType=="ArWallet"||this.signatureProviderType=="CustomSignature"){let s=await a.createTransaction({data:Math.random().toString().slice(-4),reward:"72600854",last_tx:"p7vc1iSP6bvH_fCeUFa9LqoV5qiyW-jdEKouAT0XMoSwrNraB9mgpi29Q10waEpO"});return await this.signer(s),a.wallets.ownerToAddress(s.owner)}else throw Error("Unknown Signature::type")}checkNonArweaveSigningAvailability(a){if(this.type!=="arweave"&&!a)throw new Error(`Unable to use signing function of type: ${this.type} when bundling is disabled.`)}checkBundlerSignerAvailability(a){if((!a||this.warp.environment=="local")&&this.signatureProviderType=="BundlerSigner")throw new Error("Only wallet of type 'ArWallet' or 'CustomSignature' is allowed when bundling is disabled or in local environment.")}assignArweaveSigner(a){this.signer=async s=>{await this.warp.arweave.transactions.sign(s,a)}}assertEnvForCustomSigner(a){if(this.warp.interactionsLoader.type()==="warp")throw new Error("Unable to use signing function when bundling is enabled.");if(a=="ethereum")throw new Error(`Unable to use signing function with signature of type: ${a}.`)}isCustomSignature(a){return a.signer!==void 0&&a.type!==void 0}isValidBundlerSignature(a){let s=a,e=!!s.signatureType&&!!s.ownerLength&&!!s.signatureLength;if(e&&!s.publicKey)throw new Error("It seems that you are using BundlerSigner, but publicKey is not set! Maybe try calling await bundlerSigner.setPublicKey() before using it.");return e}};t.Signature=r;function u(a){if(a===3)return"ethereum";if(a===1)return"arweave";throw Error(`Not supported arbundle SignatureType : ${a}`)}}),cc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationOptionsEvaluator=void 0;var i=Er(),r=class{constructor(u,a){if(this.saferEvaluationOptions={internalWrites:s=>{if(s.internalWrites===void 0||this.rootOptions.internalWrites==s.internalWrites)return this.rootOptions.internalWrites;if(this.rootOptions.internalWrites&&!s.internalWrites||!this.rootOptions.internalWrites&&s.internalWrites)return s.internalWrites;throw new Error('Could not determine "internalWrites" value ')},throwOnInternalWriteError:s=>s.throwOnInternalWriteError===void 0?this.rootOptions.throwOnInternalWriteError:s.throwOnInternalWriteError,unsafeClient:s=>{if(s.unsafeClient===void 0||this.rootOptions.unsafeClient==s.unsafeClient)return this.rootOptions.unsafeClient;if(this.rootOptions.unsafeClient==="throw"||this.rootOptions.unsafeClient==="skip")return this.rootOptions.unsafeClient;if(this.rootOptions.unsafeClient==="allow")return s.unsafeClient==="throw"?"skip":s.unsafeClient;throw new Error('Could not determine "unsafeClient" value')},ignoreExceptions:s=>{if(s.ignoreExceptions===void 0||this.rootOptions.ignoreExceptions==s.ignoreExceptions)return this.rootOptions.ignoreExceptions;if(this.rootOptions.ignoreExceptions&&!s.ignoreExceptions)return this.rootOptions.ignoreExceptions;if(!this.rootOptions.ignoreExceptions&&s.ignoreExceptions)return this.rootOptions.ignoreExceptions;throw new Error('Could not determine "ignoreExceptions" value')},waitForConfirmation:()=>this.rootOptions.waitForConfirmation,updateCacheForEachInteraction:()=>this.rootOptions.updateCacheForEachInteraction,maxCallDepth:()=>this.rootOptions.maxCallDepth,maxInteractionEvaluationTimeSeconds:()=>this.rootOptions.maxInteractionEvaluationTimeSeconds,stackTrace:()=>this.rootOptions.stackTrace,sourceType:()=>this.rootOptions.sourceType,sequencerUrl:()=>this.rootOptions.sequencerUrl,gasLimit:()=>this.rootOptions.gasLimit,allowBigInt:()=>this.rootOptions.allowBigInt,walletBalanceUrl:()=>this.rootOptions.walletBalanceUrl,mineArLocalBlocks:()=>this.rootOptions.mineArLocalBlocks,cacheEveryNInteractions:()=>this.rootOptions.cacheEveryNInteractions,remoteStateSyncEnabled:()=>this.rootOptions.remoteStateSyncEnabled,remoteStateSyncSource:()=>this.rootOptions.remoteStateSyncSource,useKVStorage:s=>s.useKVStorage,useConstructor:s=>s.useConstructor,whitelistSources:()=>this.rootOptions.whitelistSources},this.notConflictingEvaluationOptions=["useKVStorage","sourceType","useConstructor"],a){let s=[];for(let e in a){if(!u.hasOwnProperty(e))throw new Error("Unknown option set in contract's manifest. You probably need to update the Warp SDK version.");let o=e,c=a[e],f=u[e];if(!this.notConflictingEvaluationOptions.includes(o))if(o==="internalWrites"){if(f===!1&&c===!0)throw new Error("Cannot proceed with contract evaluation. User is blocking internal writes, while contract requires them.")}else if(o==="unsafeClient"){if(f==="throw"&&c!=="throw"||f==="skip"&&c==="allow")throw new Error(`Cannot proceed with contract evaluation. User requires to ${f} on any unsafeClient usage, while contract uses ${c} option.`)}else u[e]!==a[e]&&s.push(`Option {${e}} differs. EvaluationOptions: [${u[e]}], manifest: [${a[e]}]. Use contract.setEvaluationOptions({${e}: ${a[e]}}) to evaluate contract state.`)}if(s.length)throw new Error(s.join(`
`))}this.rootOptions=Object.freeze(Object.assign({},u,a||{}))}forForeignContract(u){let a=(0,i.deepCopy)(this.rootOptions);if(u)for(let s in u)a[s]=this.saferEvaluationOptions[s](u);return Object.freeze(a)}};t.EvaluationOptionsEvaluator=r}),dc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.WarpFetchWrapper=void 0;var i=or(),r=class{constructor(u){this.warp=u,this.name="WarpFetchWrapper",this.logger=i.LoggerFactory.INST.create(this.name),this.warp=u}fetch(u,a){let s;if(this.warp.hasPlugin("fetch-options")){let e=this.warp.loadPlugin("fetch-options");try{let o=e.process({input:u,init:a||{}});s={...a,...o}}catch(o){throw o.message&&this.logger.error(o.message),new Error(`Unable to process fetch options: ${o.message}`)}}else s=a;return fetch(u,s)}};t.WarpFetchWrapper=r}),zo=gt((t,i)=>{lt();var r,u,a,s,e,o,c,f,l,p,g,y,m,M,E,B,x,C,N,F,I,U,P,D,W,q,O,L,n,d,v;(function(A){var T=typeof le=="object"?le:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(w){A(S(T,S(w)))}):typeof i=="object"&&typeof i.exports=="object"?A(S(T,S(i.exports))):A(S(T));function S(w,b){return w!==T&&(typeof Object.create=="function"?Object.defineProperty(w,"__esModule",{value:!0}):w.__esModule=!0),function(h,k){return w[h]=b?b(h,k):k}}})(function(A){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,h){b.__proto__=h}||function(b,h){for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(b[k]=h[k])};r=function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");T(b,h);function k(){this.constructor=b}b.prototype=h===null?Object.create(h):(k.prototype=h.prototype,new k)},u=Object.assign||function(b){for(var h,k=1,tt=arguments.length;k<tt;k++){h=arguments[k];for(var X in h)Object.prototype.hasOwnProperty.call(h,X)&&(b[X]=h[X])}return b},a=function(b,h){var k={};for(var tt in b)Object.prototype.hasOwnProperty.call(b,tt)&&h.indexOf(tt)<0&&(k[tt]=b[tt]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,tt=Object.getOwnPropertySymbols(b);X<tt.length;X++)h.indexOf(tt[X])<0&&Object.prototype.propertyIsEnumerable.call(b,tt[X])&&(k[tt[X]]=b[tt[X]]);return k},s=function(b,h,k,tt){var X=arguments.length,ft=X<3?h:tt===null?tt=Object.getOwnPropertyDescriptor(h,k):tt,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ft=Reflect.decorate(b,h,k,tt);else for(var at=b.length-1;at>=0;at--)(et=b[at])&&(ft=(X<3?et(ft):X>3?et(h,k,ft):et(h,k))||ft);return X>3&&ft&&Object.defineProperty(h,k,ft),ft},e=function(b,h){return function(k,tt){h(k,tt,b)}},o=function(b,h,k,tt,X,ft){function et(H){if(H!==void 0&&typeof H!="function")throw new TypeError("Function expected");return H}for(var at=tt.kind,$=at==="getter"?"get":at==="setter"?"set":"value",J=!h&&b?tt.static?b:b.prototype:null,R=h||(J?Object.getOwnPropertyDescriptor(J,tt.name):{}),j,z=!1,Z=k.length-1;Z>=0;Z--){var Q={};for(var K in tt)Q[K]=K==="access"?{}:tt[K];for(var K in tt.access)Q.access[K]=tt.access[K];Q.addInitializer=function(H){if(z)throw new TypeError("Cannot add initializers after decoration has completed");ft.push(et(H||null))};var G=(0,k[Z])(at==="accessor"?{get:R.get,set:R.set}:R[$],Q);if(at==="accessor"){if(G===void 0)continue;if(G===null||typeof G!="object")throw new TypeError("Object expected");(j=et(G.get))&&(R.get=j),(j=et(G.set))&&(R.set=j),(j=et(G.init))&&X.unshift(j)}else(j=et(G))&&(at==="field"?X.unshift(j):R[$]=j)}J&&Object.defineProperty(J,tt.name,R),z=!0},c=function(b,h,k){for(var tt=arguments.length>2,X=0;X<h.length;X++)k=tt?h[X].call(b,k):h[X].call(b);return tt?k:void 0},f=function(b){return typeof b=="symbol"?b:"".concat(b)},l=function(b,h,k){return typeof h=="symbol"&&(h=h.description?"[".concat(h.description,"]"):""),Object.defineProperty(b,"name",{configurable:!0,value:k?"".concat(k," ",h):h})},p=function(b,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(b,h)},g=function(b,h,k,tt){function X(ft){return ft instanceof k?ft:new k(function(et){et(ft)})}return new(k||(k=Promise))(function(ft,et){function at(R){try{J(tt.next(R))}catch(j){et(j)}}function $(R){try{J(tt.throw(R))}catch(j){et(j)}}function J(R){R.done?ft(R.value):X(R.value).then(at,$)}J((tt=tt.apply(b,h||[])).next())})},y=function(b,h){var k={label:0,sent:function(){if(ft[0]&1)throw ft[1];return ft[1]},trys:[],ops:[]},tt,X,ft,et;return et={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function at(J){return function(R){return $([J,R])}}function $(J){if(tt)throw new TypeError("Generator is already executing.");for(;et&&(et=0,J[0]&&(k=0)),k;)try{if(tt=1,X&&(ft=J[0]&2?X.return:J[0]?X.throw||((ft=X.return)&&ft.call(X),0):X.next)&&!(ft=ft.call(X,J[1])).done)return ft;switch(X=0,ft&&(J=[J[0]&2,ft.value]),J[0]){case 0:case 1:ft=J;break;case 4:return k.label++,{value:J[1],done:!1};case 5:k.label++,X=J[1],J=[0];continue;case 7:J=k.ops.pop(),k.trys.pop();continue;default:if(ft=k.trys,!(ft=ft.length>0&&ft[ft.length-1])&&(J[0]===6||J[0]===2)){k=0;continue}if(J[0]===3&&(!ft||J[1]>ft[0]&&J[1]<ft[3])){k.label=J[1];break}if(J[0]===6&&k.label<ft[1]){k.label=ft[1],ft=J;break}if(ft&&k.label<ft[2]){k.label=ft[2],k.ops.push(J);break}ft[2]&&k.ops.pop(),k.trys.pop();continue}J=h.call(b,k)}catch(R){J=[6,R],X=0}finally{tt=ft=0}if(J[0]&5)throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}},m=function(b,h){for(var k in b)k!=="default"&&!Object.prototype.hasOwnProperty.call(h,k)&&n(h,b,k)},n=Object.create?function(b,h,k,tt){tt===void 0&&(tt=k);var X=Object.getOwnPropertyDescriptor(h,k);(!X||("get"in X?!h.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return h[k]}}),Object.defineProperty(b,tt,X)}:function(b,h,k,tt){tt===void 0&&(tt=k),b[tt]=h[k]},M=function(b){var h=typeof Symbol=="function"&&Symbol.iterator,k=h&&b[h],tt=0;if(k)return k.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&tt>=b.length&&(b=void 0),{value:b&&b[tt++],done:!b}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(b,h){var k=typeof Symbol=="function"&&b[Symbol.iterator];if(!k)return b;var tt=k.call(b),X,ft=[],et;try{for(;(h===void 0||h-- >0)&&!(X=tt.next()).done;)ft.push(X.value)}catch(at){et={error:at}}finally{try{X&&!X.done&&(k=tt.return)&&k.call(tt)}finally{if(et)throw et.error}}return ft},B=function(){for(var b=[],h=0;h<arguments.length;h++)b=b.concat(E(arguments[h]));return b},x=function(){for(var b=0,h=0,k=arguments.length;h<k;h++)b+=arguments[h].length;for(var tt=Array(b),X=0,h=0;h<k;h++)for(var ft=arguments[h],et=0,at=ft.length;et<at;et++,X++)tt[X]=ft[et];return tt},C=function(b,h,k){if(k||arguments.length===2)for(var tt=0,X=h.length,ft;tt<X;tt++)(ft||!(tt in h))&&(ft||(ft=Array.prototype.slice.call(h,0,tt)),ft[tt]=h[tt]);return b.concat(ft||Array.prototype.slice.call(h))},N=function(b){return this instanceof N?(this.v=b,this):new N(b)},F=function(b,h,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt=k.apply(b,h||[]),X,ft=[];return X={},et("next"),et("throw"),et("return"),X[Symbol.asyncIterator]=function(){return this},X;function et(z){tt[z]&&(X[z]=function(Z){return new Promise(function(Q,K){ft.push([z,Z,Q,K])>1||at(z,Z)})})}function at(z,Z){try{$(tt[z](Z))}catch(Q){j(ft[0][3],Q)}}function $(z){z.value instanceof N?Promise.resolve(z.value.v).then(J,R):j(ft[0][2],z)}function J(z){at("next",z)}function R(z){at("throw",z)}function j(z,Z){z(Z),ft.shift(),ft.length&&at(ft[0][0],ft[0][1])}},I=function(b){var h,k;return h={},tt("next"),tt("throw",function(X){throw X}),tt("return"),h[Symbol.iterator]=function(){return this},h;function tt(X,ft){h[X]=b[X]?function(et){return(k=!k)?{value:N(b[X](et)),done:!1}:ft?ft(et):et}:ft}},U=function(b){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h=b[Symbol.asyncIterator],k;return h?h.call(b):(b=typeof M=="function"?M(b):b[Symbol.iterator](),k={},tt("next"),tt("throw"),tt("return"),k[Symbol.asyncIterator]=function(){return this},k);function tt(ft){k[ft]=b[ft]&&function(et){return new Promise(function(at,$){et=b[ft](et),X(at,$,et.done,et.value)})}}function X(ft,et,at,$){Promise.resolve($).then(function(J){ft({value:J,done:at})},et)}},P=function(b,h){return Object.defineProperty?Object.defineProperty(b,"raw",{value:h}):b.raw=h,b};var S=Object.create?function(b,h){Object.defineProperty(b,"default",{enumerable:!0,value:h})}:function(b,h){b.default=h};D=function(b){if(b&&b.__esModule)return b;var h={};if(b!=null)for(var k in b)k!=="default"&&Object.prototype.hasOwnProperty.call(b,k)&&n(h,b,k);return S(h,b),h},W=function(b){return b&&b.__esModule?b:{default:b}},q=function(b,h,k,tt){if(k==="a"&&!tt)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?b!==h||!tt:!h.has(b))throw new TypeError("Cannot read private member from an object whose class did not declare it");return k==="m"?tt:k==="a"?tt.call(b):tt?tt.value:h.get(b)},O=function(b,h,k,tt,X){if(tt==="m")throw new TypeError("Private method is not writable");if(tt==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof h=="function"?b!==h||!X:!h.has(b))throw new TypeError("Cannot write private member to an object whose class did not declare it");return tt==="a"?X.call(b,k):X?X.value=k:h.set(b,k),k},L=function(b,h){if(h===null||typeof h!="object"&&typeof h!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof b=="function"?h===b:b.has(h)},d=function(b,h,k){if(h!=null){if(typeof h!="object"&&typeof h!="function")throw new TypeError("Object expected.");var tt;if(k){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");tt=h[Symbol.asyncDispose]}if(tt===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");tt=h[Symbol.dispose]}if(typeof tt!="function")throw new TypeError("Object not disposable.");b.stack.push({value:h,dispose:tt,async:k})}else k&&b.stack.push({async:!0});return h};var w=typeof SuppressedError=="function"?SuppressedError:function(b,h,k){var tt=new Error(k);return tt.name="SuppressedError",tt.error=b,tt.suppressed=h,tt};v=function(b){function h(tt){b.error=b.hasError?new w(tt,b.error,"An error was suppressed during disposal."):tt,b.hasError=!0}function k(){for(;b.stack.length;){var tt=b.stack.pop();try{var X=tt.dispose&&tt.dispose.call(tt.value);if(tt.async)return Promise.resolve(X).then(k,function(ft){return h(ft),k()})}catch(ft){h(ft)}}if(b.hasError)throw b.error}return k()},A("__extends",r),A("__assign",u),A("__rest",a),A("__decorate",s),A("__param",e),A("__esDecorate",o),A("__runInitializers",c),A("__propKey",f),A("__setFunctionName",l),A("__metadata",p),A("__awaiter",g),A("__generator",y),A("__exportStar",m),A("__createBinding",n),A("__values",M),A("__read",E),A("__spread",B),A("__spreadArrays",x),A("__spreadArray",C),A("__await",N),A("__asyncGenerator",F),A("__asyncDelegator",I),A("__asyncValues",U),A("__makeTemplateObject",P),A("__importStar",D),A("__importDefault",W),A("__classPrivateFieldGet",q),A("__classPrivateFieldSet",O),A("__classPrivateFieldIn",L),A("__addDisposableResource",d),A("__disposeResources",v)})}),Wo=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.E_CANCELED=t.E_ALREADY_LOCKED=t.E_TIMEOUT=void 0,t.E_TIMEOUT=new Error("timeout while waiting for mutex to become available"),t.E_ALREADY_LOCKED=new Error("mutex already locked"),t.E_CANCELED=new Error("request for lock canceled")}),pc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=zo(),r=Wo(),u=function(){function a(s,e){e===void 0&&(e=r.E_CANCELED),this._value=s,this._cancelError=e,this._weightedQueues=[],this._weightedWaiters=[]}return a.prototype.acquire=function(s){var e=this;if(s===void 0&&(s=1),s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return new Promise(function(o,c){e._weightedQueues[s-1]||(e._weightedQueues[s-1]=[]),e._weightedQueues[s-1].push({resolve:o,reject:c}),e._dispatch()})},a.prototype.runExclusive=function(s,e){return e===void 0&&(e=1),i.__awaiter(this,void 0,void 0,function(){var o,c,f;return i.__generator(this,function(l){switch(l.label){case 0:return[4,this.acquire(e)];case 1:o=l.sent(),c=o[0],f=o[1],l.label=2;case 2:return l.trys.push([2,,4,5]),[4,s(c)];case 3:return[2,l.sent()];case 4:return f(),[7];case 5:return[2]}})})},a.prototype.waitForUnlock=function(s){var e=this;if(s===void 0&&(s=1),s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return new Promise(function(o){e._weightedWaiters[s-1]||(e._weightedWaiters[s-1]=[]),e._weightedWaiters[s-1].push(o),e._dispatch()})},a.prototype.isLocked=function(){return this._value<=0},a.prototype.getValue=function(){return this._value},a.prototype.setValue=function(s){this._value=s,this._dispatch()},a.prototype.release=function(s){if(s===void 0&&(s=1),s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));this._value+=s,this._dispatch()},a.prototype.cancel=function(){var s=this;this._weightedQueues.forEach(function(e){return e.forEach(function(o){return o.reject(s._cancelError)})}),this._weightedQueues=[]},a.prototype._dispatch=function(){for(var s,e=this._value;e>0;e--){var o=(s=this._weightedQueues[e-1])===null||s===void 0?void 0:s.shift();if(o){var c=this._value,f=e;this._value-=e,e=this._value+1,o.resolve([c,this._newReleaser(f)])}}this._drainUnlockWaiters()},a.prototype._newReleaser=function(s){var e=this,o=!1;return function(){o||(o=!0,e.release(s))}},a.prototype._drainUnlockWaiters=function(){for(var s=this._value;s>0;s--)!this._weightedWaiters[s-1]||(this._weightedWaiters[s-1].forEach(function(e){return e()}),this._weightedWaiters[s-1]=[])},a}();t.default=u}),mg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=zo(),r=pc(),u=function(){function a(s){this._semaphore=new r.default(1,s)}return a.prototype.acquire=function(){return i.__awaiter(this,void 0,void 0,function(){var s,e;return i.__generator(this,function(o){switch(o.label){case 0:return[4,this._semaphore.acquire()];case 1:return s=o.sent(),e=s[1],[2,e]}})})},a.prototype.runExclusive=function(s){return this._semaphore.runExclusive(function(){return s()})},a.prototype.isLocked=function(){return this._semaphore.isLocked()},a.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},a.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},a.prototype.cancel=function(){return this._semaphore.cancel()},a}();t.default=u}),gc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=void 0;var i=zo(),r=Wo();function u(a,s,e){var o=this;return e===void 0&&(e=r.E_TIMEOUT),{acquire:function(c){if(c!==void 0&&c<=0)throw new Error("invalid weight ".concat(c,": must be positive"));return new Promise(function(f,l){return i.__awaiter(o,void 0,void 0,function(){var p,g,y,m,M;return i.__generator(this,function(E){switch(E.label){case 0:p=!1,g=setTimeout(function(){p=!0,l(e)},s),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,a.acquire(c)];case 2:return y=E.sent(),p?(m=Array.isArray(y)?y[1]:y,m()):(clearTimeout(g),f(y)),[3,4];case 3:return M=E.sent(),p||(clearTimeout(g),l(M)),[3,4];case 4:return[2]}})})})},runExclusive:function(c,f){return i.__awaiter(this,void 0,void 0,function(){var l,p;return i.__generator(this,function(g){switch(g.label){case 0:l=function(){},g.label=1;case 1:return g.trys.push([1,,7,8]),[4,this.acquire(f)];case 2:return p=g.sent(),Array.isArray(p)?(l=p[1],[4,c(p[0])]):[3,4];case 3:return[2,g.sent()];case 4:return l=p,[4,c()];case 5:return[2,g.sent()];case 6:return[3,8];case 7:return l(),[7];case 8:return[2]}})})},release:function(c){a.release(c)},cancel:function(){return a.cancel()},waitForUnlock:function(c){if(c!==void 0&&c<=0)throw new Error("invalid weight ".concat(c,": must be positive"));return new Promise(function(f,l){a.waitForUnlock(c).then(f),setTimeout(function(){return l(e)},s)})},isLocked:function(){return a.isLocked()},getValue:function(){return a.getValue()},setValue:function(c){return a.setValue(c)}}}t.withTimeout=u}),yg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=void 0;var i=Wo(),r=gc();function u(a,s){return s===void 0&&(s=i.E_ALREADY_LOCKED),(0,r.withTimeout)(a,0,s)}t.tryAcquire=u}),bg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=t.withTimeout=t.Semaphore=t.Mutex=void 0;var i=zo(),r=mg();Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return r.default}});var u=pc();Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return u.default}});var a=gc();Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return a.withTimeout}});var s=yg();Object.defineProperty(t,"tryAcquire",{enumerable:!0,get:function(){return s.tryAcquire}}),i.__exportStar(Wo(),t)}),vg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLRUCache=void 0;var i=class{constructor(r){this.cache=new Map,this.capacity=r||10}has(r){return this.cache.has(r)}size(){return this.cache.size}get(r){if(!this.cache.has(r))return null;let u=this.cache.get(r);return this.cache.delete(r),this.cache.set(r,u),u}set(r,u){this.cache.delete(r),this.cache.size===this.capacity?(this.cache.delete(this.cache.keys().next().value),this.cache.set(r,u)):this.cache.set(r,u)}keys(){return Array.from(this.cache.keys())}};t.SimpleLRUCache=i}),wg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ContractInteractionState=void 0;var i=Xn(),r=vg(),u=class{constructor(a){this._warp=a,this._json=new Map,this._initialJson=new Map,this._kv=new Map}has(a,s){var e;return((e=this._json.get(a))===null||e===void 0?void 0:e.has(s))||!1}get(a,s){var e;return((e=this._json.get(a))===null||e===void 0?void 0:e.get(s))||null}getLessOrEqual(a,s){let e=this._json.get(a);if(e!=null&&e.size()>0){let o=e.keys();s&&(o=o.filter(f=>f.localeCompare(s)<=0)),o=o.sort((f,l)=>f.localeCompare(l));let c=o[o.length-1];if(e.get(c))return new i.SortKeyCacheResult(c,e.get(c))}return null}async getKV(a,s){var e;return this._kv.has(a)&&((e=await this._kv.get(a).get(s))===null||e===void 0?void 0:e.cachedValue)||null}async delKV(a,s){this._kv.has(a)&&await this._kv.get(a).del(s)}getKvKeys(a,s,e){return this._warp.kvStorageFactory(a).keys(s,e)}getKvRange(a,s,e){return this._warp.kvStorageFactory(a).kvMap(s,e)}async commit(a,s=!1){if(a.dry)return await this.rollbackKVs(),this.reset();try{let e=new Map;this._json.forEach((o,c)=>{let f=this.getLessOrEqual(c,a.sortKey);f!=null&&e.set(c,f.cachedValue)}),await this.doStoreJson(e,a,s),await this.commitKVs()}finally{this.reset()}}async commitKV(){await this.commitKVs(),this._kv.clear()}async rollback(a,s){try{await this.doStoreJson(this._initialJson,a,s),await this.rollbackKVs()}finally{this.reset()}}setInitial(a,s,e){this._initialJson.set(a,s),this.update(a,s,e)}update(a,s,e){if(!this._json.has(a)){let o=new r.SimpleLRUCache(10);this._json.set(a,o)}this._json.get(a).set(e,s)}async updateKV(a,s,e){await(await this.getOrInitKvStorage(a)).put(s,e)}async getOrInitKvStorage(a){if(this._kv.has(a))return this._kv.get(a);let s=this._warp.kvStorageFactory(a);return this._kv.set(a,s),await s.open(),s}reset(){this._json.clear(),this._initialJson.clear(),this._kv.clear()}async doStoreJson(a,s,e=!1){if(a.size>1||e)for(let[o,c]of a)await this._warp.stateEvaluator.putInCache(o,s,c)}async rollbackKVs(){for(let a of this._kv.values())try{await a.rollback()}finally{await a.close()}}async commitKVs(){for(let a of this._kv.values())try{await a.commit()}finally{await a.close()}}};t.ContractInteractionState=u}),Eu=gt(t=>{lt();var i=t&&t.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerBasedContract=void 0;var r=i(fg()),u=Xn(),a=Yf(),s=Li(),e=Lo(),o=_n(),c=ec(),f=fn(),l=or(),p=tc(),g=ci(),y=Er(),m=rc(),M=nc(),E=fc(),B=cc(),x=dc(),C=bg(),N=_a(),F=wg(),I=Jn(),U=(Ko(),Bf(wu)),P=class{constructor(D,W,q=null,O=null){var L,n;if(this._contractTxId=D,this.warp=W,this._parentContract=q,this._innerCallData=O,this.logger=l.LoggerFactory.INST.create("HandlerBasedContract"),this.ecLogger=l.LoggerFactory.INST.create("ExecutionContext"),this._innerWritesEvaluator=new M.InnerWritesEvaluator,this._mutex=new C.Mutex,this._benchmarkStats=null,this._children=[],this._dreStates=new Map,this.waitForConfirmation=this.waitForConfirmation.bind(this),this._arweaveWrapper=new g.ArweaveWrapper(W),this._sorter=new s.LexicographicalInteractionsSorter(W.arweave),q!=null){this._evaluationOptions=this.getRoot().evaluationOptions(),this._callDepth=q.callDepth()+1;let d=q.getCallStack().getInteraction(O.callingInteraction.id);if(this._callDepth>this._evaluationOptions.maxCallDepth)throw new Error(`Max call depth of ${this._evaluationOptions.maxCallDepth} has been exceeded for interaction ${JSON.stringify(d.interactionInput)}`);if(this.logger.debug("Calling interaction",{id:O.callingInteraction.id,sortKey:O.callingInteraction.sortKey,type:O.callType}),((n=(L=d.interactionInput)===null||L===void 0?void 0:L.foreignContractCalls[D])===null||n===void 0?void 0:n.innerCallType)==="write"&&O.callType==="read")throw new Error("Calling a readContractState after performing an inner write is wrong - instead use a state from the result of an internal write.");let v=new a.ContractCallRecord(D,this._callDepth,O==null?void 0:O.callType);d.interactionInput.foreignContractCalls[D]=v,this._callStack=v,this._rootSortKey=q.rootSortKey,q._children.push(this)}else this._callDepth=0,this._callStack=new a.ContractCallRecord(D,0),this._rootSortKey=null,this._evaluationOptions=new e.DefaultEvaluationOptions,this._children=[],this._interactionState=new F.ContractInteractionState(W);this.getCallStack=this.getCallStack.bind(this),this._warpFetchWrapper=new x.WarpFetchWrapper(this.warp)}async readState(D,W,q){var O,L,n;if(this.logger.info("Read state for",{contractTxId:this._contractTxId,sortKeyOrBlockHeight:D}),!this.isRoot()&&D==null)throw new Error("SortKey MUST be always set for non-root contract calls");let{stateEvaluator:d}=this.warp,v=typeof D=="number"?this._sorter.generateLastSortKey(D):D;if(v&&!this.isRoot()&&this.interactionState().has(this.txId(),v)){let T=this.interactionState().get(this.txId(),v);return new u.SortKeyCacheResult(v,T)}let A=await this._mutex.acquire();try{let T=f.Benchmark.measure();this.maybeResetRootContract();let S=await this.createExecutionContext(this._contractTxId,v,!1,q);this.logger.info("Execution Context",{srcTxId:(O=S.contractDefinition)===null||O===void 0?void 0:O.srcTxId,missingInteractions:(L=S.sortedInteractions)===null||L===void 0?void 0:L.length,cachedSortKey:(n=S.cachedState)===null||n===void 0?void 0:n.sortKey}),T.stop();let w=f.Benchmark.measure(),b=await d.eval(S);w.stop();let h=T.elapsed(!0)+w.elapsed(!0);return this._benchmarkStats={gatewayCommunication:T.elapsed(!0),stateEvaluation:w.elapsed(!0),total:h},this.logger.info("Benchmark",{"Gateway communication  ":T.elapsed(),"Contract evaluation    ":w.elapsed(),"Total:                 ":`${h.toFixed(0)}ms`}),v&&!this.isRoot()&&this.interactionState().update(this.txId(),b.cachedValue,v),b}finally{A()}}async readStateFor(D,W){return this.readState(D,void 0,W)}async viewState(D,W=[],q=m.emptyTransfer,O){return this.logger.info("View state for",this._contractTxId),await this.callContract(D,"view",O,void 0,W,q)}async viewStateForTx(D,W){return this.logger.info(`View state for ${this._contractTxId}`),await this.doApplyInputOnTx(D,W,"view")}async dryWrite(D,W,q,O,L){return this.logger.info("Dry-write for",this._contractTxId),await this.callContract(D,"write",W,void 0,q,O,void 0,L)}async applyInput(D,W){return this.logger.info(`Apply-input from transaction ${W.id} for ${this._contractTxId}`),await this.doApplyInputOnTx(D,W,"write")}async writeInteraction(D,W){if(this.logger.info("Write interaction",{input:D,options:W}),!this._signature)throw new Error("Wallet not connected. Use 'connect' method first.");let{arweave:q,interactionsLoader:O,environment:L}=this.warp;await this.warp.definitionLoader.load(this._contractTxId);let n=(W==null?void 0:W.tags)||[],d=(W==null?void 0:W.transfer)||m.emptyTransfer,v=(W==null?void 0:W.strict)===!0,A=(W==null?void 0:W.vrf)===!0,T=(W==null?void 0:W.disableBundling)===!0,S=W==null?void 0:W.reward,w=O.type()=="warp"&&!T;if(this._signature.checkNonArweaveSigningAvailability(w),this._signature.checkBundlerSignerAvailability(w),w&&d.target!=m.emptyTransfer.target&&d.winstonQty!=m.emptyTransfer.winstonQty)throw new Error("Ar Transfers are not allowed for bundled interactions");if(A&&!w&&L==="mainnet")throw new Error("Vrf generation is only available for bundle interaction");if(!D)throw new Error(`Input should be a truthy value: ${JSON.stringify(D)}`);if(w)return await this.bundleInteraction(D,{tags:n,strict:v,vrf:A});{let b=await this.createInteraction(D,n,d,v,!1,A&&L!=="mainnet",S),h=await q.transactions.post(b);if(h.status!==200)return this.logger.error("Error while posting transaction",h),null;if(this._evaluationOptions.waitForConfirmation){this.logger.info("Waiting for confirmation of",b.id);let k=f.Benchmark.measure();await this.waitForConfirmation(b.id),this.logger.info("Transaction confirmed after",k.elapsed())}return this.warp.environment=="local"&&this._evaluationOptions.mineArLocalBlocks&&await this.warp.testing.mineBlock(),{originalTxId:b.id,interactionTx:b}}}async bundleInteraction(D,W){this.logger.info("Bundle interaction input",D);let q=await this.createInteractionDataItem(D,W.tags,m.emptyTransfer,W.strict,W.vrf),O=this._warpFetchWrapper.fetch(`${(0,y.stripTrailingSlash)(this._evaluationOptions.sequencerUrl)}/gateway/v2/sequencer/register`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},body:q.getRaw()}),L=await q.id;return{bundlrResponse:await(0,y.getJsonResponse)(O),originalTxId:L,interactionTx:q}}async createInteractionDataItem(D,W,q,O,L=!1){var n;this._evaluationOptions.internalWrites&&await this.discoverInternalWrites(D,W,q,O,L),L&&W.push(new N.Tag(o.WARP_TAGS.REQUEST_VRF,"true"));let d=(0,c.createInteractionTagsList)(this._contractTxId,D,this.warp.environment==="testnet",W);if((0,U.tagsExceedLimit)(d))throw new Error("Interaction tags exceed limit of 4096 bytes.");let v=Math.random().toString().slice(-4),A=this._signature.bundlerSigner;if(!A)throw new Error("Signer not set correctly. If you connect wallet through 'use_wallet', please remember that it only works when bundling is disabled.");let T;return(0,y.isBrowser)()&&(!((n=A.signer)===null||n===void 0)&&n.signDataItem)?T=await A.signDataItem(v,d):(T=(0,U.createData)(v,A,{tags:d}),await T.sign(A)),!this._evaluationOptions.internalWrites&&O&&await this.checkInteractionInStrictMode(T.owner,D,W,q,O,L),T}async createInteraction(D,W,q,O,L=!1,n=!1,d){this._evaluationOptions.internalWrites&&await this.discoverInternalWrites(D,W,q,O,n),n&&W.push(new N.Tag(o.WARP_TAGS.REQUEST_VRF,"true"));let v=await(0,c.createInteractionTx)(this.warp.arweave,this._signature.signer,this._contractTxId,D,W,q.target,q.winstonQty,L,this.warp.environment==="testnet",d);return!this._evaluationOptions.internalWrites&&O&&await this.checkInteractionInStrictMode(v.owner,D,W,q,O,n),v}async checkInteractionInStrictMode(D,W,q,O,L,n){let{arweave:d}=this.warp,v=this._signature.type=="arweave"?await d.wallets.ownerToAddress(D):await this._signature.getAddress(),A=await this.callContract(W,"write",v,void 0,q,O,L,n);if(A.type!=="ok")throw Error("Cannot create interaction: "+JSON.stringify(A.error||A.errorMessage))}txId(){return this._contractTxId}getCallStack(){return this._callStack}connect(D){return this._signature=new E.Signature(this.warp,D),this}setEvaluationOptions(D){if(!this.isRoot())throw new Error("Evaluation options can be set only for the root contract");return this._evaluationOptions={...this._evaluationOptions,...D},this}async waitForConfirmation(D){let{arweave:W}=this.warp,q=await W.transactions.getStatus(D);return q.confirmed===null?(this.logger.info(`Transaction ${D} not yet confirmed. Waiting another 20 seconds before next check.`),await(0,y.sleep)(2e4),this.waitForConfirmation(D)):(this.logger.info(`Transaction ${D} confirmed`,q),q)}async createExecutionContext(D,W,q=!1,O){var L,n,d,v;let{definitionLoader:A,interactionsLoader:T,stateEvaluator:S}=this.warp,w,b=f.Benchmark.measure();this.isRoot()||(w=this.interactionState().getLessOrEqual(this.txId(),W)),w=w||await S.latestAvailableState(D,W),this.logger.debug("cache lookup",b.elapsed()),b.reset();let h=p.Evolve.evolvedSrcTxId((L=w==null?void 0:w.cachedValue)===null||L===void 0?void 0:L.state),k,tt,X,ft,et=O||[];if(this.logger.debug("Cached state",w,W),w&&w.sortKey==W)this.logger.debug("State fully cached, not loading interactions."),(q||h||O!=null&&O.length)&&(tt=await A.load(D,h),O!=null&&O.length&&(et=(await this._sorter.sort(O.map(at=>({node:at,cursor:null})))).map(at=>at.node)));else{if(O!=null&&O.length)throw new Error(`Cannot apply requested interactions at ${W}`);if(tt=await A.load(D,h),X=this.resolveEvaluationOptions((n=tt.manifest)===null||n===void 0?void 0:n.evaluationOptions),X.remoteStateSyncEnabled&&!X.useKVStorage){ft=await this.getRemoteContractState(D),w=await this.maybeSyncStateWithRemoteSource(ft,W,w);let at=p.Evolve.evolvedSrcTxId((d=w==null?void 0:w.cachedValue)===null||d===void 0?void 0:d.state);at&&at!==tt.srcTxId&&(tt=await A.load(D,at))}!ft&&et.length==0&&(et=await T.load(D,w==null?void 0:w.sortKey,this.getToSortKey(W),X)),w!=null&&w.sortKey&&(et=et.filter(at=>at.sortKey.localeCompare(w==null?void 0:w.sortKey)>0)),W&&(et=et.filter(at=>at.sortKey.localeCompare(W)<=0)),this.logger.debug("contract and interactions load",b.elapsed()),this.isRoot()&&et.length&&(this._rootSortKey=et[et.length-1].sortKey)}return tt&&(X||(X=this.resolveEvaluationOptions((v=tt.manifest)===null||v===void 0?void 0:v.evaluationOptions)),this.ecLogger.debug(`Evaluation options ${D}:`,X),k=await this.warp.executorFactory.create(tt,X,this.warp,this.interactionState())),{warp:this.warp,contract:this,contractDefinition:tt,sortedInteractions:et,evaluationOptions:X||this.evaluationOptions(),handler:k,cachedState:w,requestedSortKey:W}}resolveEvaluationOptions(D){return this.isRoot()?(this._eoEvaluator=new B.EvaluationOptionsEvaluator(this.evaluationOptions(),D),this._eoEvaluator.rootOptions):this.getRootEoEvaluator().forForeignContract(D)}async getRemoteContractState(D){if(this.hasDreState(D))return this.getDreState(D);{let W=await this.fetchRemoteContractState(D);return W!=null?this.setDREState(D,W):null}}async fetchRemoteContractState(D){return(0,y.getJsonResponse)(this._warpFetchWrapper.fetch(`${this._evaluationOptions.remoteStateSyncSource}?id=${D}&events=false`))}getToSortKey(D){var W;return!((W=this._parentContract)===null||W===void 0)&&W.rootSortKey?D?this._parentContract.rootSortKey.localeCompare(D)>0?this._parentContract.rootSortKey:D:this._parentContract.rootSortKey:D}async createExecutionContextFromTx(D,W){let q=W.owner.address,O=W.sortKey;return{...await this.createExecutionContext(D,O,!0),caller:q}}maybeResetRootContract(){this.isRoot()&&(this.logger.debug("Clearing call stack for the root contract"),this._callStack=new a.ContractCallRecord(this.txId(),0),this._rootSortKey=null,this.warp.interactionsLoader.clearCache(),this._children=[],this._interactionState=new F.ContractInteractionState(this.warp),this._dreStates=new Map)}async callContract(D,W,q,O,L=[],n=m.emptyTransfer,d=!1,v=!1,A=!0){var T;this.logger.info("Call contract input",D),this.maybeResetRootContract(),this._signature||this.logger.warn("Wallet not set.");let{arweave:S,stateEvaluator:w}=this.warp,b=await this.createExecutionContext(this._contractTxId,O,!0),h=this.warp.environment=="mainnet"?await this._arweaveWrapper.warpGwBlock():await S.blocks.getCurrent(),k;q?k=q:this._signature?k=await this._signature.getAddress():k="",this.logger.info("effectiveCaller",k),b={...b,caller:k};let tt=await w.eval(b);this.logger.info("Current state",tt.cachedValue.state);let X={input:D,caller:b.caller,interactionType:W};this.logger.debug("interaction",X);let ft=await(0,c.createInteractionTx)(S,A?(T=this._signature)===null||T===void 0?void 0:T.signer:void 0,this._contractTxId,D,L,n.target,n.winstonQty,!0,this.warp.environment==="testnet"),et=(0,c.createDummyTx)(ft,b.caller,h);if(this.logger.debug("Creating sortKey for",{blockId:et.block.id,id:et.id,height:et.block.height}),et.sortKey=await this._sorter.createSortKey(et.block.id,et.id,et.block.height,!0),et.strict=d,v){let $=this.warp.maybeLoadPlugin("vrf");$?et.vrf=$.process().generateMockVrf(et.sortKey):this.logger.warn('Cannot generate mock vrf for interaction - no "warp-contracts-plugin-vrf" attached!')}let at=await this.evalInteraction({interaction:X,interactionTx:et},b,tt.cachedValue);return at.type!=="ok"&&this.logger.fatal("Error while interacting with contract",{type:at.type,error:at.errorMessage}),at}async doApplyInputOnTx(D,W,q){this.maybeResetRootContract();let O,L=await this.createExecutionContextFromTx(this._contractTxId,W);!this.isRoot()&&this.interactionState().has(this.txId(),W.sortKey)?O=new u.SortKeyCacheResult(W.sortKey,this.interactionState().get(this.txId(),W.sortKey)):(O=await this.warp.stateEvaluator.eval(L),this.interactionState().update(this.txId(),O.cachedValue,W.sortKey)),this.logger.debug("callContractForTx - evalStateResult",{result:O.cachedValue.state,txId:this._contractTxId});let n={interaction:{input:D,caller:this._parentContract.txId(),interactionType:q},interactionTx:W},d=await this.evalInteraction(n,L,O.cachedValue);return d.originalValidity=O.cachedValue.validity,d.originalErrorMessages=O.cachedValue.errorMessages,d}async evalInteraction(D,W,q){let O=this.getCallStack().addInteractionData(D),L=f.Benchmark.measure();await W.handler.initState(q.state);let n=await W.handler.handle(W,q,D);return O.update({cacheHit:!1,outputState:this._evaluationOptions.stackTrace.saveState?n.state:void 0,executionTime:L.elapsed(!0),valid:n.type==="ok",errorMessage:n.errorMessage,gasUsed:n.gasUsed}),n}parent(){return this._parentContract}callDepth(){return this._callDepth}evaluationOptions(){return this._evaluationOptions}lastReadStateStats(){return this._benchmarkStats}async stateHash(D){let W=(0,r.default)(D),q=await I.Crypto.subtle.digest("SHA-256",Ut.Buffer.from(W,"utf-8"));return Ut.Buffer.from(q).toString("hex")}async syncState(D,W){let{stateEvaluator:q}=this.warp,O=await this._warpFetchWrapper.fetch(`${D}?${new URLSearchParams({id:this._contractTxId,...W})}`).then(L=>L.ok?L.json():Promise.reject(L)).catch(L=>{var n,d;throw!((n=L.body)===null||n===void 0)&&n.message&&this.logger.error(L.body.message),new Error(`Unable to retrieve state. ${L.status}: ${(d=L.body)===null||d===void 0?void 0:d.message}`)});return await q.syncState(this._contractTxId,O.sortKey,O.state,O.validity),this}async evolve(D,W){return await this.writeInteraction({function:"evolve",value:D},W)}get rootSortKey(){return this._rootSortKey}getRootEoEvaluator(){return this.getRoot()._eoEvaluator}isRoot(){return this._parentContract==null}async getStorageValues(D){let W=await this.warp.stateEvaluator.getCache().getLast(this.txId());if(W==null)return new u.SortKeyCacheResult(null,new Map);let q=this.warp.kvStorageFactory(this.txId()),O=new Map;try{await q.open();for(let L of D){let n=await q.getLessOrEqual(L,W.sortKey);O.set(L,n==null?null:n.cachedValue)}return new u.SortKeyCacheResult(W.sortKey,O)}finally{await q.close()}}interactionState(){return this.getRoot()._interactionState}getRoot(){let D=this;for(;!D.isRoot();)D=D.parent();return D}async maybeSyncStateWithRemoteSource(D,W,q){let{stateEvaluator:O}=this.warp;return this.isStateHigherThanAndUpTo(D,q==null?void 0:q.sortKey,W)?await O.syncState(this._contractTxId,D.sortKey,D.cachedValue.state,D.cachedValue.validity):q}isStateHigherThanAndUpTo(D,W,q){return D&&(!q||q>=D.sortKey)&&(!W||D.sortKey>W)}setDREState(D,W){let q=new u.SortKeyCacheResult(W.sortKey,new e.EvalStateResult(W.state,{},W.errorMessages));return this.getRoot()._dreStates.set(D,q),q}getDreState(D){return this.getRoot()._dreStates.get(D)}hasDreState(D){return this.getRoot()._dreStates.has(D)}async discoverInternalWrites(D,W,q,O,L){let n=await this.callContract(D,"write",void 0,void 0,W,q,O,L,!1);if(O&&n.type!=="ok")throw Error("Cannot create interaction: "+JSON.stringify(n.error||n.errorMessage));let d=this.getCallStack(),v=this._innerWritesEvaluator.eval(d);this.logger.debug("Input",D),this.logger.debug("Callstack",d.print()),v.forEach(A=>{W.push(new N.Tag(o.WARP_TAGS.INTERACT_WRITE,A))}),this.logger.debug("Tags with inner calls",W)}clearChildren(){for(let D of this._children)D.clearChildren();this._children=[]}};t.HandlerBasedContract=P}),mc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.PstContractImpl=void 0;var i=Eu(),r=class extends i.HandlerBasedContract{async currentBalance(u){let a=await this.viewState({function:"balance",target:u});if(a.type!=="ok")throw Error(a.errorMessage);return a.result}async currentState(){return(await super.readState()).cachedValue.state}async transfer(u,a){return await this.writeInteraction({function:"transfer",...u},a)}};t.PstContractImpl=r}),_g=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Testing=void 0;var i=class{constructor(r){this.arweave=r}async mineBlock(){this.validateEnv(),await this.arweave.api.get("mine")}async addFunds(r){let u=await this.arweave.wallets.getAddress(r);await this.arweave.api.get(`/mint/${u}/1000000000000000`)}async isArlocal(){return(await fetch(`${this.arweave.api.config.protocol}://${this.arweave.api.config.host}:${this.arweave.api.config.port}/info`).then(r=>r.ok?r.json():Promise.reject()).catch(r=>{throw new Error(`Unable to get network info: ${r.message}`)})).network.includes("arlocal")}async validateEnv(){if(!await this.isArlocal())throw new Error("Testing features are not available in a non testing environment")}};t.Testing=i}),Eg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggableExecutorFactory=void 0;var i=class{constructor(r,u){this.baseImplementation=r,this.sourceCode=u}async create(r,u,a,s){return Object.prototype.hasOwnProperty.call(this.sourceCode,r.txId)&&(r={...r,src:this.sourceCode[r.txId]}),await this.baseImplementation.create(r,u,a,s)}};t.DebuggableExecutorFactory=i}),yc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.WarpBuilder=void 0;var i=Eg(),r=Vf(),u=Zf(),a=bu(),s=Gf(),e=No(),o=Su(),c=Ro(),f=class{constructor(l,p,g="custom"){this._arweave=l,this._stateCache=p,this._environment=g}setDefinitionLoader(l){return this._definitionLoader=l,this}setInteractionsLoader(l){return this._interactionsLoader=l,this}setExecutorFactory(l){return this._executorFactory=l,this}setStateEvaluator(l){return this._stateEvaluator=l,this}overwriteSource(l){if(this._executorFactory==null)throw new Error("Set base ExecutorFactory first");return this._executorFactory=new i.DebuggableExecutorFactory(this._executorFactory,l),this.build()}useWarpGateway(l,p){this._interactionsLoader=new u.CacheableInteractionsLoader(new e.WarpGatewayInteractionsLoader(l.confirmationStatus,l.source));let g=new c.LevelDbCache({...p,dbLocation:`${p.dbLocation}/contracts`}),y=new c.LevelDbCache({...p,dbLocation:`${p.dbLocation}/source`});return this._definitionLoader=new s.WarpGatewayContractDefinitionLoader(this._arweave,g,y,this._environment),this}useArweaveGateway(){return this._definitionLoader=new a.ContractDefinitionLoader(this._arweave,this._environment),this._interactionsLoader=new u.CacheableInteractionsLoader(new r.ArweaveGatewayInteractionsLoader(this._arweave,this._environment)),this}build(){let l=new o.Warp(this._arweave,this._definitionLoader,this._interactionsLoader,this._executorFactory,this._stateEvaluator,this._environment);return this._definitionLoader.warp=l,this._interactionsLoader.warp=l,l}};t.WarpBuilder=f}),bc=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.knownWarpPlugins=t.knownWarpPluginsPartial=void 0,t.knownWarpPluginsPartial=["^smartweave-extension-"],t.knownWarpPlugins=["evm-signature-verification","subscription","ivm-handler-api","evaluation-progress","fetch-options","deploy","contract-blacklist","vm2","vrf"]}),Su=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Warp=void 0;var i=Eu(),r=mc(),u=_g(),a=yc(),s=bc(),e=vc(),o=Ro(),c=class{get createContract(){if(!this._createContract)if(this.plugins.has("deploy")){let f=this.loadPlugin("deploy");this._createContract=f.process(this)}else throw new Error("In order to use CreateContract methods please attach DeployPlugin.");return this._createContract}constructor(f,l,p,g,y,m="custom"){this.arweave=f,this.definitionLoader=l,this.interactionsLoader=p,this.executorFactory=g,this.stateEvaluator=y,this.environment=m,this._gwUrl=e.WARP_GW_URL,this.plugins=new Map,this.testing=new u.Testing(f),this.kvStorageFactory=M=>new o.LevelDbCache({inMemory:!1,dbLocation:`${e.DEFAULT_LEVEL_DB_LOCATION}/kv/ldb/${M}`}),this.eventTarget=new EventTarget}static builder(f,l,p){return new a.WarpBuilder(f,l,p)}contract(f,l,p){return new i.HandlerBasedContract(f,this,l,p)}async deploy(f,l){return await this.createContract.deploy(f,l)}async deployFromSourceTx(f,l){return await this.createContract.deployFromSourceTx(f,l)}async deployBundled(f){return await this.createContract.deployBundled(f)}async register(f,l){return await this.createContract.register(f,l)}async createSource(f,l,p=!1){return await this.createContract.createSource(f,l,p)}async saveSource(f,l){return await this.createContract.saveSource(f,l)}pst(f){return new r.PstContractImpl(f,this)}useStateCache(f){return this.stateEvaluator.setCache(f),this}useContractCache(f,l){return this.definitionLoader.setSrcCache(l),this.definitionLoader.setCache(f),this}use(f){let l=f.type();if(!this.isPluginType(l))throw new Error(`Unknown plugin type ${l}.`);return this.plugins.set(l,f),this}hasPlugin(f){return this.plugins.has(f)}matchPlugins(f){return[...this.plugins.keys()].filter(l=>l.match(f))}loadPlugin(f){if(!this.hasPlugin(f))throw new Error(`Plugin ${f} not registered.`);return this.plugins.get(f)}maybeLoadPlugin(f){return this.hasPlugin(f)?this.plugins.get(f):null}async close(){return Promise.all([this.definitionLoader.getSrcCache().close(),this.definitionLoader.getCache().close(),this.stateEvaluator.getCache().close()]).then()}async generateWallet(){let f=await this.arweave.wallets.generate();return await this.testing.isArlocal()&&await this.testing.addFunds(f),{jwk:f,address:await this.arweave.wallets.jwkToAddress(f)}}isPluginType(f){return s.knownWarpPlugins.includes(f)||s.knownWarpPluginsPartial.some(l=>f.match(l))}useKVStorageFactory(f){return this.kvStorageFactory=f,this}useGwUrl(f){return this._gwUrl=f,this}gwUrl(){return this._gwUrl}};t.Warp=c}),vc=gt(t=>{lt();var i=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.WarpFactory=t.defaultCacheOptions=t.DEFAULT_LEVEL_DB_LOCATION=t.WARP_GW_URL=t.defaultWarpGwOptions=void 0;var r=i(yu()),u=Ro(),a=tc(),s=Xf(),e=va(),o=No(),c=Su();t.defaultWarpGwOptions={confirmationStatus:{notCorrupted:!0},source:o.SourceType.BOTH},t.WARP_GW_URL="https://gw.warp.cc",t.DEFAULT_LEVEL_DB_LOCATION="./cache/warp",t.defaultCacheOptions={inMemory:!1,dbLocation:t.DEFAULT_LEVEL_DB_LOCATION};var f=class{static forLocal(l=1984,p=r.default.init({host:"localhost",port:l,protocol:"http"}),g={...t.defaultCacheOptions,inMemory:!0}){return this.customArweaveGw(p,g,"local")}static forTestnet(l=t.defaultCacheOptions,p=!1,g=r.default.init({host:"arweave.net",port:443,protocol:"https"})){return p?this.customArweaveGw(g,l,"testnet"):this.customWarpGw(g,t.defaultWarpGwOptions,l,"testnet")}static forMainnet(l=t.defaultCacheOptions,p=!1,g=r.default.init({host:"arweave.net",port:443,protocol:"https"})){return p?this.customArweaveGw(g,l,"mainnet"):this.customWarpGw(g,t.defaultWarpGwOptions,l,"mainnet")}static custom(l,p,g){let y=new u.LevelDbCache({...p,dbLocation:`${p.dbLocation}/state`}),m=new e.HandlerExecutorFactory(l),M=new s.CacheableStateEvaluator(l,y,[new a.Evolve]);return c.Warp.builder(l,y,g).setExecutorFactory(m).setStateEvaluator(M)}static customArweaveGw(l,p=t.defaultCacheOptions,g){return this.custom(l,p,g).useArweaveGateway().build()}static customWarpGw(l,p=t.defaultWarpGwOptions,g=t.defaultCacheOptions,y){return this.custom(l,g,y).useWarpGateway(p,g).build()}};t.WarpFactory=f}),Sg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),Ag=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),Tg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),Mg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0})}),xg=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.matchMutClosureDtor=void 0;function i(r){let u=/(const|var) ret = makeMutClosure\(arg0, arg1, (\d+?), __wbg_adapter/;return r.match(u)[2]}t.matchMutClosureDtor=i}),kg=gt(t=>{lt();var i=t&&t.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.ArweaveGatewayBundledContractDefinitionLoader=void 0;var r=Do(),u=_n(),a=fn(),s=or(),e=ci(),o=vu(),c=Uo(),f=i(yu());function l(g,y,m=void 0){let M=g.find(({name:E})=>E===y);return M?M.value:m}var p=class{constructor(g){this.env=g,this.logger=s.LoggerFactory.INST.create(p.name)}async load(g,y){let m=a.Benchmark.measure(),M=await this.fetchContractTx(g);this.logger.debug("Contract tx fetch time",m.elapsed());let E=M.owner.address,B=y||l(M.tags,u.SMART_WEAVE_TAGS.CONTRACT_SRC_TX_ID),x=l(M.tags,u.WARP_TAGS.WARP_TESTNET)||null;if(x&&this.env!=="testnet")throw new Error('Trying to use testnet contract in a non-testnet env. Use the "forTestnet" factory method.');if(!x&&this.env==="testnet")throw new Error("Trying to use non-testnet contract in a testnet env.");let C=l(M.tags,u.SMART_WEAVE_TAGS.MIN_FEE),N=l(M.tags,u.WARP_TAGS.MANIFEST)?JSON.parse(l(M.tags,u.WARP_TAGS.MANIFEST)):null;this.logger.debug("Tags decoding",m.elapsed());let F=await this.evalInitialState(M);this.logger.debug("init state",F);let I=JSON.parse(F);this.logger.debug("Parsing src and init state",m.elapsed());let{src:U,srcBinary:P,srcWasmLang:D,contractType:W,metadata:q,srcTx:O}=await this.loadContractSource(B),L={txId:g,srcTxId:B,src:U,srcBinary:P,srcWasmLang:D,initState:I,minFee:C,owner:E,contractType:W,metadata:q,manifest:N,contractTx:await this.convertToWarpCompatibleContractTx(M),srcTx:await this.convertToWarpCompatibleContractTx(O),testnet:x};return this.logger.info(`Contract definition loaded in: ${m.elapsed()}`),L}async fetchContractTx(g){return await this.arweaveTransactions.transaction(g)??await this.arweaveTransactions.transactionUsingUploaderTag(g)}async convertToWarpCompatibleContractTx(g){return{tags:g.tags.map(({name:y,value:m})=>({name:Ut.Buffer.from(y).toString("base64url"),value:Ut.Buffer.from(m).toString("base64url")})),owner:g.owner.key,target:g.recipient,signature:g.signature,data:(await this.arweaveWrapper.txData(g.id)).toString("base64url")}}async loadContractSource(g){let y=a.Benchmark.measure(),m=await this.fetchContractTx(g),M=l(m.tags,u.SMART_WEAVE_TAGS.CONTENT_TYPE);if(!r.SUPPORTED_SRC_CONTENT_TYPES.includes(M))throw new Error(`Contract source content type ${M} not supported`);let E=M==="application/javascript"?"js":"wasm",B=await this.contractSource(m,E),x,C,N;if(E=="wasm"){if(C=new c.WasmSrc(B),x=l(m.tags,u.WARP_TAGS.WASM_LANG),!x)throw new Error(`Wasm lang not set for wasm contract src ${m.id}`);N=JSON.parse(l(m.tags,u.WARP_TAGS.WASM_META))}return this.logger.debug("Contract src tx load",y.elapsed()),y.reset(),{src:E=="js"?B:null,srcBinary:E=="wasm"?C.wasmBinary():null,srcWasmLang:x,contractType:E,metadata:N,srcTx:m}}async contractSource(g,y){if(l(g.tags,u.WARP_TAGS.UPLOADER_TX_ID)!=null){let m=await this.arweaveWrapper.txDataString(g.id);if(y==="wasm")throw new Error("WASM contracts in legacy format are not supported using AR GW");return f.default.utils.b64UrlToString(JSON.parse(m).data)}return y==="js"?await this.arweaveWrapper.txDataString(g.id):await this.arweaveWrapper.txData(g.id)}async evalInitialState(g){if(l(g.tags,u.WARP_TAGS.INIT_STATE))return l(g.tags,u.WARP_TAGS.INIT_STATE);if(l(g.tags,u.WARP_TAGS.INIT_STATE_TX)){let y=l(g.tags,u.WARP_TAGS.INIT_STATE_TX);return this.arweaveWrapper.txDataString(y)}else return this.arweaveWrapper.txDataString(g.id)}setCache(){throw new Error("Method not implemented.")}setSrcCache(){throw new Error("Method not implemented.")}getCache(){throw new Error("Method not implemented.")}getSrcCache(){throw new Error("Method not implemented.")}type(){return"arweave"}set warp(g){this.arweaveWrapper=new e.ArweaveWrapper(g),this.arweaveTransactions=new o.ArweaveGQLTxsFetcher(g)}};t.ArweaveGatewayBundledContractDefinitionLoader=p}),Og=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ArweaveGatewayBundledInteractionLoader=void 0;var i=_n(),r=fn(),u=or(),a=ci(),s=Li(),e=vu(),o=Er(),c=di(),f=100,l=100,p=1057409,g=class{constructor(y,m){this.arweave=y,this.environment=m,this.logger=u.LoggerFactory.INST.create(g.name),this.tagsParser=new c.TagsParser,this.sorter=new s.LexicographicalInteractionsSorter(y)}async load(y,m,M,E){this.logger.debug("Loading interactions for",{contractId:y,fromSortKey:m,toSortKey:M});let B=this.sorter.extractBlockHeight(m)||0,x=this.sorter.extractBlockHeight(M)||await this.currentBlockHeight(),C={tags:[{name:i.SMART_WEAVE_TAGS.APP_NAME,values:["SmartWeaveAction"]},{name:i.SMART_WEAVE_TAGS.CONTRACT_TX_ID,values:[y]},{name:i.WARP_TAGS.SEQUENCER,values:["RedStone"]}],blockFilter:{min:B,max:x+l},first:f},N=r.Benchmark.measure(),F=await this.arweaveFetcher.transactions(C);E.internalWrites&&(F=await this.appendInternalWriteInteractions(y,B,x,F)),N.stop(),this.logger.debug("All loaded interactions:",{from:m,to:M,loaded:F.length,time:N.elapsed()}),F.forEach(D=>{var W,q,O,L;D.node.sortKey=(W=D.node.sortKey)!==null&&W!==void 0?W:(L=(O=(q=D.node)===null||q===void 0?void 0:q.tags)===null||O===void 0?void 0:O.find(n=>n.name===i.WARP_TAGS.SEQUENCER_SORT_KEY))===null||L===void 0?void 0:L.value});let I=await this.sorter.sort(F),U=this.environment==="local"||this.environment==="testnet",P=this._warp.maybeLoadPlugin("vrf");return I.filter(D=>this.isNewerThenSortKeyBlockHeight(D)).filter(D=>this.isSortKeyInBounds(m,M,D)).map(D=>this.attachSequencerDataToInteraction(D)).map(D=>this.maybeAddMockVrf(U,D,P)).map((D,W,q)=>this.verifySortKeyIntegrity(D,W,q)).map(({node:D})=>D)}verifySortKeyIntegrity(y,m,M){var E;if(m!==0){let B=M[m-1],x=M[m];if(this.logger.debug(`prev: ${B.node.id} | current: ${x.node.id}`),x.node.block.height<=p||((E=x.node.lastSortKey)===null||E===void 0?void 0:E.split(",")[1])===s.defaultArweaveMs)return y;B.node.source==="redstone-sequencer"&&B.node.sortKey!==x.node.lastSortKey&&this.logger.warn(`Interaction loading error: interaction ${x.node.id} lastSortKey is not pointing on prev interaction ${B.node.id}`)}return y}isSortKeyInBounds(y,m,M){return y&&m?M.node.sortKey.localeCompare(y)>0&&M.node.sortKey.localeCompare(m)<=0:y&&!m?M.node.sortKey.localeCompare(y)>0:!y&&m?M.node.sortKey.localeCompare(m)<=0:!0}attachSequencerDataToInteraction(y){let m=U=>{var P;return(P=y.node.tags.find(D=>D.name===U))===null||P===void 0?void 0:P.value},M=m(i.WARP_TAGS.SEQUENCER_TX_ID),E=m(i.WARP_TAGS.SEQUENCER_OWNER),B=m(i.WARP_TAGS.SEQUENCER_BLOCK_ID),x=m(i.WARP_TAGS.SEQUENCER_BLOCK_HEIGHT),C=m(i.WARP_TAGS.SEQUENCER_PREV_SORT_KEY)||m(i.WARP_TAGS.SEQUENCER_LAST_SORT_KEY),N=m(i.WARP_TAGS.SEQUENCER_SORT_KEY),F=m(i.WARP_TAGS.SEQUENCER_BLOCK_TIMESTAMP),I=(0,o.safeParseInt)(x);if(!E||!B||!x||!C&&I>p||!M||!N)throw Error(`Interaction ${y.node.id} is not sequenced by sequencer aborting. Only Sequenced transactions are supported by loader ${g.name}`);return{...y,node:{...y.node,owner:{address:E,key:null},block:{...y.node.block,height:(0,o.safeParseInt)(x),id:B,timestamp:F?(0,o.safeParseInt)(F):y.node.block.timestamp},sortKey:N,lastSortKey:C,id:M,source:"redstone-sequencer"}}}async appendInternalWriteInteractions(y,m,M,E){let B={tags:[{name:i.WARP_TAGS.INTERACT_WRITE,values:[y]}],blockFilter:{min:m,max:M},first:f},x=await this.arweaveFetcher.transactions(B);return this.logger.debug("Inner writes interactions length:",x.length),E=E.concat(x),E}maybeAddMockVrf(y,m,M){return y&&this.tagsParser.hasVrfTag(m.node)&&(M?m.node.vrf=M.process().generateMockVrf(m.node.sortKey):this.logger.warn('Cannot generate mock vrf for interaction - no "warp-contracts-plugin-vrf" attached!')),m}isNewerThenSortKeyBlockHeight(y){if(y.node.sortKey){let m=y.node.sortKey.split(",")[0],M=Number.parseInt(m);return Number(y.node.block.height)-M>=0}return!0}async currentBlockHeight(){return(await this.arweaveWrapper.info()).height}type(){return"arweave"}clearCache(){}set warp(y){this.arweaveWrapper=new a.ArweaveWrapper(y),this.arweaveFetcher=new e.ArweaveGQLTxsFetcher(y),this._warp=y}};t.ArweaveGatewayBundledInteractionLoader=g}),Au=gt(t=>{lt();var i=t&&t.__createBinding||(Object.create?function(u,a,s,e){e===void 0&&(e=s);var o=Object.getOwnPropertyDescriptor(a,s);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(u,e,o)}:function(u,a,s,e){e===void 0&&(e=s),u[e]=a[s]}),r=t&&t.__exportStar||function(u,a){for(var s in u)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&i(a,u,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Pf(),t),r(Rf(),t),r(_p(),t),r(or(),t),r(Cf(),t),r(fn(),t),r(Ep(),t),r(Xn(),t),r(Sp(),t),r(Ro(),t),r(zp(),t),r(Wp(),t),r(qp(),t),r($p(),t),r(Hp(),t),r(Lo(),t),r(bu(),t),r(Gf(),t),r(Vf(),t),r(No(),t),r(Zf(),t),r(Jf(),t),r(Xf(),t),r(va(),t),r(Li(),t),r(di(),t),r(qf(),t),r(gu(),t),r(wa(),t),r(Wf(),t),r(hg(),t),r(_n(),t),r(lg(),t),r(Do(),t),r(Yf(),t),r(vc(),t),r(Su(),t),r(yc(),t),r(bc(),t),r(dc(),t),r(Sg(),t),r(Eu(),t),r(Ag(),t),r(mc(),t),r(nc(),t),r(fc(),t),r(cc(),t),r(Tg(),t),r(rc(),t),r(Mg(),t),r(pu(),t),r(Qf(),t),r($f(),t),r(ec(),t),r(Er(),t),r(ci(),t),r(_a(),t),r(Uo(),t),r(zf(),t),r(xg(),t),r(kg(),t),r(Og(),t)}),sr=gt((t,i)=>{lt(),function(r,u){function a(O,L){if(!O)throw new Error(L||"Assertion failed")}function s(O,L){O.super_=L;var n=function(){};n.prototype=L.prototype,O.prototype=new n,O.prototype.constructor=O}function e(O,L,n){if(e.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((L==="le"||L==="be")&&(n=L,L=10),this._init(O||0,L||10,n||"be"))}typeof r=="object"?r.exports=e:u.BN=e,e.BN=e,e.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$e().Buffer}catch{}e.isBN=function(O){return O instanceof e?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===e.wordSize&&Array.isArray(O.words)},e.max=function(O,L){return O.cmp(L)>0?O:L},e.min=function(O,L){return O.cmp(L)<0?O:L},e.prototype._init=function(O,L,n){if(typeof O=="number")return this._initNumber(O,L,n);if(typeof O=="object")return this._initArray(O,L,n);L==="hex"&&(L=16),a(L===(L|0)&&L>=2&&L<=36),O=O.toString().replace(/\s+/g,"");var d=0;O[0]==="-"&&(d++,this.negative=1),d<O.length&&(L===16?this._parseHex(O,d,n):(this._parseBase(O,L,d),n==="le"&&this._initArray(this.toArray(),L,n)))},e.prototype._initNumber=function(O,L,n){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(a(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),L,n)},e.prototype._initArray=function(O,L,n){if(a(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var v,A,T=0;if(n==="be")for(d=O.length-1,v=0;d>=0;d-=3)A=O[d]|O[d-1]<<8|O[d-2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(n==="le")for(d=0,v=0;d<O.length;d+=3)A=O[d]|O[d+1]<<8|O[d+2]<<16,this.words[v]|=A<<T&67108863,this.words[v+1]=A>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()};function c(O,L){var n=O.charCodeAt(L);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function f(O,L,n){var d=c(O,n);return n-1>=L&&(d|=c(O,n-1)<<4),d}e.prototype._parseHex=function(O,L,n){this.length=Math.ceil((O.length-L)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var v=0,A=0,T;if(n==="be")for(d=O.length-1;d>=L;d-=2)T=f(O,L,d)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8;else{var S=O.length-L;for(d=S%2===0?L+1:L;d<O.length;d+=2)T=f(O,L,d)<<v,this.words[A]|=T&67108863,v>=18?(v-=18,A+=1,this.words[A]|=T>>>26):v+=8}this.strip()};function l(O,L,n,d){for(var v=0,A=Math.min(O.length,n),T=L;T<A;T++){var S=O.charCodeAt(T)-48;v*=d,S>=49?v+=S-49+10:S>=17?v+=S-17+10:v+=S}return v}e.prototype._parseBase=function(O,L,n){this.words=[0],this.length=1;for(var d=0,v=1;v<=67108863;v*=L)d++;d--,v=v/L|0;for(var A=O.length-n,T=A%d,S=Math.min(A,A-T)+n,w=0,b=n;b<S;b+=d)w=l(O,b,b+d,L),this.imuln(v),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(T!==0){var h=1;for(w=l(O,b,O.length,L),b=0;b<T;b++)h*=L;this.imuln(h),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this.strip()},e.prototype.copy=function(O){O.words=new Array(this.length);for(var L=0;L<this.length;L++)O.words[L]=this.words[L];O.length=this.length,O.negative=this.negative,O.red=this.red},e.prototype.clone=function(){var O=new e(null);return this.copy(O),O},e.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},e.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(O,L){O=O||10,L=L|0||1;var n;if(O===16||O==="hex"){n="";for(var d=0,v=0,A=0;A<this.length;A++){var T=this.words[A],S=((T<<d|v)&16777215).toString(16);v=T>>>24-d&16777215,v!==0||A!==this.length-1?n=p[6-S.length]+S+n:n=S+n,d+=2,d>=26&&(d-=26,A--)}for(v!==0&&(n=v.toString(16)+n);n.length%L!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(O===(O|0)&&O>=2&&O<=36){var w=g[O],b=y[O];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var k=h.modn(b).toString(O);h=h.idivn(b),h.isZero()?n=k+n:n=p[w-k.length]+k+n}for(this.isZero()&&(n="0"+n);n.length%L!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}a(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},e.prototype.toJSON=function(){return this.toString(16)},e.prototype.toBuffer=function(O,L){return a(typeof o<"u"),this.toArrayLike(o,O,L)},e.prototype.toArray=function(O,L){return this.toArrayLike(Array,O,L)},e.prototype.toArrayLike=function(O,L,n){var d=this.byteLength(),v=n||Math.max(1,d);a(d<=v,"byte array longer than desired length"),a(v>0,"Requested array length <= 0"),this.strip();var A=L==="le",T=new O(v),S,w,b=this.clone();if(A){for(w=0;!b.isZero();w++)S=b.andln(255),b.iushrn(8),T[w]=S;for(;w<v;w++)T[w]=0}else{for(w=0;w<v-d;w++)T[w]=0;for(w=0;!b.isZero();w++)S=b.andln(255),b.iushrn(8),T[v-w-1]=S}return T},Math.clz32?e.prototype._countBits=function(O){return 32-Math.clz32(O)}:e.prototype._countBits=function(O){var L=O,n=0;return L>=4096&&(n+=13,L>>>=13),L>=64&&(n+=7,L>>>=7),L>=8&&(n+=4,L>>>=4),L>=2&&(n+=2,L>>>=2),n+L},e.prototype._zeroBits=function(O){if(O===0)return 26;var L=O,n=0;return!(L&8191)&&(n+=13,L>>>=13),!(L&127)&&(n+=7,L>>>=7),!(L&15)&&(n+=4,L>>>=4),!(L&3)&&(n+=2,L>>>=2),!(L&1)&&n++,n},e.prototype.bitLength=function(){var O=this.words[this.length-1],L=this._countBits(O);return(this.length-1)*26+L};function m(O){for(var L=new Array(O.bitLength()),n=0;n<L.length;n++){var d=n/26|0,v=n%26;L[n]=(O.words[d]&1<<v)>>>v}return L}e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,L=0;L<this.length;L++){var n=this._zeroBits(this.words[L]);if(O+=n,n!==26)break}return O},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},e.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var L=0;L<O.length;L++)this.words[L]=this.words[L]|O.words[L];return this.strip()},e.prototype.ior=function(O){return a((this.negative|O.negative)===0),this.iuor(O)},e.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},e.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},e.prototype.iuand=function(O){var L;this.length>O.length?L=O:L=this;for(var n=0;n<L.length;n++)this.words[n]=this.words[n]&O.words[n];return this.length=L.length,this.strip()},e.prototype.iand=function(O){return a((this.negative|O.negative)===0),this.iuand(O)},e.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},e.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},e.prototype.iuxor=function(O){var L,n;this.length>O.length?(L=this,n=O):(L=O,n=this);for(var d=0;d<n.length;d++)this.words[d]=L.words[d]^n.words[d];if(this!==L)for(;d<L.length;d++)this.words[d]=L.words[d];return this.length=L.length,this.strip()},e.prototype.ixor=function(O){return a((this.negative|O.negative)===0),this.iuxor(O)},e.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},e.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},e.prototype.inotn=function(O){a(typeof O=="number"&&O>=0);var L=Math.ceil(O/26)|0,n=O%26;this._expand(L),n>0&&L--;for(var d=0;d<L;d++)this.words[d]=~this.words[d]&67108863;return n>0&&(this.words[d]=~this.words[d]&67108863>>26-n),this.strip()},e.prototype.notn=function(O){return this.clone().inotn(O)},e.prototype.setn=function(O,L){a(typeof O=="number"&&O>=0);var n=O/26|0,d=O%26;return this._expand(n+1),L?this.words[n]=this.words[n]|1<<d:this.words[n]=this.words[n]&~(1<<d),this.strip()},e.prototype.iadd=function(O){var L;if(this.negative!==0&&O.negative===0)return this.negative=0,L=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,L=this.isub(O),O.negative=1,L._normSign();var n,d;this.length>O.length?(n=this,d=O):(n=O,d=this);for(var v=0,A=0;A<d.length;A++)L=(n.words[A]|0)+(d.words[A]|0)+v,this.words[A]=L&67108863,v=L>>>26;for(;v!==0&&A<n.length;A++)L=(n.words[A]|0)+v,this.words[A]=L&67108863,v=L>>>26;if(this.length=n.length,v!==0)this.words[this.length]=v,this.length++;else if(n!==this)for(;A<n.length;A++)this.words[A]=n.words[A];return this},e.prototype.add=function(O){var L;return O.negative!==0&&this.negative===0?(O.negative=0,L=this.sub(O),O.negative^=1,L):O.negative===0&&this.negative!==0?(this.negative=0,L=O.sub(this),this.negative=1,L):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},e.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var L=this.iadd(O);return O.negative=1,L._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var n=this.cmp(O);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,v;n>0?(d=this,v=O):(d=O,v=this);for(var A=0,T=0;T<v.length;T++)L=(d.words[T]|0)-(v.words[T]|0)+A,A=L>>26,this.words[T]=L&67108863;for(;A!==0&&T<d.length;T++)L=(d.words[T]|0)+A,A=L>>26,this.words[T]=L&67108863;if(A===0&&T<d.length&&d!==this)for(;T<d.length;T++)this.words[T]=d.words[T];return this.length=Math.max(this.length,T),d!==this&&(this.negative=1),this.strip()},e.prototype.sub=function(O){return this.clone().isub(O)};function M(O,L,n){n.negative=L.negative^O.negative;var d=O.length+L.length|0;n.length=d,d=d-1|0;var v=O.words[0]|0,A=L.words[0]|0,T=v*A,S=T&67108863,w=T/67108864|0;n.words[0]=S;for(var b=1;b<d;b++){for(var h=w>>>26,k=w&67108863,tt=Math.min(b,L.length-1),X=Math.max(0,b-O.length+1);X<=tt;X++){var ft=b-X|0;v=O.words[ft]|0,A=L.words[X]|0,T=v*A+k,h+=T/67108864|0,k=T&67108863}n.words[b]=k|0,w=h|0}return w!==0?n.words[b]=w|0:n.length--,n.strip()}var E=function(O,L,n){var d=O.words,v=L.words,A=n.words,T=0,S,w,b,h=d[0]|0,k=h&8191,tt=h>>>13,X=d[1]|0,ft=X&8191,et=X>>>13,at=d[2]|0,$=at&8191,J=at>>>13,R=d[3]|0,j=R&8191,z=R>>>13,Z=d[4]|0,Q=Z&8191,K=Z>>>13,G=d[5]|0,H=G&8191,Y=G>>>13,it=d[6]|0,ot=it&8191,mt=it>>>13,_t=d[7]|0,ht=_t&8191,vt=_t>>>13,pt=d[8]|0,V=pt&8191,rt=pt>>>13,st=d[9]|0,yt=st&8191,Ct=st>>>13,dt=v[0]|0,Mt=dt&8191,Lt=dt>>>13,wt=v[1]|0,ct=wt&8191,Et=wt>>>13,ut=v[2]|0,Ot=ut&8191,qt=ut>>>13,nt=v[3]|0,Rt=nt&8191,Dt=nt>>>13,bt=v[4]|0,Tt=bt&8191,jt=bt>>>13,St=v[5]|0,kt=St&8191,Kt=St>>>13,At=v[6]|0,Nt=At&8191,$t=At>>>13,Ft=v[7]|0,Wt=Ft&8191,ae=Ft>>>13,Xt=v[8]|0,Gt=Xt&8191,he=Xt>>>13,Qt=v[9]|0,Zt=Qt&8191,se=Qt>>>13;n.negative=O.negative^L.negative,n.length=19,S=Math.imul(k,Mt),w=Math.imul(k,Lt),w=w+Math.imul(tt,Mt)|0,b=Math.imul(tt,Lt);var te=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(te>>>26)|0,te&=67108863,S=Math.imul(ft,Mt),w=Math.imul(ft,Lt),w=w+Math.imul(et,Mt)|0,b=Math.imul(et,Lt),S=S+Math.imul(k,ct)|0,w=w+Math.imul(k,Et)|0,w=w+Math.imul(tt,ct)|0,b=b+Math.imul(tt,Et)|0;var re=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(re>>>26)|0,re&=67108863,S=Math.imul($,Mt),w=Math.imul($,Lt),w=w+Math.imul(J,Mt)|0,b=Math.imul(J,Lt),S=S+Math.imul(ft,ct)|0,w=w+Math.imul(ft,Et)|0,w=w+Math.imul(et,ct)|0,b=b+Math.imul(et,Et)|0,S=S+Math.imul(k,Ot)|0,w=w+Math.imul(k,qt)|0,w=w+Math.imul(tt,Ot)|0,b=b+Math.imul(tt,qt)|0;var Se=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Se>>>26)|0,Se&=67108863,S=Math.imul(j,Mt),w=Math.imul(j,Lt),w=w+Math.imul(z,Mt)|0,b=Math.imul(z,Lt),S=S+Math.imul($,ct)|0,w=w+Math.imul($,Et)|0,w=w+Math.imul(J,ct)|0,b=b+Math.imul(J,Et)|0,S=S+Math.imul(ft,Ot)|0,w=w+Math.imul(ft,qt)|0,w=w+Math.imul(et,Ot)|0,b=b+Math.imul(et,qt)|0,S=S+Math.imul(k,Rt)|0,w=w+Math.imul(k,Dt)|0,w=w+Math.imul(tt,Rt)|0,b=b+Math.imul(tt,Dt)|0;var Be=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Be>>>26)|0,Be&=67108863,S=Math.imul(Q,Mt),w=Math.imul(Q,Lt),w=w+Math.imul(K,Mt)|0,b=Math.imul(K,Lt),S=S+Math.imul(j,ct)|0,w=w+Math.imul(j,Et)|0,w=w+Math.imul(z,ct)|0,b=b+Math.imul(z,Et)|0,S=S+Math.imul($,Ot)|0,w=w+Math.imul($,qt)|0,w=w+Math.imul(J,Ot)|0,b=b+Math.imul(J,qt)|0,S=S+Math.imul(ft,Rt)|0,w=w+Math.imul(ft,Dt)|0,w=w+Math.imul(et,Rt)|0,b=b+Math.imul(et,Dt)|0,S=S+Math.imul(k,Tt)|0,w=w+Math.imul(k,jt)|0,w=w+Math.imul(tt,Tt)|0,b=b+Math.imul(tt,jt)|0;var Re=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Re>>>26)|0,Re&=67108863,S=Math.imul(H,Mt),w=Math.imul(H,Lt),w=w+Math.imul(Y,Mt)|0,b=Math.imul(Y,Lt),S=S+Math.imul(Q,ct)|0,w=w+Math.imul(Q,Et)|0,w=w+Math.imul(K,ct)|0,b=b+Math.imul(K,Et)|0,S=S+Math.imul(j,Ot)|0,w=w+Math.imul(j,qt)|0,w=w+Math.imul(z,Ot)|0,b=b+Math.imul(z,qt)|0,S=S+Math.imul($,Rt)|0,w=w+Math.imul($,Dt)|0,w=w+Math.imul(J,Rt)|0,b=b+Math.imul(J,Dt)|0,S=S+Math.imul(ft,Tt)|0,w=w+Math.imul(ft,jt)|0,w=w+Math.imul(et,Tt)|0,b=b+Math.imul(et,jt)|0,S=S+Math.imul(k,kt)|0,w=w+Math.imul(k,Kt)|0,w=w+Math.imul(tt,kt)|0,b=b+Math.imul(tt,Kt)|0;var Te=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul(ot,Mt),w=Math.imul(ot,Lt),w=w+Math.imul(mt,Mt)|0,b=Math.imul(mt,Lt),S=S+Math.imul(H,ct)|0,w=w+Math.imul(H,Et)|0,w=w+Math.imul(Y,ct)|0,b=b+Math.imul(Y,Et)|0,S=S+Math.imul(Q,Ot)|0,w=w+Math.imul(Q,qt)|0,w=w+Math.imul(K,Ot)|0,b=b+Math.imul(K,qt)|0,S=S+Math.imul(j,Rt)|0,w=w+Math.imul(j,Dt)|0,w=w+Math.imul(z,Rt)|0,b=b+Math.imul(z,Dt)|0,S=S+Math.imul($,Tt)|0,w=w+Math.imul($,jt)|0,w=w+Math.imul(J,Tt)|0,b=b+Math.imul(J,jt)|0,S=S+Math.imul(ft,kt)|0,w=w+Math.imul(ft,Kt)|0,w=w+Math.imul(et,kt)|0,b=b+Math.imul(et,Kt)|0,S=S+Math.imul(k,Nt)|0,w=w+Math.imul(k,$t)|0,w=w+Math.imul(tt,Nt)|0,b=b+Math.imul(tt,$t)|0;var xe=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(xe>>>26)|0,xe&=67108863,S=Math.imul(ht,Mt),w=Math.imul(ht,Lt),w=w+Math.imul(vt,Mt)|0,b=Math.imul(vt,Lt),S=S+Math.imul(ot,ct)|0,w=w+Math.imul(ot,Et)|0,w=w+Math.imul(mt,ct)|0,b=b+Math.imul(mt,Et)|0,S=S+Math.imul(H,Ot)|0,w=w+Math.imul(H,qt)|0,w=w+Math.imul(Y,Ot)|0,b=b+Math.imul(Y,qt)|0,S=S+Math.imul(Q,Rt)|0,w=w+Math.imul(Q,Dt)|0,w=w+Math.imul(K,Rt)|0,b=b+Math.imul(K,Dt)|0,S=S+Math.imul(j,Tt)|0,w=w+Math.imul(j,jt)|0,w=w+Math.imul(z,Tt)|0,b=b+Math.imul(z,jt)|0,S=S+Math.imul($,kt)|0,w=w+Math.imul($,Kt)|0,w=w+Math.imul(J,kt)|0,b=b+Math.imul(J,Kt)|0,S=S+Math.imul(ft,Nt)|0,w=w+Math.imul(ft,$t)|0,w=w+Math.imul(et,Nt)|0,b=b+Math.imul(et,$t)|0,S=S+Math.imul(k,Wt)|0,w=w+Math.imul(k,ae)|0,w=w+Math.imul(tt,Wt)|0,b=b+Math.imul(tt,ae)|0;var Ce=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,S=Math.imul(V,Mt),w=Math.imul(V,Lt),w=w+Math.imul(rt,Mt)|0,b=Math.imul(rt,Lt),S=S+Math.imul(ht,ct)|0,w=w+Math.imul(ht,Et)|0,w=w+Math.imul(vt,ct)|0,b=b+Math.imul(vt,Et)|0,S=S+Math.imul(ot,Ot)|0,w=w+Math.imul(ot,qt)|0,w=w+Math.imul(mt,Ot)|0,b=b+Math.imul(mt,qt)|0,S=S+Math.imul(H,Rt)|0,w=w+Math.imul(H,Dt)|0,w=w+Math.imul(Y,Rt)|0,b=b+Math.imul(Y,Dt)|0,S=S+Math.imul(Q,Tt)|0,w=w+Math.imul(Q,jt)|0,w=w+Math.imul(K,Tt)|0,b=b+Math.imul(K,jt)|0,S=S+Math.imul(j,kt)|0,w=w+Math.imul(j,Kt)|0,w=w+Math.imul(z,kt)|0,b=b+Math.imul(z,Kt)|0,S=S+Math.imul($,Nt)|0,w=w+Math.imul($,$t)|0,w=w+Math.imul(J,Nt)|0,b=b+Math.imul(J,$t)|0,S=S+Math.imul(ft,Wt)|0,w=w+Math.imul(ft,ae)|0,w=w+Math.imul(et,Wt)|0,b=b+Math.imul(et,ae)|0,S=S+Math.imul(k,Gt)|0,w=w+Math.imul(k,he)|0,w=w+Math.imul(tt,Gt)|0,b=b+Math.imul(tt,he)|0;var Ue=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,S=Math.imul(yt,Mt),w=Math.imul(yt,Lt),w=w+Math.imul(Ct,Mt)|0,b=Math.imul(Ct,Lt),S=S+Math.imul(V,ct)|0,w=w+Math.imul(V,Et)|0,w=w+Math.imul(rt,ct)|0,b=b+Math.imul(rt,Et)|0,S=S+Math.imul(ht,Ot)|0,w=w+Math.imul(ht,qt)|0,w=w+Math.imul(vt,Ot)|0,b=b+Math.imul(vt,qt)|0,S=S+Math.imul(ot,Rt)|0,w=w+Math.imul(ot,Dt)|0,w=w+Math.imul(mt,Rt)|0,b=b+Math.imul(mt,Dt)|0,S=S+Math.imul(H,Tt)|0,w=w+Math.imul(H,jt)|0,w=w+Math.imul(Y,Tt)|0,b=b+Math.imul(Y,jt)|0,S=S+Math.imul(Q,kt)|0,w=w+Math.imul(Q,Kt)|0,w=w+Math.imul(K,kt)|0,b=b+Math.imul(K,Kt)|0,S=S+Math.imul(j,Nt)|0,w=w+Math.imul(j,$t)|0,w=w+Math.imul(z,Nt)|0,b=b+Math.imul(z,$t)|0,S=S+Math.imul($,Wt)|0,w=w+Math.imul($,ae)|0,w=w+Math.imul(J,Wt)|0,b=b+Math.imul(J,ae)|0,S=S+Math.imul(ft,Gt)|0,w=w+Math.imul(ft,he)|0,w=w+Math.imul(et,Gt)|0,b=b+Math.imul(et,he)|0,S=S+Math.imul(k,Zt)|0,w=w+Math.imul(k,se)|0,w=w+Math.imul(tt,Zt)|0,b=b+Math.imul(tt,se)|0;var Ke=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,S=Math.imul(yt,ct),w=Math.imul(yt,Et),w=w+Math.imul(Ct,ct)|0,b=Math.imul(Ct,Et),S=S+Math.imul(V,Ot)|0,w=w+Math.imul(V,qt)|0,w=w+Math.imul(rt,Ot)|0,b=b+Math.imul(rt,qt)|0,S=S+Math.imul(ht,Rt)|0,w=w+Math.imul(ht,Dt)|0,w=w+Math.imul(vt,Rt)|0,b=b+Math.imul(vt,Dt)|0,S=S+Math.imul(ot,Tt)|0,w=w+Math.imul(ot,jt)|0,w=w+Math.imul(mt,Tt)|0,b=b+Math.imul(mt,jt)|0,S=S+Math.imul(H,kt)|0,w=w+Math.imul(H,Kt)|0,w=w+Math.imul(Y,kt)|0,b=b+Math.imul(Y,Kt)|0,S=S+Math.imul(Q,Nt)|0,w=w+Math.imul(Q,$t)|0,w=w+Math.imul(K,Nt)|0,b=b+Math.imul(K,$t)|0,S=S+Math.imul(j,Wt)|0,w=w+Math.imul(j,ae)|0,w=w+Math.imul(z,Wt)|0,b=b+Math.imul(z,ae)|0,S=S+Math.imul($,Gt)|0,w=w+Math.imul($,he)|0,w=w+Math.imul(J,Gt)|0,b=b+Math.imul(J,he)|0,S=S+Math.imul(ft,Zt)|0,w=w+Math.imul(ft,se)|0,w=w+Math.imul(et,Zt)|0,b=b+Math.imul(et,se)|0;var Je=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Je>>>26)|0,Je&=67108863,S=Math.imul(yt,Ot),w=Math.imul(yt,qt),w=w+Math.imul(Ct,Ot)|0,b=Math.imul(Ct,qt),S=S+Math.imul(V,Rt)|0,w=w+Math.imul(V,Dt)|0,w=w+Math.imul(rt,Rt)|0,b=b+Math.imul(rt,Dt)|0,S=S+Math.imul(ht,Tt)|0,w=w+Math.imul(ht,jt)|0,w=w+Math.imul(vt,Tt)|0,b=b+Math.imul(vt,jt)|0,S=S+Math.imul(ot,kt)|0,w=w+Math.imul(ot,Kt)|0,w=w+Math.imul(mt,kt)|0,b=b+Math.imul(mt,Kt)|0,S=S+Math.imul(H,Nt)|0,w=w+Math.imul(H,$t)|0,w=w+Math.imul(Y,Nt)|0,b=b+Math.imul(Y,$t)|0,S=S+Math.imul(Q,Wt)|0,w=w+Math.imul(Q,ae)|0,w=w+Math.imul(K,Wt)|0,b=b+Math.imul(K,ae)|0,S=S+Math.imul(j,Gt)|0,w=w+Math.imul(j,he)|0,w=w+Math.imul(z,Gt)|0,b=b+Math.imul(z,he)|0,S=S+Math.imul($,Zt)|0,w=w+Math.imul($,se)|0,w=w+Math.imul(J,Zt)|0,b=b+Math.imul(J,se)|0;var ze=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(ze>>>26)|0,ze&=67108863,S=Math.imul(yt,Rt),w=Math.imul(yt,Dt),w=w+Math.imul(Ct,Rt)|0,b=Math.imul(Ct,Dt),S=S+Math.imul(V,Tt)|0,w=w+Math.imul(V,jt)|0,w=w+Math.imul(rt,Tt)|0,b=b+Math.imul(rt,jt)|0,S=S+Math.imul(ht,kt)|0,w=w+Math.imul(ht,Kt)|0,w=w+Math.imul(vt,kt)|0,b=b+Math.imul(vt,Kt)|0,S=S+Math.imul(ot,Nt)|0,w=w+Math.imul(ot,$t)|0,w=w+Math.imul(mt,Nt)|0,b=b+Math.imul(mt,$t)|0,S=S+Math.imul(H,Wt)|0,w=w+Math.imul(H,ae)|0,w=w+Math.imul(Y,Wt)|0,b=b+Math.imul(Y,ae)|0,S=S+Math.imul(Q,Gt)|0,w=w+Math.imul(Q,he)|0,w=w+Math.imul(K,Gt)|0,b=b+Math.imul(K,he)|0,S=S+Math.imul(j,Zt)|0,w=w+Math.imul(j,se)|0,w=w+Math.imul(z,Zt)|0,b=b+Math.imul(z,se)|0;var Xe=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(yt,Tt),w=Math.imul(yt,jt),w=w+Math.imul(Ct,Tt)|0,b=Math.imul(Ct,jt),S=S+Math.imul(V,kt)|0,w=w+Math.imul(V,Kt)|0,w=w+Math.imul(rt,kt)|0,b=b+Math.imul(rt,Kt)|0,S=S+Math.imul(ht,Nt)|0,w=w+Math.imul(ht,$t)|0,w=w+Math.imul(vt,Nt)|0,b=b+Math.imul(vt,$t)|0,S=S+Math.imul(ot,Wt)|0,w=w+Math.imul(ot,ae)|0,w=w+Math.imul(mt,Wt)|0,b=b+Math.imul(mt,ae)|0,S=S+Math.imul(H,Gt)|0,w=w+Math.imul(H,he)|0,w=w+Math.imul(Y,Gt)|0,b=b+Math.imul(Y,he)|0,S=S+Math.imul(Q,Zt)|0,w=w+Math.imul(Q,se)|0,w=w+Math.imul(K,Zt)|0,b=b+Math.imul(K,se)|0;var Ge=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,S=Math.imul(yt,kt),w=Math.imul(yt,Kt),w=w+Math.imul(Ct,kt)|0,b=Math.imul(Ct,Kt),S=S+Math.imul(V,Nt)|0,w=w+Math.imul(V,$t)|0,w=w+Math.imul(rt,Nt)|0,b=b+Math.imul(rt,$t)|0,S=S+Math.imul(ht,Wt)|0,w=w+Math.imul(ht,ae)|0,w=w+Math.imul(vt,Wt)|0,b=b+Math.imul(vt,ae)|0,S=S+Math.imul(ot,Gt)|0,w=w+Math.imul(ot,he)|0,w=w+Math.imul(mt,Gt)|0,b=b+Math.imul(mt,he)|0,S=S+Math.imul(H,Zt)|0,w=w+Math.imul(H,se)|0,w=w+Math.imul(Y,Zt)|0,b=b+Math.imul(Y,se)|0;var Ye=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(yt,Nt),w=Math.imul(yt,$t),w=w+Math.imul(Ct,Nt)|0,b=Math.imul(Ct,$t),S=S+Math.imul(V,Wt)|0,w=w+Math.imul(V,ae)|0,w=w+Math.imul(rt,Wt)|0,b=b+Math.imul(rt,ae)|0,S=S+Math.imul(ht,Gt)|0,w=w+Math.imul(ht,he)|0,w=w+Math.imul(vt,Gt)|0,b=b+Math.imul(vt,he)|0,S=S+Math.imul(ot,Zt)|0,w=w+Math.imul(ot,se)|0,w=w+Math.imul(mt,Zt)|0,b=b+Math.imul(mt,se)|0;var We=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(We>>>26)|0,We&=67108863,S=Math.imul(yt,Wt),w=Math.imul(yt,ae),w=w+Math.imul(Ct,Wt)|0,b=Math.imul(Ct,ae),S=S+Math.imul(V,Gt)|0,w=w+Math.imul(V,he)|0,w=w+Math.imul(rt,Gt)|0,b=b+Math.imul(rt,he)|0,S=S+Math.imul(ht,Zt)|0,w=w+Math.imul(ht,se)|0,w=w+Math.imul(vt,Zt)|0,b=b+Math.imul(vt,se)|0;var Ve=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,S=Math.imul(yt,Gt),w=Math.imul(yt,he),w=w+Math.imul(Ct,Gt)|0,b=Math.imul(Ct,he),S=S+Math.imul(V,Zt)|0,w=w+Math.imul(V,se)|0,w=w+Math.imul(rt,Zt)|0,b=b+Math.imul(rt,se)|0;var Ze=(T+S|0)+((w&8191)<<13)|0;T=(b+(w>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(yt,Zt),w=Math.imul(yt,se),w=w+Math.imul(Ct,Zt)|0,b=Math.imul(Ct,se);var ar=(T+S|0)+((w&8191)<<13)|0;return T=(b+(w>>>13)|0)+(ar>>>26)|0,ar&=67108863,A[0]=te,A[1]=re,A[2]=Se,A[3]=Be,A[4]=Re,A[5]=Te,A[6]=xe,A[7]=Ce,A[8]=Ue,A[9]=Ke,A[10]=Je,A[11]=ze,A[12]=Xe,A[13]=Ge,A[14]=Ye,A[15]=We,A[16]=Ve,A[17]=Ze,A[18]=ar,T!==0&&(A[19]=T,n.length++),n};Math.imul||(E=M);function B(O,L,n){n.negative=L.negative^O.negative,n.length=O.length+L.length;for(var d=0,v=0,A=0;A<n.length-1;A++){var T=v;v=0;for(var S=d&67108863,w=Math.min(A,L.length-1),b=Math.max(0,A-O.length+1);b<=w;b++){var h=A-b,k=O.words[h]|0,tt=L.words[b]|0,X=k*tt,ft=X&67108863;T=T+(X/67108864|0)|0,ft=ft+S|0,S=ft&67108863,T=T+(ft>>>26)|0,v+=T>>>26,T&=67108863}n.words[A]=S,d=T,T=v}return d!==0?n.words[A]=d:n.length--,n.strip()}function x(O,L,n){var d=new C;return d.mulp(O,L,n)}e.prototype.mulTo=function(O,L){var n,d=this.length+O.length;return this.length===10&&O.length===10?n=E(this,O,L):d<63?n=M(this,O,L):d<1024?n=B(this,O,L):n=x(this,O,L),n};function C(O,L){this.x=O,this.y=L}C.prototype.makeRBT=function(O){for(var L=new Array(O),n=e.prototype._countBits(O)-1,d=0;d<O;d++)L[d]=this.revBin(d,n,O);return L},C.prototype.revBin=function(O,L,n){if(O===0||O===n-1)return O;for(var d=0,v=0;v<L;v++)d|=(O&1)<<L-v-1,O>>=1;return d},C.prototype.permute=function(O,L,n,d,v,A){for(var T=0;T<A;T++)d[T]=L[O[T]],v[T]=n[O[T]]},C.prototype.transform=function(O,L,n,d,v,A){this.permute(A,O,L,n,d,v);for(var T=1;T<v;T<<=1)for(var S=T<<1,w=Math.cos(2*Math.PI/S),b=Math.sin(2*Math.PI/S),h=0;h<v;h+=S)for(var k=w,tt=b,X=0;X<T;X++){var ft=n[h+X],et=d[h+X],at=n[h+X+T],$=d[h+X+T],J=k*at-tt*$;$=k*$+tt*at,at=J,n[h+X]=ft+at,d[h+X]=et+$,n[h+X+T]=ft-at,d[h+X+T]=et-$,X!==S&&(J=w*k-b*tt,tt=w*tt+b*k,k=J)}},C.prototype.guessLen13b=function(O,L){var n=Math.max(L,O)|1,d=n&1,v=0;for(n=n/2|0;n;n=n>>>1)v++;return 1<<v+1+d},C.prototype.conjugate=function(O,L,n){if(!(n<=1))for(var d=0;d<n/2;d++){var v=O[d];O[d]=O[n-d-1],O[n-d-1]=v,v=L[d],L[d]=-L[n-d-1],L[n-d-1]=-v}},C.prototype.normalize13b=function(O,L){for(var n=0,d=0;d<L/2;d++){var v=Math.round(O[2*d+1]/L)*8192+Math.round(O[2*d]/L)+n;O[d]=v&67108863,v<67108864?n=0:n=v/67108864|0}return O},C.prototype.convert13b=function(O,L,n,d){for(var v=0,A=0;A<L;A++)v=v+(O[A]|0),n[2*A]=v&8191,v=v>>>13,n[2*A+1]=v&8191,v=v>>>13;for(A=2*L;A<d;++A)n[A]=0;a(v===0),a((v&-8192)===0)},C.prototype.stub=function(O){for(var L=new Array(O),n=0;n<O;n++)L[n]=0;return L},C.prototype.mulp=function(O,L,n){var d=2*this.guessLen13b(O.length,L.length),v=this.makeRBT(d),A=this.stub(d),T=new Array(d),S=new Array(d),w=new Array(d),b=new Array(d),h=new Array(d),k=new Array(d),tt=n.words;tt.length=d,this.convert13b(O.words,O.length,T,d),this.convert13b(L.words,L.length,b,d),this.transform(T,A,S,w,d,v),this.transform(b,A,h,k,d,v);for(var X=0;X<d;X++){var ft=S[X]*h[X]-w[X]*k[X];w[X]=S[X]*k[X]+w[X]*h[X],S[X]=ft}return this.conjugate(S,w,d),this.transform(S,w,tt,A,d,v),this.conjugate(tt,A,d),this.normalize13b(tt,d),n.negative=O.negative^L.negative,n.length=O.length+L.length,n.strip()},e.prototype.mul=function(O){var L=new e(null);return L.words=new Array(this.length+O.length),this.mulTo(O,L)},e.prototype.mulf=function(O){var L=new e(null);return L.words=new Array(this.length+O.length),x(this,O,L)},e.prototype.imul=function(O){return this.clone().mulTo(O,this)},e.prototype.imuln=function(O){a(typeof O=="number"),a(O<67108864);for(var L=0,n=0;n<this.length;n++){var d=(this.words[n]|0)*O,v=(d&67108863)+(L&67108863);L>>=26,L+=d/67108864|0,L+=v>>>26,this.words[n]=v&67108863}return L!==0&&(this.words[n]=L,this.length++),this},e.prototype.muln=function(O){return this.clone().imuln(O)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(O){var L=m(O);if(L.length===0)return new e(1);for(var n=this,d=0;d<L.length&&L[d]===0;d++,n=n.sqr());if(++d<L.length)for(var v=n.sqr();d<L.length;d++,v=v.sqr())L[d]!==0&&(n=n.mul(v));return n},e.prototype.iushln=function(O){a(typeof O=="number"&&O>=0);var L=O%26,n=(O-L)/26,d=67108863>>>26-L<<26-L,v;if(L!==0){var A=0;for(v=0;v<this.length;v++){var T=this.words[v]&d,S=(this.words[v]|0)-T<<L;this.words[v]=S|A,A=T>>>26-L}A&&(this.words[v]=A,this.length++)}if(n!==0){for(v=this.length-1;v>=0;v--)this.words[v+n]=this.words[v];for(v=0;v<n;v++)this.words[v]=0;this.length+=n}return this.strip()},e.prototype.ishln=function(O){return a(this.negative===0),this.iushln(O)},e.prototype.iushrn=function(O,L,n){a(typeof O=="number"&&O>=0);var d;L?d=(L-L%26)/26:d=0;var v=O%26,A=Math.min((O-v)/26,this.length),T=67108863^67108863>>>v<<v,S=n;if(d-=A,d=Math.max(0,d),S){for(var w=0;w<A;w++)S.words[w]=this.words[w];S.length=A}if(A!==0)if(this.length>A)for(this.length-=A,w=0;w<this.length;w++)this.words[w]=this.words[w+A];else this.words[0]=0,this.length=1;var b=0;for(w=this.length-1;w>=0&&(b!==0||w>=d);w--){var h=this.words[w]|0;this.words[w]=b<<26-v|h>>>v,b=h&T}return S&&b!==0&&(S.words[S.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},e.prototype.ishrn=function(O,L,n){return a(this.negative===0),this.iushrn(O,L,n)},e.prototype.shln=function(O){return this.clone().ishln(O)},e.prototype.ushln=function(O){return this.clone().iushln(O)},e.prototype.shrn=function(O){return this.clone().ishrn(O)},e.prototype.ushrn=function(O){return this.clone().iushrn(O)},e.prototype.testn=function(O){a(typeof O=="number"&&O>=0);var L=O%26,n=(O-L)/26,d=1<<L;if(this.length<=n)return!1;var v=this.words[n];return!!(v&d)},e.prototype.imaskn=function(O){a(typeof O=="number"&&O>=0);var L=O%26,n=(O-L)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(L!==0&&n++,this.length=Math.min(n,this.length),L!==0){var d=67108863^67108863>>>L<<L;this.words[this.length-1]&=d}return this.strip()},e.prototype.maskn=function(O){return this.clone().imaskn(O)},e.prototype.iaddn=function(O){return a(typeof O=="number"),a(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},e.prototype._iaddn=function(O){this.words[0]+=O;for(var L=0;L<this.length&&this.words[L]>=67108864;L++)this.words[L]-=67108864,L===this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=Math.max(this.length,L+1),this},e.prototype.isubn=function(O){if(a(typeof O=="number"),a(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&this.words[L]<0;L++)this.words[L]+=67108864,this.words[L+1]-=1;return this.strip()},e.prototype.addn=function(O){return this.clone().iaddn(O)},e.prototype.subn=function(O){return this.clone().isubn(O)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(O,L,n){var d=O.length+n,v;this._expand(d);var A,T=0;for(v=0;v<O.length;v++){A=(this.words[v+n]|0)+T;var S=(O.words[v]|0)*L;A-=S&67108863,T=(A>>26)-(S/67108864|0),this.words[v+n]=A&67108863}for(;v<this.length-n;v++)A=(this.words[v+n]|0)+T,T=A>>26,this.words[v+n]=A&67108863;if(T===0)return this.strip();for(a(T===-1),T=0,v=0;v<this.length;v++)A=-(this.words[v]|0)+T,T=A>>26,this.words[v]=A&67108863;return this.negative=1,this.strip()},e.prototype._wordDiv=function(O,L){var n=this.length-O.length,d=this.clone(),v=O,A=v.words[v.length-1]|0,T=this._countBits(A);n=26-T,n!==0&&(v=v.ushln(n),d.iushln(n),A=v.words[v.length-1]|0);var S=d.length-v.length,w;if(L!=="mod"){w=new e(null),w.length=S+1,w.words=new Array(w.length);for(var b=0;b<w.length;b++)w.words[b]=0}var h=d.clone()._ishlnsubmul(v,1,S);h.negative===0&&(d=h,w&&(w.words[S]=1));for(var k=S-1;k>=0;k--){var tt=(d.words[v.length+k]|0)*67108864+(d.words[v.length+k-1]|0);for(tt=Math.min(tt/A|0,67108863),d._ishlnsubmul(v,tt,k);d.negative!==0;)tt--,d.negative=0,d._ishlnsubmul(v,1,k),d.isZero()||(d.negative^=1);w&&(w.words[k]=tt)}return w&&w.strip(),d.strip(),L!=="div"&&n!==0&&d.iushrn(n),{div:w||null,mod:d}},e.prototype.divmod=function(O,L,n){if(a(!O.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var d,v,A;return this.negative!==0&&O.negative===0?(A=this.neg().divmod(O,L),L!=="mod"&&(d=A.div.neg()),L!=="div"&&(v=A.mod.neg(),n&&v.negative!==0&&v.iadd(O)),{div:d,mod:v}):this.negative===0&&O.negative!==0?(A=this.divmod(O.neg(),L),L!=="mod"&&(d=A.div.neg()),{div:d,mod:A.mod}):this.negative&O.negative?(A=this.neg().divmod(O.neg(),L),L!=="div"&&(v=A.mod.neg(),n&&v.negative!==0&&v.isub(O)),{div:A.div,mod:v}):O.length>this.length||this.cmp(O)<0?{div:new e(0),mod:this}:O.length===1?L==="div"?{div:this.divn(O.words[0]),mod:null}:L==="mod"?{div:null,mod:new e(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new e(this.modn(O.words[0]))}:this._wordDiv(O,L)},e.prototype.div=function(O){return this.divmod(O,"div",!1).div},e.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},e.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},e.prototype.divRound=function(O){var L=this.divmod(O);if(L.mod.isZero())return L.div;var n=L.div.negative!==0?L.mod.isub(O):L.mod,d=O.ushrn(1),v=O.andln(1),A=n.cmp(d);return A<0||v===1&&A===0?L.div:L.div.negative!==0?L.div.isubn(1):L.div.iaddn(1)},e.prototype.modn=function(O){a(O<=67108863);for(var L=(1<<26)%O,n=0,d=this.length-1;d>=0;d--)n=(L*n+(this.words[d]|0))%O;return n},e.prototype.idivn=function(O){a(O<=67108863);for(var L=0,n=this.length-1;n>=0;n--){var d=(this.words[n]|0)+L*67108864;this.words[n]=d/O|0,L=d%O}return this.strip()},e.prototype.divn=function(O){return this.clone().idivn(O)},e.prototype.egcd=function(O){a(O.negative===0),a(!O.isZero());var L=this,n=O.clone();L.negative!==0?L=L.umod(O):L=L.clone();for(var d=new e(1),v=new e(0),A=new e(0),T=new e(1),S=0;L.isEven()&&n.isEven();)L.iushrn(1),n.iushrn(1),++S;for(var w=n.clone(),b=L.clone();!L.isZero();){for(var h=0,k=1;!(L.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(L.iushrn(h);h-- >0;)(d.isOdd()||v.isOdd())&&(d.iadd(w),v.isub(b)),d.iushrn(1),v.iushrn(1);for(var tt=0,X=1;!(n.words[0]&X)&&tt<26;++tt,X<<=1);if(tt>0)for(n.iushrn(tt);tt-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(w),T.isub(b)),A.iushrn(1),T.iushrn(1);L.cmp(n)>=0?(L.isub(n),d.isub(A),v.isub(T)):(n.isub(L),A.isub(d),T.isub(v))}return{a:A,b:T,gcd:n.iushln(S)}},e.prototype._invmp=function(O){a(O.negative===0),a(!O.isZero());var L=this,n=O.clone();L.negative!==0?L=L.umod(O):L=L.clone();for(var d=new e(1),v=new e(0),A=n.clone();L.cmpn(1)>0&&n.cmpn(1)>0;){for(var T=0,S=1;!(L.words[0]&S)&&T<26;++T,S<<=1);if(T>0)for(L.iushrn(T);T-- >0;)d.isOdd()&&d.iadd(A),d.iushrn(1);for(var w=0,b=1;!(n.words[0]&b)&&w<26;++w,b<<=1);if(w>0)for(n.iushrn(w);w-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);L.cmp(n)>=0?(L.isub(n),d.isub(v)):(n.isub(L),v.isub(d))}var h;return L.cmpn(1)===0?h=d:h=v,h.cmpn(0)<0&&h.iadd(O),h},e.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var L=this.clone(),n=O.clone();L.negative=0,n.negative=0;for(var d=0;L.isEven()&&n.isEven();d++)L.iushrn(1),n.iushrn(1);do{for(;L.isEven();)L.iushrn(1);for(;n.isEven();)n.iushrn(1);var v=L.cmp(n);if(v<0){var A=L;L=n,n=A}else if(v===0||n.cmpn(1)===0)break;L.isub(n)}while(!0);return n.iushln(d)},e.prototype.invm=function(O){return this.egcd(O).a.umod(O)},e.prototype.isEven=function(){return(this.words[0]&1)===0},e.prototype.isOdd=function(){return(this.words[0]&1)===1},e.prototype.andln=function(O){return this.words[0]&O},e.prototype.bincn=function(O){a(typeof O=="number");var L=O%26,n=(O-L)/26,d=1<<L;if(this.length<=n)return this._expand(n+1),this.words[n]|=d,this;for(var v=d,A=n;v!==0&&A<this.length;A++){var T=this.words[A]|0;T+=v,v=T>>>26,T&=67108863,this.words[A]=T}return v!==0&&(this.words[A]=v,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(O){var L=O<0;if(this.negative!==0&&!L)return-1;if(this.negative===0&&L)return 1;this.strip();var n;if(this.length>1)n=1;else{L&&(O=-O),a(O<=67108863,"Number is too big");var d=this.words[0]|0;n=d===O?0:d<O?-1:1}return this.negative!==0?-n|0:n},e.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var L=this.ucmp(O);return this.negative!==0?-L|0:L},e.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var L=0,n=this.length-1;n>=0;n--){var d=this.words[n]|0,v=O.words[n]|0;if(d!==v){d<v?L=-1:d>v&&(L=1);break}}return L},e.prototype.gtn=function(O){return this.cmpn(O)===1},e.prototype.gt=function(O){return this.cmp(O)===1},e.prototype.gten=function(O){return this.cmpn(O)>=0},e.prototype.gte=function(O){return this.cmp(O)>=0},e.prototype.ltn=function(O){return this.cmpn(O)===-1},e.prototype.lt=function(O){return this.cmp(O)===-1},e.prototype.lten=function(O){return this.cmpn(O)<=0},e.prototype.lte=function(O){return this.cmp(O)<=0},e.prototype.eqn=function(O){return this.cmpn(O)===0},e.prototype.eq=function(O){return this.cmp(O)===0},e.red=function(O){return new W(O)},e.prototype.toRed=function(O){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},e.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(O){return this.red=O,this},e.prototype.forceRed=function(O){return a(!this.red,"Already a number in reduction context"),this._forceRed(O)},e.prototype.redAdd=function(O){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},e.prototype.redIAdd=function(O){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},e.prototype.redSub=function(O){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},e.prototype.redISub=function(O){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},e.prototype.redShl=function(O){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},e.prototype.redMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},e.prototype.redIMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},e.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(O){return a(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var N={k256:null,p224:null,p192:null,p25519:null};function F(O,L){this.name=O,this.p=new e(L,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var O=new e(null);return O.words=new Array(Math.ceil(this.n/13)),O},F.prototype.ireduce=function(O){var L=O,n;do this.split(L,this.tmp),L=this.imulK(L),L=L.iadd(this.tmp),n=L.bitLength();while(n>this.n);var d=n<this.n?-1:L.ucmp(this.p);return d===0?(L.words[0]=0,L.length=1):d>0?L.isub(this.p):L.strip!==void 0?L.strip():L._strip(),L},F.prototype.split=function(O,L){O.iushrn(this.n,0,L)},F.prototype.imulK=function(O){return O.imul(this.k)};function I(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(I,F),I.prototype.split=function(O,L){for(var n=4194303,d=Math.min(O.length,9),v=0;v<d;v++)L.words[v]=O.words[v];if(L.length=d,O.length<=9){O.words[0]=0,O.length=1;return}var A=O.words[9];for(L.words[L.length++]=A&n,v=10;v<O.length;v++){var T=O.words[v]|0;O.words[v-10]=(T&n)<<4|A>>>22,A=T}A>>>=22,O.words[v-10]=A,A===0&&O.length>10?O.length-=10:O.length-=9},I.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var L=0,n=0;n<O.length;n++){var d=O.words[n]|0;L+=d*977,O.words[n]=L&67108863,L=d*64+(L/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function U(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(U,F);function P(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(P,F);function D(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(D,F),D.prototype.imulK=function(O){for(var L=0,n=0;n<O.length;n++){var d=(O.words[n]|0)*19+L,v=d&67108863;d>>>=26,O.words[n]=v,L=d}return L!==0&&(O.words[O.length++]=L),O},e._prime=function(O){if(N[O])return N[O];var L;if(O==="k256")L=new I;else if(O==="p224")L=new U;else if(O==="p192")L=new P;else if(O==="p25519")L=new D;else throw new Error("Unknown prime "+O);return N[O]=L,L};function W(O){if(typeof O=="string"){var L=e._prime(O);this.m=L.p,this.prime=L}else a(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}W.prototype._verify1=function(O){a(O.negative===0,"red works only with positives"),a(O.red,"red works only with red numbers")},W.prototype._verify2=function(O,L){a((O.negative|L.negative)===0,"red works only with positives"),a(O.red&&O.red===L.red,"red works only with red numbers")},W.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},W.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},W.prototype.add=function(O,L){this._verify2(O,L);var n=O.add(L);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},W.prototype.iadd=function(O,L){this._verify2(O,L);var n=O.iadd(L);return n.cmp(this.m)>=0&&n.isub(this.m),n},W.prototype.sub=function(O,L){this._verify2(O,L);var n=O.sub(L);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},W.prototype.isub=function(O,L){this._verify2(O,L);var n=O.isub(L);return n.cmpn(0)<0&&n.iadd(this.m),n},W.prototype.shl=function(O,L){return this._verify1(O),this.imod(O.ushln(L))},W.prototype.imul=function(O,L){return this._verify2(O,L),this.imod(O.imul(L))},W.prototype.mul=function(O,L){return this._verify2(O,L),this.imod(O.mul(L))},W.prototype.isqr=function(O){return this.imul(O,O.clone())},W.prototype.sqr=function(O){return this.mul(O,O)},W.prototype.sqrt=function(O){if(O.isZero())return O.clone();var L=this.m.andln(3);if(a(L%2===1),L===3){var n=this.m.add(new e(1)).iushrn(2);return this.pow(O,n)}for(var d=this.m.subn(1),v=0;!d.isZero()&&d.andln(1)===0;)v++,d.iushrn(1);a(!d.isZero());var A=new e(1).toRed(this),T=A.redNeg(),S=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new e(2*w*w).toRed(this);this.pow(w,S).cmp(T)!==0;)w.redIAdd(T);for(var b=this.pow(w,d),h=this.pow(O,d.addn(1).iushrn(1)),k=this.pow(O,d),tt=v;k.cmp(A)!==0;){for(var X=k,ft=0;X.cmp(A)!==0;ft++)X=X.redSqr();a(ft<tt);var et=this.pow(b,new e(1).iushln(tt-ft-1));h=h.redMul(et),b=et.redSqr(),k=k.redMul(b),tt=ft}return h},W.prototype.invm=function(O){var L=O._invmp(this.m);return L.negative!==0?(L.negative=0,this.imod(L).redNeg()):this.imod(L)},W.prototype.pow=function(O,L){if(L.isZero())return new e(1).toRed(this);if(L.cmpn(1)===0)return O.clone();var n=4,d=new Array(1<<n);d[0]=new e(1).toRed(this),d[1]=O;for(var v=2;v<d.length;v++)d[v]=this.mul(d[v-1],O);var A=d[0],T=0,S=0,w=L.bitLength()%26;for(w===0&&(w=26),v=L.length-1;v>=0;v--){for(var b=L.words[v],h=w-1;h>=0;h--){var k=b>>h&1;if(A!==d[0]&&(A=this.sqr(A)),k===0&&T===0){S=0;continue}T<<=1,T|=k,S++,!(S!==n&&(v!==0||h!==0))&&(A=this.mul(A,d[T]),S=0,T=0)}w=26}return A},W.prototype.convertTo=function(O){var L=O.umod(this.m);return L===O?L.clone():L},W.prototype.convertFrom=function(O){var L=O.clone();return L.red=null,L},e.mont=function(O){return new q(O)};function q(O){W.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(q,W),q.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},q.prototype.convertFrom=function(O){var L=this.imod(O.mul(this.rinv));return L.red=null,L},q.prototype.imul=function(O,L){if(O.isZero()||L.isZero())return O.words[0]=0,O.length=1,O;var n=O.imul(L),d=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=n.isub(d).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},q.prototype.mul=function(O,L){if(O.isZero()||L.isZero())return new e(0)._forceRed(this);var n=O.mul(L),d=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=n.isub(d).iushrn(this.shift),A=v;return v.cmp(this.m)>=0?A=v.isub(this.m):v.cmpn(0)<0&&(A=v.iadd(this.m)),A._forceRed(this)},q.prototype.invm=function(O){var L=this.imod(O._invmp(this.m).mul(this.r2));return L._forceRed(this)}}(typeof i>"u"||i,t)}),Ee=gt((t,i)=>{lt();var r=$e(),u=r.Buffer;function a(e,o){for(var c in e)o[c]=e[c]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?i.exports=r:(a(r,t),t.Buffer=s);function s(e,o,c){return u(e,o,c)}s.prototype=Object.create(u.prototype),a(u,s),s.from=function(e,o,c){if(typeof e=="number")throw new TypeError("Argument must not be a number");return u(e,o,c)},s.alloc=function(e,o,c){if(typeof e!="number")throw new TypeError("Argument must be a number");var f=u(e);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},s.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return u(e)},s.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}),wc=gt((t,i)=>{lt();var r=Ee().Buffer;i.exports=class{constructor(u=r.from([])){this.buffer=u}read(u){let a=this.buffer.subarray(0,u);return this.buffer=this.buffer.subarray(u),a}write(u){u=r.from(u),this.buffer=r.concat([this.buffer,u])}}}),Ig=gt((t,i)=>{lt();var r=sr(),u=wc();i.exports={encode:o,decode:c,read:a,readBn:s,write:e};function a(f){return s(f).toString()}function s(f){let l=new r(0),p=0,g;for(;g=f.read(1)[0],l.ior(new r(g&127).shln(p)),g>>7!==0;)p+=7;return l}function e(f,l){let p=new r(f);for(;;){let g=p.maskn(7).toNumber();if(p.ishrn(7),p.isZero()){l.write([g]);break}else l.write([g|128])}}function o(f){let l=new u;return e(f,l),l.buffer}function c(f){let l=new u(f);return a(l)}}),Bg=gt((t,i)=>{lt();var r=sr(),u=wc();i.exports={encode:o,decode:c,write:e,read:a,readBn:s};function a(f){return s(f).toString()}function s(f){let l=new r(0),p=0,g;for(;g=f.read(1)[0],l.ior(new r(g&127).shln(p)),p+=7,g>>7!==0;);return g&64&&l.setn(p),l.fromTwos(p)}function e(f,l){let p=new r(f),g=p.isNeg();for(g&&(p=p.toTwos(p.bitLength()+8));;){let m=p.maskn(7).toNumber();if(p.ishrn(7),y(p)&&(m&64)!==0||p.isZero()&&(m&64)===0){l.write([m]);break}else l.write([m|128])}function y(m){return g&&m.toString(2).indexOf("0")<0}}function o(f){let l=new u;return e(f,l),l.buffer}function c(f){let l=new u(f);return a(l)}}),Tu=gt(t=>{lt(),t.unsigned=Ig(),t.signed=Bg()}),Mu=gt((t,i)=>{lt();var r=Ee().Buffer;i.exports=class{constructor(u=r.from([])){this.buffer=u,this._bytesRead=0,this._bytesWrote=0}read(u){this._bytesRead+=u;let a=this.buffer.slice(0,u);return this.buffer=this.buffer.slice(u),a}write(u){u=r.from(u),this._bytesWrote+=u.length,this.buffer=r.concat([this.buffer,u])}get end(){return!this.buffer.length}get bytesRead(){return this._bytesRead}get bytesWrote(){return this._bytesWrote}}}),xu=gt((t,i)=>{i.exports={block:"block_type",loop:"block_type",if:"block_type",br:"varuint32",br_if:"varuint32",br_table:"br_table",call:"varuint32",call_indirect:"call_indirect",get_local:"varuint32",set_local:"varuint32",tee_local:"varuint32",get_global:"varuint32",set_global:"varuint32",load:"memory_immediate",load8_s:"memory_immediate",load8_u:"memory_immediate",load16_s:"memory_immediate",load16_u:"memory_immediate",load32_s:"memory_immediate",load32_u:"memory_immediate",store:"memory_immediate",store8:"memory_immediate",store16:"memory_immediate",store32:"memory_immediate",current_memory:"varuint1",grow_memory:"varuint1",i32:"varint32",i64:"varint64",f32:"uint32",f64:"uint64"}}),_c=gt((t,i)=>{lt();var r=Tu(),u=Mu(),a=xu(),s=i.exports=(p,g)=>{let y=new u(p);return s.parse(y,g)},e=s.LANGUAGE_TYPES={127:"i32",126:"i64",125:"f32",124:"f64",112:"anyFunc",96:"func",64:"block_type"},o=s.EXTERNAL_KIND={0:"function",1:"table",2:"memory",3:"global"};s.parsePreramble=p=>{let g={};return g.name="preramble",g.magic=[...p.read(4)],g.version=[...p.read(4)],g},s.parseSectionHeader=p=>{let g=p.read(1)[0],y=r.unsigned.readBn(p).toNumber();return{id:g,name:f[g],size:y}};var c=s.OPCODES={0:"unreachable",1:"nop",2:"block",3:"loop",4:"if",5:"else",11:"end",12:"br",13:"br_if",14:"br_table",15:"return",16:"call",17:"call_indirect",26:"drop",27:"select",32:"get_local",33:"set_local",34:"tee_local",35:"get_global",36:"set_global",40:"i32.load",41:"i64.load",42:"f32.load",43:"f64.load",44:"i32.load8_s",45:"i32.load8_u",46:"i32.load16_s",47:"i32.load16_u",48:"i64.load8_s",49:"i64.load8_u",50:"i64.load16_s",51:"i64.load16_u",52:"i64.load32_s",53:"i64.load32_u",54:"i32.store",55:"i64.store",56:"f32.store",57:"f64.store",58:"i32.store8",59:"i32.store16",60:"i64.store8",61:"i64.store16",62:"i64.store32",63:"current_memory",64:"grow_memory",65:"i32.const",66:"i64.const",67:"f32.const",68:"f64.const",69:"i32.eqz",70:"i32.eq",71:"i32.ne",72:"i32.lt_s",73:"i32.lt_u",74:"i32.gt_s",75:"i32.gt_u",76:"i32.le_s",77:"i32.le_u",78:"i32.ge_s",79:"i32.ge_u",80:"i64.eqz",81:"i64.eq",82:"i64.ne",83:"i64.lt_s",84:"i64.lt_u",85:"i64.gt_s",86:"i64.gt_u",87:"i64.le_s",88:"i64.le_u",89:"i64.ge_s",90:"i64.ge_u",91:"f32.eq",92:"f32.ne",93:"f32.lt",94:"f32.gt",95:"f32.le",96:"f32.ge",97:"f64.eq",98:"f64.ne",99:"f64.lt",100:"f64.gt",101:"f64.le",102:"f64.ge",103:"i32.clz",104:"i32.ctz",105:"i32.popcnt",106:"i32.add",107:"i32.sub",108:"i32.mul",109:"i32.div_s",110:"i32.div_u",111:"i32.rem_s",112:"i32.rem_u",113:"i32.and",114:"i32.or",115:"i32.xor",116:"i32.shl",117:"i32.shr_s",118:"i32.shr_u",119:"i32.rotl",120:"i32.rotr",121:"i64.clz",122:"i64.ctz",123:"i64.popcnt",124:"i64.add",125:"i64.sub",126:"i64.mul",127:"i64.div_s",128:"i64.div_u",129:"i64.rem_s",130:"i64.rem_u",131:"i64.and",132:"i64.or",133:"i64.xor",134:"i64.shl",135:"i64.shr_s",136:"i64.shr_u",137:"i64.rotl",138:"i64.rotr",139:"f32.abs",140:"f32.neg",141:"f32.ceil",142:"f32.floor",143:"f32.trunc",144:"f32.nearest",145:"f32.sqrt",146:"f32.add",147:"f32.sub",148:"f32.mul",149:"f32.div",150:"f32.min",151:"f32.max",152:"f32.copysign",153:"f64.abs",154:"f64.neg",155:"f64.ceil",156:"f64.floor",157:"f64.trunc",158:"f64.nearest",159:"f64.sqrt",160:"f64.add",161:"f64.sub",162:"f64.mul",163:"f64.div",164:"f64.min",165:"f64.max",166:"f64.copysign",167:"i32.wrap/i64",168:"i32.trunc_s/f32",169:"i32.trunc_u/f32",170:"i32.trunc_s/f64",171:"i32.trunc_u/f64",172:"i64.extend_s/i32",173:"i64.extend_u/i32",174:"i64.trunc_s/f32",175:"i64.trunc_u/f32",176:"i64.trunc_s/f64",177:"i64.trunc_u/f64",178:"f32.convert_s/i32",179:"f32.convert_u/i32",180:"f32.convert_s/i64",181:"f32.convert_u/i64",182:"f32.demote/f64",183:"f64.convert_s/i32",184:"f64.convert_u/i32",185:"f64.convert_s/i64",186:"f64.convert_u/i64",187:"f64.promote/f32",188:"i32.reinterpret/f32",189:"i64.reinterpret/f64",190:"f32.reinterpret/i32",191:"f64.reinterpret/i64",192:"i32.extend8_s",193:"i32.extend16_s",194:"i64.extend8_s",195:"i64.extend16_s",196:"i64.extend32_s"},f=s.SECTION_IDS={0:"custom",1:"type",2:"import",3:"function",4:"table",5:"memory",6:"global",7:"export",8:"start",9:"element",10:"code",11:"data"};s.immediataryParsers={varuint1:p=>p.read(1)[0],varuint32:p=>r.unsigned.read(p),varint32:p=>r.signed.read(p),varint64:p=>r.signed.read(p),uint32:p=>[...p.read(4)],uint64:p=>[...p.read(8)],block_type:p=>{let g=p.read(1)[0];return e[g]},br_table:p=>{let g={targets:[]},y=r.unsigned.readBn(p).toNumber();for(let m=0;m<y;m++){let M=r.unsigned.readBn(p).toNumber();g.targets.push(M)}return g.defaultTarget=r.unsigned.readBn(p).toNumber(),g},call_indirect:p=>{let g={};return g.index=r.unsigned.readBn(p).toNumber(),g.reserved=p.read(1)[0],g},memory_immediate:p=>{let g={};return g.flags=r.unsigned.readBn(p).toNumber(),g.offset=r.unsigned.readBn(p).toNumber(),g}},s.typeParsers={function:p=>r.unsigned.readBn(p).toNumber(),table:p=>{let g={},y=p.read(1)[0];return g.elementType=e[y],g.limits=s.typeParsers.memory(p),g},global:p=>{let g={},y=p.read(1)[0];return g.contentType=e[y],g.mutability=p.read(1)[0],g},memory:p=>{let g={};return g.flags=r.unsigned.readBn(p).toNumber(),g.intial=r.unsigned.readBn(p).toNumber(),g.flags===1&&(g.maximum=r.unsigned.readBn(p).toNumber()),g},initExpr:p=>{let g=s.parseOp(p);return p.read(1),g}};var l=s.sectionParsers={custom:(p,g)=>{let y={name:"custom"},m=new u(p.read(g.size)),M=r.unsigned.readBn(m).toNumber(),E=m.read(M);return y.sectionName=Ut.Buffer.from(E).toString(),y.payload=[...m.buffer],y},type:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"type",entries:[]};for(let m=0;m<g;m++){let M=p.read(1)[0],E={form:e[M],params:[]},B=r.unsigned.readBn(p).toNumber();for(let x=0;x<B;x++){let C=p.read(1)[0];E.params.push(e[C])}r.unsigned.readBn(p).toNumber()&&(M=p.read(1)[0],E.return_type=e[M]),y.entries.push(E)}return y},import:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"import",entries:[]};for(let m=0;m<g;m++){let M={},E=r.unsigned.readBn(p).toNumber();M.moduleStr=Ut.Buffer.from(p.read(E)).toString();let B=r.unsigned.readBn(p).toNumber();M.fieldStr=Ut.Buffer.from(p.read(B)).toString();let x=p.read(1)[0];M.kind=o[x],M.type=s.typeParsers[M.kind](p),y.entries.push(M)}return y},function:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"function",entries:[]};for(let m=0;m<g;m++){let M=r.unsigned.readBn(p).toNumber();y.entries.push(M)}return y},table:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"table",entries:[]};for(let m=0;m<g;m++){let M=s.typeParsers.table(p);y.entries.push(M)}return y},memory:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"memory",entries:[]};for(let m=0;m<g;m++){let M=s.typeParsers.memory(p);y.entries.push(M)}return y},global:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"global",entries:[]};for(let m=0;m<g;m++){let M={};M.type=s.typeParsers.global(p),M.init=s.typeParsers.initExpr(p),y.entries.push(M)}return y},export:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"export",entries:[]};for(let m=0;m<g;m++){let M=r.unsigned.readBn(p).toNumber(),E={};E.field_str=Ut.Buffer.from(p.read(M)).toString();let B=p.read(1)[0];E.kind=o[B],E.index=r.unsigned.readBn(p).toNumber(),y.entries.push(E)}return y},start:p=>{let g={name:"start"};return g.index=r.unsigned.readBn(p).toNumber(),g},element:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"element",entries:[]};for(let m=0;m<g;m++){let M={elements:[]};M.index=r.unsigned.readBn(p).toNumber(),M.offset=s.typeParsers.initExpr(p);let E=r.unsigned.readBn(p).toNumber();for(let B=0;B<E;B++){let x=r.unsigned.readBn(p).toNumber();M.elements.push(x)}y.entries.push(M)}return y},code:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"code",entries:[]};for(let m=0;m<g;m++){let M={locals:[],code:[]},E=r.unsigned.readBn(p).toNumber(),B=p.bytesRead+E,x=r.unsigned.readBn(p).toNumber();for(let C=0;C<x;C++){let N={};N.count=r.unsigned.readBn(p).toNumber();let F=p.read(1)[0];N.type=e[F],M.locals.push(N)}for(;p.bytesRead<B;){let C=s.parseOp(p);M.code.push(C)}y.entries.push(M)}return y},data:p=>{let g=r.unsigned.readBn(p).toNumber(),y={name:"data",entries:[]};for(let m=0;m<g;m++){let M={};M.index=r.unsigned.readBn(p).toNumber(),M.offset=s.typeParsers.initExpr(p);let E=r.unsigned.readBn(p).toNumber();M.data=[...p.read(E)],y.entries.push(M)}return y}};s.parseOp=p=>{let g={},y=p.read(1)[0],m=c[y],[M,E]=m.split(".");E===void 0?E=M:g.return_type=M,g.name=E;let B=a[E==="const"?M:E];return B&&(g.immediates=s.immediataryParsers[B](p)),g},s.parse=(p,g)=>{let y=[s.parsePreramble(p)];for(;!p.end;){let m=s.parseSectionHeader(p);y.push(l[m.name](p,m))}return y}}),Ec=gt((t,i)=>{lt(),window.global=window,le.fetch=window.fetch,i.exports.Buffer=$e().Buffer}),Sc=gt((t,i)=>{lt();var r=Ec().Buffer,u=Tu(),a=Mu(),s=xu(),e=i.exports=g=>e.generate(g).buffer,o=e.LANGUAGE_TYPES={i32:127,i64:126,f32:125,f64:124,anyFunc:112,func:96,block_type:64},c=e.EXTERNAL_KIND={function:0,table:1,memory:2,global:3},f=e.SECTION_IDS={custom:0,type:1,import:2,function:3,table:4,memory:5,global:6,export:7,start:8,element:9,code:10,data:11},l=e.OPCODES={unreachable:0,nop:1,block:2,loop:3,if:4,else:5,end:11,br:12,br_if:13,br_table:14,return:15,call:16,call_indirect:17,drop:26,select:27,get_local:32,set_local:33,tee_local:34,get_global:35,set_global:36,"i32.load":40,"i64.load":41,"f32.load":42,"f64.load":43,"i32.load8_s":44,"i32.load8_u":45,"i32.load16_s":46,"i32.load16_u":47,"i64.load8_s":48,"i64.load8_u":49,"i64.load16_s":50,"i64.load16_u":51,"i64.load32_s":52,"i64.load32_u":53,"i32.store":54,"i64.store":55,"f32.store":56,"f64.store":57,"i32.store8":58,"i32.store16":59,"i64.store8":60,"i64.store16":61,"i64.store32":62,current_memory:63,grow_memory:64,"i32.const":65,"i64.const":66,"f32.const":67,"f64.const":68,"i32.eqz":69,"i32.eq":70,"i32.ne":71,"i32.lt_s":72,"i32.lt_u":73,"i32.gt_s":74,"i32.gt_u":75,"i32.le_s":76,"i32.le_u":77,"i32.ge_s":78,"i32.ge_u":79,"i64.eqz":80,"i64.eq":81,"i64.ne":82,"i64.lt_s":83,"i64.lt_u":84,"i64.gt_s":85,"i64.gt_u":86,"i64.le_s":87,"i64.le_u":88,"i64.ge_s":89,"i64.ge_u":90,"f32.eq":91,"f32.ne":92,"f32.lt":93,"f32.gt":94,"f32.le":95,"f32.ge":96,"f64.eq":97,"f64.ne":98,"f64.lt":99,"f64.gt":100,"f64.le":101,"f64.ge":102,"i32.clz":103,"i32.ctz":104,"i32.popcnt":105,"i32.add":106,"i32.sub":107,"i32.mul":108,"i32.div_s":109,"i32.div_u":110,"i32.rem_s":111,"i32.rem_u":112,"i32.and":113,"i32.or":114,"i32.xor":115,"i32.shl":116,"i32.shr_s":117,"i32.shr_u":118,"i32.rotl":119,"i32.rotr":120,"i64.clz":121,"i64.ctz":122,"i64.popcnt":123,"i64.add":124,"i64.sub":125,"i64.mul":126,"i64.div_s":127,"i64.div_u":128,"i64.rem_s":129,"i64.rem_u":130,"i64.and":131,"i64.or":132,"i64.xor":133,"i64.shl":134,"i64.shr_s":135,"i64.shr_u":136,"i64.rotl":137,"i64.rotr":138,"f32.abs":139,"f32.neg":140,"f32.ceil":141,"f32.floor":142,"f32.trunc":143,"f32.nearest":144,"f32.sqrt":145,"f32.add":146,"f32.sub":147,"f32.mul":148,"f32.div":149,"f32.min":150,"f32.max":151,"f32.copysign":152,"f64.abs":153,"f64.neg":154,"f64.ceil":155,"f64.floor":156,"f64.trunc":157,"f64.nearest":158,"f64.sqrt":159,"f64.add":160,"f64.sub":161,"f64.mul":162,"f64.div":163,"f64.min":164,"f64.max":165,"f64.copysign":166,"i32.wrap/i64":167,"i32.trunc_s/f32":168,"i32.trunc_u/f32":169,"i32.trunc_s/f64":170,"i32.trunc_u/f64":171,"i64.extend_s/i32":172,"i64.extend_u/i32":173,"i64.trunc_s/f32":174,"i64.trunc_u/f32":175,"i64.trunc_s/f64":176,"i64.trunc_u/f64":177,"f32.convert_s/i32":178,"f32.convert_u/i32":179,"f32.convert_s/i64":180,"f32.convert_u/i64":181,"f32.demote/f64":182,"f64.convert_s/i32":183,"f64.convert_u/i32":184,"f64.convert_s/i64":185,"f64.convert_u/i64":186,"f64.promote/f32":187,"i32.reinterpret/f32":188,"i64.reinterpret/f64":189,"f32.reinterpret/i32":190,"f64.reinterpret/i64":191,"i32.extend8_s":192,"i32.extend16_s":193,"i64.extend8_s":194,"i64.extend16_s":195,"i64.extend32_s":196};e.typeGenerators={function:(g,y)=>{u.unsigned.write(g,y)},table:(g,y)=>{y.write([o[g.elementType]]),e.typeGenerators.memory(g.limits,y)},global:(g,y)=>{y.write([o[g.contentType]]),y.write([g.mutability])},memory:(g,y)=>{u.unsigned.write(+(g.maximum!==void 0),y),u.unsigned.write(g.intial,y),g.maximum!==void 0&&u.unsigned.write(g.maximum,y)},initExpr:(g,y)=>{e.generateOp(g,y),e.generateOp({name:"end",type:"void"},y)}},e.immediataryGenerators={varuint1:(g,y)=>(y.write([g]),y),varuint32:(g,y)=>(u.unsigned.write(g,y),y),varint32:(g,y)=>(u.signed.write(g,y),y),varint64:(g,y)=>(u.signed.write(g,y),y),uint32:(g,y)=>(y.write(g),y),uint64:(g,y)=>(y.write(g),y),block_type:(g,y)=>(y.write([o[g]]),y),br_table:(g,y)=>{u.unsigned.write(g.targets.length,y);for(let m of g.targets)u.unsigned.write(m,y);return u.unsigned.write(g.defaultTarget,y),y},call_indirect:(g,y)=>(u.unsigned.write(g.index,y),y.write([g.reserved]),y),memory_immediate:(g,y)=>(u.unsigned.write(g.flags,y),u.unsigned.write(g.offset,y),y)};var p={type:(g,y=new a)=>{y.write([o[g.form]]);let m=g.params.length;return u.unsigned.write(m,y),m!==0&&y.write(g.params.map(M=>o[M])),y.write([g.return_type?1:0]),g.return_type&&y.write([o[g.return_type]]),y.buffer},import:(g,y=new a)=>{u.unsigned.write(g.moduleStr.length,y),y.write(g.moduleStr),u.unsigned.write(g.fieldStr.length,y),y.write(g.fieldStr),y.write([c[g.kind]]),e.typeGenerators[g.kind](g.type,y)},function:(g,y=new a)=>(u.unsigned.write(g,y),y.buffer),table:e.typeGenerators.table,global:(g,y=new a)=>(e.typeGenerators.global(g.type,y),e.typeGenerators.initExpr(g.init,y),y),memory:e.typeGenerators.memory,export:(g,y=new a)=>{let m=r.from(g.field_str),M=m.length;return u.unsigned.write(M,y),y.write(m),y.write([c[g.kind]]),u.unsigned.write(g.index,y),y},element:(g,y=new a)=>{u.unsigned.write(g.index,y),e.typeGenerators.initExpr(g.offset,y),u.unsigned.write(g.elements.length,y);for(let m of g.elements)u.unsigned.write(m,y);return y},code:(g,y=new a)=>{let m=new a;u.unsigned.write(g.locals.length,m);for(let M of g.locals)u.unsigned.write(M.count,m),m.write([o[M.type]]);for(let M of g.code)e.generateOp(M,m);return u.unsigned.write(m.bytesWrote,y),y.write(m.buffer),y},data:(g,y=new a)=>(u.unsigned.write(g.index,y),e.typeGenerators.initExpr(g.offset,y),u.unsigned.write(g.data.length,y),y.write(g.data),y)};e.entryGenerators=p,e.generateSection=function(g,y=new a){let m=g.name,M=new a;if(y.write([f[m]]),m==="custom")u.unsigned.write(g.sectionName.length,M),M.write(g.sectionName),M.write(g.payload);else if(m==="start")u.unsigned.write(g.index,M);else{u.unsigned.write(g.entries.length,M);for(let E of g.entries)p[m](E,M)}return u.unsigned.write(M.bytesWrote,y),y.write(M.buffer),y},e.generate=(g,y=new a)=>{let[m,...M]=g;e.generatePreramble(m,y);for(let E of M)e.generateSection(E,y);return y},e.generatePreramble=(g,y=new a)=>(y.write(g.magic),y.write(g.version),y),e.generateOp=(g,y=new a)=>{let m=g.name;g.return_type!==void 0&&(m=g.return_type+"."+m),y.write([l[m]]);let M=s[g.name==="const"?g.return_type:g.name];return M&&e.immediataryGenerators[M](g.immediates,y),y}}),Cg=gt((t,i)=>{lt();var r=xu();i.exports=a=>{let s=[],e=a.split(/\s|\n/);for(;e.length;){let o=e.shift(),c={},[f,l]=o.split(".");l===void 0?l=f:c.return_type=f,c.name=l;let p=r[c.name==="const"?c.return_type:c.name];p&&(c.immediates=u(p,e)),s.push(c)}return s};function u(a,s){let e={};switch(a){case"br_table":let o=[];for(;;){let c=s[0];if(isNaN(c))break;s.shift(),o.push(c)}return o;case"call_indirect":return e.index=s.shift(),e.reserved=0,e;case"memory_immediate":return e.flags=s.shift(),e.offset=s.shift(),e;default:return s.shift()}}}),Pg=gt((t,i)=>{lt();var r=Ec().Buffer,u=Tu().unsigned,a=_c(),s=Mu(),e=["custom","type","import","function","table","memory","global","export","start","element","code","data"];i.exports=class{constructor(c){this._wasm=c,this._sections=[],this._modified=!1}get wasm(){return this._modified&&(this._wasm=r.concat(this._sections.concat(this._pipe.buffer)),this._modified=!1),this._wasm}*[Symbol.iterator](){for(this._pipe=new s(this._wasm),this._sections=[this._pipe.read(8)];!this._pipe.end;){let c=this._pipe.bytesRead,f=this._pipe.read(1)[0],l=Number(u.read(this._pipe)),p=this._pipe.read(l),g=this._pipe.bytesRead,y=this._wasm.slice(c,g),m=this._sections.push(y)-1;yield new o(f,p,this,m)}}_update(c,f){this._modified=!0,this._sections[c]=f}};var o=class{constructor(c,f,l,p){this._it=l,this._index=p,this.type=e[c],this._type=c,this._section=f;let g=new s(f);this.type!=="custom"&&(this.count=Number(u.read(g))),this._body=g.buffer}toJSON(){return a.sectionParsers[this.type](new s(this._section))}appendEntries(c){this.count+=c.length,this._body=r.concat([this._body].concat(c));let f=r.concat([u.encode(this.count),this._body]);this._it._update(this._index,r.concat([r.from([this._type]),u.encode(f.length),f]))}}}),Rg=gt(t=>{lt(),t.wasm2json=_c(),t.json2wasm=Sc(),t.text2json=Cg(),t.Iterator=Pg()}),Ng=gt((t,i)=>{i.exports={start:0,type:{params:{DEFAULT:0},return_type:{DEFAULT:0}},import:0,code:{locals:{DEFAULT:1},code:{get_local:120,set_local:120,tee_local:120,get_global:120,set_global:120,load8_s:120,load8_u:120,load16_s:120,load16_u:120,load32_s:120,load32_u:120,load:120,store8:120,store16:120,store32:120,store:120,grow_memory:1e4,current_memory:100,nop:1,block:1,loop:1,if:1,then:90,else:90,br:90,br_if:90,br_table:120,return:90,call:90,call_indirect:1e4,const:1,add:45,sub:45,mul:45,div_s:36e3,div_u:36e3,rem_s:36e3,rem_u:36e3,and:45,or:45,xor:45,shl:67,shr_u:67,shr_s:67,rotl:90,rotr:90,eq:45,eqz:45,ne:45,lt_s:45,lt_u:45,le_s:45,le_u:45,gt_s:45,gt_u:45,ge_s:45,ge_u:45,clz:45,ctz:45,popcnt:45,drop:120,select:120,unreachable:1}},data:0}}),Lg=gt(t=>{lt();var i=Rg(),r=i.text2json,u=Sc().SECTION_IDS,a=Ng();function s(o,c={},f=0){let l=0;if(f=c.DEFAULT!==void 0?c.DEFAULT:0,Array.isArray(o))o.forEach(p=>{l+=s(p,c)});else if(typeof o=="object")for(let p in o){let g=c[p];g&&(l+=s(o[p],g,f))}else c[o]===void 0?l=f:l=c[o];return l}function e(o,c,f,l,p){function g(C,N){return r(`${l}.const ${C} call ${N}`)}function y(C,N){C.name==="call"&&C.immediates>=N&&(C.immediates=(++C.immediates).toString())}function m(){return g(0,0).reduce((C,N)=>C+s(N.name,c.code),0)}let M=new Set(["grow_memory","end","br","br_table","br_if","if","else","return","loop"]),E=m(),B=o.code.slice(),x=[];for(p+=s(o.locals,c.local);B.length;){let C=0;for(;;){let N=B[C++];if(y(N,f),p+=s(N.name,c.code),M.has(N.name))break}p!==0&&(p+=E,x=x.concat(g(p,f))),x=x.concat(B.slice(0,C)),B=B.slice(C),p=0}return o.code=x,o}t.meterJSON=(o,c)=>{function f(N,F){return N.find(I=>I.name===F)}function l(N,F){let I=u[F];for(let U in N){let P=N[U],D=u[P.name];if(D&&I<D){N.splice(U,0,{name:F,entries:[]});return}}}let p=0,g,y,{costTable:m,moduleStr:M,fieldStr:E,meterType:B}=c;m||(m=a),M||(M="metering"),E||(E="usegas"),B||(B="i32"),f(o,"type")||l(o,"type"),f(o,"import")||l(o,"import");let x={moduleStr:M,fieldStr:E,kind:"function"},C={form:"func",params:[B]};o=o.slice(0);for(let N of o)switch(N=Object.assign(N),N.name){case"type":x.type=N.entries.push(C)-1,y=N;break;case"function":g=N;break;case"import":for(let F of N.entries){if(F.moduleStr===M&&F.fieldStr===E)throw new Error("importing metering function is not allowed");F.kind==="function"&&p++}N.entries.push(x);break;case"export":for(let F of N.entries)F.kind==="function"&&F.index>=p&&F.index++;break;case"element":for(let F of N.entries)F.elements=F.elements.map(I=>I>=p?++I:I);break;case"start":N.index>=p&&N.index++;break;case"code":for(let F in N.entries){let I=N.entries[F],U=g.entries[F],P=y.entries[U],D=s(P,m.type);e(I,m.code,p,B,D)}break}return o},t.meterWASM=(o,c={})=>{let f=i.wasm2json(o);return f=t.meterJSON(f,c),i.json2wasm(f)}}),pi=gt((t,i)=>{lt();var r=null;i.exports=r}),Dg=gt((t,i)=>{lt();var r=typeof Jt.default=="object"&&Jt.default&&Jt.default.platform==="win32";i.exports=r?{sep:"\\"}:{sep:"/"}}),Ac=gt((t,i)=>{lt(),i.exports=r;function r(s,e,o){s instanceof RegExp&&(s=u(s,o)),e instanceof RegExp&&(e=u(e,o));var c=a(s,e,o);return c&&{start:c[0],end:c[1],pre:o.slice(0,c[0]),body:o.slice(c[0]+s.length,c[1]),post:o.slice(c[1]+e.length)}}function u(s,e){var o=e.match(s);return o?o[0]:null}r.range=a;function a(s,e,o){var c,f,l,p,g,y=o.indexOf(s),m=o.indexOf(e,y+1),M=y;if(y>=0&&m>0){if(s===e)return[y,m];for(c=[],l=o.length;M>=0&&!g;)M==y?(c.push(M),y=o.indexOf(s,M+1)):c.length==1?g=[c.pop(),m]:(f=c.pop(),f<l&&(l=f,p=m),m=o.indexOf(e,M+1)),M=y<m&&y>=0?y:m;c.length&&(g=[l,p])}return g}}),jg=gt((t,i)=>{lt();var r=Ac();i.exports=g;var u="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",e="\0COMMA"+Math.random()+"\0",o="\0PERIOD"+Math.random()+"\0";function c(x){return parseInt(x,10)==x?parseInt(x,10):x.charCodeAt(0)}function f(x){return x.split("\\\\").join(u).split("\\{").join(a).split("\\}").join(s).split("\\,").join(e).split("\\.").join(o)}function l(x){return x.split(u).join("\\").split(a).join("{").split(s).join("}").split(e).join(",").split(o).join(".")}function p(x){if(!x)return[""];var C=[],N=r("{","}",x);if(!N)return x.split(",");var F=N.pre,I=N.body,U=N.post,P=F.split(",");P[P.length-1]+="{"+I+"}";var D=p(U);return U.length&&(P[P.length-1]+=D.shift(),P.push.apply(P,D)),C.push.apply(C,P),C}function g(x){return x?(x.substr(0,2)==="{}"&&(x="\\{\\}"+x.substr(2)),B(f(x),!0).map(l)):[]}function y(x){return"{"+x+"}"}function m(x){return/^-?0\d/.test(x)}function M(x,C){return x<=C}function E(x,C){return x>=C}function B(x,C){var N=[],F=r("{","}",x);if(!F)return[x];var I=F.pre,U=F.post.length?B(F.post,!1):[""];if(/\$$/.test(F.pre))for(var P=0;P<U.length;P++){var D=I+"{"+F.body+"}"+U[P];N.push(D)}else{var W=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(F.body),q=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(F.body),O=W||q,L=F.body.indexOf(",")>=0;if(!O&&!L)return F.post.match(/,.*\}/)?(x=F.pre+"{"+F.body+s+F.post,B(x)):[x];var n;if(O)n=F.body.split(/\.\./);else if(n=p(F.body),n.length===1&&(n=B(n[0],!1).map(y),n.length===1))return U.map(function(at){return F.pre+n[0]+at});var d;if(O){var v=c(n[0]),A=c(n[1]),T=Math.max(n[0].length,n[1].length),S=n.length==3?Math.abs(c(n[2])):1,w=M,b=A<v;b&&(S*=-1,w=E);var h=n.some(m);d=[];for(var k=v;w(k,A);k+=S){var tt;if(q)tt=String.fromCharCode(k),tt==="\\"&&(tt="");else if(tt=String(k),h){var X=T-tt.length;if(X>0){var ft=new Array(X+1).join("0");k<0?tt="-"+ft+tt.slice(1):tt=ft+tt}}d.push(tt)}}else{d=[];for(var et=0;et<n.length;et++)d.push.apply(d,B(n[et],!1))}for(var et=0;et<d.length;et++)for(var P=0;P<U.length;P++){var D=I+d[et]+U[P];(!C||O||D)&&N.push(D)}}return N}}),Ug=gt((t,i)=>{lt();var r=i.exports=(D,W,q={})=>(x(W),!q.nocomment&&W.charAt(0)==="#"?!1:new P(W,q).match(D));i.exports=r;var u=Dg();r.sep=u.sep;var a=Symbol("globstar **");r.GLOBSTAR=a;var s=jg(),e={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},o="[^/]",c=o+"*?",f="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",p=D=>D.split("").reduce((W,q)=>(W[q]=!0,W),{}),g=p("().*{}+?[]^$\\!"),y=p("[.("),m=/\/+/;r.filter=(D,W={})=>(q,O,L)=>r(q,D,W);var M=(D,W={})=>{let q={};return Object.keys(D).forEach(O=>q[O]=D[O]),Object.keys(W).forEach(O=>q[O]=W[O]),q};r.defaults=D=>{if(!D||typeof D!="object"||!Object.keys(D).length)return r;let W=r,q=(O,L,n)=>W(O,L,M(D,n));return q.Minimatch=class extends W.Minimatch{constructor(O,L){super(O,M(D,L))}},q.Minimatch.defaults=O=>W.defaults(M(D,O)).Minimatch,q.filter=(O,L)=>W.filter(O,M(D,L)),q.defaults=O=>W.defaults(M(D,O)),q.makeRe=(O,L)=>W.makeRe(O,M(D,L)),q.braceExpand=(O,L)=>W.braceExpand(O,M(D,L)),q.match=(O,L,n)=>W.match(O,L,M(D,n)),q},r.braceExpand=(D,W)=>E(D,W);var E=(D,W={})=>(x(D),W.nobrace||!/\{(?:(?!\{).)*\}/.test(D)?[D]:s(D)),B=1024*64,x=D=>{if(typeof D!="string")throw new TypeError("invalid pattern");if(D.length>B)throw new TypeError("pattern is too long")},C=Symbol("subparse");r.makeRe=(D,W)=>new P(D,W||{}).makeRe(),r.match=(D,W,q={})=>{let O=new P(W,q);return D=D.filter(L=>O.match(L)),O.options.nonull&&!D.length&&D.push(W),D};var N=D=>D.replace(/\\(.)/g,"$1"),F=D=>D.replace(/\\([^-\]])/g,"$1"),I=D=>D.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),U=D=>D.replace(/[[\]\\]/g,"\\$&"),P=class{constructor(D,W){x(D),W||(W={}),this.options=W,this.set=[],this.pattern=D,this.windowsPathsNoEscape=!!W.windowsPathsNoEscape||W.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!W.partial,this.make()}debug(){}make(){let D=this.pattern,W=this.options;if(!W.nocomment&&D.charAt(0)==="#"){this.comment=!0;return}if(!D){this.empty=!0;return}this.parseNegate();let q=this.globSet=this.braceExpand();W.debug&&(this.debug=(...O)=>console.error(...O)),this.debug(this.pattern,q),q=this.globParts=q.map(O=>O.split(m)),this.debug(this.pattern,q),q=q.map((O,L,n)=>O.map(this.parse,this)),this.debug(this.pattern,q),q=q.filter(O=>O.indexOf(!1)===-1),this.debug(this.pattern,q),this.set=q}parseNegate(){if(this.options.nonegate)return;let D=this.pattern,W=!1,q=0;for(let O=0;O<D.length&&D.charAt(O)==="!";O++)W=!W,q++;q&&(this.pattern=D.slice(q)),this.negate=W}matchOne(D,W,q){var O=this.options;this.debug("matchOne",{this:this,file:D,pattern:W}),this.debug("matchOne",D.length,W.length);for(var L=0,n=0,d=D.length,v=W.length;L<d&&n<v;L++,n++){this.debug("matchOne loop");var A=W[n],T=D[L];if(this.debug(W,A,T),A===!1)return!1;if(A===a){this.debug("GLOBSTAR",[W,A,T]);var S=L,w=n+1;if(w===v){for(this.debug("** at the end");L<d;L++)if(D[L]==="."||D[L]===".."||!O.dot&&D[L].charAt(0)===".")return!1;return!0}for(;S<d;){var b=D[S];if(this.debug(`
globstar while`,D,S,W,w,b),this.matchOne(D.slice(S),W.slice(w),q))return this.debug("globstar found match!",S,d,b),!0;if(b==="."||b===".."||!O.dot&&b.charAt(0)==="."){this.debug("dot detected!",D,S,W,w);break}this.debug("globstar swallow a segment, and continue"),S++}return!!(q&&(this.debug(`
>>> no match, partial?`,D,S,W,w),S===d))}var h;if(typeof A=="string"?(h=T===A,this.debug("string match",A,T,h)):(h=T.match(A),this.debug("pattern match",A,T,h)),!h)return!1}if(L===d&&n===v)return!0;if(L===d)return q;if(n===v)return L===d-1&&D[L]==="";throw new Error("wtf?")}braceExpand(){return E(this.pattern,this.options)}parse(D,W){x(D);let q=this.options;if(D==="**")if(q.noglobstar)D="*";else return a;if(D==="")return"";let O="",L=!1,n=!1,d=[],v=[],A,T=!1,S=-1,w=-1,b,h,k,tt=D.charAt(0)===".",X=q.dot||tt,ft=()=>tt?"":X?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",et=R=>R.charAt(0)==="."?"":q.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",at=()=>{if(A){switch(A){case"*":O+=c,L=!0;break;case"?":O+=o,L=!0;break;default:O+="\\"+A;break}this.debug("clearStateChar %j %j",A,O),A=!1}};for(let R=0,j;R<D.length&&(j=D.charAt(R));R++){if(this.debug("%s	%s %s %j",D,R,O,j),n){if(j==="/")return!1;g[j]&&(O+="\\"),O+=j,n=!1;continue}switch(j){case"/":return!1;case"\\":if(T&&D.charAt(R+1)==="-"){O+=j;continue}at(),n=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",D,R,O,j),T){this.debug("  in class"),j==="!"&&R===w+1&&(j="^"),O+=j;continue}this.debug("call clearStateChar %j",A),at(),A=j,q.noext&&at();continue;case"(":{if(T){O+="(";continue}if(!A){O+="\\(";continue}let z={type:A,start:R-1,reStart:O.length,open:e[A].open,close:e[A].close};this.debug(this.pattern,"	",z),d.push(z),O+=z.open,z.start===0&&z.type!=="!"&&(tt=!0,O+=et(D.slice(R+1))),this.debug("plType %j %j",A,O),A=!1;continue}case")":{let z=d[d.length-1];if(T||!z){O+="\\)";continue}d.pop(),at(),L=!0,h=z,O+=h.close,h.type==="!"&&v.push(Object.assign(h,{reEnd:O.length}));continue}case"|":{let z=d[d.length-1];if(T||!z){O+="\\|";continue}at(),O+="|",z.start===0&&z.type!=="!"&&(tt=!0,O+=et(D.slice(R+1)));continue}case"[":if(at(),T){O+="\\"+j;continue}T=!0,w=R,S=O.length,O+=j;continue;case"]":if(R===w+1||!T){O+="\\"+j;continue}b=D.substring(w+1,R);try{RegExp("["+U(F(b))+"]"),O+=j}catch{O=O.substring(0,S)+"(?:$.)"}L=!0,T=!1;continue;default:at(),g[j]&&!(j==="^"&&T)&&(O+="\\"),O+=j;break}}for(T&&(b=D.slice(w+1),k=this.parse(b,C),O=O.substring(0,S)+"\\["+k[0],L=L||k[1]),h=d.pop();h;h=d.pop()){let R;R=O.slice(h.reStart+h.open.length),this.debug("setting tail",O,h),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,(z,Z,Q)=>(Q||(Q="\\"),Z+Z+Q+"|")),this.debug(`tail=%j
   %s`,R,R,h,O);let j=h.type==="*"?c:h.type==="?"?o:"\\"+h.type;L=!0,O=O.slice(0,h.reStart)+j+"\\("+R}at(),n&&(O+="\\\\");let $=y[O.charAt(0)];for(let R=v.length-1;R>-1;R--){let j=v[R],z=O.slice(0,j.reStart),Z=O.slice(j.reStart,j.reEnd-8),Q=O.slice(j.reEnd),K=O.slice(j.reEnd-8,j.reEnd)+Q,G=z.split(")").length,H=z.split("(").length-G,Y=Q;for(let ot=0;ot<H;ot++)Y=Y.replace(/\)[+*?]?/,"");Q=Y;let it=Q===""&&W!==C?"(?:$|\\/)":"";O=z+Z+Q+it+K}if(O!==""&&L&&(O="(?=.)"+O),$&&(O=ft()+O),W===C)return[O,L];if(q.nocase&&!L&&(L=D.toUpperCase()!==D.toLowerCase()),!L)return N(D);let J=q.nocase?"i":"";try{return Object.assign(new RegExp("^"+O+"$",J),{_glob:D,_src:O})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let D=this.set;if(!D.length)return this.regexp=!1,this.regexp;let W=this.options,q=W.noglobstar?c:W.dot?f:l,O=W.nocase?"i":"",L=D.map(n=>(n=n.map(d=>typeof d=="string"?I(d):d===a?a:d._src).reduce((d,v)=>(d[d.length-1]===a&&v===a||d.push(v),d),[]),n.forEach((d,v)=>{d!==a||n[v-1]===a||(v===0?n.length>1?n[v+1]="(?:\\/|"+q+"\\/)?"+n[v+1]:n[v]=q:v===n.length-1?n[v-1]+="(?:\\/|"+q+")?":(n[v-1]+="(?:\\/|\\/"+q+"\\/)"+n[v+1],n[v+1]=a))}),n.filter(d=>d!==a).join("/"))).join("|");L="^(?:"+L+")$",this.negate&&(L="^(?!"+L+").*$");try{this.regexp=new RegExp(L,O)}catch{this.regexp=!1}return this.regexp}match(D,W=this.partial){if(this.debug("match",D,this.pattern),this.comment)return!1;if(this.empty)return D==="";if(D==="/"&&W)return!0;let q=this.options;u.sep!=="/"&&(D=D.split(u.sep).join("/")),D=D.split(m),this.debug(this.pattern,"split",D);let O=this.set;this.debug(this.pattern,"set",O);let L;for(let n=D.length-1;n>=0&&(L=D[n],!L);n--);for(let n=0;n<O.length;n++){let d=O[n],v=D;if(q.matchBase&&d.length===1&&(v=[L]),this.matchOne(v,d,W))return q.flipNegate?!0:!this.negate}return q.flipNegate?!1:this.negate}static defaults(D){return r.defaults(D).Minimatch}};r.Minimatch=P}),dn=gt((t,i)=>{lt();function r(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function u(e,o){for(var c="",f=0,l=-1,p=0,g,y=0;y<=e.length;++y){if(y<e.length)g=e.charCodeAt(y);else{if(g===47)break;g=47}if(g===47){if(!(l===y-1||p===1))if(l!==y-1&&p===2){if(c.length<2||f!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var m=c.lastIndexOf("/");if(m!==c.length-1){m===-1?(c="",f=0):(c=c.slice(0,m),f=c.length-1-c.lastIndexOf("/")),l=y,p=0;continue}}else if(c.length===2||c.length===1){c="",f=0,l=y,p=0;continue}}o&&(c.length>0?c+="/..":c="..",f=2)}else c.length>0?c+="/"+e.slice(l+1,y):c=e.slice(l+1,y),f=y-l-1;l=y,p=0}else g===46&&p!==-1?++p:p=-1}return c}function a(e,o){var c=o.dir||o.root,f=o.base||(o.name||"")+(o.ext||"");return c?c===o.root?c+f:c+e+f:f}var s={resolve:function(){for(var e="",o=!1,c,f=arguments.length-1;f>=-1&&!o;f--){var l;f>=0?l=arguments[f]:(c===void 0&&(c=Jt.default.cwd()),l=c),r(l),l.length!==0&&(e=l+"/"+e,o=l.charCodeAt(0)===47)}return e=u(e,!o),o?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(r(e),e.length===0)return".";var o=e.charCodeAt(0)===47,c=e.charCodeAt(e.length-1)===47;return e=u(e,!o),e.length===0&&!o&&(e="."),e.length>0&&c&&(e+="/"),o?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,o=0;o<arguments.length;++o){var c=arguments[o];r(c),c.length>0&&(e===void 0?e=c:e+="/"+c)}return e===void 0?".":s.normalize(e)},relative:function(e,o){if(r(e),r(o),e===o||(e=s.resolve(e),o=s.resolve(o),e===o))return"";for(var c=1;c<e.length&&e.charCodeAt(c)===47;++c);for(var f=e.length,l=f-c,p=1;p<o.length&&o.charCodeAt(p)===47;++p);for(var g=o.length,y=g-p,m=l<y?l:y,M=-1,E=0;E<=m;++E){if(E===m){if(y>m){if(o.charCodeAt(p+E)===47)return o.slice(p+E+1);if(E===0)return o.slice(p+E)}else l>m&&(e.charCodeAt(c+E)===47?M=E:E===0&&(M=0));break}var B=e.charCodeAt(c+E),x=o.charCodeAt(p+E);if(B!==x)break;B===47&&(M=E)}var C="";for(E=c+M+1;E<=f;++E)(E===f||e.charCodeAt(E)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+o.slice(p+M):(p+=M,o.charCodeAt(p)===47&&++p,o.slice(p))},_makeLong:function(e){return e},dirname:function(e){if(r(e),e.length===0)return".";for(var o=e.charCodeAt(0),c=o===47,f=-1,l=!0,p=e.length-1;p>=1;--p)if(o=e.charCodeAt(p),o===47){if(!l){f=p;break}}else l=!1;return f===-1?c?"/":".":c&&f===1?"//":e.slice(0,f)},basename:function(e,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');r(e);var c=0,f=-1,l=!0,p;if(o!==void 0&&o.length>0&&o.length<=e.length){if(o.length===e.length&&o===e)return"";var g=o.length-1,y=-1;for(p=e.length-1;p>=0;--p){var m=e.charCodeAt(p);if(m===47){if(!l){c=p+1;break}}else y===-1&&(l=!1,y=p+1),g>=0&&(m===o.charCodeAt(g)?--g===-1&&(f=p):(g=-1,f=y))}return c===f?f=y:f===-1&&(f=e.length),e.slice(c,f)}else{for(p=e.length-1;p>=0;--p)if(e.charCodeAt(p)===47){if(!l){c=p+1;break}}else f===-1&&(l=!1,f=p+1);return f===-1?"":e.slice(c,f)}},extname:function(e){r(e);for(var o=-1,c=0,f=-1,l=!0,p=0,g=e.length-1;g>=0;--g){var y=e.charCodeAt(g);if(y===47){if(!l){c=g+1;break}continue}f===-1&&(l=!1,f=g+1),y===46?o===-1?o=g:p!==1&&(p=1):o!==-1&&(p=-1)}return o===-1||f===-1||p===0||p===1&&o===f-1&&o===c+1?"":e.slice(o,f)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return a("/",e)},parse:function(e){r(e);var o={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return o;var c=e.charCodeAt(0),f=c===47,l;f?(o.root="/",l=1):l=0;for(var p=-1,g=0,y=-1,m=!0,M=e.length-1,E=0;M>=l;--M){if(c=e.charCodeAt(M),c===47){if(!m){g=M+1;break}continue}y===-1&&(m=!1,y=M+1),c===46?p===-1?p=M:E!==1&&(E=1):p!==-1&&(E=-1)}return p===-1||y===-1||E===0||E===1&&p===y-1&&p===g+1?y!==-1&&(g===0&&f?o.base=o.name=e.slice(1,y):o.base=o.name=e.slice(g,y)):(g===0&&f?(o.name=e.slice(1,p),o.base=e.slice(1,y)):(o.name=e.slice(g,p),o.base=e.slice(g,y)),o.ext=e.slice(p,y)),g>0?o.dir=e.slice(0,g-1):f&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,i.exports=s}),Fg=gt((t,i)=>{lt(),i.exports=g;var r=pi(),{EventEmitter:u}=wn(),{Minimatch:a}=Ug(),{resolve:s}=dn();function e(y,m){return new Promise((M,E)=>{r.readdir(y,{withFileTypes:!0},(B,x)=>{if(B)switch(B.code){case"ENOTDIR":m?E(B):M([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":M([]);break;case"ELOOP":default:E(B);break}else M(x)})})}function o(y,m){return new Promise((M,E)=>{(m?r.stat:r.lstat)(y,(B,x)=>{if(B)switch(B.code){case"ENOENT":M(m?o(y,!1):null);break;default:M(null);break}else M(x)})})}async function*c(y,m,M,E,B,x){let C=await e(m+y,x);for(let N of C){let F=N.name;F===void 0&&(F=N,E=!0);let I=y+"/"+F,U=I.slice(1),P=m+"/"+U,D=null;(E||M)&&(D=await o(P,M)),!D&&N.name!==void 0&&(D=N),D===null&&(D={isDirectory:()=>!1}),D.isDirectory()?B(U)||(yield{relative:U,absolute:P,stats:D},yield*c(I,m,M,E,B,!1)):yield{relative:U,absolute:P,stats:D}}}async function*f(y,m,M,E){yield*c("",y,m,M,E,!0)}function l(y){return{pattern:y.pattern,dot:!!y.dot,noglobstar:!!y.noglobstar,matchBase:!!y.matchBase,nocase:!!y.nocase,ignore:y.ignore,skip:y.skip,follow:!!y.follow,stat:!!y.stat,nodir:!!y.nodir,mark:!!y.mark,silent:!!y.silent,absolute:!!y.absolute}}var p=class extends u{constructor(y,m,M){if(super(),typeof m=="function"&&(M=m,m=null),this.options=l(m||{}),this.matchers=[],this.options.pattern){let E=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=E.map(B=>new a(B,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let E=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=E.map(B=>new a(B,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let E=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=E.map(B=>new a(B,{dot:!0}))}this.iterator=f(s(y||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,M&&(this._matches=[],this.on("match",E=>this._matches.push(this.options.absolute?E.absolute:E.relative)),this.on("error",E=>M(E)),this.on("end",()=>M(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(y){return this.skipMatchers.some(m=>m.match(y))}_fileMatches(y,m){let M=y+(m?"/":"");return(this.matchers.length===0||this.matchers.some(E=>E.match(M)))&&!this.ignoreMatchers.some(E=>E.match(M))&&(!this.options.nodir||!m)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(y=>{if(y.done)this.emit("end");else{let m=y.value.stats.isDirectory();if(this._fileMatches(y.value.relative,m)){let M=y.value.relative,E=y.value.absolute;this.options.mark&&m&&(M+="/",E+="/"),this.options.stat?this.emit("match",{relative:M,absolute:E,stat:y.value.stats}):this.emit("match",{relative:M,absolute:E})}this._next(this.iterator)}}).catch(y=>{this.abort(),this.emit("error",y),!y.code&&!this.options.silent&&console.error(y)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function g(y,m,M){return new p(y,m,M)}g.ReaddirGlob=p}),Kg=gt((t,i)=>{lt(),function(r,u){typeof t=="object"&&typeof i<"u"?u(t):typeof define=="function"&&define.amd?define(["exports"],u):(r=typeof globalThis<"u"?globalThis:r||self,u(r.async={}))}(t,function(r){function u(It,...xt){return(...Bt)=>It(...xt,...Bt)}function a(It){return function(...xt){var Bt=xt.pop();return It.call(this,xt,Bt)}}var s=typeof queueMicrotask=="function"&&queueMicrotask,e=typeof setImmediate=="function"&&setImmediate,o=typeof Jt.default=="object"&&typeof Jt.default.nextTick=="function";function c(It){setTimeout(It,0)}function f(It){return(xt,...Bt)=>It(()=>xt(...Bt))}var l;s?l=queueMicrotask:e?l=setImmediate:o?l=Jt.default.nextTick:l=c;var p=f(l);function g(It){return M(It)?function(...xt){let Bt=xt.pop(),zt=It.apply(this,xt);return y(zt,Bt)}:a(function(xt,Bt){var zt;try{zt=It.apply(this,xt)}catch(Ht){return Bt(Ht)}if(zt&&typeof zt.then=="function")return y(zt,Bt);Bt(null,zt)})}function y(It,xt){return It.then(Bt=>{m(xt,null,Bt)},Bt=>{m(xt,Bt&&(Bt instanceof Error||Bt.message)?Bt:new Error(Bt))})}function m(It,xt,Bt){try{It(xt,Bt)}catch(zt){p(Ht=>{throw Ht},zt)}}function M(It){return It[Symbol.toStringTag]==="AsyncFunction"}function E(It){return It[Symbol.toStringTag]==="AsyncGenerator"}function B(It){return typeof It[Symbol.asyncIterator]=="function"}function x(It){if(typeof It!="function")throw new Error("expected a function");return M(It)?g(It):It}function C(It,xt){if(xt||(xt=It.length),!xt)throw new Error("arity is undefined");function Bt(...zt){return typeof zt[xt-1]=="function"?It.apply(this,zt):new Promise((Ht,Vt)=>{zt[xt-1]=(Yt,...ee)=>{if(Yt)return Vt(Yt);Ht(ee.length>1?ee:ee[0])},It.apply(this,zt)})}return Bt}function N(It){return function(xt,...Bt){return C(function(zt){var Ht=this;return It(xt,(Vt,Yt)=>{x(Vt).apply(Ht,Bt.concat(Yt))},zt)})}}function F(It,xt,Bt,zt){xt=xt||[];var Ht=[],Vt=0,Yt=x(Bt);return It(xt,(ee,oe,ce)=>{var ke=Vt++;Yt(ee,(Ne,Oe)=>{Ht[ke]=Oe,ce(Ne)})},ee=>{zt(ee,Ht)})}function I(It){return It&&typeof It.length=="number"&&It.length>=0&&It.length%1===0}var U={};function P(It){function xt(...Bt){if(It!==null){var zt=It;It=null,zt.apply(this,Bt)}}return Object.assign(xt,It),xt}function D(It){return It[Symbol.iterator]&&It[Symbol.iterator]()}function W(It){var xt=-1,Bt=It.length;return function(){return++xt<Bt?{value:It[xt],key:xt}:null}}function q(It){var xt=-1;return function(){var Bt=It.next();return Bt.done?null:(xt++,{value:Bt.value,key:xt})}}function O(It){var xt=It?Object.keys(It):[],Bt=-1,zt=xt.length;return function Ht(){var Vt=xt[++Bt];return Vt==="__proto__"?Ht():Bt<zt?{value:It[Vt],key:Vt}:null}}function L(It){if(I(It))return W(It);var xt=D(It);return xt?q(xt):O(It)}function n(It){return function(...xt){if(It===null)throw new Error("Callback was already called.");var Bt=It;It=null,Bt.apply(this,xt)}}function d(It,xt,Bt,zt){let Ht=!1,Vt=!1,Yt=!1,ee=0,oe=0;function ce(){ee>=xt||Yt||Ht||(Yt=!0,It.next().then(({value:Oe,done:Nr})=>{if(!(Vt||Ht)){if(Yt=!1,Nr){Ht=!0,ee<=0&&zt(null);return}ee++,Bt(Oe,oe,ke),oe++,ce()}}).catch(Ne))}function ke(Oe,Nr){if(ee-=1,!Vt){if(Oe)return Ne(Oe);if(Oe===!1){Ht=!0,Vt=!0;return}if(Nr===U||Ht&&ee<=0)return Ht=!0,zt(null);ce()}}function Ne(Oe){Vt||(Yt=!1,Ht=!0,zt(Oe))}ce()}var v=It=>(xt,Bt,zt)=>{if(zt=P(zt),It<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!xt)return zt(null);if(E(xt))return d(xt,It,Bt,zt);if(B(xt))return d(xt[Symbol.asyncIterator](),It,Bt,zt);var Ht=L(xt),Vt=!1,Yt=!1,ee=0,oe=!1;function ce(Ne,Oe){if(!Yt)if(ee-=1,Ne)Vt=!0,zt(Ne);else if(Ne===!1)Vt=!0,Yt=!0;else{if(Oe===U||Vt&&ee<=0)return Vt=!0,zt(null);oe||ke()}}function ke(){for(oe=!0;ee<It&&!Vt;){var Ne=Ht();if(Ne===null){Vt=!0,ee<=0&&zt(null);return}ee+=1,Bt(Ne.value,Ne.key,n(ce))}oe=!1}ke()};function A(It,xt,Bt,zt){return v(xt)(It,x(Bt),zt)}var T=C(A,4);function S(It,xt,Bt){Bt=P(Bt);var zt=0,Ht=0,{length:Vt}=It,Yt=!1;Vt===0&&Bt(null);function ee(oe,ce){oe===!1&&(Yt=!0),Yt!==!0&&(oe?Bt(oe):(++Ht===Vt||ce===U)&&Bt(null))}for(;zt<Vt;zt++)xt(It[zt],zt,n(ee))}function w(It,xt,Bt){return T(It,1/0,xt,Bt)}function b(It,xt,Bt){var zt=I(It)?S:w;return zt(It,x(xt),Bt)}var h=C(b,3);function k(It,xt,Bt){return F(h,It,xt,Bt)}var tt=C(k,3),X=N(tt);function ft(It,xt,Bt){return T(It,1,xt,Bt)}var et=C(ft,3);function at(It,xt,Bt){return F(et,It,xt,Bt)}var $=C(at,3),J=N($);let R=Symbol("promiseCallback");function j(){let It,xt;function Bt(zt,...Ht){if(zt)return xt(zt);It(Ht.length>1?Ht:Ht[0])}return Bt[R]=new Promise((zt,Ht)=>{It=zt,xt=Ht}),Bt}function z(It,xt,Bt){typeof xt!="number"&&(Bt=xt,xt=null),Bt=P(Bt||j());var zt=Object.keys(It).length;if(!zt)return Bt(null);xt||(xt=zt);var Ht={},Vt=0,Yt=!1,ee=!1,oe=Object.create(null),ce=[],ke=[],Ne={};Object.keys(It).forEach(fe=>{var me=It[fe];if(!Array.isArray(me)){Oe(fe,[me]),ke.push(fe);return}var Ie=me.slice(0,me.length-1),er=Ie.length;if(er===0){Oe(fe,me),ke.push(fe);return}Ne[fe]=er,Ie.forEach(gr=>{if(!It[gr])throw new Error("async.auto task `"+fe+"` has a non-existent dependency `"+gr+"` in "+Ie.join(", "));bi(gr,()=>{er--,er===0&&Oe(fe,me)})})}),Le(),Nr();function Oe(fe,me){ce.push(()=>Hi(fe,me))}function Nr(){if(!Yt){if(ce.length===0&&Vt===0)return Bt(null,Ht);for(;ce.length&&Vt<xt;){var fe=ce.shift();fe()}}}function bi(fe,me){var Ie=oe[fe];Ie||(Ie=oe[fe]=[]),Ie.push(me)}function ei(fe){var me=oe[fe]||[];me.forEach(Ie=>Ie()),Nr()}function Hi(fe,me){if(!ee){var Ie=n((gr,...Lr)=>{if(Vt--,gr===!1){Yt=!0;return}if(Lr.length<2&&([Lr]=Lr),gr){var vi={};if(Object.keys(Ht).forEach(ri=>{vi[ri]=Ht[ri]}),vi[fe]=Lr,ee=!0,oe=Object.create(null),Yt)return;Bt(gr,vi)}else Ht[fe]=Lr,ei(fe)});Vt++;var er=x(me[me.length-1]);me.length>1?er(Ht,Ie):er(Ie)}}function Le(){for(var fe,me=0;ke.length;)fe=ke.pop(),me++,ge(fe).forEach(Ie=>{--Ne[Ie]===0&&ke.push(Ie)});if(me!==zt)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function ge(fe){var me=[];return Object.keys(It).forEach(Ie=>{let er=It[Ie];Array.isArray(er)&&er.indexOf(fe)>=0&&me.push(Ie)}),me}return Bt[R]}var Z=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,Q=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,K=/,/,G=/(=.+)?(\s*)$/;function H(It){let xt="",Bt=0,zt=It.indexOf("*/");for(;Bt<It.length;)if(It[Bt]==="/"&&It[Bt+1]==="/"){let Ht=It.indexOf(`
`,Bt);Bt=Ht===-1?It.length:Ht}else if(zt!==-1&&It[Bt]==="/"&&It[Bt+1]==="*"){let Ht=It.indexOf("*/",Bt);Ht!==-1?(Bt=Ht+2,zt=It.indexOf("*/",Bt)):(xt+=It[Bt],Bt++)}else xt+=It[Bt],Bt++;return xt}function Y(It){let xt=H(It.toString()),Bt=xt.match(Z);if(Bt||(Bt=xt.match(Q)),!Bt)throw new Error(`could not parse args in autoInject
Source:
`+xt);let[,zt]=Bt;return zt.replace(/\s/g,"").split(K).map(Ht=>Ht.replace(G,"").trim())}function it(It,xt){var Bt={};return Object.keys(It).forEach(zt=>{var Ht=It[zt],Vt,Yt=M(Ht),ee=!Yt&&Ht.length===1||Yt&&Ht.length===0;if(Array.isArray(Ht))Vt=[...Ht],Ht=Vt.pop(),Bt[zt]=Vt.concat(Vt.length>0?oe:Ht);else if(ee)Bt[zt]=Ht;else{if(Vt=Y(Ht),Ht.length===0&&!Yt&&Vt.length===0)throw new Error("autoInject task functions require explicit parameters.");Yt||Vt.pop(),Bt[zt]=Vt.concat(oe)}function oe(ce,ke){var Ne=Vt.map(Oe=>ce[Oe]);Ne.push(ke),x(Ht)(...Ne)}}),z(Bt,xt)}class ot{constructor(){this.head=this.tail=null,this.length=0}removeLink(xt){return xt.prev?xt.prev.next=xt.next:this.head=xt.next,xt.next?xt.next.prev=xt.prev:this.tail=xt.prev,xt.prev=xt.next=null,this.length-=1,xt}empty(){for(;this.head;)this.shift();return this}insertAfter(xt,Bt){Bt.prev=xt,Bt.next=xt.next,xt.next?xt.next.prev=Bt:this.tail=Bt,xt.next=Bt,this.length+=1}insertBefore(xt,Bt){Bt.prev=xt.prev,Bt.next=xt,xt.prev?xt.prev.next=Bt:this.head=Bt,xt.prev=Bt,this.length+=1}unshift(xt){this.head?this.insertBefore(this.head,xt):mt(this,xt)}push(xt){this.tail?this.insertAfter(this.tail,xt):mt(this,xt)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var xt=this.head;xt;)yield xt.data,xt=xt.next}remove(xt){for(var Bt=this.head;Bt;){var{next:zt}=Bt;xt(Bt)&&this.removeLink(Bt),Bt=zt}return this}}function mt(It,xt){It.length=1,It.head=It.tail=xt}function _t(It,xt,Bt){if(xt==null)xt=1;else if(xt===0)throw new RangeError("Concurrency must not be zero");var zt=x(It),Ht=0,Vt=[];let Yt={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function ee(ge,fe){Yt[ge].push(fe)}function oe(ge,fe){let me=(...Ie)=>{ce(ge,me),fe(...Ie)};Yt[ge].push(me)}function ce(ge,fe){if(!ge)return Object.keys(Yt).forEach(me=>Yt[me]=[]);if(!fe)return Yt[ge]=[];Yt[ge]=Yt[ge].filter(me=>me!==fe)}function ke(ge,...fe){Yt[ge].forEach(me=>me(...fe))}var Ne=!1;function Oe(ge,fe,me,Ie){if(Ie!=null&&typeof Ie!="function")throw new Error("task callback must be a function");Le.started=!0;var er,gr;function Lr(ri,...Gi){if(ri)return me?gr(ri):er();if(Gi.length<=1)return er(Gi[0]);er(Gi)}var vi=Le._createTaskItem(ge,me?Lr:Ie||Lr);if(fe?Le._tasks.unshift(vi):Le._tasks.push(vi),Ne||(Ne=!0,p(()=>{Ne=!1,Le.process()})),me||!Ie)return new Promise((ri,Gi)=>{er=ri,gr=Gi})}function Nr(ge){return function(fe,...me){Ht-=1;for(var Ie=0,er=ge.length;Ie<er;Ie++){var gr=ge[Ie],Lr=Vt.indexOf(gr);Lr===0?Vt.shift():Lr>0&&Vt.splice(Lr,1),gr.callback(fe,...me),fe!=null&&ke("error",fe,gr.data)}Ht<=Le.concurrency-Le.buffer&&ke("unsaturated"),Le.idle()&&ke("drain"),Le.process()}}function bi(ge){return ge.length===0&&Le.idle()?(p(()=>ke("drain")),!0):!1}let ei=ge=>fe=>{if(!fe)return new Promise((me,Ie)=>{oe(ge,(er,gr)=>{if(er)return Ie(er);me(gr)})});ce(ge),ee(ge,fe)};var Hi=!1,Le={_tasks:new ot,_createTaskItem(ge,fe){return{data:ge,callback:fe}},*[Symbol.iterator](){yield*Le._tasks[Symbol.iterator]()},concurrency:xt,payload:Bt,buffer:xt/4,started:!1,paused:!1,push(ge,fe){return Array.isArray(ge)?bi(ge)?void 0:ge.map(me=>Oe(me,!1,!1,fe)):Oe(ge,!1,!1,fe)},pushAsync(ge,fe){return Array.isArray(ge)?bi(ge)?void 0:ge.map(me=>Oe(me,!1,!0,fe)):Oe(ge,!1,!0,fe)},kill(){ce(),Le._tasks.empty()},unshift(ge,fe){return Array.isArray(ge)?bi(ge)?void 0:ge.map(me=>Oe(me,!0,!1,fe)):Oe(ge,!0,!1,fe)},unshiftAsync(ge,fe){return Array.isArray(ge)?bi(ge)?void 0:ge.map(me=>Oe(me,!0,!0,fe)):Oe(ge,!0,!0,fe)},remove(ge){Le._tasks.remove(ge)},process(){if(!Hi){for(Hi=!0;!Le.paused&&Ht<Le.concurrency&&Le._tasks.length;){var ge=[],fe=[],me=Le._tasks.length;Le.payload&&(me=Math.min(me,Le.payload));for(var Ie=0;Ie<me;Ie++){var er=Le._tasks.shift();ge.push(er),Vt.push(er),fe.push(er.data)}Ht+=1,Le._tasks.length===0&&ke("empty"),Ht===Le.concurrency&&ke("saturated");var gr=n(Nr(ge));zt(fe,gr)}Hi=!1}},length(){return Le._tasks.length},running(){return Ht},workersList(){return Vt},idle(){return Le._tasks.length+Ht===0},pause(){Le.paused=!0},resume(){Le.paused!==!1&&(Le.paused=!1,p(Le.process))}};return Object.defineProperties(Le,{saturated:{writable:!1,value:ei("saturated")},unsaturated:{writable:!1,value:ei("unsaturated")},empty:{writable:!1,value:ei("empty")},drain:{writable:!1,value:ei("drain")},error:{writable:!1,value:ei("error")}}),Le}function ht(It,xt){return _t(It,1,xt)}function vt(It,xt,Bt){return _t(It,xt,Bt)}function pt(It,xt,Bt,zt){zt=P(zt);var Ht=x(Bt);return et(It,(Vt,Yt,ee)=>{Ht(xt,Vt,(oe,ce)=>{xt=ce,ee(oe)})},Vt=>zt(Vt,xt))}var V=C(pt,4);function rt(...It){var xt=It.map(x);return function(...Bt){var zt=this,Ht=Bt[Bt.length-1];return typeof Ht=="function"?Bt.pop():Ht=j(),V(xt,Bt,(Vt,Yt,ee)=>{Yt.apply(zt,Vt.concat((oe,...ce)=>{ee(oe,ce)}))},(Vt,Yt)=>Ht(Vt,...Yt)),Ht[R]}}function st(...It){return rt(...It.reverse())}function yt(It,xt,Bt,zt){return F(v(xt),It,Bt,zt)}var Ct=C(yt,4);function dt(It,xt,Bt,zt){var Ht=x(Bt);return Ct(It,xt,(Vt,Yt)=>{Ht(Vt,(ee,...oe)=>ee?Yt(ee):Yt(ee,oe))},(Vt,Yt)=>{for(var ee=[],oe=0;oe<Yt.length;oe++)Yt[oe]&&(ee=ee.concat(...Yt[oe]));return zt(Vt,ee)})}var Mt=C(dt,4);function Lt(It,xt,Bt){return Mt(It,1/0,xt,Bt)}var wt=C(Lt,3);function ct(It,xt,Bt){return Mt(It,1,xt,Bt)}var Et=C(ct,3);function ut(...It){return function(...xt){var Bt=xt.pop();return Bt(null,...It)}}function Ot(It,xt){return(Bt,zt,Ht,Vt)=>{var Yt=!1,ee;let oe=x(Ht);Bt(zt,(ce,ke,Ne)=>{oe(ce,(Oe,Nr)=>{if(Oe||Oe===!1)return Ne(Oe);if(It(Nr)&&!ee)return Yt=!0,ee=xt(!0,ce),Ne(null,U);Ne()})},ce=>{if(ce)return Vt(ce);Vt(null,Yt?ee:xt(!1))})}}function qt(It,xt,Bt){return Ot(zt=>zt,(zt,Ht)=>Ht)(h,It,xt,Bt)}var nt=C(qt,3);function Rt(It,xt,Bt,zt){return Ot(Ht=>Ht,(Ht,Vt)=>Vt)(v(xt),It,Bt,zt)}var Dt=C(Rt,4);function bt(It,xt,Bt){return Ot(zt=>zt,(zt,Ht)=>Ht)(v(1),It,xt,Bt)}var Tt=C(bt,3);function jt(It){return(xt,...Bt)=>x(xt)(...Bt,(zt,...Ht)=>{typeof console=="object"&&(zt?console.error&&console.error(zt):console[It]&&Ht.forEach(Vt=>console[It](Vt)))})}var St=jt("dir");function kt(It,xt,Bt){Bt=n(Bt);var zt=x(It),Ht=x(xt),Vt;function Yt(oe,...ce){if(oe)return Bt(oe);oe!==!1&&(Vt=ce,Ht(...ce,ee))}function ee(oe,ce){if(oe)return Bt(oe);if(oe!==!1){if(!ce)return Bt(null,...Vt);zt(Yt)}}return ee(null,!0)}var Kt=C(kt,3);function At(It,xt,Bt){let zt=x(xt);return Kt(It,(...Ht)=>{let Vt=Ht.pop();zt(...Ht,(Yt,ee)=>Vt(Yt,!ee))},Bt)}function Nt(It){return(xt,Bt,zt)=>It(xt,zt)}function $t(It,xt,Bt){return h(It,Nt(x(xt)),Bt)}var Ft=C($t,3);function Wt(It,xt,Bt,zt){return v(xt)(It,Nt(x(Bt)),zt)}var ae=C(Wt,4);function Xt(It,xt,Bt){return ae(It,1,xt,Bt)}var Gt=C(Xt,3);function he(It){return M(It)?It:function(...xt){var Bt=xt.pop(),zt=!0;xt.push((...Ht)=>{zt?p(()=>Bt(...Ht)):Bt(...Ht)}),It.apply(this,xt),zt=!1}}function Qt(It,xt,Bt){return Ot(zt=>!zt,zt=>!zt)(h,It,xt,Bt)}var Zt=C(Qt,3);function se(It,xt,Bt,zt){return Ot(Ht=>!Ht,Ht=>!Ht)(v(xt),It,Bt,zt)}var te=C(se,4);function re(It,xt,Bt){return Ot(zt=>!zt,zt=>!zt)(et,It,xt,Bt)}var Se=C(re,3);function Be(It,xt,Bt,zt){var Ht=new Array(xt.length);It(xt,(Vt,Yt,ee)=>{Bt(Vt,(oe,ce)=>{Ht[Yt]=!!ce,ee(oe)})},Vt=>{if(Vt)return zt(Vt);for(var Yt=[],ee=0;ee<xt.length;ee++)Ht[ee]&&Yt.push(xt[ee]);zt(null,Yt)})}function Re(It,xt,Bt,zt){var Ht=[];It(xt,(Vt,Yt,ee)=>{Bt(Vt,(oe,ce)=>{if(oe)return ee(oe);ce&&Ht.push({index:Yt,value:Vt}),ee(oe)})},Vt=>{if(Vt)return zt(Vt);zt(null,Ht.sort((Yt,ee)=>Yt.index-ee.index).map(Yt=>Yt.value))})}function Te(It,xt,Bt,zt){var Ht=I(xt)?Be:Re;return Ht(It,xt,x(Bt),zt)}function xe(It,xt,Bt){return Te(h,It,xt,Bt)}var Ce=C(xe,3);function Ue(It,xt,Bt,zt){return Te(v(xt),It,Bt,zt)}var Ke=C(Ue,4);function Je(It,xt,Bt){return Te(et,It,xt,Bt)}var ze=C(Je,3);function Xe(It,xt){var Bt=n(xt),zt=x(he(It));function Ht(Vt){if(Vt)return Bt(Vt);Vt!==!1&&zt(Ht)}return Ht()}var Ge=C(Xe,2);function Ye(It,xt,Bt,zt){var Ht=x(Bt);return Ct(It,xt,(Vt,Yt)=>{Ht(Vt,(ee,oe)=>ee?Yt(ee):Yt(ee,{key:oe,val:Vt}))},(Vt,Yt)=>{for(var ee={},{hasOwnProperty:oe}=Object.prototype,ce=0;ce<Yt.length;ce++)if(Yt[ce]){var{key:ke}=Yt[ce],{val:Ne}=Yt[ce];oe.call(ee,ke)?ee[ke].push(Ne):ee[ke]=[Ne]}return zt(Vt,ee)})}var We=C(Ye,4);function Ve(It,xt,Bt){return We(It,1/0,xt,Bt)}function Ze(It,xt,Bt){return We(It,1,xt,Bt)}var ar=jt("log");function br(It,xt,Bt,zt){zt=P(zt);var Ht={},Vt=x(Bt);return v(xt)(It,(Yt,ee,oe)=>{Vt(Yt,ee,(ce,ke)=>{if(ce)return oe(ce);Ht[ee]=ke,oe(ce)})},Yt=>zt(Yt,Ht))}var cr=C(br,4);function Ph(It,xt,Bt){return cr(It,1/0,xt,Bt)}function Rh(It,xt,Bt){return cr(It,1,xt,Bt)}function Nh(It,xt=Bt=>Bt){var Bt=Object.create(null),zt=Object.create(null),Ht=x(It),Vt=a((Yt,ee)=>{var oe=xt(...Yt);oe in Bt?p(()=>ee(null,...Bt[oe])):oe in zt?zt[oe].push(ee):(zt[oe]=[ee],Ht(...Yt,(ce,...ke)=>{ce||(Bt[oe]=ke);var Ne=zt[oe];delete zt[oe];for(var Oe=0,Nr=Ne.length;Oe<Nr;Oe++)Ne[Oe](ce,...ke)}))});return Vt.memo=Bt,Vt.unmemoized=It,Vt}var Ca;o?Ca=Jt.default.nextTick:e?Ca=setImmediate:Ca=c;var Lh=f(Ca),vs=C((It,xt,Bt)=>{var zt=I(xt)?[]:{};It(xt,(Ht,Vt,Yt)=>{x(Ht)((ee,...oe)=>{oe.length<2&&([oe]=oe),zt[Vt]=oe,Yt(ee)})},Ht=>Bt(Ht,zt))},3);function Dh(It,xt){return vs(h,It,xt)}function jh(It,xt,Bt){return vs(v(xt),It,Bt)}function ws(It,xt){var Bt=x(It);return _t((zt,Ht)=>{Bt(zt[0],Ht)},xt,1)}class Z1{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(xt){let Bt;for(;xt>0&&_s(this.heap[xt],this.heap[Bt=Uh(xt)]);){let zt=this.heap[xt];this.heap[xt]=this.heap[Bt],this.heap[Bt]=zt,xt=Bt}}percDown(xt){let Bt;for(;(Bt=J1(xt))<this.heap.length&&(Bt+1<this.heap.length&&_s(this.heap[Bt+1],this.heap[Bt])&&(Bt=Bt+1),!_s(this.heap[xt],this.heap[Bt]));){let zt=this.heap[xt];this.heap[xt]=this.heap[Bt],this.heap[Bt]=zt,xt=Bt}}push(xt){xt.pushCount=++this.pushCount,this.heap.push(xt),this.percUp(this.heap.length-1)}unshift(xt){return this.heap.push(xt)}shift(){let[xt]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),xt}toArray(){return[...this]}*[Symbol.iterator](){for(let xt=0;xt<this.heap.length;xt++)yield this.heap[xt].data}remove(xt){let Bt=0;for(let zt=0;zt<this.heap.length;zt++)xt(this.heap[zt])||(this.heap[Bt]=this.heap[zt],Bt++);this.heap.splice(Bt);for(let zt=Uh(this.heap.length-1);zt>=0;zt--)this.percDown(zt);return this}}function J1(It){return(It<<1)+1}function Uh(It){return(It+1>>1)-1}function _s(It,xt){return It.priority!==xt.priority?It.priority<xt.priority:It.pushCount<xt.pushCount}function Fh(It,xt){var Bt=ws(It,xt),{push:zt,pushAsync:Ht}=Bt;Bt._tasks=new Z1,Bt._createTaskItem=({data:Yt,priority:ee},oe)=>({data:Yt,priority:ee,callback:oe});function Vt(Yt,ee){return Array.isArray(Yt)?Yt.map(oe=>({data:oe,priority:ee})):{data:Yt,priority:ee}}return Bt.push=function(Yt,ee=0,oe){return zt(Vt(Yt,ee),oe)},Bt.pushAsync=function(Yt,ee=0,oe){return Ht(Vt(Yt,ee),oe)},delete Bt.unshift,delete Bt.unshiftAsync,Bt}function X1(It,xt){if(xt=P(xt),!Array.isArray(It))return xt(new TypeError("First argument to race must be an array of functions"));if(!It.length)return xt();for(var Bt=0,zt=It.length;Bt<zt;Bt++)x(It[Bt])(xt)}var Kh=C(X1,2);function Pa(It,xt,Bt,zt){var Ht=[...It].reverse();return V(Ht,xt,Bt,zt)}function Ra(It){var xt=x(It);return a(function(Bt,zt){return Bt.push((Ht,...Vt)=>{let Yt={};if(Ht&&(Yt.error=Ht),Vt.length>0){var ee=Vt;Vt.length<=1&&([ee]=Vt),Yt.value=ee}zt(null,Yt)}),xt.apply(this,Bt)})}function zh(It){var xt;return Array.isArray(It)?xt=It.map(Ra):(xt={},Object.keys(It).forEach(Bt=>{xt[Bt]=Ra.call(this,It[Bt])})),xt}function Es(It,xt,Bt,zt){let Ht=x(Bt);return Te(It,xt,(Vt,Yt)=>{Ht(Vt,(ee,oe)=>{Yt(ee,!oe)})},zt)}function Y1(It,xt,Bt){return Es(h,It,xt,Bt)}var Wh=C(Y1,3);function Q1(It,xt,Bt,zt){return Es(v(xt),It,Bt,zt)}var qh=C(Q1,4);function tp(It,xt,Bt){return Es(et,It,xt,Bt)}var $h=C(tp,3);function Hh(It){return function(){return It}}let Ss=5,Gh=0;function Na(It,xt,Bt){var zt={times:Ss,intervalFunc:Hh(Gh)};if(arguments.length<3&&typeof It=="function"?(Bt=xt||j(),xt=It):(ep(zt,It),Bt=Bt||j()),typeof xt!="function")throw new Error("Invalid arguments for async.retry");var Ht=x(xt),Vt=1;function Yt(){Ht((ee,...oe)=>{ee!==!1&&(ee&&Vt++<zt.times&&(typeof zt.errorFilter!="function"||zt.errorFilter(ee))?setTimeout(Yt,zt.intervalFunc(Vt-1)):Bt(ee,...oe))})}return Yt(),Bt[R]}function ep(It,xt){if(typeof xt=="object")It.times=+xt.times||Ss,It.intervalFunc=typeof xt.interval=="function"?xt.interval:Hh(+xt.interval||Gh),It.errorFilter=xt.errorFilter;else if(typeof xt=="number"||typeof xt=="string")It.times=+xt||Ss;else throw new Error("Invalid arguments for async.retry")}function Vh(It,xt){xt||(xt=It,It=null);let Bt=It&&It.arity||xt.length;M(xt)&&(Bt+=1);var zt=x(xt);return a((Ht,Vt)=>{(Ht.length<Bt-1||Vt==null)&&(Ht.push(Vt),Vt=j());function Yt(ee){zt(...Ht,ee)}return It?Na(It,Yt,Vt):Na(Yt,Vt),Vt[R]})}function Zh(It,xt){return vs(et,It,xt)}function rp(It,xt,Bt){return Ot(Boolean,zt=>zt)(h,It,xt,Bt)}var La=C(rp,3);function np(It,xt,Bt,zt){return Ot(Boolean,Ht=>Ht)(v(xt),It,Bt,zt)}var Da=C(np,4);function ip(It,xt,Bt){return Ot(Boolean,zt=>zt)(et,It,xt,Bt)}var ja=C(ip,3);function ap(It,xt,Bt){var zt=x(xt);return tt(It,(Vt,Yt)=>{zt(Vt,(ee,oe)=>{if(ee)return Yt(ee);Yt(ee,{value:Vt,criteria:oe})})},(Vt,Yt)=>{if(Vt)return Bt(Vt);Bt(null,Yt.sort(Ht).map(ee=>ee.value))});function Ht(Vt,Yt){var ee=Vt.criteria,oe=Yt.criteria;return ee<oe?-1:ee>oe?1:0}}var Jh=C(ap,3);function Xh(It,xt,Bt){var zt=x(It);return a((Ht,Vt)=>{var Yt=!1,ee;function oe(){var ce=It.name||"anonymous",ke=new Error('Callback function "'+ce+'" timed out.');ke.code="ETIMEDOUT",Bt&&(ke.info=Bt),Yt=!0,Vt(ke)}Ht.push((...ce)=>{Yt||(Vt(...ce),clearTimeout(ee))}),ee=setTimeout(oe,xt),zt(...Ht)})}function op(It){for(var xt=Array(It);It--;)xt[It]=It;return xt}function Ua(It,xt,Bt,zt){var Ht=x(Bt);return Ct(op(It),xt,Ht,zt)}function Yh(It,xt,Bt){return Ua(It,1/0,xt,Bt)}function Qh(It,xt,Bt){return Ua(It,1,xt,Bt)}function tl(It,xt,Bt,zt){arguments.length<=3&&typeof xt=="function"&&(zt=Bt,Bt=xt,xt=Array.isArray(It)?[]:{}),zt=P(zt||j());var Ht=x(Bt);return h(It,(Vt,Yt,ee)=>{Ht(xt,Vt,Yt,ee)},Vt=>zt(Vt,xt)),zt[R]}function sp(It,xt){var Bt=null,zt;return Gt(It,(Ht,Vt)=>{x(Ht)((Yt,...ee)=>{if(Yt===!1)return Vt(Yt);ee.length<2?[zt]=ee:zt=ee,Bt=Yt,Vt(Yt?null:{})})},()=>xt(Bt,zt))}var el=C(sp);function rl(It){return(...xt)=>(It.unmemoized||It)(...xt)}function up(It,xt,Bt){Bt=n(Bt);var zt=x(xt),Ht=x(It),Vt=[];function Yt(oe,...ce){if(oe)return Bt(oe);Vt=ce,oe!==!1&&Ht(ee)}function ee(oe,ce){if(oe)return Bt(oe);if(oe!==!1){if(!ce)return Bt(null,...Vt);zt(Yt)}}return Ht(ee)}var $i=C(up,3);function nl(It,xt,Bt){let zt=x(It);return $i(Ht=>zt((Vt,Yt)=>Ht(Vt,!Yt)),xt,Bt)}function hp(It,xt){if(xt=P(xt),!Array.isArray(It))return xt(new Error("First argument to waterfall must be an array of functions"));if(!It.length)return xt();var Bt=0;function zt(Vt){var Yt=x(It[Bt++]);Yt(...Vt,n(Ht))}function Ht(Vt,...Yt){if(Vt!==!1){if(Vt||Bt===It.length)return xt(Vt,...Yt);zt(Yt)}}zt([])}var il=C(hp),lp={apply:u,applyEach:X,applyEachSeries:J,asyncify:g,auto:z,autoInject:it,cargo:ht,cargoQueue:vt,compose:st,concat:wt,concatLimit:Mt,concatSeries:Et,constant:ut,detect:nt,detectLimit:Dt,detectSeries:Tt,dir:St,doUntil:At,doWhilst:Kt,each:Ft,eachLimit:ae,eachOf:h,eachOfLimit:T,eachOfSeries:et,eachSeries:Gt,ensureAsync:he,every:Zt,everyLimit:te,everySeries:Se,filter:Ce,filterLimit:Ke,filterSeries:ze,forever:Ge,groupBy:Ve,groupByLimit:We,groupBySeries:Ze,log:ar,map:tt,mapLimit:Ct,mapSeries:$,mapValues:Ph,mapValuesLimit:cr,mapValuesSeries:Rh,memoize:Nh,nextTick:Lh,parallel:Dh,parallelLimit:jh,priorityQueue:Fh,queue:ws,race:Kh,reduce:V,reduceRight:Pa,reflect:Ra,reflectAll:zh,reject:Wh,rejectLimit:qh,rejectSeries:$h,retry:Na,retryable:Vh,seq:rt,series:Zh,setImmediate:p,some:La,someLimit:Da,someSeries:ja,sortBy:Jh,timeout:Xh,times:Yh,timesLimit:Ua,timesSeries:Qh,transform:tl,tryEach:el,unmemoize:rl,until:nl,waterfall:il,whilst:$i,all:Zt,allLimit:te,allSeries:Se,any:La,anyLimit:Da,anySeries:ja,find:nt,findLimit:Dt,findSeries:Tt,flatMap:wt,flatMapLimit:Mt,flatMapSeries:Et,forEach:Ft,forEachSeries:Gt,forEachLimit:ae,forEachOf:h,forEachOfSeries:et,forEachOfLimit:T,inject:V,foldl:V,foldr:Pa,select:Ce,selectLimit:Ke,selectSeries:ze,wrapSync:g,during:$i,doDuring:Kt};r.all=Zt,r.allLimit=te,r.allSeries=Se,r.any=La,r.anyLimit=Da,r.anySeries=ja,r.apply=u,r.applyEach=X,r.applyEachSeries=J,r.asyncify=g,r.auto=z,r.autoInject=it,r.cargo=ht,r.cargoQueue=vt,r.compose=st,r.concat=wt,r.concatLimit=Mt,r.concatSeries=Et,r.constant=ut,r.default=lp,r.detect=nt,r.detectLimit=Dt,r.detectSeries=Tt,r.dir=St,r.doDuring=Kt,r.doUntil=At,r.doWhilst=Kt,r.during=$i,r.each=Ft,r.eachLimit=ae,r.eachOf=h,r.eachOfLimit=T,r.eachOfSeries=et,r.eachSeries=Gt,r.ensureAsync=he,r.every=Zt,r.everyLimit=te,r.everySeries=Se,r.filter=Ce,r.filterLimit=Ke,r.filterSeries=ze,r.find=nt,r.findLimit=Dt,r.findSeries=Tt,r.flatMap=wt,r.flatMapLimit=Mt,r.flatMapSeries=Et,r.foldl=V,r.foldr=Pa,r.forEach=Ft,r.forEachLimit=ae,r.forEachOf=h,r.forEachOfLimit=T,r.forEachOfSeries=et,r.forEachSeries=Gt,r.forever=Ge,r.groupBy=Ve,r.groupByLimit=We,r.groupBySeries=Ze,r.inject=V,r.log=ar,r.map=tt,r.mapLimit=Ct,r.mapSeries=$,r.mapValues=Ph,r.mapValuesLimit=cr,r.mapValuesSeries=Rh,r.memoize=Nh,r.nextTick=Lh,r.parallel=Dh,r.parallelLimit=jh,r.priorityQueue=Fh,r.queue=ws,r.race=Kh,r.reduce=V,r.reduceRight=Pa,r.reflect=Ra,r.reflectAll=zh,r.reject=Wh,r.rejectLimit=qh,r.rejectSeries=$h,r.retry=Na,r.retryable=Vh,r.select=Ce,r.selectLimit=Ke,r.selectSeries=ze,r.seq=rt,r.series=Zh,r.setImmediate=p,r.some=La,r.someLimit=Da,r.someSeries=ja,r.sortBy=Jh,r.timeout=Xh,r.times=Yh,r.timesLimit=Ua,r.timesSeries=Qh,r.transform=tl,r.tryEach=el,r.unmemoize=rl,r.until=nl,r.waterfall=il,r.whilst=$i,r.wrapSync=g,Object.defineProperty(r,"__esModule",{value:!0})})}),Tc=gt((t,i)=>{i.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}}),zg=gt((t,i)=>{lt();var r=Tc(),u=Jt.default.cwd,a=null,s=Jt.default.env.GRACEFUL_FS_PLATFORM||Jt.default.platform;Jt.default.cwd=function(){return a||(a=u.call(Jt.default)),a};try{Jt.default.cwd()}catch{}typeof Jt.default.chdir=="function"&&(e=Jt.default.chdir,Jt.default.chdir=function(c){a=null,e.call(Jt.default,c)},Object.setPrototypeOf&&Object.setPrototypeOf(Jt.default.chdir,e));var e;i.exports=o;function o(c){r.hasOwnProperty("O_SYMLINK")&&Jt.default.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&f(c),c.lutimes||l(c),c.chown=y(c.chown),c.fchown=y(c.fchown),c.lchown=y(c.lchown),c.chmod=p(c.chmod),c.fchmod=p(c.fchmod),c.lchmod=p(c.lchmod),c.chownSync=m(c.chownSync),c.fchownSync=m(c.fchownSync),c.lchownSync=m(c.lchownSync),c.chmodSync=g(c.chmodSync),c.fchmodSync=g(c.fchmodSync),c.lchmodSync=g(c.lchmodSync),c.stat=M(c.stat),c.fstat=M(c.fstat),c.lstat=M(c.lstat),c.statSync=E(c.statSync),c.fstatSync=E(c.fstatSync),c.lstatSync=E(c.lstatSync),c.chmod&&!c.lchmod&&(c.lchmod=function(x,C,N){N&&Jt.default.nextTick(N)},c.lchmodSync=function(){}),c.chown&&!c.lchown&&(c.lchown=function(x,C,N,F){F&&Jt.default.nextTick(F)},c.lchownSync=function(){}),s==="win32"&&(c.rename=typeof c.rename!="function"?c.rename:function(x){function C(N,F,I){var U=Date.now(),P=0;x(N,F,function D(W){if(W&&(W.code==="EACCES"||W.code==="EPERM"||W.code==="EBUSY")&&Date.now()-U<6e4){setTimeout(function(){c.stat(F,function(q,O){q&&q.code==="ENOENT"?x(N,F,D):I(W)})},P),P<100&&(P+=10);return}I&&I(W)})}return Object.setPrototypeOf&&Object.setPrototypeOf(C,x),C}(c.rename)),c.read=typeof c.read!="function"?c.read:function(x){function C(N,F,I,U,P,D){var W;if(D&&typeof D=="function"){var q=0;W=function(O,L,n){if(O&&O.code==="EAGAIN"&&q<10)return q++,x.call(c,N,F,I,U,P,W);D.apply(this,arguments)}}return x.call(c,N,F,I,U,P,W)}return Object.setPrototypeOf&&Object.setPrototypeOf(C,x),C}(c.read),c.readSync=typeof c.readSync!="function"?c.readSync:function(x){return function(C,N,F,I,U){for(var P=0;;)try{return x.call(c,C,N,F,I,U)}catch(D){if(D.code==="EAGAIN"&&P<10){P++;continue}throw D}}}(c.readSync);function f(x){x.lchmod=function(C,N,F){x.open(C,r.O_WRONLY|r.O_SYMLINK,N,function(I,U){if(I){F&&F(I);return}x.fchmod(U,N,function(P){x.close(U,function(D){F&&F(P||D)})})})},x.lchmodSync=function(C,N){var F=x.openSync(C,r.O_WRONLY|r.O_SYMLINK,N),I=!0,U;try{U=x.fchmodSync(F,N),I=!1}finally{if(I)try{x.closeSync(F)}catch{}else x.closeSync(F)}return U}}function l(x){r.hasOwnProperty("O_SYMLINK")&&x.futimes?(x.lutimes=function(C,N,F,I){x.open(C,r.O_SYMLINK,function(U,P){if(U){I&&I(U);return}x.futimes(P,N,F,function(D){x.close(P,function(W){I&&I(D||W)})})})},x.lutimesSync=function(C,N,F){var I=x.openSync(C,r.O_SYMLINK),U,P=!0;try{U=x.futimesSync(I,N,F),P=!1}finally{if(P)try{x.closeSync(I)}catch{}else x.closeSync(I)}return U}):x.futimes&&(x.lutimes=function(C,N,F,I){I&&Jt.default.nextTick(I)},x.lutimesSync=function(){})}function p(x){return x&&function(C,N,F){return x.call(c,C,N,function(I){B(I)&&(I=null),F&&F.apply(this,arguments)})}}function g(x){return x&&function(C,N){try{return x.call(c,C,N)}catch(F){if(!B(F))throw F}}}function y(x){return x&&function(C,N,F,I){return x.call(c,C,N,F,function(U){B(U)&&(U=null),I&&I.apply(this,arguments)})}}function m(x){return x&&function(C,N,F){try{return x.call(c,C,N,F)}catch(I){if(!B(I))throw I}}}function M(x){return x&&function(C,N,F){typeof N=="function"&&(F=N,N=null);function I(U,P){P&&(P.uid<0&&(P.uid+=4294967296),P.gid<0&&(P.gid+=4294967296)),F&&F.apply(this,arguments)}return N?x.call(c,C,N,I):x.call(c,C,I)}}function E(x){return x&&function(C,N){var F=N?x.call(c,C,N):x.call(c,C);return F&&(F.uid<0&&(F.uid+=4294967296),F.gid<0&&(F.gid+=4294967296)),F}}function B(x){if(!x||x.code==="ENOSYS")return!0;var C=!Jt.default.getuid||Jt.default.getuid()!==0;return!!(C&&(x.code==="EINVAL"||x.code==="EPERM"))}}}),pe=gt((t,i)=>{lt(),typeof Object.create=="function"?i.exports=function(r,u){u&&(r.super_=u,r.prototype=Object.create(u.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(r,u){if(u){r.super_=u;var a=function(){};a.prototype=u.prototype,r.prototype=new a,r.prototype.constructor=r}}}),Mc=gt((t,i)=>{lt(),i.exports=wn().EventEmitter}),ku=gt((t,i)=>{lt(),i.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},u=Symbol("test"),a=Object(u);if(typeof u=="string"||Object.prototype.toString.call(u)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var s=42;r[u]=s;for(u in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var e=Object.getOwnPropertySymbols(r);if(e.length!==1||e[0]!==u||!Object.prototype.propertyIsEnumerable.call(r,u))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(r,u);if(o.value!==s||o.enumerable!==!0)return!1}return!0}}),Ou=gt((t,i)=>{lt();var r=ku();i.exports=function(){return r()&&!!Symbol.toStringTag}}),Wg=gt((t,i)=>{lt();var r=typeof Symbol<"u"&&Symbol,u=ku();i.exports=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:u()}}),qg=gt((t,i)=>{lt();var r={foo:{}},u=Object;i.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof u)}}),$g=gt((t,i)=>{lt();var r="Function.prototype.bind called on incompatible ",u=Object.prototype.toString,a=Math.max,s="[object Function]",e=function(f,l){for(var p=[],g=0;g<f.length;g+=1)p[g]=f[g];for(var y=0;y<l.length;y+=1)p[y+f.length]=l[y];return p},o=function(f,l){for(var p=[],g=l||0,y=0;g<f.length;g+=1,y+=1)p[y]=f[g];return p},c=function(f,l){for(var p="",g=0;g<f.length;g+=1)p+=f[g],g+1<f.length&&(p+=l);return p};i.exports=function(f){var l=this;if(typeof l!="function"||u.apply(l)!==s)throw new TypeError(r+l);for(var p=o(arguments,1),g,y=function(){if(this instanceof g){var x=l.apply(this,e(p,arguments));return Object(x)===x?x:this}return l.apply(f,e(p,arguments))},m=a(0,l.length-p.length),M=[],E=0;E<m;E++)M[E]="$"+E;if(g=Function("binder","return function ("+c(M,",")+"){ return binder.apply(this,arguments); }")(y),l.prototype){var B=function(){};B.prototype=l.prototype,g.prototype=new B,B.prototype=null}return g}}),Iu=gt((t,i)=>{lt();var r=$g();i.exports=Function.prototype.bind||r}),Hg=gt((t,i)=>{lt();var r=Function.prototype.call,u=Object.prototype.hasOwnProperty,a=Iu();i.exports=a.call(r,u)}),ji=gt((t,i)=>{lt();var r,u=SyntaxError,a=Function,s=TypeError,e=function(n){try{return a('"use strict"; return ('+n+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var c=function(){throw new s},f=o?function(){try{return arguments.callee,c}catch{try{return o(arguments,"callee").get}catch{return c}}}():c,l=Wg()(),p=qg()(),g=Object.getPrototypeOf||(p?function(n){return n.__proto__}:null),y={},m=typeof Uint8Array>"u"||!g?r:g(Uint8Array),M={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":l&&g?g([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":y,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&g?g(g([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l||!g?r:g(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l||!g?r:g(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&g?g(""[Symbol.iterator]()):r,"%Symbol%":l?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":f,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(g)try{null.error}catch(n){E=g(g(n)),M["%Error.prototype%"]=E}var E,B=function n(d){var v;if(d==="%AsyncFunction%")v=e("async function () {}");else if(d==="%GeneratorFunction%")v=e("function* () {}");else if(d==="%AsyncGeneratorFunction%")v=e("async function* () {}");else if(d==="%AsyncGenerator%"){var A=n("%AsyncGeneratorFunction%");A&&(v=A.prototype)}else if(d==="%AsyncIteratorPrototype%"){var T=n("%AsyncGenerator%");T&&g&&(v=g(T.prototype))}return M[d]=v,v},x={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Iu(),N=Hg(),F=C.call(Function.call,Array.prototype.concat),I=C.call(Function.apply,Array.prototype.splice),U=C.call(Function.call,String.prototype.replace),P=C.call(Function.call,String.prototype.slice),D=C.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,O=function(n){var d=P(n,0,1),v=P(n,-1);if(d==="%"&&v!=="%")throw new u("invalid intrinsic syntax, expected closing `%`");if(v==="%"&&d!=="%")throw new u("invalid intrinsic syntax, expected opening `%`");var A=[];return U(n,W,function(T,S,w,b){A[A.length]=w?U(b,q,"$1"):S||T}),A},L=function(n,d){var v=n,A;if(N(x,v)&&(A=x[v],v="%"+A[0]+"%"),N(M,v)){var T=M[v];if(T===y&&(T=B(v)),typeof T>"u"&&!d)throw new s("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:A,name:v,value:T}}throw new u("intrinsic "+n+" does not exist!")};i.exports=function(n,d){if(typeof n!="string"||n.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof d!="boolean")throw new s('"allowMissing" argument must be a boolean');if(D(/^%?[^%]*%?$/,n)===null)throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var v=O(n),A=v.length>0?v[0]:"",T=L("%"+A+"%",d),S=T.name,w=T.value,b=!1,h=T.alias;h&&(A=h[0],I(v,F([0,1],h)));for(var k=1,tt=!0;k<v.length;k+=1){var X=v[k],ft=P(X,0,1),et=P(X,-1);if((ft==='"'||ft==="'"||ft==="`"||et==='"'||et==="'"||et==="`")&&ft!==et)throw new u("property names with quotes must have matching quotes");if((X==="constructor"||!tt)&&(b=!0),A+="."+X,S="%"+A+"%",N(M,S))w=M[S];else if(w!=null){if(!(X in w)){if(!d)throw new s("base intrinsic for "+n+" exists, but the property is not available.");return}if(o&&k+1>=v.length){var at=o(w,X);tt=!!at,tt&&"get"in at&&!("originalValue"in at.get)?w=at.get:w=w[X]}else tt=N(w,X),w=w[X];tt&&!b&&(M[S]=w)}}return w}}),Bu=gt((t,i)=>{lt();var r=ji(),u=r("%Object.defineProperty%",!0),a=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return u([],"length",{value:1}).length!==1}catch{return!0}},i.exports=a}),Cu=gt((t,i)=>{lt();var r=ji(),u=r("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}i.exports=u}),xc=gt((t,i)=>{lt();var r=Bu()(),u=ji(),a=r&&u("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var s=u("%SyntaxError%"),e=u("%TypeError%"),o=Cu();i.exports=function(c,f,l){if(!c||typeof c!="object"&&typeof c!="function")throw new e("`obj` must be an object or a function`");if(typeof f!="string"&&typeof f!="symbol")throw new e("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new e("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new e("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new e("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new e("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,M=!!o&&o(c,f);if(a)a(c,f,{configurable:y===null&&M?M.configurable:!y,enumerable:p===null&&M?M.enumerable:!p,value:l,writable:g===null&&M?M.writable:!g});else if(m||!p&&!g&&!y)c[f]=l;else throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}),Gg=gt((t,i)=>{lt();var r=ji(),u=xc(),a=Bu()(),s=Cu(),e=r("%TypeError%"),o=r("%Math.floor%");i.exports=function(c,f){if(typeof c!="function")throw new e("`fn` is not a function");if(typeof f!="number"||f<0||f>4294967295||o(f)!==f)throw new e("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],p=!0,g=!0;if("length"in c&&s){var y=s(c,"length");y&&!y.configurable&&(p=!1),y&&!y.writable&&(g=!1)}return(p||g||!l)&&(a?u(c,"length",f,!0,!0):u(c,"length",f)),c}}),qo=gt((t,i)=>{lt();var r=Iu(),u=ji(),a=Gg(),s=u("%TypeError%"),e=u("%Function.prototype.apply%"),o=u("%Function.prototype.call%"),c=u("%Reflect.apply%",!0)||r.call(o,e),f=u("%Object.defineProperty%",!0),l=u("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}i.exports=function(g){if(typeof g!="function")throw new s("a function is required");var y=c(r,o,arguments);return a(y,1+l(0,g.length-(arguments.length-1)),!0)};var p=function(){return c(r,e,arguments)};f?f(i.exports,"apply",{value:p}):i.exports.apply=p}),$o=gt((t,i)=>{lt();var r=ji(),u=qo(),a=u(r("String.prototype.indexOf"));i.exports=function(s,e){var o=r(s,!!e);return typeof o=="function"&&a(s,".prototype.")>-1?u(o):o}}),Vg=gt((t,i)=>{lt();var r=Ou()(),u=$o(),a=u("Object.prototype.toString"),s=function(c){return r&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:a(c)==="[object Arguments]"},e=function(c){return s(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&a(c)!=="[object Array]"&&a(c.callee)==="[object Function]"},o=function(){return s(arguments)}();s.isLegacyArguments=e,i.exports=o?s:e}),Zg=gt((t,i)=>{lt();var r=Object.prototype.toString,u=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=Ou()(),e=Object.getPrototypeOf,o=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch{}},c;i.exports=function(f){if(typeof f!="function")return!1;if(a.test(u.call(f)))return!0;if(!s){var l=r.call(f);return l==="[object GeneratorFunction]"}if(!e)return!1;if(typeof c>"u"){var p=o();c=p?e(p):!1}return e(f)===c}}),Jg=gt((t,i)=>{lt();var r=Function.prototype.toString,u=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,a,s;if(typeof u=="function"&&typeof Object.defineProperty=="function")try{a=Object.defineProperty({},"length",{get:function(){throw s}}),s={},u(function(){throw 42},null,a)}catch(N){N!==s&&(u=null)}else u=null;var e=/^\s*class\b/,o=function(N){try{var F=r.call(N);return e.test(F)}catch{return!1}},c=function(N){try{return o(N)?!1:(r.call(N),!0)}catch{return!1}},f=Object.prototype.toString,l="[object Object]",p="[object Function]",g="[object GeneratorFunction]",y="[object HTMLAllCollection]",m="[object HTML document.all class]",M="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,B=!(0 in[,]),x=function(){return!1};typeof document=="object"&&(C=document.all,f.call(C)===f.call(document.all)&&(x=function(N){if((B||!N)&&(typeof N>"u"||typeof N=="object"))try{var F=f.call(N);return(F===y||F===m||F===M||F===l)&&N("")==null}catch{}return!1}));var C;i.exports=u?function(N){if(x(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{u(N,null,a)}catch(F){if(F!==s)return!1}return!o(N)&&c(N)}:function(N){if(x(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(E)return c(N);if(o(N))return!1;var F=f.call(N);return F!==p&&F!==g&&!/^\[object HTML/.test(F)?!1:c(N)}}),Xg=gt((t,i)=>{lt();var r=Jg(),u=Object.prototype.toString,a=Object.prototype.hasOwnProperty,s=function(f,l,p){for(var g=0,y=f.length;g<y;g++)a.call(f,g)&&(p==null?l(f[g],g,f):l.call(p,f[g],g,f))},e=function(f,l,p){for(var g=0,y=f.length;g<y;g++)p==null?l(f.charAt(g),g,f):l.call(p,f.charAt(g),g,f)},o=function(f,l,p){for(var g in f)a.call(f,g)&&(p==null?l(f[g],g,f):l.call(p,f[g],g,f))},c=function(f,l,p){if(!r(l))throw new TypeError("iterator must be a function");var g;arguments.length>=3&&(g=p),u.call(f)==="[object Array]"?s(f,l,g):typeof f=="string"?e(f,l,g):o(f,l,g)};i.exports=c}),Yg=gt((t,i)=>{lt();var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],u=typeof globalThis>"u"?le:globalThis;i.exports=function(){for(var a=[],s=0;s<r.length;s++)typeof u[r[s]]=="function"&&(a[a.length]=r[s]);return a}}),kc=gt((t,i)=>{lt();var r=Xg(),u=Yg(),a=qo(),s=$o(),e=Cu(),o=s("Object.prototype.toString"),c=Ou()(),f=typeof globalThis>"u"?le:globalThis,l=u(),p=s("String.prototype.slice"),g=Object.getPrototypeOf,y=s("Array.prototype.indexOf",!0)||function(B,x){for(var C=0;C<B.length;C+=1)if(B[C]===x)return C;return-1},m={__proto__:null};c&&e&&g?r(l,function(B){var x=new f[B];if(Symbol.toStringTag in x){var C=g(x),N=e(C,Symbol.toStringTag);if(!N){var F=g(C);N=e(F,Symbol.toStringTag)}m["$"+B]=a(N.get)}}):r(l,function(B){var x=new f[B],C=x.slice||x.set;C&&(m["$"+B]=a(C))});var M=function(B){var x=!1;return r(m,function(C,N){if(!x)try{"$"+C(B)===N&&(x=p(N,1))}catch{}}),x},E=function(B){var x=!1;return r(m,function(C,N){if(!x)try{C(B),x=p(N,1)}catch{}}),x};i.exports=function(B){if(!B||typeof B!="object")return!1;if(!c){var x=p(o(B),8,-1);return y(l,x)>-1?x:x!=="Object"?!1:E(B)}return e?M(B):null}}),Qg=gt((t,i)=>{lt();var r=kc();i.exports=function(u){return!!r(u)}}),t2=gt(t=>{lt();var i=Vg(),r=Zg(),u=kc(),a=Qg();function s(Y){return Y.call.bind(Y)}var e=typeof BigInt<"u",o=typeof Symbol<"u",c=s(Object.prototype.toString),f=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);e&&(g=s(BigInt.prototype.valueOf));var g;o&&(y=s(Symbol.prototype.valueOf));var y;function m(Y,it){if(typeof Y!="object")return!1;try{return it(Y),!0}catch{return!1}}t.isArgumentsObject=i,t.isGeneratorFunction=r,t.isTypedArray=a;function M(Y){return typeof Promise<"u"&&Y instanceof Promise||Y!==null&&typeof Y=="object"&&typeof Y.then=="function"&&typeof Y.catch=="function"}t.isPromise=M;function E(Y){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Y):a(Y)||k(Y)}t.isArrayBufferView=E;function B(Y){return u(Y)==="Uint8Array"}t.isUint8Array=B;function x(Y){return u(Y)==="Uint8ClampedArray"}t.isUint8ClampedArray=x;function C(Y){return u(Y)==="Uint16Array"}t.isUint16Array=C;function N(Y){return u(Y)==="Uint32Array"}t.isUint32Array=N;function F(Y){return u(Y)==="Int8Array"}t.isInt8Array=F;function I(Y){return u(Y)==="Int16Array"}t.isInt16Array=I;function U(Y){return u(Y)==="Int32Array"}t.isInt32Array=U;function P(Y){return u(Y)==="Float32Array"}t.isFloat32Array=P;function D(Y){return u(Y)==="Float64Array"}t.isFloat64Array=D;function W(Y){return u(Y)==="BigInt64Array"}t.isBigInt64Array=W;function q(Y){return u(Y)==="BigUint64Array"}t.isBigUint64Array=q;function O(Y){return c(Y)==="[object Map]"}O.working=typeof Map<"u"&&O(new Map);function L(Y){return typeof Map>"u"?!1:O.working?O(Y):Y instanceof Map}t.isMap=L;function n(Y){return c(Y)==="[object Set]"}n.working=typeof Set<"u"&&n(new Set);function d(Y){return typeof Set>"u"?!1:n.working?n(Y):Y instanceof Set}t.isSet=d;function v(Y){return c(Y)==="[object WeakMap]"}v.working=typeof WeakMap<"u"&&v(new WeakMap);function A(Y){return typeof WeakMap>"u"?!1:v.working?v(Y):Y instanceof WeakMap}t.isWeakMap=A;function T(Y){return c(Y)==="[object WeakSet]"}T.working=typeof WeakSet<"u"&&T(new WeakSet);function S(Y){return T(Y)}t.isWeakSet=S;function w(Y){return c(Y)==="[object ArrayBuffer]"}w.working=typeof ArrayBuffer<"u"&&w(new ArrayBuffer);function b(Y){return typeof ArrayBuffer>"u"?!1:w.working?w(Y):Y instanceof ArrayBuffer}t.isArrayBuffer=b;function h(Y){return c(Y)==="[object DataView]"}h.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&h(new DataView(new ArrayBuffer(1),0,1));function k(Y){return typeof DataView>"u"?!1:h.working?h(Y):Y instanceof DataView}t.isDataView=k;var tt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function X(Y){return c(Y)==="[object SharedArrayBuffer]"}function ft(Y){return typeof tt>"u"?!1:(typeof X.working>"u"&&(X.working=X(new tt)),X.working?X(Y):Y instanceof tt)}t.isSharedArrayBuffer=ft;function et(Y){return c(Y)==="[object AsyncFunction]"}t.isAsyncFunction=et;function at(Y){return c(Y)==="[object Map Iterator]"}t.isMapIterator=at;function $(Y){return c(Y)==="[object Set Iterator]"}t.isSetIterator=$;function J(Y){return c(Y)==="[object Generator]"}t.isGeneratorObject=J;function R(Y){return c(Y)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=R;function j(Y){return m(Y,f)}t.isNumberObject=j;function z(Y){return m(Y,l)}t.isStringObject=z;function Z(Y){return m(Y,p)}t.isBooleanObject=Z;function Q(Y){return e&&m(Y,g)}t.isBigIntObject=Q;function K(Y){return o&&m(Y,y)}t.isSymbolObject=K;function G(Y){return j(Y)||z(Y)||Z(Y)||Q(Y)||K(Y)}t.isBoxedPrimitive=G;function H(Y){return typeof Uint8Array<"u"&&(b(Y)||ft(Y))}t.isAnyArrayBuffer=H,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Y){Object.defineProperty(t,Y,{enumerable:!1,value:function(){throw new Error(Y+" is not supported in userland")}})})}),e2=gt((t,i)=>{lt(),i.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}),He=gt(t=>{lt();var i=Object.getOwnPropertyDescriptors||function(h){for(var k=Object.keys(h),tt={},X=0;X<k.length;X++)tt[k[X]]=Object.getOwnPropertyDescriptor(h,k[X]);return tt},r=/%[sdj%]/g;t.format=function(h){if(!F(h)){for(var k=[],tt=0;tt<arguments.length;tt++)k.push(e(arguments[tt]));return k.join(" ")}for(var tt=1,X=arguments,ft=X.length,et=String(h).replace(r,function(J){if(J==="%%")return"%";if(tt>=ft)return J;switch(J){case"%s":return String(X[tt++]);case"%d":return Number(X[tt++]);case"%j":try{return JSON.stringify(X[tt++])}catch{return"[Circular]"}default:return J}}),at=X[tt];tt<ft;at=X[++tt])x(at)||!D(at)?et+=" "+at:et+=" "+e(at);return et},t.deprecate=function(h,k){if(typeof Jt.default<"u"&&Jt.default.noDeprecation===!0)return h;if(typeof Jt.default>"u")return function(){return t.deprecate(h,k).apply(this,arguments)};var tt=!1;function X(){if(!tt){if(Jt.default.throwDeprecation)throw new Error(k);Jt.default.traceDeprecation?console.trace(k):console.error(k),tt=!0}return h.apply(this,arguments)}return X};var u={},a=/^$/;Jt.default.env.NODE_DEBUG&&(s=Jt.default.env.NODE_DEBUG,s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+s+"$","i"));var s;t.debuglog=function(h){if(h=h.toUpperCase(),!u[h])if(a.test(h)){var k=Jt.default.pid;u[h]=function(){var tt=t.format.apply(t,arguments);console.error("%s %d: %s",h,k,tt)}}else u[h]=function(){};return u[h]};function e(h,k){var tt={seen:[],stylize:c};return arguments.length>=3&&(tt.depth=arguments[2]),arguments.length>=4&&(tt.colors=arguments[3]),B(k)?tt.showHidden=k:k&&t._extend(tt,k),U(tt.showHidden)&&(tt.showHidden=!1),U(tt.depth)&&(tt.depth=2),U(tt.colors)&&(tt.colors=!1),U(tt.customInspect)&&(tt.customInspect=!0),tt.colors&&(tt.stylize=o),l(tt,h,tt.depth)}t.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(h,k){var tt=e.styles[k];return tt?"\x1B["+e.colors[tt][0]+"m"+h+"\x1B["+e.colors[tt][1]+"m":h}function c(h,k){return h}function f(h){var k={};return h.forEach(function(tt,X){k[tt]=!0}),k}function l(h,k,tt){if(h.customInspect&&k&&O(k.inspect)&&k.inspect!==t.inspect&&!(k.constructor&&k.constructor.prototype===k)){var X=k.inspect(tt,h);return F(X)||(X=l(h,X,tt)),X}var ft=p(h,k);if(ft)return ft;var et=Object.keys(k),at=f(et);if(h.showHidden&&(et=Object.getOwnPropertyNames(k)),q(k)&&(et.indexOf("message")>=0||et.indexOf("description")>=0))return g(k);if(et.length===0){if(O(k)){var $=k.name?": "+k.name:"";return h.stylize("[Function"+$+"]","special")}if(P(k))return h.stylize(RegExp.prototype.toString.call(k),"regexp");if(W(k))return h.stylize(Date.prototype.toString.call(k),"date");if(q(k))return g(k)}var J="",R=!1,j=["{","}"];if(E(k)&&(R=!0,j=["[","]"]),O(k)){var z=k.name?": "+k.name:"";J=" [Function"+z+"]"}if(P(k)&&(J=" "+RegExp.prototype.toString.call(k)),W(k)&&(J=" "+Date.prototype.toUTCString.call(k)),q(k)&&(J=" "+g(k)),et.length===0&&(!R||k.length==0))return j[0]+J+j[1];if(tt<0)return P(k)?h.stylize(RegExp.prototype.toString.call(k),"regexp"):h.stylize("[Object]","special");h.seen.push(k);var Z;return R?Z=y(h,k,tt,at,et):Z=et.map(function(Q){return m(h,k,tt,at,Q,R)}),h.seen.pop(),M(Z,J,j)}function p(h,k){if(U(k))return h.stylize("undefined","undefined");if(F(k)){var tt="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(tt,"string")}if(N(k))return h.stylize(""+k,"number");if(B(k))return h.stylize(""+k,"boolean");if(x(k))return h.stylize("null","null")}function g(h){return"["+Error.prototype.toString.call(h)+"]"}function y(h,k,tt,X,ft){for(var et=[],at=0,$=k.length;at<$;++at)T(k,String(at))?et.push(m(h,k,tt,X,String(at),!0)):et.push("");return ft.forEach(function(J){J.match(/^\d+$/)||et.push(m(h,k,tt,X,J,!0))}),et}function m(h,k,tt,X,ft,et){var at,$,J;if(J=Object.getOwnPropertyDescriptor(k,ft)||{value:k[ft]},J.get?J.set?$=h.stylize("[Getter/Setter]","special"):$=h.stylize("[Getter]","special"):J.set&&($=h.stylize("[Setter]","special")),T(X,ft)||(at="["+ft+"]"),$||(h.seen.indexOf(J.value)<0?(x(tt)?$=l(h,J.value,null):$=l(h,J.value,tt-1),$.indexOf(`
`)>-1&&(et?$=$.split(`
`).map(function(R){return"  "+R}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(R){return"   "+R}).join(`
`))):$=h.stylize("[Circular]","special")),U(at)){if(et&&ft.match(/^\d+$/))return $;at=JSON.stringify(""+ft),at.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(at=at.slice(1,-1),at=h.stylize(at,"name")):(at=at.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),at=h.stylize(at,"string"))}return at+": "+$}function M(h,k,tt){var X=0,ft=h.reduce(function(et,at){return X++,at.indexOf(`
`)>=0&&X++,et+at.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ft>60?tt[0]+(k===""?"":k+`
 `)+" "+h.join(`,
  `)+" "+tt[1]:tt[0]+k+" "+h.join(", ")+" "+tt[1]}t.types=t2();function E(h){return Array.isArray(h)}t.isArray=E;function B(h){return typeof h=="boolean"}t.isBoolean=B;function x(h){return h===null}t.isNull=x;function C(h){return h==null}t.isNullOrUndefined=C;function N(h){return typeof h=="number"}t.isNumber=N;function F(h){return typeof h=="string"}t.isString=F;function I(h){return typeof h=="symbol"}t.isSymbol=I;function U(h){return h===void 0}t.isUndefined=U;function P(h){return D(h)&&n(h)==="[object RegExp]"}t.isRegExp=P,t.types.isRegExp=P;function D(h){return typeof h=="object"&&h!==null}t.isObject=D;function W(h){return D(h)&&n(h)==="[object Date]"}t.isDate=W,t.types.isDate=W;function q(h){return D(h)&&(n(h)==="[object Error]"||h instanceof Error)}t.isError=q,t.types.isNativeError=q;function O(h){return typeof h=="function"}t.isFunction=O;function L(h){return h===null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||typeof h=="symbol"||typeof h>"u"}t.isPrimitive=L,t.isBuffer=e2();function n(h){return Object.prototype.toString.call(h)}function d(h){return h<10?"0"+h.toString(10):h.toString(10)}var v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var h=new Date,k=[d(h.getHours()),d(h.getMinutes()),d(h.getSeconds())].join(":");return[h.getDate(),v[h.getMonth()],k].join(" ")}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=pe(),t._extend=function(h,k){if(!k||!D(k))return h;for(var tt=Object.keys(k),X=tt.length;X--;)h[tt[X]]=k[tt[X]];return h};function T(h,k){return Object.prototype.hasOwnProperty.call(h,k)}var S=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');if(S&&h[S]){var k=h[S];if(typeof k!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(k,S,{value:k,enumerable:!1,writable:!1,configurable:!0}),k}function k(){for(var tt,X,ft=new Promise(function($,J){tt=$,X=J}),et=[],at=0;at<arguments.length;at++)et.push(arguments[at]);et.push(function($,J){$?X($):tt(J)});try{h.apply(this,et)}catch($){X($)}return ft}return Object.setPrototypeOf(k,Object.getPrototypeOf(h)),S&&Object.defineProperty(k,S,{value:k,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(k,i(h))},t.promisify.custom=S;function w(h,k){if(!h){var tt=new Error("Promise was rejected with a falsy value");tt.reason=h,h=tt}return k(h)}function b(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');function k(){for(var tt=[],X=0;X<arguments.length;X++)tt.push(arguments[X]);var ft=tt.pop();if(typeof ft!="function")throw new TypeError("The last argument must be of type Function");var et=this,at=function(){return ft.apply(et,arguments)};h.apply(this,tt).then(function($){Jt.default.nextTick(at.bind(null,null,$))},function($){Jt.default.nextTick(w.bind(null,$,at))})}return Object.setPrototypeOf(k,Object.getPrototypeOf(h)),Object.defineProperties(k,i(h)),k}t.callbackify=b}),r2=gt((t,i)=>{lt();function r(E,B){var x=Object.keys(E);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(E);B&&(C=C.filter(function(N){return Object.getOwnPropertyDescriptor(E,N).enumerable})),x.push.apply(x,C)}return x}function u(E){for(var B=1;B<arguments.length;B++){var x=arguments[B]!=null?arguments[B]:{};B%2?r(Object(x),!0).forEach(function(C){a(E,C,x[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(x)):r(Object(x)).forEach(function(C){Object.defineProperty(E,C,Object.getOwnPropertyDescriptor(x,C))})}return E}function a(E,B,x){return B=c(B),B in E?Object.defineProperty(E,B,{value:x,enumerable:!0,configurable:!0,writable:!0}):E[B]=x,E}function s(E,B){if(!(E instanceof B))throw new TypeError("Cannot call a class as a function")}function e(E,B){for(var x=0;x<B.length;x++){var C=B[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,c(C.key),C)}}function o(E,B,x){return B&&e(E.prototype,B),x&&e(E,x),Object.defineProperty(E,"prototype",{writable:!1}),E}function c(E){var B=f(E,"string");return typeof B=="symbol"?B:String(B)}function f(E,B){if(typeof E!="object"||E===null)return E;var x=E[Symbol.toPrimitive];if(x!==void 0){var C=x.call(E,B||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(E)}var l=$e(),p=l.Buffer,g=He(),y=g.inspect,m=y&&y.custom||"inspect";function M(E,B,x){p.prototype.copy.call(E,B,x)}i.exports=function(){function E(){s(this,E),this.head=null,this.tail=null,this.length=0}return o(E,[{key:"push",value:function(B){var x={data:B,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(B){var x={data:B,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var B=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,B}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(B){if(this.length===0)return"";for(var x=this.head,C=""+x.data;x=x.next;)C+=B+x.data;return C}},{key:"concat",value:function(B){if(this.length===0)return p.alloc(0);for(var x=p.allocUnsafe(B>>>0),C=this.head,N=0;C;)M(C.data,x,N),N+=C.data.length,C=C.next;return x}},{key:"consume",value:function(B,x){var C;return B<this.head.data.length?(C=this.head.data.slice(0,B),this.head.data=this.head.data.slice(B)):B===this.head.data.length?C=this.shift():C=x?this._getString(B):this._getBuffer(B),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(B){var x=this.head,C=1,N=x.data;for(B-=N.length;x=x.next;){var F=x.data,I=B>F.length?F.length:B;if(I===F.length?N+=F:N+=F.slice(0,B),B-=I,B===0){I===F.length?(++C,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=F.slice(I));break}++C}return this.length-=C,N}},{key:"_getBuffer",value:function(B){var x=p.allocUnsafe(B),C=this.head,N=1;for(C.data.copy(x),B-=C.data.length;C=C.next;){var F=C.data,I=B>F.length?F.length:B;if(F.copy(x,x.length-B,0,I),B-=I,B===0){I===F.length?(++N,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=F.slice(I));break}++N}return this.length-=N,x}},{key:m,value:function(B,x){return y(this,u(u({},x),{},{depth:0,customInspect:!1}))}}]),E}()}),Oc=gt((t,i)=>{lt();function r(c,f){var l=this,p=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return p||g?(f?f(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Jt.default.nextTick(e,this,c)):Jt.default.nextTick(e,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(y){!f&&y?l._writableState?l._writableState.errorEmitted?Jt.default.nextTick(a,l):(l._writableState.errorEmitted=!0,Jt.default.nextTick(u,l,y)):Jt.default.nextTick(u,l,y):f?(Jt.default.nextTick(a,l),f(y)):Jt.default.nextTick(a,l)}),this)}function u(c,f){e(c,f),a(c)}function a(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function e(c,f){c.emit("error",f)}function o(c,f){var l=c._readableState,p=c._writableState;l&&l.autoDestroy||p&&p.autoDestroy?c.destroy(f):c.emit("error",f)}i.exports={destroy:r,undestroy:s,errorOrDestroy:o}}),Ui=gt((t,i)=>{lt();function r(f,l){f.prototype=Object.create(l.prototype),f.prototype.constructor=f,f.__proto__=l}var u={};function a(f,l,p){p||(p=Error);function g(m,M,E){return typeof l=="string"?l:l(m,M,E)}var y=function(m){r(M,m);function M(E,B,x){return m.call(this,g(E,B,x))||this}return M}(p);y.prototype.name=p.name,y.prototype.code=f,u[f]=y}function s(f,l){if(Array.isArray(f)){var p=f.length;return f=f.map(function(g){return String(g)}),p>2?"one of ".concat(l," ").concat(f.slice(0,p-1).join(", "),", or ")+f[p-1]:p===2?"one of ".concat(l," ").concat(f[0]," or ").concat(f[1]):"of ".concat(l," ").concat(f[0])}else return"of ".concat(l," ").concat(String(f))}function e(f,l,p){return f.substr(!p||p<0?0:+p,l.length)===l}function o(f,l,p){return(p===void 0||p>f.length)&&(p=f.length),f.substring(p-l.length,p)===l}function c(f,l,p){return typeof p!="number"&&(p=0),p+l.length>f.length?!1:f.indexOf(l,p)!==-1}a("ERR_INVALID_OPT_VALUE",function(f,l){return'The value "'+l+'" is invalid for option "'+f+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(f,l,p){var g;typeof l=="string"&&e(l,"not ")?(g="must not be",l=l.replace(/^not /,"")):g="must be";var y;if(o(f," argument"))y="The ".concat(f," ").concat(g," ").concat(s(l,"type"));else{var m=c(f,".")?"property":"argument";y='The "'.concat(f,'" ').concat(m," ").concat(g," ").concat(s(l,"type"))}return y+=". Received type ".concat(typeof p),y},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=u}),Ic=gt((t,i)=>{lt();var r=Ui().codes.ERR_INVALID_OPT_VALUE;function u(s,e,o){return s.highWaterMark!=null?s.highWaterMark:e?s[o]:null}function a(s,e,o,c){var f=u(e,c,o);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var l=c?o:"highWaterMark";throw new r(l,f)}return Math.floor(f)}return s.objectMode?16:16*1024}i.exports={getHighWaterMark:a}}),Pu=gt((t,i)=>{lt(),i.exports=r;function r(a,s){if(u("noDeprecation"))return a;var e=!1;function o(){if(!e){if(u("throwDeprecation"))throw new Error(s);u("traceDeprecation")?console.trace(s):console.warn(s),e=!0}return a.apply(this,arguments)}return o}function u(a){try{if(!le.localStorage)return!1}catch{return!1}var s=le.localStorage[a];return s==null?!1:String(s).toLowerCase()==="true"}}),Ru=gt((t,i)=>{lt(),i.exports=W;function r(at){var $=this;this.next=null,this.entry=null,this.finish=function(){et($,at)}}var u;W.WritableState=P;var a={deprecate:Pu()},s=Mc(),e=$e().Buffer,o=(typeof le<"u"?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(at){return e.from(at)}function f(at){return e.isBuffer(at)||at instanceof o}var l=Oc(),p=Ic(),g=p.getHighWaterMark,y=Ui().codes,m=y.ERR_INVALID_ARG_TYPE,M=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_MULTIPLE_CALLBACK,B=y.ERR_STREAM_CANNOT_PIPE,x=y.ERR_STREAM_DESTROYED,C=y.ERR_STREAM_NULL_VALUES,N=y.ERR_STREAM_WRITE_AFTER_END,F=y.ERR_UNKNOWN_ENCODING,I=l.errorOrDestroy;pe()(W,s);function U(){}function P(at,$,J){u=u||hi(),at=at||{},typeof J!="boolean"&&(J=$ instanceof u),this.objectMode=!!at.objectMode,J&&(this.objectMode=this.objectMode||!!at.writableObjectMode),this.highWaterMark=g(this,at,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var R=at.decodeStrings===!1;this.decodeStrings=!R,this.defaultEncoding=at.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){T($,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=at.emitClose!==!1,this.autoDestroy=!!at.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}P.prototype.getBuffer=function(){for(var at=this.bufferedRequest,$=[];at;)$.push(at),at=at.next;return $},function(){try{Object.defineProperty(P.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(at){return D.call(this,at)?!0:this!==W?!1:at&&at._writableState instanceof P}})):D=function(at){return at instanceof this};function W(at){u=u||hi();var $=this instanceof u;if(!$&&!D.call(W,this))return new W(at);this._writableState=new P(at,this,$),this.writable=!0,at&&(typeof at.write=="function"&&(this._write=at.write),typeof at.writev=="function"&&(this._writev=at.writev),typeof at.destroy=="function"&&(this._destroy=at.destroy),typeof at.final=="function"&&(this._final=at.final)),s.call(this)}W.prototype.pipe=function(){I(this,new B)};function q(at,$){var J=new N;I(at,J),Jt.default.nextTick($,J)}function O(at,$,J,R){var j;return J===null?j=new C:typeof J!="string"&&!$.objectMode&&(j=new m("chunk",["string","Buffer"],J)),j?(I(at,j),Jt.default.nextTick(R,j),!1):!0}W.prototype.write=function(at,$,J){var R=this._writableState,j=!1,z=!R.objectMode&&f(at);return z&&!e.isBuffer(at)&&(at=c(at)),typeof $=="function"&&(J=$,$=null),z?$="buffer":$||($=R.defaultEncoding),typeof J!="function"&&(J=U),R.ending?q(this,J):(z||O(this,R,at,J))&&(R.pendingcb++,j=n(this,R,z,at,$,J)),j},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var at=this._writableState;at.corked&&(at.corked--,!at.writing&&!at.corked&&!at.bufferProcessing&&at.bufferedRequest&&b(this,at))},W.prototype.setDefaultEncoding=function(at){if(typeof at=="string"&&(at=at.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((at+"").toLowerCase())>-1))throw new F(at);return this._writableState.defaultEncoding=at,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function L(at,$,J){return!at.objectMode&&at.decodeStrings!==!1&&typeof $=="string"&&($=e.from($,J)),$}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function n(at,$,J,R,j,z){if(!J){var Z=L($,R,j);R!==Z&&(J=!0,j="buffer",R=Z)}var Q=$.objectMode?1:R.length;$.length+=Q;var K=$.length<$.highWaterMark;if(K||($.needDrain=!0),$.writing||$.corked){var G=$.lastBufferedRequest;$.lastBufferedRequest={chunk:R,encoding:j,isBuf:J,callback:z,next:null},G?G.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else d(at,$,!1,Q,R,j,z);return K}function d(at,$,J,R,j,z,Z){$.writelen=R,$.writecb=Z,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new x("write")):J?at._writev(j,$.onwrite):at._write(j,z,$.onwrite),$.sync=!1}function v(at,$,J,R,j){--$.pendingcb,J?(Jt.default.nextTick(j,R),Jt.default.nextTick(X,at,$),at._writableState.errorEmitted=!0,I(at,R)):(j(R),at._writableState.errorEmitted=!0,I(at,R),X(at,$))}function A(at){at.writing=!1,at.writecb=null,at.length-=at.writelen,at.writelen=0}function T(at,$){var J=at._writableState,R=J.sync,j=J.writecb;if(typeof j!="function")throw new E;if(A(J),$)v(at,J,R,$,j);else{var z=h(J)||at.destroyed;!z&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&b(at,J),R?Jt.default.nextTick(S,at,J,z,j):S(at,J,z,j)}}function S(at,$,J,R){J||w(at,$),$.pendingcb--,R(),X(at,$)}function w(at,$){$.length===0&&$.needDrain&&($.needDrain=!1,at.emit("drain"))}function b(at,$){$.bufferProcessing=!0;var J=$.bufferedRequest;if(at._writev&&J&&J.next){var R=$.bufferedRequestCount,j=new Array(R),z=$.corkedRequestsFree;z.entry=J;for(var Z=0,Q=!0;J;)j[Z]=J,J.isBuf||(Q=!1),J=J.next,Z+=1;j.allBuffers=Q,d(at,$,!0,$.length,j,"",z.finish),$.pendingcb++,$.lastBufferedRequest=null,z.next?($.corkedRequestsFree=z.next,z.next=null):$.corkedRequestsFree=new r($),$.bufferedRequestCount=0}else{for(;J;){var K=J.chunk,G=J.encoding,H=J.callback,Y=$.objectMode?1:K.length;if(d(at,$,!1,Y,K,G,H),J=J.next,$.bufferedRequestCount--,$.writing)break}J===null&&($.lastBufferedRequest=null)}$.bufferedRequest=J,$.bufferProcessing=!1}W.prototype._write=function(at,$,J){J(new M("_write()"))},W.prototype._writev=null,W.prototype.end=function(at,$,J){var R=this._writableState;return typeof at=="function"?(J=at,at=null,$=null):typeof $=="function"&&(J=$,$=null),at!=null&&this.write(at,$),R.corked&&(R.corked=1,this.uncork()),R.ending||ft(this,R,J),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function h(at){return at.ending&&at.length===0&&at.bufferedRequest===null&&!at.finished&&!at.writing}function k(at,$){at._final(function(J){$.pendingcb--,J&&I(at,J),$.prefinished=!0,at.emit("prefinish"),X(at,$)})}function tt(at,$){!$.prefinished&&!$.finalCalled&&(typeof at._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,Jt.default.nextTick(k,at,$)):($.prefinished=!0,at.emit("prefinish")))}function X(at,$){var J=h($);if(J&&(tt(at,$),$.pendingcb===0&&($.finished=!0,at.emit("finish"),$.autoDestroy))){var R=at._readableState;(!R||R.autoDestroy&&R.endEmitted)&&at.destroy()}return J}function ft(at,$,J){$.ending=!0,X(at,$),J&&($.finished?Jt.default.nextTick(J):at.once("finish",J)),$.ended=!0,at.writable=!1}function et(at,$,J){var R=at.entry;for(at.entry=null;R;){var j=R.callback;$.pendingcb--,j(J),R=R.next}$.corkedRequestsFree.next=at}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(at){!this._writableState||(this._writableState.destroyed=at)}}),W.prototype.destroy=l.destroy,W.prototype._undestroy=l.undestroy,W.prototype._destroy=function(at,$){$(at)}}),hi=gt((t,i)=>{lt();var r=Object.keys||function(p){var g=[];for(var y in p)g.push(y);return g};i.exports=c;var u=Nu(),a=Ru();for(pe()(c,u),s=r(a.prototype),o=0;o<s.length;o++)e=s[o],c.prototype[e]||(c.prototype[e]=a.prototype[e]);var s,e,o;function c(p){if(!(this instanceof c))return new c(p);u.call(this,p),a.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||Jt.default.nextTick(l,this)}function l(p){p.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}),co=gt(t=>{lt();var i=Ee().Buffer,r=i.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(x){if(!x)return"utf8";for(var C;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(C)return;x=(""+x).toLowerCase(),C=!0}}function a(x){var C=u(x);if(typeof C!="string"&&(i.isEncoding===r||!r(x)))throw new Error("Unknown encoding: "+x);return C||x}t.StringDecoder=s;function s(x){this.encoding=a(x);var C;switch(this.encoding){case"utf16le":this.text=g,this.end=y,C=4;break;case"utf8":this.fillLast=f,C=4;break;case"base64":this.text=m,this.end=M,C=3;break;default:this.write=E,this.end=B;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(C)}s.prototype.write=function(x){if(x.length===0)return"";var C,N;if(this.lastNeed){if(C=this.fillLast(x),C===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<x.length?C?C+this.text(x,N):this.text(x,N):C||""},s.prototype.end=p,s.prototype.text=l,s.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function e(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function o(x,C,N){var F=C.length-1;if(F<N)return 0;var I=e(C[F]);return I>=0?(I>0&&(x.lastNeed=I-1),I):--F<N||I===-2?0:(I=e(C[F]),I>=0?(I>0&&(x.lastNeed=I-2),I):--F<N||I===-2?0:(I=e(C[F]),I>=0?(I>0&&(I===2?I=0:x.lastNeed=I-3),I):0))}function c(x,C,N){if((C[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return x.lastNeed=2,"�"}}function f(x){var C=this.lastTotal-this.lastNeed,N=c(this,x);if(N!==void 0)return N;if(this.lastNeed<=x.length)return x.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,C,0,x.length),this.lastNeed-=x.length}function l(x,C){var N=o(this,x,C);if(!this.lastNeed)return x.toString("utf8",C);this.lastTotal=N;var F=x.length-(N-this.lastNeed);return x.copy(this.lastChar,0,F),x.toString("utf8",C,F)}function p(x){var C=x&&x.length?this.write(x):"";return this.lastNeed?C+"�":C}function g(x,C){if((x.length-C)%2===0){var N=x.toString("utf16le",C);if(N){var F=N.charCodeAt(N.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",C,x.length-1)}function y(x){var C=x&&x.length?this.write(x):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,N)}return C}function m(x,C){var N=(x.length-C)%3;return N===0?x.toString("base64",C):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",C,x.length-N))}function M(x){var C=x&&x.length?this.write(x):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function E(x){return x.toString(this.encoding)}function B(x){return x&&x.length?this.write(x):""}}),Ho=gt((t,i)=>{lt();var r=Ui().codes.ERR_STREAM_PREMATURE_CLOSE;function u(o){var c=!1;return function(){if(!c){c=!0;for(var f=arguments.length,l=new Array(f),p=0;p<f;p++)l[p]=arguments[p];o.apply(this,l)}}}function a(){}function s(o){return o.setHeader&&typeof o.abort=="function"}function e(o,c,f){if(typeof c=="function")return e(o,null,c);c||(c={}),f=u(f||a);var l=c.readable||c.readable!==!1&&o.readable,p=c.writable||c.writable!==!1&&o.writable,g=function(){o.writable||m()},y=o._writableState&&o._writableState.finished,m=function(){p=!1,y=!0,l||f.call(o)},M=o._readableState&&o._readableState.endEmitted,E=function(){l=!1,M=!0,p||f.call(o)},B=function(N){f.call(o,N)},x=function(){var N;if(l&&!M)return(!o._readableState||!o._readableState.ended)&&(N=new r),f.call(o,N);if(p&&!y)return(!o._writableState||!o._writableState.ended)&&(N=new r),f.call(o,N)},C=function(){o.req.on("finish",m)};return s(o)?(o.on("complete",m),o.on("abort",x),o.req?C():o.on("request",C)):p&&!o._writableState&&(o.on("end",g),o.on("close",g)),o.on("end",E),o.on("finish",m),c.error!==!1&&o.on("error",B),o.on("close",x),function(){o.removeListener("complete",m),o.removeListener("abort",x),o.removeListener("request",C),o.req&&o.req.removeListener("finish",m),o.removeListener("end",g),o.removeListener("close",g),o.removeListener("finish",m),o.removeListener("end",E),o.removeListener("error",B),o.removeListener("close",x)}}i.exports=e}),n2=gt((t,i)=>{lt();var r;function u(F,I,U){return I=a(I),I in F?Object.defineProperty(F,I,{value:U,enumerable:!0,configurable:!0,writable:!0}):F[I]=U,F}function a(F){var I=s(F,"string");return typeof I=="symbol"?I:String(I)}function s(F,I){if(typeof F!="object"||F===null)return F;var U=F[Symbol.toPrimitive];if(U!==void 0){var P=U.call(F,I||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(F)}var e=Ho(),o=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),l=Symbol("ended"),p=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m(F,I){return{value:F,done:I}}function M(F){var I=F[o];if(I!==null){var U=F[y].read();U!==null&&(F[p]=null,F[o]=null,F[c]=null,I(m(U,!1)))}}function E(F){Jt.default.nextTick(M,F)}function B(F,I){return function(U,P){F.then(function(){if(I[l]){U(m(void 0,!0));return}I[g](U,P)},P)}}var x=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((r={get stream(){return this[y]},next:function(){var F=this,I=this[f];if(I!==null)return Promise.reject(I);if(this[l])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise(function(W,q){Jt.default.nextTick(function(){F[f]?q(F[f]):W(m(void 0,!0))})});var U=this[p],P;if(U)P=new Promise(B(U,this));else{var D=this[y].read();if(D!==null)return Promise.resolve(m(D,!1));P=new Promise(this[g])}return this[p]=P,P}},u(r,Symbol.asyncIterator,function(){return this}),u(r,"return",function(){var F=this;return new Promise(function(I,U){F[y].destroy(null,function(P){if(P){U(P);return}I(m(void 0,!0))})})}),r),x),N=function(F){var I,U=Object.create(C,(I={},u(I,y,{value:F,writable:!0}),u(I,o,{value:null,writable:!0}),u(I,c,{value:null,writable:!0}),u(I,f,{value:null,writable:!0}),u(I,l,{value:F._readableState.endEmitted,writable:!0}),u(I,g,{value:function(P,D){var W=U[y].read();W?(U[p]=null,U[o]=null,U[c]=null,P(m(W,!1))):(U[o]=P,U[c]=D)},writable:!0}),I));return U[p]=null,e(F,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=U[c];D!==null&&(U[p]=null,U[o]=null,U[c]=null,D(P)),U[f]=P;return}var W=U[o];W!==null&&(U[p]=null,U[o]=null,U[c]=null,W(m(void 0,!0))),U[l]=!0}),F.on("readable",E.bind(null,U)),U};i.exports=N}),i2=gt((t,i)=>{lt(),i.exports=function(){throw new Error("Readable.from is not available in the browser")}}),Nu=gt((t,i)=>{lt(),i.exports=q;var r;q.ReadableState=W,wn().EventEmitter;var u=function(z,Z){return z.listeners(Z).length},a=Mc(),s=$e().Buffer,e=(typeof le<"u"?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(z){return s.from(z)}function c(z){return s.isBuffer(z)||z instanceof e}var f=He(),l;f&&f.debuglog?l=f.debuglog("stream"):l=function(){};var p=r2(),g=Oc(),y=Ic(),m=y.getHighWaterMark,M=Ui().codes,E=M.ERR_INVALID_ARG_TYPE,B=M.ERR_STREAM_PUSH_AFTER_EOF,x=M.ERR_METHOD_NOT_IMPLEMENTED,C=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,F,I;pe()(q,a);var U=g.errorOrDestroy,P=["error","close","destroy","pause","resume"];function D(z,Z,Q){if(typeof z.prependListener=="function")return z.prependListener(Z,Q);!z._events||!z._events[Z]?z.on(Z,Q):Array.isArray(z._events[Z])?z._events[Z].unshift(Q):z._events[Z]=[Q,z._events[Z]]}function W(z,Z,Q){r=r||hi(),z=z||{},typeof Q!="boolean"&&(Q=Z instanceof r),this.objectMode=!!z.objectMode,Q&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=m(this,z,"readableHighWaterMark",Q),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(N||(N=co().StringDecoder),this.decoder=new N(z.encoding),this.encoding=z.encoding)}function q(z){if(r=r||hi(),!(this instanceof q))return new q(z);var Z=this instanceof r;this._readableState=new W(z,this,Z),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),a.call(this)}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(z){!this._readableState||(this._readableState.destroyed=z)}}),q.prototype.destroy=g.destroy,q.prototype._undestroy=g.undestroy,q.prototype._destroy=function(z,Z){Z(z)},q.prototype.push=function(z,Z){var Q=this._readableState,K;return Q.objectMode?K=!0:typeof z=="string"&&(Z=Z||Q.defaultEncoding,Z!==Q.encoding&&(z=s.from(z,Z),Z=""),K=!0),O(this,z,Z,!1,K)},q.prototype.unshift=function(z){return O(this,z,null,!0,!1)};function O(z,Z,Q,K,G){l("readableAddChunk",Z);var H=z._readableState;if(Z===null)H.reading=!1,T(z,H);else{var Y;if(G||(Y=n(H,Z)),Y)U(z,Y);else if(H.objectMode||Z&&Z.length>0)if(typeof Z!="string"&&!H.objectMode&&Object.getPrototypeOf(Z)!==s.prototype&&(Z=o(Z)),K)H.endEmitted?U(z,new C):L(z,H,Z,!0);else if(H.ended)U(z,new B);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!Q?(Z=H.decoder.write(Z),H.objectMode||Z.length!==0?L(z,H,Z,!1):b(z,H)):L(z,H,Z,!1)}else K||(H.reading=!1,b(z,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function L(z,Z,Q,K){Z.flowing&&Z.length===0&&!Z.sync?(Z.awaitDrain=0,z.emit("data",Q)):(Z.length+=Z.objectMode?1:Q.length,K?Z.buffer.unshift(Q):Z.buffer.push(Q),Z.needReadable&&S(z)),b(z,Z)}function n(z,Z){var Q;return!c(Z)&&typeof Z!="string"&&Z!==void 0&&!z.objectMode&&(Q=new E("chunk",["string","Buffer","Uint8Array"],Z)),Q}q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(z){N||(N=co().StringDecoder);var Z=new N(z);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,K="";Q!==null;)K+=Z.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var d=1073741824;function v(z){return z>=d?z=d:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function A(z,Z){return z<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:z!==z?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(z>Z.highWaterMark&&(Z.highWaterMark=v(z)),z<=Z.length?z:Z.ended?Z.length:(Z.needReadable=!0,0))}q.prototype.read=function(z){l("read",z),z=parseInt(z,10);var Z=this._readableState,Q=z;if(z!==0&&(Z.emittedReadable=!1),z===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return l("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?J(this):S(this),null;if(z=A(z,Z),z===0&&Z.ended)return Z.length===0&&J(this),null;var K=Z.needReadable;l("need readable",K),(Z.length===0||Z.length-z<Z.highWaterMark)&&(K=!0,l("length less than watermark",K)),Z.ended||Z.reading?(K=!1,l("reading or ended",K)):K&&(l("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(z=A(Q,Z)));var G;return z>0?G=$(z,Z):G=null,G===null?(Z.needReadable=Z.length<=Z.highWaterMark,z=0):(Z.length-=z,Z.awaitDrain=0),Z.length===0&&(Z.ended||(Z.needReadable=!0),Q!==z&&Z.ended&&J(this)),G!==null&&this.emit("data",G),G};function T(z,Z){if(l("onEofChunk"),!Z.ended){if(Z.decoder){var Q=Z.decoder.end();Q&&Q.length&&(Z.buffer.push(Q),Z.length+=Z.objectMode?1:Q.length)}Z.ended=!0,Z.sync?S(z):(Z.needReadable=!1,Z.emittedReadable||(Z.emittedReadable=!0,w(z)))}}function S(z){var Z=z._readableState;l("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(l("emitReadable",Z.flowing),Z.emittedReadable=!0,Jt.default.nextTick(w,z))}function w(z){var Z=z._readableState;l("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&(Z.length||Z.ended)&&(z.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,at(z)}function b(z,Z){Z.readingMore||(Z.readingMore=!0,Jt.default.nextTick(h,z,Z))}function h(z,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){var Q=Z.length;if(l("maybeReadMore read 0"),z.read(0),Q===Z.length)break}Z.readingMore=!1}q.prototype._read=function(z){U(this,new x("_read()"))},q.prototype.pipe=function(z,Z){var Q=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=z;break;case 1:K.pipes=[K.pipes,z];break;default:K.pipes.push(z);break}K.pipesCount+=1,l("pipe count=%d opts=%j",K.pipesCount,Z);var G=(!Z||Z.end!==!1)&&z!==Jt.default.stdout&&z!==Jt.default.stderr,H=G?it:rt;K.endEmitted?Jt.default.nextTick(H):Q.once("end",H),z.on("unpipe",Y);function Y(st,yt){l("onunpipe"),st===Q&&yt&&yt.hasUnpiped===!1&&(yt.hasUnpiped=!0,_t())}function it(){l("onend"),z.end()}var ot=k(Q);z.on("drain",ot);var mt=!1;function _t(){l("cleanup"),z.removeListener("close",pt),z.removeListener("finish",V),z.removeListener("drain",ot),z.removeListener("error",vt),z.removeListener("unpipe",Y),Q.removeListener("end",it),Q.removeListener("end",rt),Q.removeListener("data",ht),mt=!0,K.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&ot()}Q.on("data",ht);function ht(st){l("ondata");var yt=z.write(st);l("dest.write",yt),yt===!1&&((K.pipesCount===1&&K.pipes===z||K.pipesCount>1&&j(K.pipes,z)!==-1)&&!mt&&(l("false write response, pause",K.awaitDrain),K.awaitDrain++),Q.pause())}function vt(st){l("onerror",st),rt(),z.removeListener("error",vt),u(z,"error")===0&&U(z,st)}D(z,"error",vt);function pt(){z.removeListener("finish",V),rt()}z.once("close",pt);function V(){l("onfinish"),z.removeListener("close",pt),rt()}z.once("finish",V);function rt(){l("unpipe"),Q.unpipe(z)}return z.emit("pipe",Q),K.flowing||(l("pipe resume"),Q.resume()),z};function k(z){return function(){var Z=z._readableState;l("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&u(z,"data")&&(Z.flowing=!0,at(z))}}q.prototype.unpipe=function(z){var Z=this._readableState,Q={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return z&&z!==Z.pipes?this:(z||(z=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,z&&z.emit("unpipe",this,Q),this);if(!z){var K=Z.pipes,G=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var H=0;H<G;H++)K[H].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=j(Z.pipes,z);return Y===-1?this:(Z.pipes.splice(Y,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),z.emit("unpipe",this,Q),this)},q.prototype.on=function(z,Z){var Q=a.prototype.on.call(this,z,Z),K=this._readableState;return z==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):z==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,l("on readable",K.length,K.reading),K.length?S(this):K.reading||Jt.default.nextTick(X,this)),Q},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(z,Z){var Q=a.prototype.removeListener.call(this,z,Z);return z==="readable"&&Jt.default.nextTick(tt,this),Q},q.prototype.removeAllListeners=function(z){var Z=a.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&Jt.default.nextTick(tt,this),Z};function tt(z){var Z=z._readableState;Z.readableListening=z.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused?Z.flowing=!0:z.listenerCount("data")>0&&z.resume()}function X(z){l("readable nexttick read 0"),z.read(0)}q.prototype.resume=function(){var z=this._readableState;return z.flowing||(l("resume"),z.flowing=!z.readableListening,ft(this,z)),z.paused=!1,this};function ft(z,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,Jt.default.nextTick(et,z,Z))}function et(z,Z){l("resume",Z.reading),Z.reading||z.read(0),Z.resumeScheduled=!1,z.emit("resume"),at(z),Z.flowing&&!Z.reading&&z.read(0)}q.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function at(z){var Z=z._readableState;for(l("flow",Z.flowing);Z.flowing&&z.read()!==null;);}q.prototype.wrap=function(z){var Z=this,Q=this._readableState,K=!1;z.on("end",function(){if(l("wrapped end"),Q.decoder&&!Q.ended){var Y=Q.decoder.end();Y&&Y.length&&Z.push(Y)}Z.push(null)}),z.on("data",function(Y){if(l("wrapped data"),Q.decoder&&(Y=Q.decoder.write(Y)),!(Q.objectMode&&Y==null)&&!(!Q.objectMode&&(!Y||!Y.length))){var it=Z.push(Y);it||(K=!0,z.pause())}});for(var G in z)this[G]===void 0&&typeof z[G]=="function"&&(this[G]=function(Y){return function(){return z[Y].apply(z,arguments)}}(G));for(var H=0;H<P.length;H++)z.on(P[H],this.emit.bind(this,P[H]));return this._read=function(Y){l("wrapped _read",Y),K&&(K=!1,z.resume())},this},typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return F===void 0&&(F=n2()),F(this)}),Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),q._fromList=$,Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(z,Z){if(Z.length===0)return null;var Q;return Z.objectMode?Q=Z.buffer.shift():!z||z>=Z.length?(Z.decoder?Q=Z.buffer.join(""):Z.buffer.length===1?Q=Z.buffer.first():Q=Z.buffer.concat(Z.length),Z.buffer.clear()):Q=Z.buffer.consume(z,Z.decoder),Q}function J(z){var Z=z._readableState;l("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,Jt.default.nextTick(R,Z,z))}function R(z,Z){if(l("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,Z.readable=!1,Z.emit("end"),z.autoDestroy)){var Q=Z._writableState;(!Q||Q.autoDestroy&&Q.finished)&&Z.destroy()}}typeof Symbol=="function"&&(q.from=function(z,Z){return I===void 0&&(I=i2()),I(q,z,Z)});function j(z,Z){for(var Q=0,K=z.length;Q<K;Q++)if(z[Q]===Z)return Q;return-1}}),Lu=gt((t,i)=>{lt(),i.exports=f;var r=Ui().codes,u=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,e=r.ERR_TRANSFORM_WITH_LENGTH_0,o=hi();pe()(f,o);function c(g,y){var m=this._transformState;m.transforming=!1;var M=m.writecb;if(M===null)return this.emit("error",new a);m.writechunk=null,m.writecb=null,y!=null&&this.push(y),M(g);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function f(g){if(!(this instanceof f))return new f(g);o.call(this,g),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",l)}function l(){var g=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,m){p(g,y,m)}):p(this,null,null)}f.prototype.push=function(g,y){return this._transformState.needTransform=!1,o.prototype.push.call(this,g,y)},f.prototype._transform=function(g,y,m){m(new u("_transform()"))},f.prototype._write=function(g,y,m){var M=this._transformState;if(M.writecb=m,M.writechunk=g,M.writeencoding=y,!M.transforming){var E=this._readableState;(M.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},f.prototype._read=function(g){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},f.prototype._destroy=function(g,y){o.prototype._destroy.call(this,g,function(m){y(m)})};function p(g,y,m){if(y)return g.emit("error",y);if(m!=null&&g.push(m),g._writableState.length)throw new e;if(g._transformState.transforming)throw new s;return g.push(null)}}),Bc=gt((t,i)=>{lt(),i.exports=u;var r=Lu();pe()(u,r);function u(a){if(!(this instanceof u))return new u(a);r.call(this,a)}u.prototype._transform=function(a,s,e){e(null,a)}}),Cc=gt((t,i)=>{lt();var r;function u(m){var M=!1;return function(){M||(M=!0,m.apply(void 0,arguments))}}var a=Ui().codes,s=a.ERR_MISSING_ARGS,e=a.ERR_STREAM_DESTROYED;function o(m){if(m)throw m}function c(m){return m.setHeader&&typeof m.abort=="function"}function f(m,M,E,B){B=u(B);var x=!1;m.on("close",function(){x=!0}),r===void 0&&(r=Ho()),r(m,{readable:M,writable:E},function(N){if(N)return B(N);x=!0,B()});var C=!1;return function(N){if(!x&&!C){if(C=!0,c(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();B(N||new e("pipe"))}}}function l(m){m()}function p(m,M){return m.pipe(M)}function g(m){return!m.length||typeof m[m.length-1]!="function"?o:m.pop()}function y(){for(var m=arguments.length,M=new Array(m),E=0;E<m;E++)M[E]=arguments[E];var B=g(M);if(Array.isArray(M[0])&&(M=M[0]),M.length<2)throw new s("streams");var x,C=M.map(function(N,F){var I=F<M.length-1,U=F>0;return f(N,I,U,function(P){x||(x=P),P&&C.forEach(l),!I&&(C.forEach(l),B(x))})});return M.reduce(p)}i.exports=y}),Cn=gt((t,i)=>{lt(),i.exports=a;var r=wn().EventEmitter,u=pe();u(a,r),a.Readable=Nu(),a.Writable=Ru(),a.Duplex=hi(),a.Transform=Lu(),a.PassThrough=Bc(),a.finished=Ho(),a.pipeline=Cc(),a.Stream=a;function a(){r.call(this)}a.prototype.pipe=function(s,e){var o=this;function c(M){s.writable&&s.write(M)===!1&&o.pause&&o.pause()}o.on("data",c);function f(){o.readable&&o.resume&&o.resume()}s.on("drain",f),!s._isStdio&&(!e||e.end!==!1)&&(o.on("end",p),o.on("close",g));var l=!1;function p(){l||(l=!0,s.end())}function g(){l||(l=!0,typeof s.destroy=="function"&&s.destroy())}function y(M){if(m(),r.listenerCount(this,"error")===0)throw M}o.on("error",y),s.on("error",y);function m(){o.removeListener("data",c),s.removeListener("drain",f),o.removeListener("end",p),o.removeListener("close",g),o.removeListener("error",y),s.removeListener("error",y),o.removeListener("end",m),o.removeListener("close",m),s.removeListener("close",m)}return o.on("end",m),o.on("close",m),s.on("close",m),s.emit("pipe",o),s}}),a2=gt((t,i)=>{lt();var r=Cn().Stream;i.exports=u;function u(a){return{ReadStream:s,WriteStream:e};function s(o,c){if(!(this instanceof s))return new s(o,c);r.call(this);var f=this;this.path=o,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,c=c||{};for(var l=Object.keys(c),p=0,g=l.length;p<g;p++){var y=l[p];this[y]=c[y]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){Jt.default.nextTick(function(){f._read()});return}a.open(this.path,this.flags,this.mode,function(m,M){if(m){f.emit("error",m),f.readable=!1;return}f.fd=M,f.emit("open",M),f._read()})}function e(o,c){if(!(this instanceof e))return new e(o,c);r.call(this),this.path=o,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,c=c||{};for(var f=Object.keys(c),l=0,p=f.length;l<p;l++){var g=f[l];this[g]=c[g]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=a.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}),o2=gt((t,i)=>{lt(),i.exports=u;var r=Object.getPrototypeOf||function(a){return a.__proto__};function u(a){if(a===null||typeof a!="object")return a;if(a instanceof Object)var s={__proto__:r(a)};else var s=Object.create(null);return Object.getOwnPropertyNames(a).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(a,e))}),s}}),Pc=gt((t,i)=>{lt();function r(U){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},r(U)}function u(U,P){for(var D=0;D<P.length;D++){var W=P[D];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(U,s(W.key),W)}}function a(U,P,D){return P&&u(U.prototype,P),D&&u(U,D),Object.defineProperty(U,"prototype",{writable:!1}),U}function s(U){var P=e(U,"string");return r(P)==="symbol"?P:String(P)}function e(U,P){if(r(U)!=="object"||U===null)return U;var D=U[Symbol.toPrimitive];if(D!==void 0){var W=D.call(U,P||"default");if(r(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(U)}function o(U,P){if(!(U instanceof P))throw new TypeError("Cannot call a class as a function")}function c(U,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(P&&P.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),P&&f(U,P)}function f(U,P){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,W){return D.__proto__=W,D},f(U,P)}function l(U){var P=y();return function(){var D=m(U),W;if(P){var q=m(this).constructor;W=Reflect.construct(D,arguments,q)}else W=D.apply(this,arguments);return p(this,W)}}function p(U,P){if(P&&(r(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(U)}function g(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(U){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},m(U)}var M={},E,B;function x(U,P,D){D||(D=Error);function W(O,L,n){return typeof P=="string"?P:P(O,L,n)}var q=function(O){c(n,O);var L=l(n);function n(d,v,A){var T;return o(this,n),T=L.call(this,W(d,v,A)),T.code=U,T}return a(n)}(D);M[U]=q}function C(U,P){if(Array.isArray(U)){var D=U.length;return U=U.map(function(W){return String(W)}),D>2?"one of ".concat(P," ").concat(U.slice(0,D-1).join(", "),", or ")+U[D-1]:D===2?"one of ".concat(P," ").concat(U[0]," or ").concat(U[1]):"of ".concat(P," ").concat(U[0])}else return"of ".concat(P," ").concat(String(U))}function N(U,P,D){return U.substr(!D||D<0?0:+D,P.length)===P}function F(U,P,D){return(D===void 0||D>U.length)&&(D=U.length),U.substring(D-P.length,D)===P}function I(U,P,D){return typeof D!="number"&&(D=0),D+P.length>U.length?!1:U.indexOf(P,D)!==-1}x("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),x("ERR_INVALID_ARG_TYPE",function(U,P,D){E===void 0&&(E=li()),E(typeof U=="string","'name' must be a string");var W;typeof P=="string"&&N(P,"not ")?(W="must not be",P=P.replace(/^not /,"")):W="must be";var q;if(F(U," argument"))q="The ".concat(U," ").concat(W," ").concat(C(P,"type"));else{var O=I(U,".")?"property":"argument";q='The "'.concat(U,'" ').concat(O," ").concat(W," ").concat(C(P,"type"))}return q+=". Received type ".concat(r(D)),q},TypeError),x("ERR_INVALID_ARG_VALUE",function(U,P){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";B===void 0&&(B=He());var W=B.inspect(P);return W.length>128&&(W="".concat(W.slice(0,128),"...")),"The argument '".concat(U,"' ").concat(D,". Received ").concat(W)},TypeError),x("ERR_INVALID_RETURN_VALUE",function(U,P,D){var W;return D&&D.constructor&&D.constructor.name?W="instance of ".concat(D.constructor.name):W="type ".concat(r(D)),"Expected ".concat(U,' to be returned from the "').concat(P,'"')+" function but got ".concat(W,".")},TypeError),x("ERR_MISSING_ARGS",function(){for(var U=arguments.length,P=new Array(U),D=0;D<U;D++)P[D]=arguments[D];E===void 0&&(E=li()),E(P.length>0,"At least one arg needs to be specified");var W="The ",q=P.length;switch(P=P.map(function(O){return'"'.concat(O,'"')}),q){case 1:W+="".concat(P[0]," argument");break;case 2:W+="".concat(P[0]," and ").concat(P[1]," arguments");break;default:W+=P.slice(0,q-1).join(", "),W+=", and ".concat(P[q-1]," arguments");break}return"".concat(W," must be specified")},TypeError),i.exports.codes=M}),s2=gt((t,i)=>{lt();function r(b,h){var k=Object.keys(b);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(b);h&&(tt=tt.filter(function(X){return Object.getOwnPropertyDescriptor(b,X).enumerable})),k.push.apply(k,tt)}return k}function u(b){for(var h=1;h<arguments.length;h++){var k=arguments[h]!=null?arguments[h]:{};h%2?r(Object(k),!0).forEach(function(tt){a(b,tt,k[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(k)):r(Object(k)).forEach(function(tt){Object.defineProperty(b,tt,Object.getOwnPropertyDescriptor(k,tt))})}return b}function a(b,h,k){return h=c(h),h in b?Object.defineProperty(b,h,{value:k,enumerable:!0,configurable:!0,writable:!0}):b[h]=k,b}function s(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}function e(b,h){for(var k=0;k<h.length;k++){var tt=h[k];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(b,c(tt.key),tt)}}function o(b,h,k){return h&&e(b.prototype,h),k&&e(b,k),Object.defineProperty(b,"prototype",{writable:!1}),b}function c(b){var h=f(b,"string");return N(h)==="symbol"?h:String(h)}function f(b,h){if(N(b)!=="object"||b===null)return b;var k=b[Symbol.toPrimitive];if(k!==void 0){var tt=k.call(b,h||"default");if(N(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(b)}function l(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),h&&x(b,h)}function p(b){var h=E();return function(){var k=C(b),tt;if(h){var X=C(this).constructor;tt=Reflect.construct(k,arguments,X)}else tt=k.apply(this,arguments);return g(this,tt)}}function g(b,h){if(h&&(N(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(b)}function y(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function m(b){var h=typeof Map=="function"?new Map:void 0;return m=function(k){if(k===null||!B(k))return k;if(typeof k!="function")throw new TypeError("Super expression must either be null or a function");if(typeof h<"u"){if(h.has(k))return h.get(k);h.set(k,tt)}function tt(){return M(k,arguments,C(this).constructor)}return tt.prototype=Object.create(k.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),x(tt,k)},m(b)}function M(b,h,k){return E()?M=Reflect.construct.bind():M=function(tt,X,ft){var et=[null];et.push.apply(et,X);var at=Function.bind.apply(tt,et),$=new at;return ft&&x($,ft.prototype),$},M.apply(null,arguments)}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function B(b){return Function.toString.call(b).indexOf("[native code]")!==-1}function x(b,h){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,tt){return k.__proto__=tt,k},x(b,h)}function C(b){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},C(b)}function N(b){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},N(b)}var F=He(),I=F.inspect,U=Pc(),P=U.codes.ERR_INVALID_ARG_TYPE;function D(b,h,k){return(k===void 0||k>b.length)&&(k=b.length),b.substring(k-h.length,k)===h}function W(b,h){if(h=Math.floor(h),b.length==0||h==0)return"";var k=b.length*h;for(h=Math.floor(Math.log(h)/Math.log(2));h;)b+=b,h--;return b+=b.substring(0,k-b.length),b}var q="",O="",L="",n="",d={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},v=10;function A(b){var h=Object.keys(b),k=Object.create(Object.getPrototypeOf(b));return h.forEach(function(tt){k[tt]=b[tt]}),Object.defineProperty(k,"message",{value:b.message}),k}function T(b){return I(b,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function S(b,h,k){var tt="",X="",ft=0,et="",at=!1,$=T(b),J=$.split(`
`),R=T(h).split(`
`),j=0,z="";if(k==="strictEqual"&&N(b)==="object"&&N(h)==="object"&&b!==null&&h!==null&&(k="strictEqualObject"),J.length===1&&R.length===1&&J[0]!==R[0]){var Z=J[0].length+R[0].length;if(Z<=v){if((N(b)!=="object"||b===null)&&(N(h)!=="object"||h===null)&&(b!==0||h!==0))return"".concat(d[k],`

`)+"".concat(J[0]," !== ").concat(R[0],`
`)}else if(k!=="strictEqualObject"){var Q=Jt.default.stderr&&Jt.default.stderr.isTTY?Jt.default.stderr.columns:80;if(Z<Q){for(;J[0][j]===R[0][j];)j++;j>2&&(z=`
  `.concat(W(" ",j),"^"),j=0)}}}for(var K=J[J.length-1],G=R[R.length-1];K===G&&(j++<2?et=`
  `.concat(K).concat(et):tt=K,J.pop(),R.pop(),!(J.length===0||R.length===0));)K=J[J.length-1],G=R[R.length-1];var H=Math.max(J.length,R.length);if(H===0){var Y=$.split(`
`);if(Y.length>30)for(Y[26]="".concat(q,"...").concat(n);Y.length>27;)Y.pop();return"".concat(d.notIdentical,`

`).concat(Y.join(`
`),`
`)}j>3&&(et=`
`.concat(q,"...").concat(n).concat(et),at=!0),tt!==""&&(et=`
  `.concat(tt).concat(et),tt="");var it=0,ot=d[k]+`
`.concat(O,"+ actual").concat(n," ").concat(L,"- expected").concat(n),mt=" ".concat(q,"...").concat(n," Lines skipped");for(j=0;j<H;j++){var _t=j-ft;if(J.length<j+1)_t>1&&j>2&&(_t>4?(X+=`
`.concat(q,"...").concat(n),at=!0):_t>3&&(X+=`
  `.concat(R[j-2]),it++),X+=`
  `.concat(R[j-1]),it++),ft=j,tt+=`
`.concat(L,"-").concat(n," ").concat(R[j]),it++;else if(R.length<j+1)_t>1&&j>2&&(_t>4?(X+=`
`.concat(q,"...").concat(n),at=!0):_t>3&&(X+=`
  `.concat(J[j-2]),it++),X+=`
  `.concat(J[j-1]),it++),ft=j,X+=`
`.concat(O,"+").concat(n," ").concat(J[j]),it++;else{var ht=R[j],vt=J[j],pt=vt!==ht&&(!D(vt,",")||vt.slice(0,-1)!==ht);pt&&D(ht,",")&&ht.slice(0,-1)===vt&&(pt=!1,vt+=","),pt?(_t>1&&j>2&&(_t>4?(X+=`
`.concat(q,"...").concat(n),at=!0):_t>3&&(X+=`
  `.concat(J[j-2]),it++),X+=`
  `.concat(J[j-1]),it++),ft=j,X+=`
`.concat(O,"+").concat(n," ").concat(vt),tt+=`
`.concat(L,"-").concat(n," ").concat(ht),it+=2):(X+=tt,tt="",(_t===1||j===0)&&(X+=`
  `.concat(vt),it++))}if(it>20&&j<H-2)return"".concat(ot).concat(mt,`
`).concat(X,`
`).concat(q,"...").concat(n).concat(tt,`
`)+"".concat(q,"...").concat(n)}return"".concat(ot).concat(at?mt:"",`
`).concat(X).concat(tt).concat(et).concat(z)}var w=function(b,h){l(tt,b);var k=p(tt);function tt(X){var ft;if(s(this,tt),N(X)!=="object"||X===null)throw new P("options","Object",X);var et=X.message,at=X.operator,$=X.stackStartFn,J=X.actual,R=X.expected,j=Error.stackTraceLimit;if(Error.stackTraceLimit=0,et!=null)ft=k.call(this,String(et));else if(Jt.default.stderr&&Jt.default.stderr.isTTY&&(Jt.default.stderr&&Jt.default.stderr.getColorDepth&&Jt.default.stderr.getColorDepth()!==1?(q="\x1B[34m",O="\x1B[32m",n="\x1B[39m",L="\x1B[31m"):(q="",O="",n="",L="")),N(J)==="object"&&J!==null&&N(R)==="object"&&R!==null&&"stack"in J&&J instanceof Error&&"stack"in R&&R instanceof Error&&(J=A(J),R=A(R)),at==="deepStrictEqual"||at==="strictEqual")ft=k.call(this,S(J,R,at));else if(at==="notDeepStrictEqual"||at==="notStrictEqual"){var z=d[at],Z=T(J).split(`
`);if(at==="notStrictEqual"&&N(J)==="object"&&J!==null&&(z=d.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(q,"...").concat(n);Z.length>27;)Z.pop();Z.length===1?ft=k.call(this,"".concat(z," ").concat(Z[0])):ft=k.call(this,"".concat(z,`

`).concat(Z.join(`
`),`
`))}else{var Q=T(J),K="",G=d[at];at==="notDeepEqual"||at==="notEqual"?(Q="".concat(d[at],`

`).concat(Q),Q.length>1024&&(Q="".concat(Q.slice(0,1021),"..."))):(K="".concat(T(R)),Q.length>512&&(Q="".concat(Q.slice(0,509),"...")),K.length>512&&(K="".concat(K.slice(0,509),"...")),at==="deepEqual"||at==="equal"?Q="".concat(G,`

`).concat(Q,`

should equal

`):K=" ".concat(at," ").concat(K)),ft=k.call(this,"".concat(Q).concat(K))}return Error.stackTraceLimit=j,ft.generatedMessage=!et,Object.defineProperty(y(ft),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),ft.code="ERR_ASSERTION",ft.actual=J,ft.expected=R,ft.operator=at,Error.captureStackTrace&&Error.captureStackTrace(y(ft),$),ft.stack,ft.name="AssertionError",g(ft)}return o(tt,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h,value:function(X,ft){return I(this,u(u({},ft),{},{customInspect:!1,depth:0}))}}]),tt}(m(Error),I.custom);i.exports=w}),Rc=gt((t,i)=>{lt();var r=Object.prototype.toString;i.exports=function(u){var a=r.call(u),s=a==="[object Arguments]";return s||(s=a!=="[object Array]"&&u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&r.call(u.callee)==="[object Function]"),s}}),u2=gt((t,i)=>{lt();var r;Object.keys||(u=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Rc(),e=Object.prototype.propertyIsEnumerable,o=!e.call({toString:null},"toString"),c=e.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(m){var M=m.constructor;return M&&M.prototype===m},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(typeof window>"u")return!1;for(var m in window)try{if(!p["$"+m]&&u.call(window,m)&&window[m]!==null&&typeof window[m]=="object")try{l(window[m])}catch{return!0}}catch{return!0}return!1}(),y=function(m){if(typeof window>"u"||!g)return l(m);try{return l(m)}catch{return!1}},r=function(m){var M=m!==null&&typeof m=="object",E=a.call(m)==="[object Function]",B=s(m),x=M&&a.call(m)==="[object String]",C=[];if(!M&&!E&&!B)throw new TypeError("Object.keys called on a non-object");var N=c&&E;if(x&&m.length>0&&!u.call(m,0))for(var F=0;F<m.length;++F)C.push(String(F));if(B&&m.length>0)for(var I=0;I<m.length;++I)C.push(String(I));else for(var U in m)!(N&&U==="prototype")&&u.call(m,U)&&C.push(String(U));if(o)for(var P=y(m),D=0;D<f.length;++D)!(P&&f[D]==="constructor")&&u.call(m,f[D])&&C.push(f[D]);return C});var u,a,s,e,o,c,f,l,p,g,y;i.exports=r}),Nc=gt((t,i)=>{lt();var r=Array.prototype.slice,u=Rc(),a=Object.keys,s=a?function(o){return a(o)}:u2(),e=Object.keys;s.shim=function(){if(Object.keys){var o=function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2);o||(Object.keys=function(c){return u(c)?e(r.call(c)):e(c)})}else Object.keys=s;return Object.keys||s},i.exports=s}),h2=gt((t,i)=>{lt();var r=Nc(),u=ku()(),a=$o(),s=Object,e=a("Array.prototype.push"),o=a("Object.prototype.propertyIsEnumerable"),c=u?Object.getOwnPropertySymbols:null;i.exports=function(f,l){if(f==null)throw new TypeError("target must be an object");var p=s(f);if(arguments.length===1)return p;for(var g=1;g<arguments.length;++g){var y=s(arguments[g]),m=r(y),M=u&&(Object.getOwnPropertySymbols||c);if(M)for(var E=M(y),B=0;B<E.length;++B){var x=E[B];o(y,x)&&e(m,x)}for(var C=0;C<m.length;++C){var N=m[C];if(o(y,N)){var F=y[N];p[N]=F}}}return p}}),l2=gt((t,i)=>{lt();var r=h2(),u=function(){if(!Object.assign)return!1;for(var s="abcdefghijklmnopqrst",e=s.split(""),o={},c=0;c<e.length;++c)o[e[c]]=e[c];var f=Object.assign({},o),l="";for(var p in f)l+=p;return s!==l},a=function(){if(!Object.assign||!Object.preventExtensions)return!1;var s=Object.preventExtensions({1:2});try{Object.assign(s,"xy")}catch{return s[1]==="y"}return!1};i.exports=function(){return!Object.assign||u()||a()?r:Object.assign}}),Lc=gt((t,i)=>{lt();var r=function(u){return u!==u};i.exports=function(u,a){return u===0&&a===0?1/u===1/a:!!(u===a||r(u)&&r(a))}}),Du=gt((t,i)=>{lt();var r=Lc();i.exports=function(){return typeof Object.is=="function"?Object.is:r}}),Go=gt((t,i)=>{lt();var r=Nc(),u=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,s=Array.prototype.concat,e=xc(),o=function(p){return typeof p=="function"&&a.call(p)==="[object Function]"},c=Bu()(),f=function(p,g,y,m){if(g in p){if(m===!0){if(p[g]===y)return}else if(!o(m)||!m())return}c?e(p,g,y,!0):e(p,g,y)},l=function(p,g){var y=arguments.length>2?arguments[2]:{},m=r(g);u&&(m=s.call(m,Object.getOwnPropertySymbols(g)));for(var M=0;M<m.length;M+=1)f(p,m[M],g[m[M]],y[m[M]])};l.supportsDescriptors=!!c,i.exports=l}),f2=gt((t,i)=>{lt();var r=Du(),u=Go();i.exports=function(){var a=r();return u(Object,{is:a},{is:function(){return Object.is!==a}}),a}}),c2=gt((t,i)=>{lt();var r=Go(),u=qo(),a=Lc(),s=Du(),e=f2(),o=u(s(),Object);r(o,{getPolyfill:s,implementation:a,shim:e}),i.exports=o}),Dc=gt((t,i)=>{lt(),i.exports=function(r){return r!==r}}),jc=gt((t,i)=>{lt();var r=Dc();i.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}}),d2=gt((t,i)=>{lt();var r=Go(),u=jc();i.exports=function(){var a=u();return r(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a}}),p2=gt((t,i)=>{lt();var r=qo(),u=Go(),a=Dc(),s=jc(),e=d2(),o=r(s(),Number);u(o,{getPolyfill:s,implementation:a,shim:e}),i.exports=o}),g2=gt((t,i)=>{lt();function r(pt,V){return o(pt)||e(pt,V)||a(pt,V)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(pt,V){if(pt){if(typeof pt=="string")return s(pt,V);var rt=Object.prototype.toString.call(pt).slice(8,-1);if(rt==="Object"&&pt.constructor&&(rt=pt.constructor.name),rt==="Map"||rt==="Set")return Array.from(pt);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return s(pt,V)}}function s(pt,V){(V==null||V>pt.length)&&(V=pt.length);for(var rt=0,st=new Array(V);rt<V;rt++)st[rt]=pt[rt];return st}function e(pt,V){var rt=pt==null?null:typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(rt!=null){var st,yt,Ct,dt,Mt=[],Lt=!0,wt=!1;try{if(Ct=(rt=rt.call(pt)).next,V===0){if(Object(rt)!==rt)return;Lt=!1}else for(;!(Lt=(st=Ct.call(rt)).done)&&(Mt.push(st.value),Mt.length!==V);Lt=!0);}catch(ct){wt=!0,yt=ct}finally{try{if(!Lt&&rt.return!=null&&(dt=rt.return(),Object(dt)!==dt))return}finally{if(wt)throw yt}}return Mt}}function o(pt){if(Array.isArray(pt))return pt}function c(pt){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(pt)}var f=/a/g.flags!==void 0,l=function(pt){var V=[];return pt.forEach(function(rt){return V.push(rt)}),V},p=function(pt){var V=[];return pt.forEach(function(rt,st){return V.push([st,rt])}),V},g=Object.is?Object.is:c2(),y=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},m=Number.isNaN?Number.isNaN:p2();function M(pt){return pt.call.bind(pt)}var E=M(Object.prototype.hasOwnProperty),B=M(Object.prototype.propertyIsEnumerable),x=M(Object.prototype.toString),C=He().types,N=C.isAnyArrayBuffer,F=C.isArrayBufferView,I=C.isDate,U=C.isMap,P=C.isRegExp,D=C.isSet,W=C.isNativeError,q=C.isBoxedPrimitive,O=C.isNumberObject,L=C.isStringObject,n=C.isBooleanObject,d=C.isBigIntObject,v=C.isSymbolObject,A=C.isFloat32Array,T=C.isFloat64Array;function S(pt){if(pt.length===0||pt.length>10)return!0;for(var V=0;V<pt.length;V++){var rt=pt.charCodeAt(V);if(rt<48||rt>57)return!0}return pt.length===10&&pt>=Math.pow(2,32)}function w(pt){return Object.keys(pt).filter(S).concat(y(pt).filter(Object.prototype.propertyIsEnumerable.bind(pt)))}function b(pt,V){if(pt===V)return 0;for(var rt=pt.length,st=V.length,yt=0,Ct=Math.min(rt,st);yt<Ct;++yt)if(pt[yt]!==V[yt]){rt=pt[yt],st=V[yt];break}return rt<st?-1:st<rt?1:0}var h=!0,k=!1,tt=0,X=1,ft=2,et=3;function at(pt,V){return f?pt.source===V.source&&pt.flags===V.flags:RegExp.prototype.toString.call(pt)===RegExp.prototype.toString.call(V)}function $(pt,V){if(pt.byteLength!==V.byteLength)return!1;for(var rt=0;rt<pt.byteLength;rt++)if(pt[rt]!==V[rt])return!1;return!0}function J(pt,V){return pt.byteLength!==V.byteLength?!1:b(new Uint8Array(pt.buffer,pt.byteOffset,pt.byteLength),new Uint8Array(V.buffer,V.byteOffset,V.byteLength))===0}function R(pt,V){return pt.byteLength===V.byteLength&&b(new Uint8Array(pt),new Uint8Array(V))===0}function j(pt,V){return O(pt)?O(V)&&g(Number.prototype.valueOf.call(pt),Number.prototype.valueOf.call(V)):L(pt)?L(V)&&String.prototype.valueOf.call(pt)===String.prototype.valueOf.call(V):n(pt)?n(V)&&Boolean.prototype.valueOf.call(pt)===Boolean.prototype.valueOf.call(V):d(pt)?d(V)&&BigInt.prototype.valueOf.call(pt)===BigInt.prototype.valueOf.call(V):v(V)&&Symbol.prototype.valueOf.call(pt)===Symbol.prototype.valueOf.call(V)}function z(pt,V,rt,st){if(pt===V)return pt!==0?!0:rt?g(pt,V):!0;if(rt){if(c(pt)!=="object")return typeof pt=="number"&&m(pt)&&m(V);if(c(V)!=="object"||pt===null||V===null||Object.getPrototypeOf(pt)!==Object.getPrototypeOf(V))return!1}else{if(pt===null||c(pt)!=="object")return V===null||c(V)!=="object"?pt==V:!1;if(V===null||c(V)!=="object")return!1}var yt=x(pt),Ct=x(V);if(yt!==Ct)return!1;if(Array.isArray(pt)){if(pt.length!==V.length)return!1;var dt=w(pt),Mt=w(V);return dt.length!==Mt.length?!1:Q(pt,V,rt,st,X,dt)}if(yt==="[object Object]"&&(!U(pt)&&U(V)||!D(pt)&&D(V)))return!1;if(I(pt)){if(!I(V)||Date.prototype.getTime.call(pt)!==Date.prototype.getTime.call(V))return!1}else if(P(pt)){if(!P(V)||!at(pt,V))return!1}else if(W(pt)||pt instanceof Error){if(pt.message!==V.message||pt.name!==V.name)return!1}else if(F(pt)){if(!rt&&(A(pt)||T(pt))){if(!$(pt,V))return!1}else if(!J(pt,V))return!1;var Lt=w(pt),wt=w(V);return Lt.length!==wt.length?!1:Q(pt,V,rt,st,tt,Lt)}else{if(D(pt))return!D(V)||pt.size!==V.size?!1:Q(pt,V,rt,st,ft);if(U(pt))return!U(V)||pt.size!==V.size?!1:Q(pt,V,rt,st,et);if(N(pt)){if(!R(pt,V))return!1}else if(q(pt)&&!j(pt,V))return!1}return Q(pt,V,rt,st,tt)}function Z(pt,V){return V.filter(function(rt){return B(pt,rt)})}function Q(pt,V,rt,st,yt,Ct){if(arguments.length===5){Ct=Object.keys(pt);var dt=Object.keys(V);if(Ct.length!==dt.length)return!1}for(var Mt=0;Mt<Ct.length;Mt++)if(!E(V,Ct[Mt]))return!1;if(rt&&arguments.length===5){var Lt=y(pt);if(Lt.length!==0){var wt=0;for(Mt=0;Mt<Lt.length;Mt++){var ct=Lt[Mt];if(B(pt,ct)){if(!B(V,ct))return!1;Ct.push(ct),wt++}else if(B(V,ct))return!1}var Et=y(V);if(Lt.length!==Et.length&&Z(V,Et).length!==wt)return!1}else{var ut=y(V);if(ut.length!==0&&Z(V,ut).length!==0)return!1}}if(Ct.length===0&&(yt===tt||yt===X&&pt.length===0||pt.size===0))return!0;if(st===void 0)st={val1:new Map,val2:new Map,position:0};else{var Ot=st.val1.get(pt);if(Ot!==void 0){var qt=st.val2.get(V);if(qt!==void 0)return Ot===qt}st.position++}st.val1.set(pt,st.position),st.val2.set(V,st.position);var nt=_t(pt,V,rt,Ct,st,yt);return st.val1.delete(pt),st.val2.delete(V),nt}function K(pt,V,rt,st){for(var yt=l(pt),Ct=0;Ct<yt.length;Ct++){var dt=yt[Ct];if(z(V,dt,rt,st))return pt.delete(dt),!0}return!1}function G(pt){switch(c(pt)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":pt=+pt;case"number":if(m(pt))return!1}return!0}function H(pt,V,rt){var st=G(rt);return st??(V.has(st)&&!pt.has(st))}function Y(pt,V,rt,st,yt){var Ct=G(rt);if(Ct!=null)return Ct;var dt=V.get(Ct);return dt===void 0&&!V.has(Ct)||!z(st,dt,!1,yt)?!1:!pt.has(Ct)&&z(st,dt,!1,yt)}function it(pt,V,rt,st){for(var yt=null,Ct=l(pt),dt=0;dt<Ct.length;dt++){var Mt=Ct[dt];if(c(Mt)==="object"&&Mt!==null)yt===null&&(yt=new Set),yt.add(Mt);else if(!V.has(Mt)){if(rt||!H(pt,V,Mt))return!1;yt===null&&(yt=new Set),yt.add(Mt)}}if(yt!==null){for(var Lt=l(V),wt=0;wt<Lt.length;wt++){var ct=Lt[wt];if(c(ct)==="object"&&ct!==null){if(!K(yt,ct,rt,st))return!1}else if(!rt&&!pt.has(ct)&&!K(yt,ct,rt,st))return!1}return yt.size===0}return!0}function ot(pt,V,rt,st,yt,Ct){for(var dt=l(pt),Mt=0;Mt<dt.length;Mt++){var Lt=dt[Mt];if(z(rt,Lt,yt,Ct)&&z(st,V.get(Lt),yt,Ct))return pt.delete(Lt),!0}return!1}function mt(pt,V,rt,st){for(var yt=null,Ct=p(pt),dt=0;dt<Ct.length;dt++){var Mt=r(Ct[dt],2),Lt=Mt[0],wt=Mt[1];if(c(Lt)==="object"&&Lt!==null)yt===null&&(yt=new Set),yt.add(Lt);else{var ct=V.get(Lt);if(ct===void 0&&!V.has(Lt)||!z(wt,ct,rt,st)){if(rt||!Y(pt,V,Lt,wt,st))return!1;yt===null&&(yt=new Set),yt.add(Lt)}}}if(yt!==null){for(var Et=p(V),ut=0;ut<Et.length;ut++){var Ot=r(Et[ut],2),qt=Ot[0],nt=Ot[1];if(c(qt)==="object"&&qt!==null){if(!ot(yt,pt,qt,nt,rt,st))return!1}else if(!rt&&(!pt.has(qt)||!z(pt.get(qt),nt,!1,st))&&!ot(yt,pt,qt,nt,!1,st))return!1}return yt.size===0}return!0}function _t(pt,V,rt,st,yt,Ct){var dt=0;if(Ct===ft){if(!it(pt,V,rt,yt))return!1}else if(Ct===et){if(!mt(pt,V,rt,yt))return!1}else if(Ct===X)for(;dt<pt.length;dt++)if(E(pt,dt)){if(!E(V,dt)||!z(pt[dt],V[dt],rt,yt))return!1}else{if(E(V,dt))return!1;for(var Mt=Object.keys(pt);dt<Mt.length;dt++){var Lt=Mt[dt];if(!E(V,Lt)||!z(pt[Lt],V[Lt],rt,yt))return!1}return Mt.length===Object.keys(V).length}for(dt=0;dt<st.length;dt++){var wt=st[dt];if(!z(pt[wt],V[wt],rt,yt))return!1}return!0}function ht(pt,V){return z(pt,V,k)}function vt(pt,V){return z(pt,V,h)}i.exports={isDeepEqual:ht,isDeepStrictEqual:vt}}),li=gt((t,i)=>{lt();function r($){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},r($)}function u($,J){for(var R=0;R<J.length;R++){var j=J[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty($,s(j.key),j)}}function a($,J,R){return J&&u($.prototype,J),R&&u($,R),Object.defineProperty($,"prototype",{writable:!1}),$}function s($){var J=e($,"string");return r(J)==="symbol"?J:String(J)}function e($,J){if(r($)!=="object"||$===null)return $;var R=$[Symbol.toPrimitive];if(R!==void 0){var j=R.call($,J||"default");if(r(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)($)}function o($,J){if(!($ instanceof J))throw new TypeError("Cannot call a class as a function")}var c=Pc(),f=c.codes,l=f.ERR_AMBIGUOUS_ARGUMENT,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_INVALID_ARG_VALUE,y=f.ERR_INVALID_RETURN_VALUE,m=f.ERR_MISSING_ARGS,M=s2(),E=He(),B=E.inspect,x=He().types,C=x.isPromise,N=x.isRegExp,F=l2()(),I=Du()(),U=$o()("RegExp.prototype.test"),P,D;function W(){var $=g2();P=$.isDeepEqual,D=$.isDeepStrictEqual}var q=!1,O=i.exports=A,L={};function n($){throw $.message instanceof Error?$.message:new M($)}function d($,J,R,j,z){var Z=arguments.length,Q;if(Z===0)Q="Failed";else if(Z===1)R=$,$=void 0;else{if(q===!1){q=!0;var K=Jt.default.emitWarning?Jt.default.emitWarning:console.warn.bind(console);K("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(j="!=")}if(R instanceof Error)throw R;var G={actual:$,expected:J,operator:j===void 0?"fail":j,stackStartFn:z||d};R!==void 0&&(G.message=R);var H=new M(G);throw Q&&(H.message=Q,H.generatedMessage=!0),H}O.fail=d,O.AssertionError=M;function v($,J,R,j){if(!R){var z=!1;if(J===0)z=!0,j="No value argument passed to `assert.ok()`";else if(j instanceof Error)throw j;var Z=new M({actual:R,expected:!0,message:j,operator:"==",stackStartFn:$});throw Z.generatedMessage=z,Z}}function A(){for(var $=arguments.length,J=new Array($),R=0;R<$;R++)J[R]=arguments[R];v.apply(void 0,[A,J.length].concat(J))}O.ok=A,O.equal=function $(J,R,j){if(arguments.length<2)throw new m("actual","expected");J!=R&&n({actual:J,expected:R,message:j,operator:"==",stackStartFn:$})},O.notEqual=function $(J,R,j){if(arguments.length<2)throw new m("actual","expected");J==R&&n({actual:J,expected:R,message:j,operator:"!=",stackStartFn:$})},O.deepEqual=function $(J,R,j){if(arguments.length<2)throw new m("actual","expected");P===void 0&&W(),P(J,R)||n({actual:J,expected:R,message:j,operator:"deepEqual",stackStartFn:$})},O.notDeepEqual=function $(J,R,j){if(arguments.length<2)throw new m("actual","expected");P===void 0&&W(),P(J,R)&&n({actual:J,expected:R,message:j,operator:"notDeepEqual",stackStartFn:$})},O.deepStrictEqual=function $(J,R,j){if(arguments.length<2)throw new m("actual","expected");P===void 0&&W(),D(J,R)||n({actual:J,expected:R,message:j,operator:"deepStrictEqual",stackStartFn:$})},O.notDeepStrictEqual=T;function T($,J,R){if(arguments.length<2)throw new m("actual","expected");P===void 0&&W(),D($,J)&&n({actual:$,expected:J,message:R,operator:"notDeepStrictEqual",stackStartFn:T})}O.strictEqual=function $(J,R,j){if(arguments.length<2)throw new m("actual","expected");I(J,R)||n({actual:J,expected:R,message:j,operator:"strictEqual",stackStartFn:$})},O.notStrictEqual=function $(J,R,j){if(arguments.length<2)throw new m("actual","expected");I(J,R)&&n({actual:J,expected:R,message:j,operator:"notStrictEqual",stackStartFn:$})};var S=a(function $(J,R,j){var z=this;o(this,$),R.forEach(function(Z){Z in J&&(j!==void 0&&typeof j[Z]=="string"&&N(J[Z])&&U(J[Z],j[Z])?z[Z]=j[Z]:z[Z]=J[Z])})});function w($,J,R,j,z,Z){if(!(R in $)||!D($[R],J[R])){if(!j){var Q=new S($,z),K=new S(J,z,$),G=new M({actual:Q,expected:K,operator:"deepStrictEqual",stackStartFn:Z});throw G.actual=$,G.expected=J,G.operator=Z.name,G}n({actual:$,expected:J,message:j,operator:Z.name,stackStartFn:Z})}}function b($,J,R,j){if(typeof J!="function"){if(N(J))return U(J,$);if(arguments.length===2)throw new p("expected",["Function","RegExp"],J);if(r($)!=="object"||$===null){var z=new M({actual:$,expected:J,message:R,operator:"deepStrictEqual",stackStartFn:j});throw z.operator=j.name,z}var Z=Object.keys(J);if(J instanceof Error)Z.push("name","message");else if(Z.length===0)throw new g("error",J,"may not be an empty object");return P===void 0&&W(),Z.forEach(function(Q){typeof $[Q]=="string"&&N(J[Q])&&U(J[Q],$[Q])||w($,J,Q,R,Z,j)}),!0}return J.prototype!==void 0&&$ instanceof J?!0:Error.isPrototypeOf(J)?!1:J.call({},$)===!0}function h($){if(typeof $!="function")throw new p("fn","Function",$);try{$()}catch(J){return J}return L}function k($){return C($)||$!==null&&r($)==="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function tt($){return Promise.resolve().then(function(){var J;if(typeof $=="function"){if(J=$(),!k(J))throw new y("instance of Promise","promiseFn",J)}else if(k($))J=$;else throw new p("promiseFn",["Function","Promise"],$);return Promise.resolve().then(function(){return J}).then(function(){return L}).catch(function(R){return R})})}function X($,J,R,j){if(typeof R=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],R);if(r(J)==="object"&&J!==null){if(J.message===R)throw new l("error/message",'The error message "'.concat(J.message,'" is identical to the message.'))}else if(J===R)throw new l("error/message",'The error "'.concat(J,'" is identical to the message.'));j=R,R=void 0}else if(R!=null&&r(R)!=="object"&&typeof R!="function")throw new p("error",["Object","Error","Function","RegExp"],R);if(J===L){var z="";R&&R.name&&(z+=" (".concat(R.name,")")),z+=j?": ".concat(j):".";var Z=$.name==="rejects"?"rejection":"exception";n({actual:void 0,expected:R,operator:$.name,message:"Missing expected ".concat(Z).concat(z),stackStartFn:$})}if(R&&!b(J,R,j,$))throw J}function ft($,J,R,j){if(J!==L){if(typeof R=="string"&&(j=R,R=void 0),!R||b(J,R)){var z=j?": ".concat(j):".",Z=$.name==="doesNotReject"?"rejection":"exception";n({actual:J,expected:R,operator:$.name,message:"Got unwanted ".concat(Z).concat(z,`
`)+'Actual message: "'.concat(J&&J.message,'"'),stackStartFn:$})}throw J}}O.throws=function $(J){for(var R=arguments.length,j=new Array(R>1?R-1:0),z=1;z<R;z++)j[z-1]=arguments[z];X.apply(void 0,[$,h(J)].concat(j))},O.rejects=function $(J){for(var R=arguments.length,j=new Array(R>1?R-1:0),z=1;z<R;z++)j[z-1]=arguments[z];return tt(J).then(function(Z){return X.apply(void 0,[$,Z].concat(j))})},O.doesNotThrow=function $(J){for(var R=arguments.length,j=new Array(R>1?R-1:0),z=1;z<R;z++)j[z-1]=arguments[z];ft.apply(void 0,[$,h(J)].concat(j))},O.doesNotReject=function $(J){for(var R=arguments.length,j=new Array(R>1?R-1:0),z=1;z<R;z++)j[z-1]=arguments[z];return tt(J).then(function(Z){return ft.apply(void 0,[$,Z].concat(j))})},O.ifError=function $(J){if(J!=null){var R="ifError got unwanted exception: ";r(J)==="object"&&typeof J.message=="string"?J.message.length===0&&J.constructor?R+=J.constructor.name:R+=J.message:R+=B(J);var j=new M({actual:J,expected:null,operator:"ifError",message:R,stackStartFn:$}),z=J.stack;if(typeof z=="string"){var Z=z.split(`
`);Z.shift();for(var Q=j.stack.split(`
`),K=0;K<Z.length;K++){var G=Q.indexOf(Z[K]);if(G!==-1){Q=Q.slice(0,G);break}}j.stack="".concat(Q.join(`
`),`
`).concat(Z.join(`
`))}throw j}};function et($,J,R,j,z){if(!N(J))throw new p("regexp","RegExp",J);var Z=z==="match";if(typeof $!="string"||U(J,$)!==Z){if(R instanceof Error)throw R;var Q=!R;R=R||(typeof $!="string"?'The "string" argument must be of type string. Received type '+"".concat(r($)," (").concat(B($),")"):(Z?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(B(J),`. Input:

`).concat(B($),`
`));var K=new M({actual:$,expected:J,message:R,operator:z,stackStartFn:j});throw K.generatedMessage=Q,K}}O.match=function $(J,R,j){et(J,R,j,$,"match")},O.doesNotMatch=function $(J,R,j){et(J,R,j,$,"doesNotMatch")};function at(){for(var $=arguments.length,J=new Array($),R=0;R<$;R++)J[R]=arguments[R];v.apply(void 0,[at,J.length].concat(J))}O.strict=F(at,O,{equal:O.strictEqual,deepEqual:O.deepStrictEqual,notEqual:O.notStrictEqual,notDeepEqual:O.notDeepStrictEqual}),O.strict.strict=O.strict}),Vo=gt((t,i)=>{lt();var r=pi(),u=zg(),a=a2(),s=o2(),e=He(),o,c;typeof Symbol=="function"&&typeof Symbol.for=="function"?(o=Symbol.for("graceful-fs.queue"),c=Symbol.for("graceful-fs.previous")):(o="___graceful-fs.queue",c="___graceful-fs.previous");function f(){}function l(x,C){Object.defineProperty(x,o,{get:function(){return C}})}var p=f;e.debuglog?p=e.debuglog("gfs4"):/\bgfs4\b/i.test(Jt.default.env.NODE_DEBUG||"")&&(p=function(){var x=e.format.apply(e,arguments);x="GFS4: "+x.split(/\n/).join(`
GFS4: `),console.error(x)}),r[o]||(g=le[o]||[],l(r,g),r.close=function(x){function C(N,F){return x.call(r,N,function(I){I||E(),typeof F=="function"&&F.apply(this,arguments)})}return Object.defineProperty(C,c,{value:x}),C}(r.close),r.closeSync=function(x){function C(N){x.apply(r,arguments),E()}return Object.defineProperty(C,c,{value:x}),C}(r.closeSync),/\bgfs4\b/i.test(Jt.default.env.NODE_DEBUG||"")&&Jt.default.on("exit",function(){p(r[o]),li().equal(r[o].length,0)}));var g;le[o]||l(le,r[o]),i.exports=y(s(r)),Jt.default.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(i.exports=y(r),r.__patched=!0);function y(x){u(x),x.gracefulify=y,x.createReadStream=k,x.createWriteStream=tt;var C=x.readFile;x.readFile=N;function N(et,at,$){return typeof at=="function"&&($=at,at=null),J(et,at,$);function J(R,j,z,Z){return C(R,j,function(Q){Q&&(Q.code==="EMFILE"||Q.code==="ENFILE")?m([J,[R,j,z],Q,Z||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}var F=x.writeFile;x.writeFile=I;function I(et,at,$,J){return typeof $=="function"&&(J=$,$=null),R(et,at,$,J);function R(j,z,Z,Q,K){return F(j,z,Z,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?m([R,[j,z,Z,Q],G,K||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var U=x.appendFile;U&&(x.appendFile=P);function P(et,at,$,J){return typeof $=="function"&&(J=$,$=null),R(et,at,$,J);function R(j,z,Z,Q,K){return U(j,z,Z,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?m([R,[j,z,Z,Q],G,K||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var D=x.copyFile;D&&(x.copyFile=W);function W(et,at,$,J){return typeof $=="function"&&(J=$,$=0),R(et,at,$,J);function R(j,z,Z,Q,K){return D(j,z,Z,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?m([R,[j,z,Z,Q],G,K||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var q=x.readdir;x.readdir=L;var O=/^v[0-5]\./;function L(et,at,$){typeof at=="function"&&($=at,at=null);var J=O.test(Jt.default.version)?function(j,z,Z,Q){return q(j,R(j,z,Z,Q))}:function(j,z,Z,Q){return q(j,z,R(j,z,Z,Q))};return J(et,at,$);function R(j,z,Z,Q){return function(K,G){K&&(K.code==="EMFILE"||K.code==="ENFILE")?m([J,[j,z,Z],K,Q||Date.now(),Date.now()]):(G&&G.sort&&G.sort(),typeof Z=="function"&&Z.call(this,K,G))}}}if(Jt.default.version.substr(0,4)==="v0.8"){var n=a(x);S=n.ReadStream,b=n.WriteStream}var d=x.ReadStream;d&&(S.prototype=Object.create(d.prototype),S.prototype.open=w);var v=x.WriteStream;v&&(b.prototype=Object.create(v.prototype),b.prototype.open=h),Object.defineProperty(x,"ReadStream",{get:function(){return S},set:function(et){S=et},enumerable:!0,configurable:!0}),Object.defineProperty(x,"WriteStream",{get:function(){return b},set:function(et){b=et},enumerable:!0,configurable:!0});var A=S;Object.defineProperty(x,"FileReadStream",{get:function(){return A},set:function(et){A=et},enumerable:!0,configurable:!0});var T=b;Object.defineProperty(x,"FileWriteStream",{get:function(){return T},set:function(et){T=et},enumerable:!0,configurable:!0});function S(et,at){return this instanceof S?(d.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function w(){var et=this;ft(et.path,et.flags,et.mode,function(at,$){at?(et.autoClose&&et.destroy(),et.emit("error",at)):(et.fd=$,et.emit("open",$),et.read())})}function b(et,at){return this instanceof b?(v.apply(this,arguments),this):b.apply(Object.create(b.prototype),arguments)}function h(){var et=this;ft(et.path,et.flags,et.mode,function(at,$){at?(et.destroy(),et.emit("error",at)):(et.fd=$,et.emit("open",$))})}function k(et,at){return new x.ReadStream(et,at)}function tt(et,at){return new x.WriteStream(et,at)}var X=x.open;x.open=ft;function ft(et,at,$,J){return typeof $=="function"&&(J=$,$=null),R(et,at,$,J);function R(j,z,Z,Q,K){return X(j,z,Z,function(G,H){G&&(G.code==="EMFILE"||G.code==="ENFILE")?m([R,[j,z,Z,Q],G,K||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}return x}function m(x){p("ENQUEUE",x[0].name,x[1]),r[o].push(x),B()}var M;function E(){for(var x=Date.now(),C=0;C<r[o].length;++C)r[o][C].length>2&&(r[o][C][3]=x,r[o][C][4]=x);B()}function B(){if(clearTimeout(M),M=void 0,r[o].length!==0){var x=r[o].shift(),C=x[0],N=x[1],F=x[2],I=x[3],U=x[4];if(I===void 0)p("RETRY",C.name,N),C.apply(null,N);else if(Date.now()-I>=6e4){p("TIMEOUT",C.name,N);var P=N.pop();typeof P=="function"&&P.call(null,F)}else{var D=Date.now()-U,W=Math.max(U-I,1),q=Math.min(W*1.2,100);D>=q?(p("RETRY",C.name,N),C.apply(null,N.concat([I]))):r[o].push(x)}M===void 0&&(M=setTimeout(B,0))}}}),Yn=gt((t,i)=>{lt(),typeof Jt.default>"u"||!Jt.default.version||Jt.default.version.indexOf("v0.")===0||Jt.default.version.indexOf("v1.")===0&&Jt.default.version.indexOf("v1.8.")!==0?i.exports={nextTick:r}:i.exports=Jt.default;function r(u,a,s,e){if(typeof u!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,c,f;switch(o){case 0:case 1:return Jt.default.nextTick(u);case 2:return Jt.default.nextTick(function(){u.call(null,a)});case 3:return Jt.default.nextTick(function(){u.call(null,a,s)});case 4:return Jt.default.nextTick(function(){u.call(null,a,s,e)});default:for(c=new Array(o-1),f=0;f<c.length;)c[f++]=arguments[f];return Jt.default.nextTick(function(){u.apply(null,c)})}}}),Uc=gt((t,i)=>{lt();var r={}.toString;i.exports=Array.isArray||function(u){return r.call(u)=="[object Array]"}}),Fc=gt((t,i)=>{lt(),i.exports=wn().EventEmitter}),Zo=gt((t,i)=>{lt();var r=$e(),u=r.Buffer;function a(e,o){for(var c in e)o[c]=e[c]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?i.exports=r:(a(r,t),t.Buffer=s);function s(e,o,c){return u(e,o,c)}a(u,s),s.from=function(e,o,c){if(typeof e=="number")throw new TypeError("Argument must not be a number");return u(e,o,c)},s.alloc=function(e,o,c){if(typeof e!="number")throw new TypeError("Argument must be a number");var f=u(e);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},s.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return u(e)},s.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}),Sn=gt(t=>{lt();function i(E){return Array.isArray?Array.isArray(E):M(E)==="[object Array]"}t.isArray=i;function r(E){return typeof E=="boolean"}t.isBoolean=r;function u(E){return E===null}t.isNull=u;function a(E){return E==null}t.isNullOrUndefined=a;function s(E){return typeof E=="number"}t.isNumber=s;function e(E){return typeof E=="string"}t.isString=e;function o(E){return typeof E=="symbol"}t.isSymbol=o;function c(E){return E===void 0}t.isUndefined=c;function f(E){return M(E)==="[object RegExp]"}t.isRegExp=f;function l(E){return typeof E=="object"&&E!==null}t.isObject=l;function p(E){return M(E)==="[object Date]"}t.isDate=p;function g(E){return M(E)==="[object Error]"||E instanceof Error}t.isError=g;function y(E){return typeof E=="function"}t.isFunction=y;function m(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||typeof E>"u"}t.isPrimitive=m,t.isBuffer=$e().Buffer.isBuffer;function M(E){return Object.prototype.toString.call(E)}}),m2=gt((t,i)=>{lt();function r(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var u=Zo().Buffer,a=He();function s(e,o,c){e.copy(o,c)}i.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(o){var c={data:o,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},e.prototype.unshift=function(o){var c={data:o,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},e.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(o){if(this.length===0)return"";for(var c=this.head,f=""+c.data;c=c.next;)f+=o+c.data;return f},e.prototype.concat=function(o){if(this.length===0)return u.alloc(0);for(var c=u.allocUnsafe(o>>>0),f=this.head,l=0;f;)s(f.data,c,l),l+=f.data.length,f=f.next;return c},e}(),a&&a.inspect&&a.inspect.custom&&(i.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})}),Kc=gt((t,i)=>{lt();var r=Yn();function u(e,o){var c=this,f=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return f||l?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,e)):r.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(p){!o&&p?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,r.nextTick(s,c,p)):r.nextTick(s,c,p):o&&o(p)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(e,o){e.emit("error",o)}i.exports={destroy:u,undestroy:a}}),zc=gt((t,i)=>{lt();var r=Yn();i.exports=B;function u(S){var w=this;this.next=null,this.entry=null,this.finish=function(){T(w,S)}}var a=!Jt.default.browser&&["v0.10","v0.9."].indexOf(Jt.default.version.slice(0,5))>-1?setImmediate:r.nextTick,s;B.WritableState=M;var e=Object.create(Sn());e.inherits=pe();var o={deprecate:Pu()},c=Fc(),f=Zo().Buffer,l=(typeof le<"u"?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(S){return f.from(S)}function g(S){return f.isBuffer(S)||S instanceof l}var y=Kc();e.inherits(B,c);function m(){}function M(S,w){s=s||Bi(),S=S||{};var b=w instanceof s;this.objectMode=!!S.objectMode,b&&(this.objectMode=this.objectMode||!!S.writableObjectMode);var h=S.highWaterMark,k=S.writableHighWaterMark,tt=this.objectMode?16:16*1024;h||h===0?this.highWaterMark=h:b&&(k||k===0)?this.highWaterMark=k:this.highWaterMark=tt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=S.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ft){D(w,ft)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}M.prototype.getBuffer=function(){for(var S=this.bufferedRequest,w=[];S;)w.push(S),S=S.next;return w},function(){try{Object.defineProperty(M.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(S){return E.call(this,S)?!0:this!==B?!1:S&&S._writableState instanceof M}})):E=function(S){return S instanceof this};function B(S){if(s=s||Bi(),!E.call(B,this)&&!(this instanceof s))return new B(S);this._writableState=new M(S,this),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}B.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function x(S,w){var b=new Error("write after end");S.emit("error",b),r.nextTick(w,b)}function C(S,w,b,h){var k=!0,tt=!1;return b===null?tt=new TypeError("May not write null values to stream"):typeof b!="string"&&b!==void 0&&!w.objectMode&&(tt=new TypeError("Invalid non-string/buffer chunk")),tt&&(S.emit("error",tt),r.nextTick(h,tt),k=!1),k}B.prototype.write=function(S,w,b){var h=this._writableState,k=!1,tt=!h.objectMode&&g(S);return tt&&!f.isBuffer(S)&&(S=p(S)),typeof w=="function"&&(b=w,w=null),tt?w="buffer":w||(w=h.defaultEncoding),typeof b!="function"&&(b=m),h.ended?x(this,b):(tt||C(this,h,S,b))&&(h.pendingcb++,k=F(this,h,tt,S,w,b)),k},B.prototype.cork=function(){var S=this._writableState;S.corked++},B.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,!S.writing&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&O(this,S))},B.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+S);return this._writableState.defaultEncoding=S,this};function N(S,w,b){return!S.objectMode&&S.decodeStrings!==!1&&typeof w=="string"&&(w=f.from(w,b)),w}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(S,w,b,h,k,tt){if(!b){var X=N(w,h,k);h!==X&&(b=!0,k="buffer",h=X)}var ft=w.objectMode?1:h.length;w.length+=ft;var et=w.length<w.highWaterMark;if(et||(w.needDrain=!0),w.writing||w.corked){var at=w.lastBufferedRequest;w.lastBufferedRequest={chunk:h,encoding:k,isBuf:b,callback:tt,next:null},at?at.next=w.lastBufferedRequest:w.bufferedRequest=w.lastBufferedRequest,w.bufferedRequestCount+=1}else I(S,w,!1,ft,h,k,tt);return et}function I(S,w,b,h,k,tt,X){w.writelen=h,w.writecb=X,w.writing=!0,w.sync=!0,b?S._writev(k,w.onwrite):S._write(k,tt,w.onwrite),w.sync=!1}function U(S,w,b,h,k){--w.pendingcb,b?(r.nextTick(k,h),r.nextTick(v,S,w),S._writableState.errorEmitted=!0,S.emit("error",h)):(k(h),S._writableState.errorEmitted=!0,S.emit("error",h),v(S,w))}function P(S){S.writing=!1,S.writecb=null,S.length-=S.writelen,S.writelen=0}function D(S,w){var b=S._writableState,h=b.sync,k=b.writecb;if(P(b),w)U(S,b,h,w,k);else{var tt=L(b);!tt&&!b.corked&&!b.bufferProcessing&&b.bufferedRequest&&O(S,b),h?a(W,S,b,tt,k):W(S,b,tt,k)}}function W(S,w,b,h){b||q(S,w),w.pendingcb--,h(),v(S,w)}function q(S,w){w.length===0&&w.needDrain&&(w.needDrain=!1,S.emit("drain"))}function O(S,w){w.bufferProcessing=!0;var b=w.bufferedRequest;if(S._writev&&b&&b.next){var h=w.bufferedRequestCount,k=new Array(h),tt=w.corkedRequestsFree;tt.entry=b;for(var X=0,ft=!0;b;)k[X]=b,b.isBuf||(ft=!1),b=b.next,X+=1;k.allBuffers=ft,I(S,w,!0,w.length,k,"",tt.finish),w.pendingcb++,w.lastBufferedRequest=null,tt.next?(w.corkedRequestsFree=tt.next,tt.next=null):w.corkedRequestsFree=new u(w),w.bufferedRequestCount=0}else{for(;b;){var et=b.chunk,at=b.encoding,$=b.callback,J=w.objectMode?1:et.length;if(I(S,w,!1,J,et,at,$),b=b.next,w.bufferedRequestCount--,w.writing)break}b===null&&(w.lastBufferedRequest=null)}w.bufferedRequest=b,w.bufferProcessing=!1}B.prototype._write=function(S,w,b){b(new Error("_write() is not implemented"))},B.prototype._writev=null,B.prototype.end=function(S,w,b){var h=this._writableState;typeof S=="function"?(b=S,S=null,w=null):typeof w=="function"&&(b=w,w=null),S!=null&&this.write(S,w),h.corked&&(h.corked=1,this.uncork()),h.ending||A(this,h,b)};function L(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function n(S,w){S._final(function(b){w.pendingcb--,b&&S.emit("error",b),w.prefinished=!0,S.emit("prefinish"),v(S,w)})}function d(S,w){!w.prefinished&&!w.finalCalled&&(typeof S._final=="function"?(w.pendingcb++,w.finalCalled=!0,r.nextTick(n,S,w)):(w.prefinished=!0,S.emit("prefinish")))}function v(S,w){var b=L(w);return b&&(d(S,w),w.pendingcb===0&&(w.finished=!0,S.emit("finish"))),b}function A(S,w,b){w.ending=!0,v(S,w),b&&(w.finished?r.nextTick(b):S.once("finish",b)),w.ended=!0,S.writable=!1}function T(S,w,b){var h=S.entry;for(S.entry=null;h;){var k=h.callback;w.pendingcb--,k(b),h=h.next}w.corkedRequestsFree.next=S}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(S){!this._writableState||(this._writableState.destroyed=S)}}),B.prototype.destroy=y.destroy,B.prototype._undestroy=y.undestroy,B.prototype._destroy=function(S,w){this.end(),w(S)}}),Bi=gt((t,i)=>{lt();var r=Yn(),u=Object.keys||function(y){var m=[];for(var M in y)m.push(M);return m};i.exports=l;var a=Object.create(Sn());a.inherits=pe();var s=Wc(),e=zc();for(a.inherits(l,s),o=u(e.prototype),f=0;f<o.length;f++)c=o[f],l.prototype[c]||(l.prototype[c]=e.prototype[c]);var o,c,f;function l(y){if(!(this instanceof l))return new l(y);s.call(this,y),e.call(this,y),y&&y.readable===!1&&(this.readable=!1),y&&y.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,y&&y.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),l.prototype._destroy=function(y,m){this.push(null),this.end(),r.nextTick(m,y)}}),Sl=gt(t=>{lt();var i=Zo().Buffer,r=i.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(x){if(!x)return"utf8";for(var C;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(C)return;x=(""+x).toLowerCase(),C=!0}}function a(x){var C=u(x);if(typeof C!="string"&&(i.isEncoding===r||!r(x)))throw new Error("Unknown encoding: "+x);return C||x}t.StringDecoder=s;function s(x){this.encoding=a(x);var C;switch(this.encoding){case"utf16le":this.text=g,this.end=y,C=4;break;case"utf8":this.fillLast=f,C=4;break;case"base64":this.text=m,this.end=M,C=3;break;default:this.write=E,this.end=B;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(C)}s.prototype.write=function(x){if(x.length===0)return"";var C,N;if(this.lastNeed){if(C=this.fillLast(x),C===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<x.length?C?C+this.text(x,N):this.text(x,N):C||""},s.prototype.end=p,s.prototype.text=l,s.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function e(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function o(x,C,N){var F=C.length-1;if(F<N)return 0;var I=e(C[F]);return I>=0?(I>0&&(x.lastNeed=I-1),I):--F<N||I===-2?0:(I=e(C[F]),I>=0?(I>0&&(x.lastNeed=I-2),I):--F<N||I===-2?0:(I=e(C[F]),I>=0?(I>0&&(I===2?I=0:x.lastNeed=I-3),I):0))}function c(x,C,N){if((C[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return x.lastNeed=2,"�"}}function f(x){var C=this.lastTotal-this.lastNeed,N=c(this,x);if(N!==void 0)return N;if(this.lastNeed<=x.length)return x.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,C,0,x.length),this.lastNeed-=x.length}function l(x,C){var N=o(this,x,C);if(!this.lastNeed)return x.toString("utf8",C);this.lastTotal=N;var F=x.length-(N-this.lastNeed);return x.copy(this.lastChar,0,F),x.toString("utf8",C,F)}function p(x){var C=x&&x.length?this.write(x):"";return this.lastNeed?C+"�":C}function g(x,C){if((x.length-C)%2===0){var N=x.toString("utf16le",C);if(N){var F=N.charCodeAt(N.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",C,x.length-1)}function y(x){var C=x&&x.length?this.write(x):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,N)}return C}function m(x,C){var N=(x.length-C)%3;return N===0?x.toString("base64",C):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",C,x.length-N))}function M(x){var C=x&&x.length?this.write(x):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function E(x){return x.toString(this.encoding)}function B(x){return x&&x.length?this.write(x):""}}),Wc=gt((t,i)=>{lt();var r=Yn();i.exports=N;var u=Uc(),a;N.ReadableState=C,wn().EventEmitter;var s=function($,J){return $.listeners(J).length},e=Fc(),o=Zo().Buffer,c=(typeof le<"u"?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f($){return o.from($)}function l($){return o.isBuffer($)||$ instanceof c}var p=Object.create(Sn());p.inherits=pe();var g=He(),y=void 0;g&&g.debuglog?y=g.debuglog("stream"):y=function(){};var m=m2(),M=Kc(),E;p.inherits(N,e);var B=["error","close","destroy","pause","resume"];function x($,J,R){if(typeof $.prependListener=="function")return $.prependListener(J,R);!$._events||!$._events[J]?$.on(J,R):u($._events[J])?$._events[J].unshift(R):$._events[J]=[R,$._events[J]]}function C($,J){a=a||Bi(),$=$||{};var R=J instanceof a;this.objectMode=!!$.objectMode,R&&(this.objectMode=this.objectMode||!!$.readableObjectMode);var j=$.highWaterMark,z=$.readableHighWaterMark,Z=this.objectMode?16:16*1024;j||j===0?this.highWaterMark=j:R&&(z||z===0)?this.highWaterMark=z:this.highWaterMark=Z,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(E||(E=Sl().StringDecoder),this.decoder=new E($.encoding),this.encoding=$.encoding)}function N($){if(a=a||Bi(),!(this instanceof N))return new N($);this._readableState=new C($,this),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),e.call(this)}Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){!this._readableState||(this._readableState.destroyed=$)}}),N.prototype.destroy=M.destroy,N.prototype._undestroy=M.undestroy,N.prototype._destroy=function($,J){this.push(null),J($)},N.prototype.push=function($,J){var R=this._readableState,j;return R.objectMode?j=!0:typeof $=="string"&&(J=J||R.defaultEncoding,J!==R.encoding&&($=o.from($,J),J=""),j=!0),F(this,$,J,!1,j)},N.prototype.unshift=function($){return F(this,$,null,!0,!1)};function F($,J,R,j,z){var Z=$._readableState;if(J===null)Z.reading=!1,O($,Z);else{var Q;z||(Q=U(Z,J)),Q?$.emit("error",Q):Z.objectMode||J&&J.length>0?(typeof J!="string"&&!Z.objectMode&&Object.getPrototypeOf(J)!==o.prototype&&(J=f(J)),j?Z.endEmitted?$.emit("error",new Error("stream.unshift() after end event")):I($,Z,J,!0):Z.ended?$.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!R?(J=Z.decoder.write(J),Z.objectMode||J.length!==0?I($,Z,J,!1):d($,Z)):I($,Z,J,!1))):j||(Z.reading=!1)}return P(Z)}function I($,J,R,j){J.flowing&&J.length===0&&!J.sync?($.emit("data",R),$.read(0)):(J.length+=J.objectMode?1:R.length,j?J.buffer.unshift(R):J.buffer.push(R),J.needReadable&&L($)),d($,J)}function U($,J){var R;return!l(J)&&typeof J!="string"&&J!==void 0&&!$.objectMode&&(R=new TypeError("Invalid non-string/buffer chunk")),R}function P($){return!$.ended&&($.needReadable||$.length<$.highWaterMark||$.length===0)}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function($){return E||(E=Sl().StringDecoder),this._readableState.decoder=new E($),this._readableState.encoding=$,this};var D=8388608;function W($){return $>=D?$=D:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function q($,J){return $<=0||J.length===0&&J.ended?0:J.objectMode?1:$!==$?J.flowing&&J.length?J.buffer.head.data.length:J.length:($>J.highWaterMark&&(J.highWaterMark=W($)),$<=J.length?$:J.ended?J.length:(J.needReadable=!0,0))}N.prototype.read=function($){y("read",$),$=parseInt($,10);var J=this._readableState,R=$;if($!==0&&(J.emittedReadable=!1),$===0&&J.needReadable&&(J.length>=J.highWaterMark||J.ended))return y("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?ft(this):L(this),null;if($=q($,J),$===0&&J.ended)return J.length===0&&ft(this),null;var j=J.needReadable;y("need readable",j),(J.length===0||J.length-$<J.highWaterMark)&&(j=!0,y("length less than watermark",j)),J.ended||J.reading?(j=!1,y("reading or ended",j)):j&&(y("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||($=q(R,J)));var z;return $>0?z=h($,J):z=null,z===null?(J.needReadable=!0,$=0):J.length-=$,J.length===0&&(J.ended||(J.needReadable=!0),R!==$&&J.ended&&ft(this)),z!==null&&this.emit("data",z),z};function O($,J){if(!J.ended){if(J.decoder){var R=J.decoder.end();R&&R.length&&(J.buffer.push(R),J.length+=J.objectMode?1:R.length)}J.ended=!0,L($)}}function L($){var J=$._readableState;J.needReadable=!1,J.emittedReadable||(y("emitReadable",J.flowing),J.emittedReadable=!0,J.sync?r.nextTick(n,$):n($))}function n($){y("emit readable"),$.emit("readable"),b($)}function d($,J){J.readingMore||(J.readingMore=!0,r.nextTick(v,$,J))}function v($,J){for(var R=J.length;!J.reading&&!J.flowing&&!J.ended&&J.length<J.highWaterMark&&(y("maybeReadMore read 0"),$.read(0),R!==J.length);)R=J.length;J.readingMore=!1}N.prototype._read=function($){this.emit("error",new Error("_read() is not implemented"))},N.prototype.pipe=function($,J){var R=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=$;break;case 1:j.pipes=[j.pipes,$];break;default:j.pipes.push($);break}j.pipesCount+=1,y("pipe count=%d opts=%j",j.pipesCount,J);var z=(!J||J.end!==!1)&&$!==Jt.default.stdout&&$!==Jt.default.stderr,Z=z?K:vt;j.endEmitted?r.nextTick(Z):R.once("end",Z),$.on("unpipe",Q);function Q(pt,V){y("onunpipe"),pt===R&&V&&V.hasUnpiped===!1&&(V.hasUnpiped=!0,Y())}function K(){y("onend"),$.end()}var G=A(R);$.on("drain",G);var H=!1;function Y(){y("cleanup"),$.removeListener("close",_t),$.removeListener("finish",ht),$.removeListener("drain",G),$.removeListener("error",mt),$.removeListener("unpipe",Q),R.removeListener("end",K),R.removeListener("end",vt),R.removeListener("data",ot),H=!0,j.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&G()}var it=!1;R.on("data",ot);function ot(pt){y("ondata"),it=!1;var V=$.write(pt);V===!1&&!it&&((j.pipesCount===1&&j.pipes===$||j.pipesCount>1&&at(j.pipes,$)!==-1)&&!H&&(y("false write response, pause",j.awaitDrain),j.awaitDrain++,it=!0),R.pause())}function mt(pt){y("onerror",pt),vt(),$.removeListener("error",mt),s($,"error")===0&&$.emit("error",pt)}x($,"error",mt);function _t(){$.removeListener("finish",ht),vt()}$.once("close",_t);function ht(){y("onfinish"),$.removeListener("close",_t),vt()}$.once("finish",ht);function vt(){y("unpipe"),R.unpipe($)}return $.emit("pipe",R),j.flowing||(y("pipe resume"),R.resume()),$};function A($){return function(){var J=$._readableState;y("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&s($,"data")&&(J.flowing=!0,b($))}}N.prototype.unpipe=function($){var J=this._readableState,R={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return $&&$!==J.pipes?this:($||($=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,$&&$.emit("unpipe",this,R),this);if(!$){var j=J.pipes,z=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var Z=0;Z<z;Z++)j[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=at(J.pipes,$);return Q===-1?this:(J.pipes.splice(Q,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),$.emit("unpipe",this,R),this)},N.prototype.on=function($,J){var R=e.prototype.on.call(this,$,J);if($==="data")this._readableState.flowing!==!1&&this.resume();else if($==="readable"){var j=this._readableState;!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.emittedReadable=!1,j.reading?j.length&&L(this):r.nextTick(T,this))}return R},N.prototype.addListener=N.prototype.on;function T($){y("readable nexttick read 0"),$.read(0)}N.prototype.resume=function(){var $=this._readableState;return $.flowing||(y("resume"),$.flowing=!0,S(this,$)),this};function S($,J){J.resumeScheduled||(J.resumeScheduled=!0,r.nextTick(w,$,J))}function w($,J){J.reading||(y("resume read 0"),$.read(0)),J.resumeScheduled=!1,J.awaitDrain=0,$.emit("resume"),b($),J.flowing&&!J.reading&&$.read(0)}N.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function b($){var J=$._readableState;for(y("flow",J.flowing);J.flowing&&$.read()!==null;);}N.prototype.wrap=function($){var J=this,R=this._readableState,j=!1;$.on("end",function(){if(y("wrapped end"),R.decoder&&!R.ended){var Q=R.decoder.end();Q&&Q.length&&J.push(Q)}J.push(null)}),$.on("data",function(Q){if(y("wrapped data"),R.decoder&&(Q=R.decoder.write(Q)),!(R.objectMode&&Q==null)&&!(!R.objectMode&&(!Q||!Q.length))){var K=J.push(Q);K||(j=!0,$.pause())}});for(var z in $)this[z]===void 0&&typeof $[z]=="function"&&(this[z]=function(Q){return function(){return $[Q].apply($,arguments)}}(z));for(var Z=0;Z<B.length;Z++)$.on(B[Z],this.emit.bind(this,B[Z]));return this._read=function(Q){y("wrapped _read",Q),j&&(j=!1,$.resume())},this},Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),N._fromList=h;function h($,J){if(J.length===0)return null;var R;return J.objectMode?R=J.buffer.shift():!$||$>=J.length?(J.decoder?R=J.buffer.join(""):J.buffer.length===1?R=J.buffer.head.data:R=J.buffer.concat(J.length),J.buffer.clear()):R=k($,J.buffer,J.decoder),R}function k($,J,R){var j;return $<J.head.data.length?(j=J.head.data.slice(0,$),J.head.data=J.head.data.slice($)):$===J.head.data.length?j=J.shift():j=R?tt($,J):X($,J),j}function tt($,J){var R=J.head,j=1,z=R.data;for($-=z.length;R=R.next;){var Z=R.data,Q=$>Z.length?Z.length:$;if(Q===Z.length?z+=Z:z+=Z.slice(0,$),$-=Q,$===0){Q===Z.length?(++j,R.next?J.head=R.next:J.head=J.tail=null):(J.head=R,R.data=Z.slice(Q));break}++j}return J.length-=j,z}function X($,J){var R=o.allocUnsafe($),j=J.head,z=1;for(j.data.copy(R),$-=j.data.length;j=j.next;){var Z=j.data,Q=$>Z.length?Z.length:$;if(Z.copy(R,R.length-$,0,Q),$-=Q,$===0){Q===Z.length?(++z,j.next?J.head=j.next:J.head=J.tail=null):(J.head=j,j.data=Z.slice(Q));break}++z}return J.length-=z,R}function ft($){var J=$._readableState;if(J.length>0)throw new Error('"endReadable()" called on non-empty stream');J.endEmitted||(J.ended=!0,r.nextTick(et,J,$))}function et($,J){!$.endEmitted&&$.length===0&&($.endEmitted=!0,J.readable=!1,J.emit("end"))}function at($,J){for(var R=0,j=$.length;R<j;R++)if($[R]===J)return R;return-1}}),qc=gt((t,i)=>{lt(),i.exports=s;var r=Bi(),u=Object.create(Sn());u.inherits=pe(),u.inherits(s,r);function a(c,f){var l=this._transformState;l.transforming=!1;var p=l.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,f!=null&&this.push(f),p(c);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function s(c){if(!(this instanceof s))return new s(c);r.call(this,c),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",e)}function e(){var c=this;typeof this._flush=="function"?this._flush(function(f,l){o(c,f,l)}):o(this,null,null)}s.prototype.push=function(c,f){return this._transformState.needTransform=!1,r.prototype.push.call(this,c,f)},s.prototype._transform=function(c,f,l){throw new Error("_transform() is not implemented")},s.prototype._write=function(c,f,l){var p=this._transformState;if(p.writecb=l,p.writechunk=c,p.writeencoding=f,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},s.prototype._read=function(c){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},s.prototype._destroy=function(c,f){var l=this;r.prototype._destroy.call(this,c,function(p){f(p),l.emit("close")})};function o(c,f,l){if(f)return c.emit("error",f);if(l!=null&&c.push(l),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}}),y2=gt((t,i)=>{lt(),i.exports=a;var r=qc(),u=Object.create(Sn());u.inherits=pe(),u.inherits(a,r);function a(s){if(!(this instanceof a))return new a(s);r.call(this,s)}a.prototype._transform=function(s,e,o){o(null,s)}}),b2=gt((t,i)=>{lt(),t=i.exports=Wc(),t.Stream=t,t.Readable=t,t.Writable=zc(),t.Duplex=Bi(),t.Transform=qc(),t.PassThrough=y2()}),v2=gt((t,i)=>{lt(),i.exports=b2().PassThrough}),$c=gt((t,i)=>{lt();var r=He(),u=v2();i.exports={Readable:s,Writable:e},r.inherits(s,u),r.inherits(e,u);function a(o,c,f){o[c]=function(){return delete o[c],f.apply(this,arguments),this[c].apply(this,arguments)}}function s(o,c){if(!(this instanceof s))return new s(o,c);u.call(this,c),a(this,"_read",function(){var f=o.call(this,c),l=this.emit.bind(this,"error");f.on("error",l),f.pipe(this)}),this.emit("readable")}function e(o,c){if(!(this instanceof e))return new e(o,c);u.call(this,c),a(this,"_write",function(){var f=o.call(this,c),l=this.emit.bind(this,"error");f.on("error",l),this.pipe(f)}),this.emit("writable")}}),ju=gt((t,i)=>{lt(),i.exports=function(r,u){if(typeof r!="string")throw new TypeError("expected path to be a string");if(r==="\\"||r==="/")return"/";var a=r.length;if(a<=1)return r;var s="";if(a>4&&r[3]==="\\"){var e=r[2];(e==="?"||e===".")&&r.slice(0,2)==="\\\\"&&(r=r.slice(2),s="//")}var o=r.split(/[/\\]+/);return u!==!1&&o[o.length-1]===""&&o.pop(),s+o.join("/")}}),Hc=gt((t,i)=>{lt();var r=9007199254740991,u="[object Arguments]",a="[object Function]",s="[object GeneratorFunction]",e=/^(?:0|[1-9]\d*)$/;function o(b,h,k){switch(k.length){case 0:return b.call(h);case 1:return b.call(h,k[0]);case 2:return b.call(h,k[0],k[1]);case 3:return b.call(h,k[0],k[1],k[2])}return b.apply(h,k)}function c(b,h){for(var k=-1,tt=Array(b);++k<b;)tt[k]=h(k);return tt}var f=Object.prototype,l=f.hasOwnProperty,p=f.toString,g=f.propertyIsEnumerable,y=Math.max;function m(b,h){var k=q(b)||W(b)?c(b.length,String):[],tt=k.length,X=!!tt;for(var ft in b)(h||l.call(b,ft))&&!(X&&(ft=="length"||F(ft,tt)))&&k.push(ft);return k}function M(b,h,k,tt){return b===void 0||D(b,f[k])&&!l.call(tt,k)?h:b}function E(b,h,k){var tt=b[h];(!(l.call(b,h)&&D(tt,k))||k===void 0&&!(h in b))&&(b[h]=k)}function B(b){if(!v(b))return P(b);var h=U(b),k=[];for(var tt in b)tt=="constructor"&&(h||!l.call(b,tt))||k.push(tt);return k}function x(b,h){return h=y(h===void 0?b.length-1:h,0),function(){for(var k=arguments,tt=-1,X=y(k.length-h,0),ft=Array(X);++tt<X;)ft[tt]=k[h+tt];tt=-1;for(var et=Array(h+1);++tt<h;)et[tt]=k[tt];return et[h]=ft,o(b,this,et)}}function C(b,h,k,tt){k||(k={});for(var X=-1,ft=h.length;++X<ft;){var et=h[X],at=tt?tt(k[et],b[et],et,k,b):void 0;E(k,et,at===void 0?b[et]:at)}return k}function N(b){return x(function(h,k){var tt=-1,X=k.length,ft=X>1?k[X-1]:void 0,et=X>2?k[2]:void 0;for(ft=b.length>3&&typeof ft=="function"?(X--,ft):void 0,et&&I(k[0],k[1],et)&&(ft=X<3?void 0:ft,X=1),h=Object(h);++tt<X;){var at=k[tt];at&&b(h,at,tt,ft)}return h})}function F(b,h){return h=h??r,!!h&&(typeof b=="number"||e.test(b))&&b>-1&&b%1==0&&b<h}function I(b,h,k){if(!v(k))return!1;var tt=typeof h;return(tt=="number"?O(k)&&F(h,k.length):tt=="string"&&h in k)?D(k[h],b):!1}function U(b){var h=b&&b.constructor,k=typeof h=="function"&&h.prototype||f;return b===k}function P(b){var h=[];if(b!=null)for(var k in Object(b))h.push(k);return h}function D(b,h){return b===h||b!==b&&h!==h}function W(b){return L(b)&&l.call(b,"callee")&&(!g.call(b,"callee")||p.call(b)==u)}var q=Array.isArray;function O(b){return b!=null&&d(b.length)&&!n(b)}function L(b){return A(b)&&O(b)}function n(b){var h=v(b)?p.call(b):"";return h==a||h==s}function d(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=r}function v(b){var h=typeof b;return!!b&&(h=="object"||h=="function")}function A(b){return!!b&&typeof b=="object"}var T=N(function(b,h,k,tt){C(h,w(h),b,tt)}),S=x(function(b){return b.push(void 0,M),o(T,void 0,b)});function w(b){return O(b)?m(b,!0):B(b)}i.exports=S}),Gc=gt((t,i)=>{lt(),i.exports=wn().EventEmitter}),Jo=gt((t,i)=>{lt();var r=$e(),u=r.Buffer;function a(e,o){for(var c in e)o[c]=e[c]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?i.exports=r:(a(r,t),t.Buffer=s);function s(e,o,c){return u(e,o,c)}a(u,s),s.from=function(e,o,c){if(typeof e=="number")throw new TypeError("Argument must not be a number");return u(e,o,c)},s.alloc=function(e,o,c){if(typeof e!="number")throw new TypeError("Argument must be a number");var f=u(e);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},s.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return u(e)},s.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}),w2=gt((t,i)=>{lt();function r(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var u=Jo().Buffer,a=He();function s(e,o,c){e.copy(o,c)}i.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(o){var c={data:o,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},e.prototype.unshift=function(o){var c={data:o,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},e.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(o){if(this.length===0)return"";for(var c=this.head,f=""+c.data;c=c.next;)f+=o+c.data;return f},e.prototype.concat=function(o){if(this.length===0)return u.alloc(0);for(var c=u.allocUnsafe(o>>>0),f=this.head,l=0;f;)s(f.data,c,l),l+=f.data.length,f=f.next;return c},e}(),a&&a.inspect&&a.inspect.custom&&(i.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})}),Vc=gt((t,i)=>{lt();var r=Yn();function u(e,o){var c=this,f=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return f||l?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,e)):r.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(p){!o&&p?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,r.nextTick(s,c,p)):r.nextTick(s,c,p):o&&o(p)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(e,o){e.emit("error",o)}i.exports={destroy:u,undestroy:a}}),Zc=gt((t,i)=>{lt();var r=Yn();i.exports=B;function u(S){var w=this;this.next=null,this.entry=null,this.finish=function(){T(w,S)}}var a=!Jt.default.browser&&["v0.10","v0.9."].indexOf(Jt.default.version.slice(0,5))>-1?setImmediate:r.nextTick,s;B.WritableState=M;var e=Object.create(Sn());e.inherits=pe();var o={deprecate:Pu()},c=Gc(),f=Jo().Buffer,l=(typeof le<"u"?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(S){return f.from(S)}function g(S){return f.isBuffer(S)||S instanceof l}var y=Vc();e.inherits(B,c);function m(){}function M(S,w){s=s||Ci(),S=S||{};var b=w instanceof s;this.objectMode=!!S.objectMode,b&&(this.objectMode=this.objectMode||!!S.writableObjectMode);var h=S.highWaterMark,k=S.writableHighWaterMark,tt=this.objectMode?16:16*1024;h||h===0?this.highWaterMark=h:b&&(k||k===0)?this.highWaterMark=k:this.highWaterMark=tt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=S.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ft){D(w,ft)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}M.prototype.getBuffer=function(){for(var S=this.bufferedRequest,w=[];S;)w.push(S),S=S.next;return w},function(){try{Object.defineProperty(M.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(S){return E.call(this,S)?!0:this!==B?!1:S&&S._writableState instanceof M}})):E=function(S){return S instanceof this};function B(S){if(s=s||Ci(),!E.call(B,this)&&!(this instanceof s))return new B(S);this._writableState=new M(S,this),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}B.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function x(S,w){var b=new Error("write after end");S.emit("error",b),r.nextTick(w,b)}function C(S,w,b,h){var k=!0,tt=!1;return b===null?tt=new TypeError("May not write null values to stream"):typeof b!="string"&&b!==void 0&&!w.objectMode&&(tt=new TypeError("Invalid non-string/buffer chunk")),tt&&(S.emit("error",tt),r.nextTick(h,tt),k=!1),k}B.prototype.write=function(S,w,b){var h=this._writableState,k=!1,tt=!h.objectMode&&g(S);return tt&&!f.isBuffer(S)&&(S=p(S)),typeof w=="function"&&(b=w,w=null),tt?w="buffer":w||(w=h.defaultEncoding),typeof b!="function"&&(b=m),h.ended?x(this,b):(tt||C(this,h,S,b))&&(h.pendingcb++,k=F(this,h,tt,S,w,b)),k},B.prototype.cork=function(){var S=this._writableState;S.corked++},B.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,!S.writing&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&O(this,S))},B.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+S);return this._writableState.defaultEncoding=S,this};function N(S,w,b){return!S.objectMode&&S.decodeStrings!==!1&&typeof w=="string"&&(w=f.from(w,b)),w}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(S,w,b,h,k,tt){if(!b){var X=N(w,h,k);h!==X&&(b=!0,k="buffer",h=X)}var ft=w.objectMode?1:h.length;w.length+=ft;var et=w.length<w.highWaterMark;if(et||(w.needDrain=!0),w.writing||w.corked){var at=w.lastBufferedRequest;w.lastBufferedRequest={chunk:h,encoding:k,isBuf:b,callback:tt,next:null},at?at.next=w.lastBufferedRequest:w.bufferedRequest=w.lastBufferedRequest,w.bufferedRequestCount+=1}else I(S,w,!1,ft,h,k,tt);return et}function I(S,w,b,h,k,tt,X){w.writelen=h,w.writecb=X,w.writing=!0,w.sync=!0,b?S._writev(k,w.onwrite):S._write(k,tt,w.onwrite),w.sync=!1}function U(S,w,b,h,k){--w.pendingcb,b?(r.nextTick(k,h),r.nextTick(v,S,w),S._writableState.errorEmitted=!0,S.emit("error",h)):(k(h),S._writableState.errorEmitted=!0,S.emit("error",h),v(S,w))}function P(S){S.writing=!1,S.writecb=null,S.length-=S.writelen,S.writelen=0}function D(S,w){var b=S._writableState,h=b.sync,k=b.writecb;if(P(b),w)U(S,b,h,w,k);else{var tt=L(b);!tt&&!b.corked&&!b.bufferProcessing&&b.bufferedRequest&&O(S,b),h?a(W,S,b,tt,k):W(S,b,tt,k)}}function W(S,w,b,h){b||q(S,w),w.pendingcb--,h(),v(S,w)}function q(S,w){w.length===0&&w.needDrain&&(w.needDrain=!1,S.emit("drain"))}function O(S,w){w.bufferProcessing=!0;var b=w.bufferedRequest;if(S._writev&&b&&b.next){var h=w.bufferedRequestCount,k=new Array(h),tt=w.corkedRequestsFree;tt.entry=b;for(var X=0,ft=!0;b;)k[X]=b,b.isBuf||(ft=!1),b=b.next,X+=1;k.allBuffers=ft,I(S,w,!0,w.length,k,"",tt.finish),w.pendingcb++,w.lastBufferedRequest=null,tt.next?(w.corkedRequestsFree=tt.next,tt.next=null):w.corkedRequestsFree=new u(w),w.bufferedRequestCount=0}else{for(;b;){var et=b.chunk,at=b.encoding,$=b.callback,J=w.objectMode?1:et.length;if(I(S,w,!1,J,et,at,$),b=b.next,w.bufferedRequestCount--,w.writing)break}b===null&&(w.lastBufferedRequest=null)}w.bufferedRequest=b,w.bufferProcessing=!1}B.prototype._write=function(S,w,b){b(new Error("_write() is not implemented"))},B.prototype._writev=null,B.prototype.end=function(S,w,b){var h=this._writableState;typeof S=="function"?(b=S,S=null,w=null):typeof w=="function"&&(b=w,w=null),S!=null&&this.write(S,w),h.corked&&(h.corked=1,this.uncork()),h.ending||A(this,h,b)};function L(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function n(S,w){S._final(function(b){w.pendingcb--,b&&S.emit("error",b),w.prefinished=!0,S.emit("prefinish"),v(S,w)})}function d(S,w){!w.prefinished&&!w.finalCalled&&(typeof S._final=="function"?(w.pendingcb++,w.finalCalled=!0,r.nextTick(n,S,w)):(w.prefinished=!0,S.emit("prefinish")))}function v(S,w){var b=L(w);return b&&(d(S,w),w.pendingcb===0&&(w.finished=!0,S.emit("finish"))),b}function A(S,w,b){w.ending=!0,v(S,w),b&&(w.finished?r.nextTick(b):S.once("finish",b)),w.ended=!0,S.writable=!1}function T(S,w,b){var h=S.entry;for(S.entry=null;h;){var k=h.callback;w.pendingcb--,k(b),h=h.next}w.corkedRequestsFree.next=S}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(S){!this._writableState||(this._writableState.destroyed=S)}}),B.prototype.destroy=y.destroy,B.prototype._undestroy=y.undestroy,B.prototype._destroy=function(S,w){this.end(),w(S)}}),Ci=gt((t,i)=>{lt();var r=Yn(),u=Object.keys||function(y){var m=[];for(var M in y)m.push(M);return m};i.exports=l;var a=Object.create(Sn());a.inherits=pe();var s=Jc(),e=Zc();for(a.inherits(l,s),o=u(e.prototype),f=0;f<o.length;f++)c=o[f],l.prototype[c]||(l.prototype[c]=e.prototype[c]);var o,c,f;function l(y){if(!(this instanceof l))return new l(y);s.call(this,y),e.call(this,y),y&&y.readable===!1&&(this.readable=!1),y&&y.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,y&&y.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),l.prototype._destroy=function(y,m){this.push(null),this.end(),r.nextTick(m,y)}}),Al=gt(t=>{lt();var i=Jo().Buffer,r=i.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(x){if(!x)return"utf8";for(var C;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(C)return;x=(""+x).toLowerCase(),C=!0}}function a(x){var C=u(x);if(typeof C!="string"&&(i.isEncoding===r||!r(x)))throw new Error("Unknown encoding: "+x);return C||x}t.StringDecoder=s;function s(x){this.encoding=a(x);var C;switch(this.encoding){case"utf16le":this.text=g,this.end=y,C=4;break;case"utf8":this.fillLast=f,C=4;break;case"base64":this.text=m,this.end=M,C=3;break;default:this.write=E,this.end=B;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(C)}s.prototype.write=function(x){if(x.length===0)return"";var C,N;if(this.lastNeed){if(C=this.fillLast(x),C===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<x.length?C?C+this.text(x,N):this.text(x,N):C||""},s.prototype.end=p,s.prototype.text=l,s.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function e(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function o(x,C,N){var F=C.length-1;if(F<N)return 0;var I=e(C[F]);return I>=0?(I>0&&(x.lastNeed=I-1),I):--F<N||I===-2?0:(I=e(C[F]),I>=0?(I>0&&(x.lastNeed=I-2),I):--F<N||I===-2?0:(I=e(C[F]),I>=0?(I>0&&(I===2?I=0:x.lastNeed=I-3),I):0))}function c(x,C,N){if((C[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return x.lastNeed=2,"�"}}function f(x){var C=this.lastTotal-this.lastNeed,N=c(this,x);if(N!==void 0)return N;if(this.lastNeed<=x.length)return x.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,C,0,x.length),this.lastNeed-=x.length}function l(x,C){var N=o(this,x,C);if(!this.lastNeed)return x.toString("utf8",C);this.lastTotal=N;var F=x.length-(N-this.lastNeed);return x.copy(this.lastChar,0,F),x.toString("utf8",C,F)}function p(x){var C=x&&x.length?this.write(x):"";return this.lastNeed?C+"�":C}function g(x,C){if((x.length-C)%2===0){var N=x.toString("utf16le",C);if(N){var F=N.charCodeAt(N.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",C,x.length-1)}function y(x){var C=x&&x.length?this.write(x):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,N)}return C}function m(x,C){var N=(x.length-C)%3;return N===0?x.toString("base64",C):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",C,x.length-N))}function M(x){var C=x&&x.length?this.write(x):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function E(x){return x.toString(this.encoding)}function B(x){return x&&x.length?this.write(x):""}}),Jc=gt((t,i)=>{lt();var r=Yn();i.exports=N;var u=Uc(),a;N.ReadableState=C,wn().EventEmitter;var s=function($,J){return $.listeners(J).length},e=Gc(),o=Jo().Buffer,c=(typeof le<"u"?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f($){return o.from($)}function l($){return o.isBuffer($)||$ instanceof c}var p=Object.create(Sn());p.inherits=pe();var g=He(),y=void 0;g&&g.debuglog?y=g.debuglog("stream"):y=function(){};var m=w2(),M=Vc(),E;p.inherits(N,e);var B=["error","close","destroy","pause","resume"];function x($,J,R){if(typeof $.prependListener=="function")return $.prependListener(J,R);!$._events||!$._events[J]?$.on(J,R):u($._events[J])?$._events[J].unshift(R):$._events[J]=[R,$._events[J]]}function C($,J){a=a||Ci(),$=$||{};var R=J instanceof a;this.objectMode=!!$.objectMode,R&&(this.objectMode=this.objectMode||!!$.readableObjectMode);var j=$.highWaterMark,z=$.readableHighWaterMark,Z=this.objectMode?16:16*1024;j||j===0?this.highWaterMark=j:R&&(z||z===0)?this.highWaterMark=z:this.highWaterMark=Z,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(E||(E=Al().StringDecoder),this.decoder=new E($.encoding),this.encoding=$.encoding)}function N($){if(a=a||Ci(),!(this instanceof N))return new N($);this._readableState=new C($,this),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),e.call(this)}Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){!this._readableState||(this._readableState.destroyed=$)}}),N.prototype.destroy=M.destroy,N.prototype._undestroy=M.undestroy,N.prototype._destroy=function($,J){this.push(null),J($)},N.prototype.push=function($,J){var R=this._readableState,j;return R.objectMode?j=!0:typeof $=="string"&&(J=J||R.defaultEncoding,J!==R.encoding&&($=o.from($,J),J=""),j=!0),F(this,$,J,!1,j)},N.prototype.unshift=function($){return F(this,$,null,!0,!1)};function F($,J,R,j,z){var Z=$._readableState;if(J===null)Z.reading=!1,O($,Z);else{var Q;z||(Q=U(Z,J)),Q?$.emit("error",Q):Z.objectMode||J&&J.length>0?(typeof J!="string"&&!Z.objectMode&&Object.getPrototypeOf(J)!==o.prototype&&(J=f(J)),j?Z.endEmitted?$.emit("error",new Error("stream.unshift() after end event")):I($,Z,J,!0):Z.ended?$.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!R?(J=Z.decoder.write(J),Z.objectMode||J.length!==0?I($,Z,J,!1):d($,Z)):I($,Z,J,!1))):j||(Z.reading=!1)}return P(Z)}function I($,J,R,j){J.flowing&&J.length===0&&!J.sync?($.emit("data",R),$.read(0)):(J.length+=J.objectMode?1:R.length,j?J.buffer.unshift(R):J.buffer.push(R),J.needReadable&&L($)),d($,J)}function U($,J){var R;return!l(J)&&typeof J!="string"&&J!==void 0&&!$.objectMode&&(R=new TypeError("Invalid non-string/buffer chunk")),R}function P($){return!$.ended&&($.needReadable||$.length<$.highWaterMark||$.length===0)}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function($){return E||(E=Al().StringDecoder),this._readableState.decoder=new E($),this._readableState.encoding=$,this};var D=8388608;function W($){return $>=D?$=D:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function q($,J){return $<=0||J.length===0&&J.ended?0:J.objectMode?1:$!==$?J.flowing&&J.length?J.buffer.head.data.length:J.length:($>J.highWaterMark&&(J.highWaterMark=W($)),$<=J.length?$:J.ended?J.length:(J.needReadable=!0,0))}N.prototype.read=function($){y("read",$),$=parseInt($,10);var J=this._readableState,R=$;if($!==0&&(J.emittedReadable=!1),$===0&&J.needReadable&&(J.length>=J.highWaterMark||J.ended))return y("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?ft(this):L(this),null;if($=q($,J),$===0&&J.ended)return J.length===0&&ft(this),null;var j=J.needReadable;y("need readable",j),(J.length===0||J.length-$<J.highWaterMark)&&(j=!0,y("length less than watermark",j)),J.ended||J.reading?(j=!1,y("reading or ended",j)):j&&(y("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||($=q(R,J)));var z;return $>0?z=h($,J):z=null,z===null?(J.needReadable=!0,$=0):J.length-=$,J.length===0&&(J.ended||(J.needReadable=!0),R!==$&&J.ended&&ft(this)),z!==null&&this.emit("data",z),z};function O($,J){if(!J.ended){if(J.decoder){var R=J.decoder.end();R&&R.length&&(J.buffer.push(R),J.length+=J.objectMode?1:R.length)}J.ended=!0,L($)}}function L($){var J=$._readableState;J.needReadable=!1,J.emittedReadable||(y("emitReadable",J.flowing),J.emittedReadable=!0,J.sync?r.nextTick(n,$):n($))}function n($){y("emit readable"),$.emit("readable"),b($)}function d($,J){J.readingMore||(J.readingMore=!0,r.nextTick(v,$,J))}function v($,J){for(var R=J.length;!J.reading&&!J.flowing&&!J.ended&&J.length<J.highWaterMark&&(y("maybeReadMore read 0"),$.read(0),R!==J.length);)R=J.length;J.readingMore=!1}N.prototype._read=function($){this.emit("error",new Error("_read() is not implemented"))},N.prototype.pipe=function($,J){var R=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=$;break;case 1:j.pipes=[j.pipes,$];break;default:j.pipes.push($);break}j.pipesCount+=1,y("pipe count=%d opts=%j",j.pipesCount,J);var z=(!J||J.end!==!1)&&$!==Jt.default.stdout&&$!==Jt.default.stderr,Z=z?K:vt;j.endEmitted?r.nextTick(Z):R.once("end",Z),$.on("unpipe",Q);function Q(pt,V){y("onunpipe"),pt===R&&V&&V.hasUnpiped===!1&&(V.hasUnpiped=!0,Y())}function K(){y("onend"),$.end()}var G=A(R);$.on("drain",G);var H=!1;function Y(){y("cleanup"),$.removeListener("close",_t),$.removeListener("finish",ht),$.removeListener("drain",G),$.removeListener("error",mt),$.removeListener("unpipe",Q),R.removeListener("end",K),R.removeListener("end",vt),R.removeListener("data",ot),H=!0,j.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&G()}var it=!1;R.on("data",ot);function ot(pt){y("ondata"),it=!1;var V=$.write(pt);V===!1&&!it&&((j.pipesCount===1&&j.pipes===$||j.pipesCount>1&&at(j.pipes,$)!==-1)&&!H&&(y("false write response, pause",j.awaitDrain),j.awaitDrain++,it=!0),R.pause())}function mt(pt){y("onerror",pt),vt(),$.removeListener("error",mt),s($,"error")===0&&$.emit("error",pt)}x($,"error",mt);function _t(){$.removeListener("finish",ht),vt()}$.once("close",_t);function ht(){y("onfinish"),$.removeListener("close",_t),vt()}$.once("finish",ht);function vt(){y("unpipe"),R.unpipe($)}return $.emit("pipe",R),j.flowing||(y("pipe resume"),R.resume()),$};function A($){return function(){var J=$._readableState;y("pipeOnDrain",J.awaitDrain),J.awaitDrain&&J.awaitDrain--,J.awaitDrain===0&&s($,"data")&&(J.flowing=!0,b($))}}N.prototype.unpipe=function($){var J=this._readableState,R={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return $&&$!==J.pipes?this:($||($=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,$&&$.emit("unpipe",this,R),this);if(!$){var j=J.pipes,z=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var Z=0;Z<z;Z++)j[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=at(J.pipes,$);return Q===-1?this:(J.pipes.splice(Q,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),$.emit("unpipe",this,R),this)},N.prototype.on=function($,J){var R=e.prototype.on.call(this,$,J);if($==="data")this._readableState.flowing!==!1&&this.resume();else if($==="readable"){var j=this._readableState;!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.emittedReadable=!1,j.reading?j.length&&L(this):r.nextTick(T,this))}return R},N.prototype.addListener=N.prototype.on;function T($){y("readable nexttick read 0"),$.read(0)}N.prototype.resume=function(){var $=this._readableState;return $.flowing||(y("resume"),$.flowing=!0,S(this,$)),this};function S($,J){J.resumeScheduled||(J.resumeScheduled=!0,r.nextTick(w,$,J))}function w($,J){J.reading||(y("resume read 0"),$.read(0)),J.resumeScheduled=!1,J.awaitDrain=0,$.emit("resume"),b($),J.flowing&&!J.reading&&$.read(0)}N.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function b($){var J=$._readableState;for(y("flow",J.flowing);J.flowing&&$.read()!==null;);}N.prototype.wrap=function($){var J=this,R=this._readableState,j=!1;$.on("end",function(){if(y("wrapped end"),R.decoder&&!R.ended){var Q=R.decoder.end();Q&&Q.length&&J.push(Q)}J.push(null)}),$.on("data",function(Q){if(y("wrapped data"),R.decoder&&(Q=R.decoder.write(Q)),!(R.objectMode&&Q==null)&&!(!R.objectMode&&(!Q||!Q.length))){var K=J.push(Q);K||(j=!0,$.pause())}});for(var z in $)this[z]===void 0&&typeof $[z]=="function"&&(this[z]=function(Q){return function(){return $[Q].apply($,arguments)}}(z));for(var Z=0;Z<B.length;Z++)$.on(B[Z],this.emit.bind(this,B[Z]));return this._read=function(Q){y("wrapped _read",Q),j&&(j=!1,$.resume())},this},Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),N._fromList=h;function h($,J){if(J.length===0)return null;var R;return J.objectMode?R=J.buffer.shift():!$||$>=J.length?(J.decoder?R=J.buffer.join(""):J.buffer.length===1?R=J.buffer.head.data:R=J.buffer.concat(J.length),J.buffer.clear()):R=k($,J.buffer,J.decoder),R}function k($,J,R){var j;return $<J.head.data.length?(j=J.head.data.slice(0,$),J.head.data=J.head.data.slice($)):$===J.head.data.length?j=J.shift():j=R?tt($,J):X($,J),j}function tt($,J){var R=J.head,j=1,z=R.data;for($-=z.length;R=R.next;){var Z=R.data,Q=$>Z.length?Z.length:$;if(Q===Z.length?z+=Z:z+=Z.slice(0,$),$-=Q,$===0){Q===Z.length?(++j,R.next?J.head=R.next:J.head=J.tail=null):(J.head=R,R.data=Z.slice(Q));break}++j}return J.length-=j,z}function X($,J){var R=o.allocUnsafe($),j=J.head,z=1;for(j.data.copy(R),$-=j.data.length;j=j.next;){var Z=j.data,Q=$>Z.length?Z.length:$;if(Z.copy(R,R.length-$,0,Q),$-=Q,$===0){Q===Z.length?(++z,j.next?J.head=j.next:J.head=J.tail=null):(J.head=j,j.data=Z.slice(Q));break}++z}return J.length-=z,R}function ft($){var J=$._readableState;if(J.length>0)throw new Error('"endReadable()" called on non-empty stream');J.endEmitted||(J.ended=!0,r.nextTick(et,J,$))}function et($,J){!$.endEmitted&&$.length===0&&($.endEmitted=!0,J.readable=!1,J.emit("end"))}function at($,J){for(var R=0,j=$.length;R<j;R++)if($[R]===J)return R;return-1}}),Xc=gt((t,i)=>{lt(),i.exports=s;var r=Ci(),u=Object.create(Sn());u.inherits=pe(),u.inherits(s,r);function a(c,f){var l=this._transformState;l.transforming=!1;var p=l.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,f!=null&&this.push(f),p(c);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function s(c){if(!(this instanceof s))return new s(c);r.call(this,c),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",e)}function e(){var c=this;typeof this._flush=="function"?this._flush(function(f,l){o(c,f,l)}):o(this,null,null)}s.prototype.push=function(c,f){return this._transformState.needTransform=!1,r.prototype.push.call(this,c,f)},s.prototype._transform=function(c,f,l){throw new Error("_transform() is not implemented")},s.prototype._write=function(c,f,l){var p=this._transformState;if(p.writecb=l,p.writechunk=c,p.writeencoding=f,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},s.prototype._read=function(c){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},s.prototype._destroy=function(c,f){var l=this;r.prototype._destroy.call(this,c,function(p){f(p),l.emit("close")})};function o(c,f,l){if(f)return c.emit("error",f);if(l!=null&&c.push(l),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}}),_2=gt((t,i)=>{lt(),i.exports=a;var r=Xc(),u=Object.create(Sn());u.inherits=pe(),u.inherits(a,r);function a(s){if(!(this instanceof a))return new a(s);r.call(this,s)}a.prototype._transform=function(s,e,o){o(null,s)}}),E2=gt((t,i)=>{lt(),t=i.exports=Jc(),t.Stream=t,t.Readable=t,t.Writable=Zc(),t.Duplex=Ci(),t.Transform=Xc(),t.PassThrough=_2()}),Yc=gt((t,i)=>{lt();var r=9007199254740991,u="[object Arguments]",a="[object Function]",s="[object GeneratorFunction]",e=typeof le=="object"&&le&&le.Object===Object&&le,o=typeof self=="object"&&self&&self.Object===Object&&self,c=e||o||Function("return this")();function f(q,O){for(var L=-1,n=O.length,d=q.length;++L<n;)q[d+L]=O[L];return q}var l=Object.prototype,p=l.hasOwnProperty,g=l.toString,y=c.Symbol,m=l.propertyIsEnumerable,M=y?y.isConcatSpreadable:void 0;function E(q,O,L,n,d){var v=-1,A=q.length;for(L||(L=B),d||(d=[]);++v<A;){var T=q[v];O>0&&L(T)?O>1?E(T,O-1,L,n,d):f(d,T):n||(d[d.length]=T)}return d}function B(q){return N(q)||C(q)||!!(M&&q&&q[M])}function x(q){var O=q?q.length:0;return O?E(q,1):[]}function C(q){return I(q)&&p.call(q,"callee")&&(!m.call(q,"callee")||g.call(q)==u)}var N=Array.isArray;function F(q){return q!=null&&P(q.length)&&!U(q)}function I(q){return W(q)&&F(q)}function U(q){var O=D(q)?g.call(q):"";return O==a||O==s}function P(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=r}function D(q){var O=typeof q;return!!q&&(O=="object"||O=="function")}function W(q){return!!q&&typeof q=="object"}i.exports=x}),Qc=gt((t,i)=>{lt();var r=200,u="__lodash_hash_undefined__",a=9007199254740991,s="[object Arguments]",e="[object Function]",o="[object GeneratorFunction]",c=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,l=typeof le=="object"&&le&&le.Object===Object&&le,p=typeof self=="object"&&self&&self.Object===Object&&self,g=l||p||Function("return this")();function y(St,kt,Kt){switch(Kt.length){case 0:return St.call(kt);case 1:return St.call(kt,Kt[0]);case 2:return St.call(kt,Kt[0],Kt[1]);case 3:return St.call(kt,Kt[0],Kt[1],Kt[2])}return St.apply(kt,Kt)}function m(St,kt){var Kt=St?St.length:0;return!!Kt&&C(St,kt,0)>-1}function M(St,kt,Kt){for(var At=-1,Nt=St?St.length:0;++At<Nt;)if(Kt(kt,St[At]))return!0;return!1}function E(St,kt){for(var Kt=-1,At=St?St.length:0,Nt=Array(At);++Kt<At;)Nt[Kt]=kt(St[Kt],Kt,St);return Nt}function B(St,kt){for(var Kt=-1,At=kt.length,Nt=St.length;++Kt<At;)St[Nt+Kt]=kt[Kt];return St}function x(St,kt,Kt,At){for(var Nt=St.length,$t=Kt+(At?1:-1);At?$t--:++$t<Nt;)if(kt(St[$t],$t,St))return $t;return-1}function C(St,kt,Kt){if(kt!==kt)return x(St,N,Kt);for(var At=Kt-1,Nt=St.length;++At<Nt;)if(St[At]===kt)return At;return-1}function N(St){return St!==St}function F(St){return function(kt){return St(kt)}}function I(St,kt){return St.has(kt)}function U(St,kt){return St==null?void 0:St[kt]}function P(St){var kt=!1;if(St!=null&&typeof St.toString!="function")try{kt=!!(St+"")}catch{}return kt}var D=Array.prototype,W=Function.prototype,q=Object.prototype,O=g["__core-js_shared__"],L=function(){var St=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return St?"Symbol(src)_1."+St:""}(),n=W.toString,d=q.hasOwnProperty,v=q.toString,A=RegExp("^"+n.call(d).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=g.Symbol,S=q.propertyIsEnumerable,w=D.splice,b=T?T.isConcatSpreadable:void 0,h=Math.max,k=dt(g,"Map"),tt=dt(Object,"create");function X(St){var kt=-1,Kt=St?St.length:0;for(this.clear();++kt<Kt;){var At=St[kt];this.set(At[0],At[1])}}function ft(){this.__data__=tt?tt(null):{}}function et(St){return this.has(St)&&delete this.__data__[St]}function at(St){var kt=this.__data__;if(tt){var Kt=kt[St];return Kt===u?void 0:Kt}return d.call(kt,St)?kt[St]:void 0}function $(St){var kt=this.__data__;return tt?kt[St]!==void 0:d.call(kt,St)}function J(St,kt){var Kt=this.__data__;return Kt[St]=tt&&kt===void 0?u:kt,this}X.prototype.clear=ft,X.prototype.delete=et,X.prototype.get=at,X.prototype.has=$,X.prototype.set=J;function R(St){var kt=-1,Kt=St?St.length:0;for(this.clear();++kt<Kt;){var At=St[kt];this.set(At[0],At[1])}}function j(){this.__data__=[]}function z(St){var kt=this.__data__,Kt=pt(kt,St);if(Kt<0)return!1;var At=kt.length-1;return Kt==At?kt.pop():w.call(kt,Kt,1),!0}function Z(St){var kt=this.__data__,Kt=pt(kt,St);return Kt<0?void 0:kt[Kt][1]}function Q(St){return pt(this.__data__,St)>-1}function K(St,kt){var Kt=this.__data__,At=pt(Kt,St);return At<0?Kt.push([St,kt]):Kt[At][1]=kt,this}R.prototype.clear=j,R.prototype.delete=z,R.prototype.get=Z,R.prototype.has=Q,R.prototype.set=K;function G(St){var kt=-1,Kt=St?St.length:0;for(this.clear();++kt<Kt;){var At=St[kt];this.set(At[0],At[1])}}function H(){this.__data__={hash:new X,map:new(k||R),string:new X}}function Y(St){return Ct(this,St).delete(St)}function it(St){return Ct(this,St).get(St)}function ot(St){return Ct(this,St).has(St)}function mt(St,kt){return Ct(this,St).set(St,kt),this}G.prototype.clear=H,G.prototype.delete=Y,G.prototype.get=it,G.prototype.has=ot,G.prototype.set=mt;function _t(St){var kt=-1,Kt=St?St.length:0;for(this.__data__=new G;++kt<Kt;)this.add(St[kt])}function ht(St){return this.__data__.set(St,u),this}function vt(St){return this.__data__.has(St)}_t.prototype.add=_t.prototype.push=ht,_t.prototype.has=vt;function pt(St,kt){for(var Kt=St.length;Kt--;)if(ut(St[Kt][0],kt))return Kt;return-1}function V(St,kt,Kt,At){var Nt=-1,$t=m,Ft=!0,Wt=St.length,ae=[],Xt=kt.length;if(!Wt)return ae;Kt&&(kt=E(kt,F(Kt))),At?($t=M,Ft=!1):kt.length>=r&&($t=I,Ft=!1,kt=new _t(kt));t:for(;++Nt<Wt;){var Gt=St[Nt],he=Kt?Kt(Gt):Gt;if(Gt=At||Gt!==0?Gt:0,Ft&&he===he){for(var Qt=Xt;Qt--;)if(kt[Qt]===he)continue t;ae.push(Gt)}else $t(kt,he,At)||ae.push(Gt)}return ae}function rt(St,kt,Kt,At,Nt){var $t=-1,Ft=St.length;for(Kt||(Kt=Mt),Nt||(Nt=[]);++$t<Ft;){var Wt=St[$t];kt>0&&Kt(Wt)?kt>1?rt(Wt,kt-1,Kt,At,Nt):B(Nt,Wt):At||(Nt[Nt.length]=Wt)}return Nt}function st(St){if(!Tt(St)||wt(St))return!1;var kt=Dt(St)||P(St)?A:f;return kt.test(ct(St))}function yt(St,kt){return kt=h(kt===void 0?St.length-1:kt,0),function(){for(var Kt=arguments,At=-1,Nt=h(Kt.length-kt,0),$t=Array(Nt);++At<Nt;)$t[At]=Kt[kt+At];At=-1;for(var Ft=Array(kt+1);++At<kt;)Ft[At]=Kt[At];return Ft[kt]=$t,y(St,this,Ft)}}function Ct(St,kt){var Kt=St.__data__;return Lt(kt)?Kt[typeof kt=="string"?"string":"hash"]:Kt.map}function dt(St,kt){var Kt=U(St,kt);return st(Kt)?Kt:void 0}function Mt(St){return qt(St)||Ot(St)||!!(b&&St&&St[b])}function Lt(St){var kt=typeof St;return kt=="string"||kt=="number"||kt=="symbol"||kt=="boolean"?St!=="__proto__":St===null}function wt(St){return!!L&&L in St}function ct(St){if(St!=null){try{return n.call(St)}catch{}try{return St+""}catch{}}return""}var Et=yt(function(St,kt){return Rt(St)?V(St,rt(kt,1,Rt,!0)):[]});function ut(St,kt){return St===kt||St!==St&&kt!==kt}function Ot(St){return Rt(St)&&d.call(St,"callee")&&(!S.call(St,"callee")||v.call(St)==s)}var qt=Array.isArray;function nt(St){return St!=null&&bt(St.length)&&!Dt(St)}function Rt(St){return jt(St)&&nt(St)}function Dt(St){var kt=Tt(St)?v.call(St):"";return kt==e||kt==o}function bt(St){return typeof St=="number"&&St>-1&&St%1==0&&St<=a}function Tt(St){var kt=typeof St;return!!St&&(kt=="object"||kt=="function")}function jt(St){return!!St&&typeof St=="object"}i.exports=Et}),t0=gt((t,i)=>{lt();var r=200,u="__lodash_hash_undefined__",a=1/0,s=9007199254740991,e="[object Arguments]",o="[object Function]",c="[object GeneratorFunction]",f=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,p=typeof le=="object"&&le&&le.Object===Object&&le,g=typeof self=="object"&&self&&self.Object===Object&&self,y=p||g||Function("return this")();function m(At,Nt,$t){switch($t.length){case 0:return At.call(Nt);case 1:return At.call(Nt,$t[0]);case 2:return At.call(Nt,$t[0],$t[1]);case 3:return At.call(Nt,$t[0],$t[1],$t[2])}return At.apply(Nt,$t)}function M(At,Nt){var $t=At?At.length:0;return!!$t&&C(At,Nt,0)>-1}function E(At,Nt,$t){for(var Ft=-1,Wt=At?At.length:0;++Ft<Wt;)if($t(Nt,At[Ft]))return!0;return!1}function B(At,Nt){for(var $t=-1,Ft=Nt.length,Wt=At.length;++$t<Ft;)At[Wt+$t]=Nt[$t];return At}function x(At,Nt,$t,Ft){for(var Wt=At.length,ae=$t+(Ft?1:-1);Ft?ae--:++ae<Wt;)if(Nt(At[ae],ae,At))return ae;return-1}function C(At,Nt,$t){if(Nt!==Nt)return x(At,N,$t);for(var Ft=$t-1,Wt=At.length;++Ft<Wt;)if(At[Ft]===Nt)return Ft;return-1}function N(At){return At!==At}function F(At,Nt){return At.has(Nt)}function I(At,Nt){return At==null?void 0:At[Nt]}function U(At){var Nt=!1;if(At!=null&&typeof At.toString!="function")try{Nt=!!(At+"")}catch{}return Nt}function P(At){var Nt=-1,$t=Array(At.size);return At.forEach(function(Ft){$t[++Nt]=Ft}),$t}var D=Array.prototype,W=Function.prototype,q=Object.prototype,O=y["__core-js_shared__"],L=function(){var At=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return At?"Symbol(src)_1."+At:""}(),n=W.toString,d=q.hasOwnProperty,v=q.toString,A=RegExp("^"+n.call(d).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=y.Symbol,S=q.propertyIsEnumerable,w=D.splice,b=T?T.isConcatSpreadable:void 0,h=Math.max,k=Lt(y,"Map"),tt=Lt(y,"Set"),X=Lt(Object,"create");function ft(At){var Nt=-1,$t=At?At.length:0;for(this.clear();++Nt<$t;){var Ft=At[Nt];this.set(Ft[0],Ft[1])}}function et(){this.__data__=X?X(null):{}}function at(At){return this.has(At)&&delete this.__data__[At]}function $(At){var Nt=this.__data__;if(X){var $t=Nt[At];return $t===u?void 0:$t}return d.call(Nt,At)?Nt[At]:void 0}function J(At){var Nt=this.__data__;return X?Nt[At]!==void 0:d.call(Nt,At)}function R(At,Nt){var $t=this.__data__;return $t[At]=X&&Nt===void 0?u:Nt,this}ft.prototype.clear=et,ft.prototype.delete=at,ft.prototype.get=$,ft.prototype.has=J,ft.prototype.set=R;function j(At){var Nt=-1,$t=At?At.length:0;for(this.clear();++Nt<$t;){var Ft=At[Nt];this.set(Ft[0],Ft[1])}}function z(){this.__data__=[]}function Z(At){var Nt=this.__data__,$t=V(Nt,At);if($t<0)return!1;var Ft=Nt.length-1;return $t==Ft?Nt.pop():w.call(Nt,$t,1),!0}function Q(At){var Nt=this.__data__,$t=V(Nt,At);return $t<0?void 0:Nt[$t][1]}function K(At){return V(this.__data__,At)>-1}function G(At,Nt){var $t=this.__data__,Ft=V($t,At);return Ft<0?$t.push([At,Nt]):$t[Ft][1]=Nt,this}j.prototype.clear=z,j.prototype.delete=Z,j.prototype.get=Q,j.prototype.has=K,j.prototype.set=G;function H(At){var Nt=-1,$t=At?At.length:0;for(this.clear();++Nt<$t;){var Ft=At[Nt];this.set(Ft[0],Ft[1])}}function Y(){this.__data__={hash:new ft,map:new(k||j),string:new ft}}function it(At){return Mt(this,At).delete(At)}function ot(At){return Mt(this,At).get(At)}function mt(At){return Mt(this,At).has(At)}function _t(At,Nt){return Mt(this,At).set(At,Nt),this}H.prototype.clear=Y,H.prototype.delete=it,H.prototype.get=ot,H.prototype.has=mt,H.prototype.set=_t;function ht(At){var Nt=-1,$t=At?At.length:0;for(this.__data__=new H;++Nt<$t;)this.add(At[Nt])}function vt(At){return this.__data__.set(At,u),this}function pt(At){return this.__data__.has(At)}ht.prototype.add=ht.prototype.push=vt,ht.prototype.has=pt;function V(At,Nt){for(var $t=At.length;$t--;)if(qt(At[$t][0],Nt))return $t;return-1}function rt(At,Nt,$t,Ft,Wt){var ae=-1,Xt=At.length;for($t||($t=wt),Wt||(Wt=[]);++ae<Xt;){var Gt=At[ae];Nt>0&&$t(Gt)?Nt>1?rt(Gt,Nt-1,$t,Ft,Wt):B(Wt,Gt):Ft||(Wt[Wt.length]=Gt)}return Wt}function st(At){if(!St(At)||Et(At))return!1;var Nt=Tt(At)||U(At)?A:l;return Nt.test(ut(At))}function yt(At,Nt){return Nt=h(Nt===void 0?At.length-1:Nt,0),function(){for(var $t=arguments,Ft=-1,Wt=h($t.length-Nt,0),ae=Array(Wt);++Ft<Wt;)ae[Ft]=$t[Nt+Ft];Ft=-1;for(var Xt=Array(Nt+1);++Ft<Nt;)Xt[Ft]=$t[Ft];return Xt[Nt]=ae,m(At,this,Xt)}}function Ct(At,Nt,$t){var Ft=-1,Wt=M,ae=At.length,Xt=!0,Gt=[],he=Gt;if($t)Xt=!1,Wt=E;else if(ae>=r){var Qt=Nt?null:dt(At);if(Qt)return P(Qt);Xt=!1,Wt=F,he=new ht}else he=Nt?[]:Gt;t:for(;++Ft<ae;){var Zt=At[Ft],se=Nt?Nt(Zt):Zt;if(Zt=$t||Zt!==0?Zt:0,Xt&&se===se){for(var te=he.length;te--;)if(he[te]===se)continue t;Nt&&he.push(se),Gt.push(Zt)}else Wt(he,se,$t)||(he!==Gt&&he.push(se),Gt.push(Zt))}return Gt}var dt=tt&&1/P(new tt([,-0]))[1]==a?function(At){return new tt(At)}:Kt;function Mt(At,Nt){var $t=At.__data__;return ct(Nt)?$t[typeof Nt=="string"?"string":"hash"]:$t.map}function Lt(At,Nt){var $t=I(At,Nt);return st($t)?$t:void 0}function wt(At){return Rt(At)||nt(At)||!!(b&&At&&At[b])}function ct(At){var Nt=typeof At;return Nt=="string"||Nt=="number"||Nt=="symbol"||Nt=="boolean"?At!=="__proto__":At===null}function Et(At){return!!L&&L in At}function ut(At){if(At!=null){try{return n.call(At)}catch{}try{return At+""}catch{}}return""}var Ot=yt(function(At){return Ct(rt(At,1,bt,!0))});function qt(At,Nt){return At===Nt||At!==At&&Nt!==Nt}function nt(At){return bt(At)&&d.call(At,"callee")&&(!S.call(At,"callee")||v.call(At)==e)}var Rt=Array.isArray;function Dt(At){return At!=null&&jt(At.length)&&!Tt(At)}function bt(At){return kt(At)&&Dt(At)}function Tt(At){var Nt=St(At)?v.call(At):"";return Nt==o||Nt==c}function jt(At){return typeof At=="number"&&At>-1&&At%1==0&&At<=s}function St(At){var Nt=typeof At;return!!At&&(Nt=="object"||Nt=="function")}function kt(At){return!!At&&typeof At=="object"}function Kt(){}i.exports=Ot}),e0=gt((t,i)=>{lt();var r="[object Object]";function u(m){var M=!1;if(m!=null&&typeof m.toString!="function")try{M=!!(m+"")}catch{}return M}function a(m,M){return function(E){return m(M(E))}}var s=Function.prototype,e=Object.prototype,o=s.toString,c=e.hasOwnProperty,f=o.call(Object),l=e.toString,p=a(Object.getPrototypeOf,Object);function g(m){return!!m&&typeof m=="object"}function y(m){if(!g(m)||l.call(m)!=r||u(m))return!1;var M=p(m);if(M===null)return!0;var E=c.call(M,"constructor")&&M.constructor;return typeof E=="function"&&E instanceof E&&o.call(E)==f}i.exports=y}),S2=gt(t=>{lt();var i=dn(),r=Jt.default.platform==="win32",u=pi(),a=Jt.default.env.NODE_DEBUG&&/fs/.test(Jt.default.env.NODE_DEBUG);function s(){var f;if(a){var l=new Error;f=p}else f=g;return f;function p(y){y&&(l.message=y.message,y=l,g(y))}function g(y){if(y){if(Jt.default.throwDeprecation)throw y;if(!Jt.default.noDeprecation){var m="fs: missing callback "+(y.stack||y.message);Jt.default.traceDeprecation?console.trace(m):console.error(m)}}}}function e(f){return typeof f=="function"?f:s()}i.normalize,r?o=/(.*?)(?:[\/\\]+|$)/g:o=/(.*?)(?:[\/]+|$)/g;var o;r?c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:c=/^[\/]*/;var c;t.realpathSync=function(f,l){if(f=i.resolve(f),l&&Object.prototype.hasOwnProperty.call(l,f))return l[f];var p=f,g={},y={},m,M,E,B;x();function x(){var P=c.exec(f);m=P[0].length,M=P[0],E=P[0],B="",r&&!y[E]&&(u.lstatSync(E),y[E]=!0)}for(;m<f.length;){o.lastIndex=m;var C=o.exec(f);if(B=M,M+=C[0],E=B+C[1],m=o.lastIndex,!(y[E]||l&&l[E]===E)){var N;if(l&&Object.prototype.hasOwnProperty.call(l,E))N=l[E];else{var F=u.lstatSync(E);if(!F.isSymbolicLink()){y[E]=!0,l&&(l[E]=E);continue}var I=null;if(!r){var U=F.dev.toString(32)+":"+F.ino.toString(32);g.hasOwnProperty(U)&&(I=g[U])}I===null&&(u.statSync(E),I=u.readlinkSync(E)),N=i.resolve(B,I),l&&(l[E]=N),r||(g[U]=I)}f=i.resolve(N,f.slice(m)),x()}}return l&&(l[p]=f),f},t.realpath=function(f,l,p){if(typeof p!="function"&&(p=e(l),l=null),f=i.resolve(f),l&&Object.prototype.hasOwnProperty.call(l,f))return Jt.default.nextTick(p.bind(null,null,l[f]));var g=f,y={},m={},M,E,B,x;C();function C(){var P=c.exec(f);M=P[0].length,E=P[0],B=P[0],x="",r&&!m[B]?u.lstat(B,function(D){if(D)return p(D);m[B]=!0,N()}):Jt.default.nextTick(N)}function N(){if(M>=f.length)return l&&(l[g]=f),p(null,f);o.lastIndex=M;var P=o.exec(f);return x=E,E+=P[0],B=x+P[1],M=o.lastIndex,m[B]||l&&l[B]===B?Jt.default.nextTick(N):l&&Object.prototype.hasOwnProperty.call(l,B)?U(l[B]):u.lstat(B,F)}function F(P,D){if(P)return p(P);if(!D.isSymbolicLink())return m[B]=!0,l&&(l[B]=B),Jt.default.nextTick(N);if(!r){var W=D.dev.toString(32)+":"+D.ino.toString(32);if(y.hasOwnProperty(W))return I(null,y[W],B)}u.stat(B,function(q){if(q)return p(q);u.readlink(B,function(O,L){r||(y[W]=L),I(O,L)})})}function I(P,D,W){if(P)return p(P);var q=i.resolve(x,D);l&&(l[W]=q),U(q)}function U(P){f=i.resolve(P,f.slice(M)),C()}}}),r0=gt((t,i)=>{lt(),i.exports=f,f.realpath=f,f.sync=l,f.realpathSync=l,f.monkeypatch=p,f.unmonkeypatch=g;var r=pi(),u=r.realpath,a=r.realpathSync,s=Jt.default.version,e=/^v[0-5]\./.test(s),o=S2();function c(y){return y&&y.syscall==="realpath"&&(y.code==="ELOOP"||y.code==="ENOMEM"||y.code==="ENAMETOOLONG")}function f(y,m,M){if(e)return u(y,m,M);typeof m=="function"&&(M=m,m=null),u(y,m,function(E,B){c(E)?o.realpath(y,m,M):M(E,B)})}function l(y,m){if(e)return a(y,m);try{return a(y,m)}catch(M){if(c(M))return o.realpathSync(y,m);throw M}}function p(){r.realpath=f,r.realpathSync=l}function g(){r.realpath=u,r.realpathSync=a}}),A2=gt((t,i)=>{lt(),i.exports=function(u,a){for(var s=[],e=0;e<u.length;e++){var o=a(u[e],e);r(o)?s.push.apply(s,o):s.push(o)}return s};var r=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"}}),T2=gt((t,i)=>{lt();var r=A2(),u=Ac();i.exports=y;var a="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",e="\0CLOSE"+Math.random()+"\0",o="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function f(C){return parseInt(C,10)==C?parseInt(C,10):C.charCodeAt(0)}function l(C){return C.split("\\\\").join(a).split("\\{").join(s).split("\\}").join(e).split("\\,").join(o).split("\\.").join(c)}function p(C){return C.split(a).join("\\").split(s).join("{").split(e).join("}").split(o).join(",").split(c).join(".")}function g(C){if(!C)return[""];var N=[],F=u("{","}",C);if(!F)return C.split(",");var I=F.pre,U=F.body,P=F.post,D=I.split(",");D[D.length-1]+="{"+U+"}";var W=g(P);return P.length&&(D[D.length-1]+=W.shift(),D.push.apply(D,W)),N.push.apply(N,D),N}function y(C){return C?(C.substr(0,2)==="{}"&&(C="\\{\\}"+C.substr(2)),x(l(C),!0).map(p)):[]}function m(C){return"{"+C+"}"}function M(C){return/^-?0\d/.test(C)}function E(C,N){return C<=N}function B(C,N){return C>=N}function x(C,N){var F=[],I=u("{","}",C);if(!I||/\$$/.test(I.pre))return[C];var U=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(I.body),P=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(I.body),D=U||P,W=I.body.indexOf(",")>=0;if(!D&&!W)return I.post.match(/,.*\}/)?(C=I.pre+"{"+I.body+e+I.post,x(C)):[C];var q;if(D)q=I.body.split(/\.\./);else if(q=g(I.body),q.length===1&&(q=x(q[0],!1).map(m),q.length===1)){var L=I.post.length?x(I.post,!1):[""];return L.map(function(J){return I.pre+q[0]+J})}var O=I.pre,L=I.post.length?x(I.post,!1):[""],n;if(D){var d=f(q[0]),v=f(q[1]),A=Math.max(q[0].length,q[1].length),T=q.length==3?Math.abs(f(q[2])):1,S=E,w=v<d;w&&(T*=-1,S=B);var b=q.some(M);n=[];for(var h=d;S(h,v);h+=T){var k;if(P)k=String.fromCharCode(h),k==="\\"&&(k="");else if(k=String(h),b){var tt=A-k.length;if(tt>0){var X=new Array(tt+1).join("0");h<0?k="-"+X+k.slice(1):k=X+k}}n.push(k)}}else n=r(q,function($){return x($,!1)});for(var ft=0;ft<n.length;ft++)for(var et=0;et<L.length;et++){var at=O+n[ft]+L[et];(!N||D||at)&&F.push(at)}return F}}),Uu=gt((t,i)=>{lt(),i.exports=M,M.Minimatch=E;var r=function(){try{return dn()}catch{}}()||{sep:"/"};M.sep=r.sep;var u=M.GLOBSTAR=E.GLOBSTAR={},a=T2(),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},e="[^/]",o=e+"*?",c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",f="(?:(?!(?:\\/|^)\\.).)*?",l=p("().*{}+?[]^$\\!");function p(q){return q.split("").reduce(function(O,L){return O[L]=!0,O},{})}var g=/\/+/;M.filter=y;function y(q,O){return O=O||{},function(L,n,d){return M(L,q,O)}}function m(q,O){O=O||{};var L={};return Object.keys(q).forEach(function(n){L[n]=q[n]}),Object.keys(O).forEach(function(n){L[n]=O[n]}),L}M.defaults=function(q){if(!q||typeof q!="object"||!Object.keys(q).length)return M;var O=M,L=function(n,d,v){return O(n,d,m(q,v))};return L.Minimatch=function(n,d){return new O.Minimatch(n,m(q,d))},L.Minimatch.defaults=function(n){return O.defaults(m(q,n)).Minimatch},L.filter=function(n,d){return O.filter(n,m(q,d))},L.defaults=function(n){return O.defaults(m(q,n))},L.makeRe=function(n,d){return O.makeRe(n,m(q,d))},L.braceExpand=function(n,d){return O.braceExpand(n,m(q,d))},L.match=function(n,d,v){return O.match(n,d,m(q,v))},L},E.defaults=function(q){return M.defaults(q).Minimatch};function M(q,O,L){return F(O),L||(L={}),!L.nocomment&&O.charAt(0)==="#"?!1:new E(O,L).match(q)}function E(q,O){if(!(this instanceof E))return new E(q,O);F(q),O||(O={}),q=q.trim(),!O.allowWindowsEscape&&r.sep!=="/"&&(q=q.split(r.sep).join("/")),this.options=O,this.set=[],this.pattern=q,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!O.partial,this.make()}E.prototype.debug=function(){},E.prototype.make=B;function B(){var q=this.pattern,O=this.options;if(!O.nocomment&&q.charAt(0)==="#"){this.comment=!0;return}if(!q){this.empty=!0;return}this.parseNegate();var L=this.globSet=this.braceExpand();O.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,L),L=this.globParts=L.map(function(n){return n.split(g)}),this.debug(this.pattern,L),L=L.map(function(n,d,v){return n.map(this.parse,this)},this),this.debug(this.pattern,L),L=L.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,L),this.set=L}E.prototype.parseNegate=x;function x(){var q=this.pattern,O=!1,L=this.options,n=0;if(!L.nonegate){for(var d=0,v=q.length;d<v&&q.charAt(d)==="!";d++)O=!O,n++;n&&(this.pattern=q.substr(n)),this.negate=O}}M.braceExpand=function(q,O){return C(q,O)},E.prototype.braceExpand=C;function C(q,O){return O||(this instanceof E?O=this.options:O={}),q=typeof q>"u"?this.pattern:q,F(q),O.nobrace||!/\{(?:(?!\{).)*\}/.test(q)?[q]:a(q)}var N=1024*64,F=function(q){if(typeof q!="string")throw new TypeError("invalid pattern");if(q.length>N)throw new TypeError("pattern is too long")};E.prototype.parse=U;var I={};function U(q,O){F(q);var L=this.options;if(q==="**")if(L.noglobstar)q="*";else return u;if(q==="")return"";var n="",d=!!L.nocase,v=!1,A=[],T=[],S,w=!1,b=-1,h=-1,k=q.charAt(0)==="."?"":L.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",tt=this;function X(){if(S){switch(S){case"*":n+=o,d=!0;break;case"?":n+=e,d=!0;break;default:n+="\\"+S;break}tt.debug("clearStateChar %j %j",S,n),S=!1}}for(var ft=0,et=q.length,at;ft<et&&(at=q.charAt(ft));ft++){if(this.debug("%s	%s %s %j",q,ft,n,at),v&&l[at]){n+="\\"+at,v=!1;continue}switch(at){case"/":return!1;case"\\":X(),v=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",q,ft,n,at),w){this.debug("  in class"),at==="!"&&ft===h+1&&(at="^"),n+=at;continue}tt.debug("call clearStateChar %j",S),X(),S=at,L.noext&&X();continue;case"(":if(w){n+="(";continue}if(!S){n+="\\(";continue}A.push({type:S,start:ft-1,reStart:n.length,open:s[S].open,close:s[S].close}),n+=S==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",S,n),S=!1;continue;case")":if(w||!A.length){n+="\\)";continue}X(),d=!0;var $=A.pop();n+=$.close,$.type==="!"&&T.push($),$.reEnd=n.length;continue;case"|":if(w||!A.length||v){n+="\\|",v=!1;continue}X(),n+="|";continue;case"[":if(X(),w){n+="\\"+at;continue}w=!0,h=ft,b=n.length,n+=at;continue;case"]":if(ft===h+1||!w){n+="\\"+at,v=!1;continue}var J=q.substring(h+1,ft);try{RegExp("["+J+"]")}catch{var R=this.parse(J,I);n=n.substr(0,b)+"\\["+R[0]+"\\]",d=d||R[1],w=!1;continue}d=!0,w=!1,n+=at;continue;default:X(),v?v=!1:l[at]&&!(at==="^"&&w)&&(n+="\\"),n+=at}}for(w&&(J=q.substr(h+1),R=this.parse(J,I),n=n.substr(0,b)+"\\["+R[0],d=d||R[1]),$=A.pop();$;$=A.pop()){var j=n.slice($.reStart+$.open.length);this.debug("setting tail",n,$),j=j.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(V,rt,st){return st||(st="\\"),rt+rt+st+"|"}),this.debug(`tail=%j
   %s`,j,j,$,n);var z=$.type==="*"?o:$.type==="?"?e:"\\"+$.type;d=!0,n=n.slice(0,$.reStart)+z+"\\("+j}X(),v&&(n+="\\\\");var Z=!1;switch(n.charAt(0)){case"[":case".":case"(":Z=!0}for(var Q=T.length-1;Q>-1;Q--){var K=T[Q],G=n.slice(0,K.reStart),H=n.slice(K.reStart,K.reEnd-8),Y=n.slice(K.reEnd-8,K.reEnd),it=n.slice(K.reEnd);Y+=it;var ot=G.split("(").length-1,mt=it;for(ft=0;ft<ot;ft++)mt=mt.replace(/\)[+*?]?/,"");it=mt;var _t="";it===""&&O!==I&&(_t="$");var ht=G+H+it+_t+Y;n=ht}if(n!==""&&d&&(n="(?=.)"+n),Z&&(n=k+n),O===I)return[n,d];if(!d)return D(q);var vt=L.nocase?"i":"";try{var pt=new RegExp("^"+n+"$",vt)}catch{return new RegExp("$.")}return pt._glob=q,pt._src=n,pt}M.makeRe=function(q,O){return new E(q,O||{}).makeRe()},E.prototype.makeRe=P;function P(){if(this.regexp||this.regexp===!1)return this.regexp;var q=this.set;if(!q.length)return this.regexp=!1,this.regexp;var O=this.options,L=O.noglobstar?o:O.dot?c:f,n=O.nocase?"i":"",d=q.map(function(v){return v.map(function(A){return A===u?L:typeof A=="string"?W(A):A._src}).join("\\/")}).join("|");d="^(?:"+d+")$",this.negate&&(d="^(?!"+d+").*$");try{this.regexp=new RegExp(d,n)}catch{this.regexp=!1}return this.regexp}M.match=function(q,O,L){L=L||{};var n=new E(O,L);return q=q.filter(function(d){return n.match(d)}),n.options.nonull&&!q.length&&q.push(O),q},E.prototype.match=function(q,O){if(typeof O>"u"&&(O=this.partial),this.debug("match",q,this.pattern),this.comment)return!1;if(this.empty)return q==="";if(q==="/"&&O)return!0;var L=this.options;r.sep!=="/"&&(q=q.split(r.sep).join("/")),q=q.split(g),this.debug(this.pattern,"split",q);var n=this.set;this.debug(this.pattern,"set",n);var d,v;for(v=q.length-1;v>=0&&(d=q[v],!d);v--);for(v=0;v<n.length;v++){var A=n[v],T=q;L.matchBase&&A.length===1&&(T=[d]);var S=this.matchOne(T,A,O);if(S)return L.flipNegate?!0:!this.negate}return L.flipNegate?!1:this.negate},E.prototype.matchOne=function(q,O,L){var n=this.options;this.debug("matchOne",{this:this,file:q,pattern:O}),this.debug("matchOne",q.length,O.length);for(var d=0,v=0,A=q.length,T=O.length;d<A&&v<T;d++,v++){this.debug("matchOne loop");var S=O[v],w=q[d];if(this.debug(O,S,w),S===!1)return!1;if(S===u){this.debug("GLOBSTAR",[O,S,w]);var b=d,h=v+1;if(h===T){for(this.debug("** at the end");d<A;d++)if(q[d]==="."||q[d]===".."||!n.dot&&q[d].charAt(0)===".")return!1;return!0}for(;b<A;){var k=q[b];if(this.debug(`
globstar while`,q,b,O,h,k),this.matchOne(q.slice(b),O.slice(h),L))return this.debug("globstar found match!",b,A,k),!0;if(k==="."||k===".."||!n.dot&&k.charAt(0)==="."){this.debug("dot detected!",q,b,O,h);break}this.debug("globstar swallow a segment, and continue"),b++}return!!(L&&(this.debug(`
>>> no match, partial?`,q,b,O,h),b===A))}var tt;if(typeof S=="string"?(tt=w===S,this.debug("string match",S,w,tt)):(tt=w.match(S),this.debug("pattern match",S,w,tt)),!tt)return!1}if(d===A&&v===T)return!0;if(d===A)return L;if(v===T)return d===A-1&&q[d]==="";throw new Error("wtf?")};function D(q){return q.replace(/\\(.)/g,"$1")}function W(q){return q.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}),Fu=gt((t,i)=>{lt();function r(a){return a.charAt(0)==="/"}function u(a){var s=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,e=s.exec(a),o=e[1]||"",c=!!(o&&o.charAt(1)!==":");return!!(e[2]||c)}i.exports=Jt.default.platform==="win32"?u:r,i.exports.posix=r,i.exports.win32=u}),n0=gt(t=>{lt(),t.setopts=l,t.ownProp=i,t.makeAbs=y,t.finish=p,t.mark=g,t.isIgnored=m,t.childrenIgnored=M;function i(E,B){return Object.prototype.hasOwnProperty.call(E,B)}var r=pi(),u=dn(),a=Uu(),s=Fu(),e=a.Minimatch;function o(E,B){return E.localeCompare(B,"en")}function c(E,B){E.ignore=B.ignore||[],Array.isArray(E.ignore)||(E.ignore=[E.ignore]),E.ignore.length&&(E.ignore=E.ignore.map(f))}function f(E){var B=null;if(E.slice(-3)==="/**"){var x=E.replace(/(\/\*\*)+$/,"");B=new e(x,{dot:!0})}return{matcher:new e(E,{dot:!0}),gmatcher:B}}function l(E,B,x){if(x||(x={}),x.matchBase&&B.indexOf("/")===-1){if(x.noglobstar)throw new Error("base matching requires globstar");B="**/"+B}E.silent=!!x.silent,E.pattern=B,E.strict=x.strict!==!1,E.realpath=!!x.realpath,E.realpathCache=x.realpathCache||Object.create(null),E.follow=!!x.follow,E.dot=!!x.dot,E.mark=!!x.mark,E.nodir=!!x.nodir,E.nodir&&(E.mark=!0),E.sync=!!x.sync,E.nounique=!!x.nounique,E.nonull=!!x.nonull,E.nosort=!!x.nosort,E.nocase=!!x.nocase,E.stat=!!x.stat,E.noprocess=!!x.noprocess,E.absolute=!!x.absolute,E.fs=x.fs||r,E.maxLength=x.maxLength||1/0,E.cache=x.cache||Object.create(null),E.statCache=x.statCache||Object.create(null),E.symlinks=x.symlinks||Object.create(null),c(E,x),E.changedCwd=!1;var C=Jt.default.cwd();i(x,"cwd")?(E.cwd=u.resolve(x.cwd),E.changedCwd=E.cwd!==C):E.cwd=C,E.root=x.root||u.resolve(E.cwd,"/"),E.root=u.resolve(E.root),Jt.default.platform==="win32"&&(E.root=E.root.replace(/\\/g,"/")),E.cwdAbs=s(E.cwd)?E.cwd:y(E,E.cwd),Jt.default.platform==="win32"&&(E.cwdAbs=E.cwdAbs.replace(/\\/g,"/")),E.nomount=!!x.nomount,x.nonegate=!0,x.nocomment=!0,x.allowWindowsEscape=!1,E.minimatch=new e(B,x),E.options=E.minimatch.options}function p(E){for(var B=E.nounique,x=B?[]:Object.create(null),C=0,N=E.matches.length;C<N;C++){var F=E.matches[C];if(!F||Object.keys(F).length===0){if(E.nonull){var I=E.minimatch.globSet[C];B?x.push(I):x[I]=!0}}else{var U=Object.keys(F);B?x.push.apply(x,U):U.forEach(function(P){x[P]=!0})}}if(B||(x=Object.keys(x)),E.nosort||(x=x.sort(o)),E.mark){for(var C=0;C<x.length;C++)x[C]=E._mark(x[C]);E.nodir&&(x=x.filter(function(P){var D=!/\/$/.test(P),W=E.cache[P]||E.cache[y(E,P)];return D&&W&&(D=W!=="DIR"&&!Array.isArray(W)),D}))}E.ignore.length&&(x=x.filter(function(P){return!m(E,P)})),E.found=x}function g(E,B){var x=y(E,B),C=E.cache[x],N=B;if(C){var F=C==="DIR"||Array.isArray(C),I=B.slice(-1)==="/";if(F&&!I?N+="/":!F&&I&&(N=N.slice(0,-1)),N!==B){var U=y(E,N);E.statCache[U]=E.statCache[x],E.cache[U]=E.cache[x]}}return N}function y(E,B){var x=B;return B.charAt(0)==="/"?x=u.join(E.root,B):s(B)||B===""?x=B:E.changedCwd?x=u.resolve(E.cwd,B):x=u.resolve(B),Jt.default.platform==="win32"&&(x=x.replace(/\\/g,"/")),x}function m(E,B){return E.ignore.length?E.ignore.some(function(x){return x.matcher.match(B)||!!(x.gmatcher&&x.gmatcher.match(B))}):!1}function M(E,B){return E.ignore.length?E.ignore.some(function(x){return!!(x.gmatcher&&x.gmatcher.match(B))}):!1}}),M2=gt((t,i)=>{lt(),i.exports=g,g.GlobSync=y;var r=r0(),u=Uu();u.Minimatch,zu().Glob,He();var a=dn(),s=li(),e=Fu(),o=n0(),c=o.setopts,f=o.ownProp,l=o.childrenIgnored,p=o.isIgnored;function g(m,M){if(typeof M=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new y(m,M).found}function y(m,M){if(!m)throw new Error("must provide pattern");if(typeof M=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof y))return new y(m,M);if(c(this,m,M),this.noprocess)return this;var E=this.minimatch.set.length;this.matches=new Array(E);for(var B=0;B<E;B++)this._process(this.minimatch.set[B],B,!1);this._finish()}y.prototype._finish=function(){if(s.ok(this instanceof y),this.realpath){var m=this;this.matches.forEach(function(M,E){var B=m.matches[E]=Object.create(null);for(var x in M)try{x=m._makeAbs(x);var C=r.realpathSync(x,m.realpathCache);B[C]=!0}catch(N){if(N.syscall==="stat")B[m._makeAbs(x)]=!0;else throw N}})}o.finish(this)},y.prototype._process=function(m,M,E){s.ok(this instanceof y);for(var B=0;typeof m[B]=="string";)B++;var x;switch(B){case m.length:this._processSimple(m.join("/"),M);return;case 0:x=null;break;default:x=m.slice(0,B).join("/");break}var C=m.slice(B),N;x===null?N=".":((e(x)||e(m.map(function(U){return typeof U=="string"?U:"[*]"}).join("/")))&&(!x||!e(x))&&(x="/"+x),N=x);var F=this._makeAbs(N);if(!l(this,N)){var I=C[0]===u.GLOBSTAR;I?this._processGlobStar(x,N,F,C,M,E):this._processReaddir(x,N,F,C,M,E)}},y.prototype._processReaddir=function(m,M,E,B,x,C){var N=this._readdir(E,C);if(N){for(var F=B[0],I=!!this.minimatch.negate,U=F._glob,P=this.dot||U.charAt(0)===".",D=[],W=0;W<N.length;W++){var q=N[W];if(q.charAt(0)!=="."||P){var O;I&&!m?O=!q.match(F):O=q.match(F),O&&D.push(q)}}var L=D.length;if(L!==0){if(B.length===1&&!this.mark&&!this.stat){this.matches[x]||(this.matches[x]=Object.create(null));for(var W=0;W<L;W++){var q=D[W];m&&(m.slice(-1)!=="/"?q=m+"/"+q:q=m+q),q.charAt(0)==="/"&&!this.nomount&&(q=a.join(this.root,q)),this._emitMatch(x,q)}return}B.shift();for(var W=0;W<L;W++){var q=D[W],n;m?n=[m,q]:n=[q],this._process(n.concat(B),x,C)}}}},y.prototype._emitMatch=function(m,M){if(!p(this,M)){var E=this._makeAbs(M);if(this.mark&&(M=this._mark(M)),this.absolute&&(M=E),!this.matches[m][M]){if(this.nodir){var B=this.cache[E];if(B==="DIR"||Array.isArray(B))return}this.matches[m][M]=!0,this.stat&&this._stat(M)}}},y.prototype._readdirInGlobStar=function(m){if(this.follow)return this._readdir(m,!1);var M,E;try{E=this.fs.lstatSync(m)}catch(x){if(x.code==="ENOENT")return null}var B=E&&E.isSymbolicLink();return this.symlinks[m]=B,!B&&E&&!E.isDirectory()?this.cache[m]="FILE":M=this._readdir(m,!1),M},y.prototype._readdir=function(m,M){if(M&&!f(this.symlinks,m))return this._readdirInGlobStar(m);if(f(this.cache,m)){var E=this.cache[m];if(!E||E==="FILE")return null;if(Array.isArray(E))return E}try{return this._readdirEntries(m,this.fs.readdirSync(m))}catch(B){return this._readdirError(m,B),null}},y.prototype._readdirEntries=function(m,M){if(!this.mark&&!this.stat)for(var E=0;E<M.length;E++){var B=M[E];m==="/"?B=m+B:B=m+"/"+B,this.cache[B]=!0}return this.cache[m]=M,M},y.prototype._readdirError=function(m,M){switch(M.code){case"ENOTSUP":case"ENOTDIR":var E=this._makeAbs(m);if(this.cache[E]="FILE",E===this.cwdAbs){var B=new Error(M.code+" invalid cwd "+this.cwd);throw B.path=this.cwd,B.code=M.code,B}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(m)]=!1;break;default:if(this.cache[this._makeAbs(m)]=!1,this.strict)throw M;this.silent||console.error("glob error",M);break}},y.prototype._processGlobStar=function(m,M,E,B,x,C){var N=this._readdir(E,C);if(N){var F=B.slice(1),I=m?[m]:[],U=I.concat(F);this._process(U,x,!1);var P=N.length,D=this.symlinks[E];if(!(D&&C))for(var W=0;W<P;W++){var q=N[W];if(!(q.charAt(0)==="."&&!this.dot)){var O=I.concat(N[W],F);this._process(O,x,!0);var L=I.concat(N[W],B);this._process(L,x,!0)}}}},y.prototype._processSimple=function(m,M){var E=this._stat(m);if(this.matches[M]||(this.matches[M]=Object.create(null)),!!E){if(m&&e(m)&&!this.nomount){var B=/[\/\\]$/.test(m);m.charAt(0)==="/"?m=a.join(this.root,m):(m=a.resolve(this.root,m),B&&(m+="/"))}Jt.default.platform==="win32"&&(m=m.replace(/\\/g,"/")),this._emitMatch(M,m)}},y.prototype._stat=function(m){var M=this._makeAbs(m),E=m.slice(-1)==="/";if(m.length>this.maxLength)return!1;if(!this.stat&&f(this.cache,M)){var C=this.cache[M];if(Array.isArray(C)&&(C="DIR"),!E||C==="DIR")return C;if(E&&C==="FILE")return!1}var B=this.statCache[M];if(!B){var x;try{x=this.fs.lstatSync(M)}catch(N){if(N&&(N.code==="ENOENT"||N.code==="ENOTDIR"))return this.statCache[M]=!1,!1}if(x&&x.isSymbolicLink())try{B=this.fs.statSync(M)}catch{B=x}else B=x}this.statCache[M]=B;var C=!0;return B&&(C=B.isDirectory()?"DIR":"FILE"),this.cache[M]=this.cache[M]||C,E&&C==="FILE"?!1:C},y.prototype._mark=function(m){return o.mark(this,m)},y.prototype._makeAbs=function(m){return o.makeAbs(this,m)}}),i0=gt((t,i)=>{lt(),i.exports=r;function r(u,a){if(u&&a)return r(u)(a);if(typeof u!="function")throw new TypeError("need wrapper function");return Object.keys(u).forEach(function(e){s[e]=u[e]}),s;function s(){for(var e=new Array(arguments.length),o=0;o<e.length;o++)e[o]=arguments[o];var c=u.apply(this,e),f=e[e.length-1];return typeof c=="function"&&c!==f&&Object.keys(f).forEach(function(l){c[l]=f[l]}),c}}}),Ku=gt((t,i)=>{lt();var r=i0();i.exports=r(u),i.exports.strict=r(a),u.proto=u(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return u(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})});function u(s){var e=function(){return e.called?e.value:(e.called=!0,e.value=s.apply(this,arguments))};return e.called=!1,e}function a(s){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=s.apply(this,arguments)},o=s.name||"Function wrapped with `once`";return e.onceError=o+" shouldn't be called more than once",e.called=!1,e}}),x2=gt((t,i)=>{lt();var r=i0(),u=Object.create(null),a=Ku();i.exports=r(s);function s(c,f){return u[c]?(u[c].push(f),null):(u[c]=[f],e(c))}function e(c){return a(function f(){var l=u[c],p=l.length,g=o(arguments);try{for(var y=0;y<p;y++)l[y].apply(null,g)}finally{l.length>p?(l.splice(0,p),Jt.default.nextTick(function(){f.apply(null,g)})):delete u[c]}})}function o(c){for(var f=c.length,l=[],p=0;p<f;p++)l[p]=c[p];return l}}),zu=gt((t,i)=>{lt(),i.exports=B;var r=r0(),u=Uu();u.Minimatch;var a=pe(),s=wn().EventEmitter,e=dn(),o=li(),c=Fu(),f=M2(),l=n0(),p=l.setopts,g=l.ownProp,y=x2();He();var m=l.childrenIgnored,M=l.isIgnored,E=Ku();function B(I,U,P){if(typeof U=="function"&&(P=U,U={}),U||(U={}),U.sync){if(P)throw new TypeError("callback provided to sync glob");return f(I,U)}return new N(I,U,P)}B.sync=f;var x=B.GlobSync=f.GlobSync;B.glob=B;function C(I,U){if(U===null||typeof U!="object")return I;for(var P=Object.keys(U),D=P.length;D--;)I[P[D]]=U[P[D]];return I}B.hasMagic=function(I,U){var P=C({},U);P.noprocess=!0;var D=new N(I,P),W=D.minimatch.set;if(!I)return!1;if(W.length>1)return!0;for(var q=0;q<W[0].length;q++)if(typeof W[0][q]!="string")return!0;return!1},B.Glob=N,a(N,s);function N(I,U,P){if(typeof U=="function"&&(P=U,U=null),U&&U.sync){if(P)throw new TypeError("callback provided to sync glob");return new x(I,U)}if(!(this instanceof N))return new N(I,U,P);p(this,I,U),this._didRealPath=!1;var D=this.minimatch.set.length;this.matches=new Array(D),typeof P=="function"&&(P=E(P),this.on("error",P),this.on("end",function(n){P(null,n)}));var W=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(D===0)return L();for(var q=!0,O=0;O<D;O++)this._process(this.minimatch.set[O],O,!1,L);q=!1;function L(){--W._processing,W._processing<=0&&(q?Jt.default.nextTick(function(){W._finish()}):W._finish())}}N.prototype._finish=function(){if(o(this instanceof N),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();l.finish(this),this.emit("end",this.found)}},N.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var I=this.matches.length;if(I===0)return this._finish();for(var U=this,P=0;P<this.matches.length;P++)this._realpathSet(P,D);function D(){--I===0&&U._finish()}},N.prototype._realpathSet=function(I,U){var P=this.matches[I];if(!P)return U();var D=Object.keys(P),W=this,q=D.length;if(q===0)return U();var O=this.matches[I]=Object.create(null);D.forEach(function(L,n){L=W._makeAbs(L),r.realpath(L,W.realpathCache,function(d,v){d?d.syscall==="stat"?O[L]=!0:W.emit("error",d):O[v]=!0,--q===0&&(W.matches[I]=O,U())})})},N.prototype._mark=function(I){return l.mark(this,I)},N.prototype._makeAbs=function(I){return l.makeAbs(this,I)},N.prototype.abort=function(){this.aborted=!0,this.emit("abort")},N.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},N.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var I=this._emitQueue.slice(0);this._emitQueue.length=0;for(var U=0;U<I.length;U++){var P=I[U];this._emitMatch(P[0],P[1])}}if(this._processQueue.length){var D=this._processQueue.slice(0);this._processQueue.length=0;for(var U=0;U<D.length;U++){var W=D[U];this._processing--,this._process(W[0],W[1],W[2],W[3])}}}},N.prototype._process=function(I,U,P,D){if(o(this instanceof N),o(typeof D=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([I,U,P,D]);return}for(var W=0;typeof I[W]=="string";)W++;var q;switch(W){case I.length:this._processSimple(I.join("/"),U,D);return;case 0:q=null;break;default:q=I.slice(0,W).join("/");break}var O=I.slice(W),L;q===null?L=".":((c(q)||c(I.map(function(v){return typeof v=="string"?v:"[*]"}).join("/")))&&(!q||!c(q))&&(q="/"+q),L=q);var n=this._makeAbs(L);if(m(this,L))return D();var d=O[0]===u.GLOBSTAR;d?this._processGlobStar(q,L,n,O,U,P,D):this._processReaddir(q,L,n,O,U,P,D)}},N.prototype._processReaddir=function(I,U,P,D,W,q,O){var L=this;this._readdir(P,q,function(n,d){return L._processReaddir2(I,U,P,D,W,q,d,O)})},N.prototype._processReaddir2=function(I,U,P,D,W,q,O,L){if(!O)return L();for(var n=D[0],d=!!this.minimatch.negate,v=n._glob,A=this.dot||v.charAt(0)===".",T=[],S=0;S<O.length;S++){var w=O[S];if(w.charAt(0)!=="."||A){var b;d&&!I?b=!w.match(n):b=w.match(n),b&&T.push(w)}}var h=T.length;if(h===0)return L();if(D.length===1&&!this.mark&&!this.stat){this.matches[W]||(this.matches[W]=Object.create(null));for(var S=0;S<h;S++){var w=T[S];I&&(I!=="/"?w=I+"/"+w:w=I+w),w.charAt(0)==="/"&&!this.nomount&&(w=e.join(this.root,w)),this._emitMatch(W,w)}return L()}D.shift();for(var S=0;S<h;S++){var w=T[S];I&&(I!=="/"?w=I+"/"+w:w=I+w),this._process([w].concat(D),W,q,L)}L()},N.prototype._emitMatch=function(I,U){if(!this.aborted&&!M(this,U)){if(this.paused){this._emitQueue.push([I,U]);return}var P=c(U)?U:this._makeAbs(U);if(this.mark&&(U=this._mark(U)),this.absolute&&(U=P),!this.matches[I][U]){if(this.nodir){var D=this.cache[P];if(D==="DIR"||Array.isArray(D))return}this.matches[I][U]=!0;var W=this.statCache[P];W&&this.emit("stat",U,W),this.emit("match",U)}}},N.prototype._readdirInGlobStar=function(I,U){if(this.aborted)return;if(this.follow)return this._readdir(I,!1,U);var P="lstat\0"+I,D=this,W=y(P,q);W&&D.fs.lstat(I,W);function q(O,L){if(O&&O.code==="ENOENT")return U();var n=L&&L.isSymbolicLink();D.symlinks[I]=n,!n&&L&&!L.isDirectory()?(D.cache[I]="FILE",U()):D._readdir(I,!1,U)}},N.prototype._readdir=function(I,U,P){if(!this.aborted&&(P=y("readdir\0"+I+"\0"+U,P),!!P)){if(U&&!g(this.symlinks,I))return this._readdirInGlobStar(I,P);if(g(this.cache,I)){var D=this.cache[I];if(!D||D==="FILE")return P();if(Array.isArray(D))return P(null,D)}var W=this;W.fs.readdir(I,F(this,I,P))}};function F(I,U,P){return function(D,W){D?I._readdirError(U,D,P):I._readdirEntries(U,W,P)}}N.prototype._readdirEntries=function(I,U,P){if(!this.aborted){if(!this.mark&&!this.stat)for(var D=0;D<U.length;D++){var W=U[D];I==="/"?W=I+W:W=I+"/"+W,this.cache[W]=!0}return this.cache[I]=U,P(null,U)}},N.prototype._readdirError=function(I,U,P){if(!this.aborted){switch(U.code){case"ENOTSUP":case"ENOTDIR":var D=this._makeAbs(I);if(this.cache[D]="FILE",D===this.cwdAbs){var W=new Error(U.code+" invalid cwd "+this.cwd);W.path=this.cwd,W.code=U.code,this.emit("error",W),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(I)]=!1;break;default:this.cache[this._makeAbs(I)]=!1,this.strict&&(this.emit("error",U),this.abort()),this.silent||console.error("glob error",U);break}return P()}},N.prototype._processGlobStar=function(I,U,P,D,W,q,O){var L=this;this._readdir(P,q,function(n,d){L._processGlobStar2(I,U,P,D,W,q,d,O)})},N.prototype._processGlobStar2=function(I,U,P,D,W,q,O,L){if(!O)return L();var n=D.slice(1),d=I?[I]:[],v=d.concat(n);this._process(v,W,!1,L);var A=this.symlinks[P],T=O.length;if(A&&q)return L();for(var S=0;S<T;S++){var w=O[S];if(!(w.charAt(0)==="."&&!this.dot)){var b=d.concat(O[S],n);this._process(b,W,!0,L);var h=d.concat(O[S],D);this._process(h,W,!0,L)}}L()},N.prototype._processSimple=function(I,U,P){var D=this;this._stat(I,function(W,q){D._processSimple2(I,U,W,q,P)})},N.prototype._processSimple2=function(I,U,P,D,W){if(this.matches[U]||(this.matches[U]=Object.create(null)),!D)return W();if(I&&c(I)&&!this.nomount){var q=/[\/\\]$/.test(I);I.charAt(0)==="/"?I=e.join(this.root,I):(I=e.resolve(this.root,I),q&&(I+="/"))}Jt.default.platform==="win32"&&(I=I.replace(/\\/g,"/")),this._emitMatch(U,I),W()},N.prototype._stat=function(I,U){var P=this._makeAbs(I),D=I.slice(-1)==="/";if(I.length>this.maxLength)return U();if(!this.stat&&g(this.cache,P)){var W=this.cache[P];if(Array.isArray(W)&&(W="DIR"),!D||W==="DIR")return U(null,W);if(D&&W==="FILE")return U()}var q=this.statCache[P];if(q!==void 0){if(q===!1)return U(null,q);var O=q.isDirectory()?"DIR":"FILE";return D&&O==="FILE"?U():U(null,O,q)}var L=this,n=y("stat\0"+P,d);n&&L.fs.lstat(P,n);function d(v,A){if(A&&A.isSymbolicLink())return L.fs.stat(P,function(T,S){T?L._stat2(I,P,null,A,U):L._stat2(I,P,T,S,U)});L._stat2(I,P,v,A,U)}},N.prototype._stat2=function(I,U,P,D,W){if(P&&(P.code==="ENOENT"||P.code==="ENOTDIR"))return this.statCache[U]=!1,W();var q=I.slice(-1)==="/";if(this.statCache[U]=D,U.slice(-1)==="/"&&D&&!D.isDirectory())return W(null,!1,D);var O=!0;return D&&(O=D.isDirectory()?"DIR":"FILE"),this.cache[U]=this.cache[U]||O,q&&O==="FILE"?W():W(null,O,D)}}),k2=gt((t,i)=>{lt();var r=Vo(),u=dn(),a=Yc(),s=Qc(),e=t0(),o=e0(),c=zu(),f=i.exports={},l=/[\/\\]/g,p=function(g,y){var m=[];return a(g).forEach(function(M){var E=M.indexOf("!")===0;E&&(M=M.slice(1));var B=y(M);E?m=s(m,B):m=e(m,B)}),m};f.exists=function(){var g=u.join.apply(u,arguments);return r.existsSync(g)},f.expand=function(...g){var y=o(g[0])?g.shift():{},m=Array.isArray(g[0])?g[0]:g;if(m.length===0)return[];var M=p(m,function(E){return c.sync(E,y)});return y.filter&&(M=M.filter(function(E){E=u.join(y.cwd||"",E);try{return typeof y.filter=="function"?y.filter(E):r.statSync(E)[y.filter]()}catch{return!1}})),M},f.expandMapping=function(g,y,m){m=Object.assign({rename:function(B,x){return u.join(B||"",x)}},m);var M=[],E={};return f.expand(m,g).forEach(function(B){var x=B;m.flatten&&(x=u.basename(x)),m.ext&&(x=x.replace(/(\.[^\/]*)?$/,m.ext));var C=m.rename(y,x,m);m.cwd&&(B=u.join(m.cwd,B)),C=C.replace(l,"/"),B=B.replace(l,"/"),E[C]?E[C].src.push(B):(M.push({src:[B],dest:C}),E[C]=M[M.length-1])}),M},f.normalizeFilesArray=function(g){var y=[];return g.forEach(function(m){("src"in m||"dest"in m)&&y.push(m)}),y.length===0?[]:(y=_(y).chain().forEach(function(m){!("src"in m)||!m.src||(Array.isArray(m.src)?m.src=a(m.src):m.src=[m.src])}).map(function(m){var M=Object.assign({},m);if(delete M.src,delete M.dest,m.expand)return f.expandMapping(m.src,m.dest,M).map(function(B){var x=Object.assign({},m);return x.orig=Object.assign({},m),x.src=B.src,x.dest=B.dest,["expand","cwd","flatten","rename","ext"].forEach(function(C){delete x[C]}),x});var E=Object.assign({},m);return E.orig=Object.assign({},m),"src"in E&&Object.defineProperty(E,"src",{enumerable:!0,get:function B(){var x;return"result"in B||(x=m.src,x=Array.isArray(x)?a(x):[x],B.result=f.expand(M,x)),B.result}}),"dest"in E&&(E.dest=m.dest),E}).flatten().value(),y)}}),Xo=gt((t,i)=>{lt();var r=Vo(),u=dn();He();var a=$c(),s=ju(),e=Hc(),o=Cn().Stream,c=E2().PassThrough,f=i.exports={};f.file=k2(),f.collectStream=function(l,p){var g=[],y=0;l.on("error",p),l.on("data",function(m){g.push(m),y+=m.length}),l.on("end",function(){var m=new Ut.Buffer(y),M=0;g.forEach(function(E){E.copy(m,M),M+=E.length}),p(null,m)})},f.dateify=function(l){return l=l||new Date,l instanceof Date?l=l:typeof l=="string"?l=new Date(l):l=new Date,l},f.defaults=function(l,p,g){var y=arguments;return y[0]=y[0]||{},e(...y)},f.isStream=function(l){return l instanceof o},f.lazyReadStream=function(l){return new a.Readable(function(){return r.createReadStream(l)})},f.normalizeInputSource=function(l){if(l===null)return new Ut.Buffer(0);if(typeof l=="string")return new Ut.Buffer(l);if(f.isStream(l)&&!l._readableState){var p=new c;return l.pipe(p),p}return l},f.sanitizePath=function(l){return s(l,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")},f.trailingSlashIt=function(l){return l.slice(-1)!=="/"?l+"/":l},f.unixifyPath=function(l){return s(l,!1).replace(/^\w+:/,"")},f.walkdir=function(l,p,g){var y=[];typeof p=="function"&&(g=p,p=l),r.readdir(l,function(m,M){var E=0,B,x;if(m)return g(m);(function C(){if(B=M[E++],!B)return g(null,y);x=u.join(l,B),r.stat(x,function(N,F){y.push({path:x,relative:u.relative(p,x).replace(/\\/g,"/"),stats:F}),F&&F.isDirectory()?f.walkdir(x,p,function(I,U){U.forEach(function(P){y.push(P)}),C()}):C()})})()})}}),O2=gt((t,i)=>{lt();var r=He(),u={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function a(s,e){Error.captureStackTrace(this,this.constructor),this.message=u[s]||s,this.code=s,this.data=e}r.inherits(a,Error),i.exports=a}),kr=gt((t,i)=>{lt(),t=i.exports=Nu(),t.Stream=t,t.Readable=t,t.Writable=Ru(),t.Duplex=hi(),t.Transform=Lu(),t.PassThrough=Bc(),t.finished=Ho(),t.pipeline=Cc()}),I2=gt((t,i)=>{lt();var r=pi(),u=Fg(),a=Kg(),s=dn(),e=Xo(),o=He().inherits,c=O2(),f=kr().Transform,l=Jt.default.platform==="win32",p=function(g,y){if(!(this instanceof p))return new p(g,y);typeof g!="string"&&(y=g,g="zip"),y=this.options=e.defaults(y,{highWaterMark:1024*1024,statConcurrency:4}),f.call(this,y),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=a.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=a.queue(this._onStatQueueTask.bind(this),y.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};o(p,f),p.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()},p.prototype._append=function(g,y){y=y||{};var m={source:null,filepath:g};y.name||(y.name=g),y.sourcePath=g,m.data=y,this._entriesCount++,y.stats&&y.stats instanceof r.Stats?(m=this._updateQueueTaskWithStats(m,y.stats),m&&(y.stats.size&&(this._fsEntriesTotalBytes+=y.stats.size),this._queue.push(m))):this._statQueue.push(m)},p.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)},p.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1},p.prototype._moduleAppend=function(g,y,m){if(this._state.aborted){m();return}this._module.append(g,y,(function(M){if(this._task=null,this._state.aborted){this._shutdown();return}if(M){this.emit("error",M),setImmediate(m);return}this.emit("entry",y),this._entriesProcessedCount++,y.stats&&y.stats.size&&(this._fsEntriesProcessedBytes+=y.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(m)}).bind(this))},p.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new c("NOENDMETHOD"))},p.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0},p.prototype._moduleSupports=function(g){return!this._module.supports||!this._module.supports[g]?!1:this._module.supports[g]},p.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1},p.prototype._normalizeEntryData=function(g,y){g=e.defaults(g,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),y&&g.stats===!1&&(g.stats=y);var m=g.type==="directory";return g.name&&(typeof g.prefix=="string"&&g.prefix!==""&&(g.name=g.prefix+"/"+g.name,g.prefix=null),g.name=e.sanitizePath(g.name),g.type!=="symlink"&&g.name.slice(-1)==="/"?(m=!0,g.type="directory"):m&&(g.name+="/")),typeof g.mode=="number"?l?g.mode&=511:g.mode&=4095:g.stats&&g.mode===null?(l?g.mode=g.stats.mode&511:g.mode=g.stats.mode&4095,l&&m&&(g.mode=493)):g.mode===null&&(g.mode=m?493:420),g.stats&&g.date===null?g.date=g.stats.mtime:g.date=e.dateify(g.date),g},p.prototype._onModuleError=function(g){this.emit("error",g)},p.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()},p.prototype._onQueueTask=function(g,y){var m=()=>{g.data.callback&&g.data.callback(),y()};if(this._state.finalizing||this._state.finalized||this._state.aborted){m();return}this._task=g,this._moduleAppend(g.source,g.data,m)},p.prototype._onStatQueueTask=function(g,y){if(this._state.finalizing||this._state.finalized||this._state.aborted){y();return}r.lstat(g.filepath,(function(m,M){if(this._state.aborted){setImmediate(y);return}if(m){this._entriesCount--,this.emit("warning",m),setImmediate(y);return}g=this._updateQueueTaskWithStats(g,M),g&&(M.size&&(this._fsEntriesTotalBytes+=M.size),this._queue.push(g)),setImmediate(y)}).bind(this))},p.prototype._shutdown=function(){this._moduleUnpipe(),this.end()},p.prototype._transform=function(g,y,m){g&&(this._pointer+=g.length),m(null,g)},p.prototype._updateQueueTaskWithStats=function(g,y){if(y.isFile())g.data.type="file",g.data.sourceType="stream",g.source=e.lazyReadStream(g.filepath);else if(y.isDirectory()&&this._moduleSupports("directory"))g.data.name=e.trailingSlashIt(g.data.name),g.data.type="directory",g.data.sourcePath=e.trailingSlashIt(g.filepath),g.data.sourceType="buffer",g.source=Ut.Buffer.concat([]);else if(y.isSymbolicLink()&&this._moduleSupports("symlink")){var m=r.readlinkSync(g.filepath),M=s.dirname(g.filepath);g.data.type="symlink",g.data.linkname=s.relative(M,s.resolve(M,m)),g.data.sourceType="buffer",g.source=Ut.Buffer.concat([])}else return y.isDirectory()?this.emit("warning",new c("DIRECTORYNOTSUPPORTED",g.data)):y.isSymbolicLink()?this.emit("warning",new c("SYMLINKNOTSUPPORTED",g.data)):this.emit("warning",new c("ENTRYNOTSUPPORTED",g.data)),null;return g.data=this._normalizeEntryData(g.data,y),g},p.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)},p.prototype.append=function(g,y){if(this._state.finalize||this._state.aborted)return this.emit("error",new c("QUEUECLOSED")),this;if(y=this._normalizeEntryData(y),typeof y.name!="string"||y.name.length===0)return this.emit("error",new c("ENTRYNAMEREQUIRED")),this;if(y.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new c("DIRECTORYNOTSUPPORTED",{name:y.name})),this;if(g=e.normalizeInputSource(g),Ut.Buffer.isBuffer(g))y.sourceType="buffer";else if(e.isStream(g))y.sourceType="stream";else return this.emit("error",new c("INPUTSTEAMBUFFERREQUIRED",{name:y.name})),this;return this._entriesCount++,this._queue.push({data:y,source:g}),this},p.prototype.directory=function(g,y,m){if(this._state.finalize||this._state.aborted)return this.emit("error",new c("QUEUECLOSED")),this;if(typeof g!="string"||g.length===0)return this.emit("error",new c("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,y===!1?y="":typeof y!="string"&&(y=g);var M=!1;typeof m=="function"?(M=m,m={}):typeof m!="object"&&(m={});var E={stat:!0,dot:!0};function B(){this._pending--,this._maybeFinalize()}function x(F){this.emit("error",F)}function C(F){N.pause();var I=!1,U=Object.assign({},m);U.name=F.relative,U.prefix=y,U.stats=F.stat,U.callback=N.resume.bind(N);try{if(M){if(U=M(U),U===!1)I=!0;else if(typeof U!="object")throw new c("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:g})}}catch(P){this.emit("error",P);return}if(I){N.resume();return}this._append(F.absolute,U)}var N=u(g,E);return N.on("error",x.bind(this)),N.on("match",C.bind(this)),N.on("end",B.bind(this)),this},p.prototype.file=function(g,y){return this._state.finalize||this._state.aborted?(this.emit("error",new c("QUEUECLOSED")),this):typeof g!="string"||g.length===0?(this.emit("error",new c("FILEFILEPATHREQUIRED")),this):(this._append(g,y),this)},p.prototype.glob=function(g,y,m){this._pending++,y=e.defaults(y,{stat:!0,pattern:g});function M(){this._pending--,this._maybeFinalize()}function E(C){this.emit("error",C)}function B(C){x.pause();var N=Object.assign({},m);N.callback=x.resume.bind(x),N.stats=C.stat,N.name=C.relative,this._append(C.absolute,N)}var x=u(y.cwd||".",y);return x.on("error",E.bind(this)),x.on("match",B.bind(this)),x.on("end",M.bind(this)),this},p.prototype.finalize=function(){if(this._state.aborted){var g=new c("ABORTED");return this.emit("error",g),Promise.reject(g)}if(this._state.finalize){var y=new c("FINALIZING");return this.emit("error",y),Promise.reject(y)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var m=this;return new Promise(function(M,E){var B;m._module.on("end",function(){B||M()}),m._module.on("error",function(x){B=!0,E(x)})})},p.prototype.setFormat=function(g){return this._format?(this.emit("error",new c("FORMATSET")),this):(this._format=g,this)},p.prototype.setModule=function(g){return this._state.aborted?(this.emit("error",new c("ABORTED")),this):this._state.module?(this.emit("error",new c("MODULESET")),this):(this._module=g,this._modulePipe(),this)},p.prototype.symlink=function(g,y,m){if(this._state.finalize||this._state.aborted)return this.emit("error",new c("QUEUECLOSED")),this;if(typeof g!="string"||g.length===0)return this.emit("error",new c("SYMLINKFILEPATHREQUIRED")),this;if(typeof y!="string"||y.length===0)return this.emit("error",new c("SYMLINKTARGETREQUIRED",{filepath:g})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new c("SYMLINKNOTSUPPORTED",{filepath:g})),this;var M={};return M.type="symlink",M.name=g.replace(/\\/g,"/"),M.linkname=y.replace(/\\/g,"/"),M.sourceType="buffer",typeof m=="number"&&(M.mode=m),this._entriesCount++,this._queue.push({data:M,source:Ut.Buffer.concat([])}),this},p.prototype.pointer=function(){return this._pointer},p.prototype.use=function(g){return this._streams.push(g),this},i.exports=p}),Wu=gt((t,i)=>{lt();var r=i.exports=function(){};r.prototype.getName=function(){},r.prototype.getSize=function(){},r.prototype.getLastModifiedDate=function(){},r.prototype.isDirectory=function(){}}),qu=gt((t,i)=>{lt();var r=i.exports={};r.dateToDos=function(u,a){a=a||!1;var s=a?u.getFullYear():u.getUTCFullYear();if(s<1980)return 2162688;if(s>=2044)return 2141175677;var e={year:s,month:a?u.getMonth():u.getUTCMonth(),date:a?u.getDate():u.getUTCDate(),hours:a?u.getHours():u.getUTCHours(),minutes:a?u.getMinutes():u.getUTCMinutes(),seconds:a?u.getSeconds():u.getUTCSeconds()};return e.year-1980<<25|e.month+1<<21|e.date<<16|e.hours<<11|e.minutes<<5|e.seconds/2},r.dosToDate=function(u){return new Date((u>>25&127)+1980,(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(u&31)<<1)},r.fromDosTime=function(u){return r.dosToDate(u.readUInt32LE(0))},r.getEightBytes=function(u){var a=Ut.Buffer.alloc(8);return a.writeUInt32LE(u%4294967296,0),a.writeUInt32LE(u/4294967296|0,4),a},r.getShortBytes=function(u){var a=Ut.Buffer.alloc(2);return a.writeUInt16LE((u&65535)>>>0,0),a},r.getShortBytesValue=function(u,a){return u.readUInt16LE(a)},r.getLongBytes=function(u){var a=Ut.Buffer.alloc(4);return a.writeUInt32LE((u&4294967295)>>>0,0),a},r.getLongBytesValue=function(u,a){return u.readUInt32LE(a)},r.toDosTime=function(u){return r.getLongBytes(r.dateToDos(u))}}),a0=gt((t,i)=>{lt();var r=qu(),u=8,a=1,s=4,e=2,o=64,c=2048,f=i.exports=function(){return this instanceof f?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new f};f.prototype.encode=function(){return r.getShortBytes((this.descriptor?u:0)|(this.utf8?c:0)|(this.encryption?a:0)|(this.strongEncryption?o:0))},f.prototype.parse=function(l,p){var g=r.getShortBytesValue(l,p),y=new f;return y.useDataDescriptor((g&u)!==0),y.useUTF8ForNames((g&c)!==0),y.useStrongEncryption((g&o)!==0),y.useEncryption((g&a)!==0),y.setSlidingDictionarySize(g&e?8192:4096),y.setNumberOfShannonFanoTrees(g&s?3:2),y},f.prototype.setNumberOfShannonFanoTrees=function(l){this.numberOfShannonFanoTrees=l},f.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees},f.prototype.setSlidingDictionarySize=function(l){this.slidingDictionarySize=l},f.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize},f.prototype.useDataDescriptor=function(l){this.descriptor=l},f.prototype.usesDataDescriptor=function(){return this.descriptor},f.prototype.useEncryption=function(l){this.encryption=l},f.prototype.usesEncryption=function(){return this.encryption},f.prototype.useStrongEncryption=function(l){this.strongEncryption=l},f.prototype.usesStrongEncryption=function(){return this.strongEncryption},f.prototype.useUTF8ForNames=function(l){this.utf8=l},f.prototype.usesUTF8ForNames=function(){return this.utf8}}),B2=gt((t,i)=>{lt(),i.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}}),o0=gt((t,i)=>{lt(),i.exports={WORD:4,DWORD:8,EMPTY:Ut.Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Ut.Buffer.from(Array(2)),LONG:4,LONG_ZERO:Ut.Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}}),s0=gt((t,i)=>{lt();var r=He().inherits,u=ju(),a=Wu(),s=a0(),e=B2(),o=o0(),c=qu(),f=i.exports=function(l){if(!(this instanceof f))return new f(l);a.call(this),this.platform=o.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new s,this.crc=0,this.time=-1,this.minver=o.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,l&&this.setName(l)};r(f,a),f.prototype.getCentralDirectoryExtra=function(){return this.getExtra()},f.prototype.getComment=function(){return this.comment!==null?this.comment:""},f.prototype.getCompressedSize=function(){return this.csize},f.prototype.getCrc=function(){return this.crc},f.prototype.getExternalAttributes=function(){return this.exattr},f.prototype.getExtra=function(){return this.extra!==null?this.extra:o.EMPTY},f.prototype.getGeneralPurposeBit=function(){return this.gpb},f.prototype.getInternalAttributes=function(){return this.inattr},f.prototype.getLastModifiedDate=function(){return this.getTime()},f.prototype.getLocalFileDataExtra=function(){return this.getExtra()},f.prototype.getMethod=function(){return this.method},f.prototype.getName=function(){return this.name},f.prototype.getPlatform=function(){return this.platform},f.prototype.getSize=function(){return this.size},f.prototype.getTime=function(){return this.time!==-1?c.dosToDate(this.time):-1},f.prototype.getTimeDos=function(){return this.time!==-1?this.time:0},f.prototype.getUnixMode=function(){return this.platform!==o.PLATFORM_UNIX?0:this.getExternalAttributes()>>o.SHORT_SHIFT&o.SHORT_MASK},f.prototype.getVersionNeededToExtract=function(){return this.minver},f.prototype.setComment=function(l){Ut.Buffer.byteLength(l)!==l.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=l},f.prototype.setCompressedSize=function(l){if(l<0)throw new Error("invalid entry compressed size");this.csize=l},f.prototype.setCrc=function(l){if(l<0)throw new Error("invalid entry crc32");this.crc=l},f.prototype.setExternalAttributes=function(l){this.exattr=l>>>0},f.prototype.setExtra=function(l){this.extra=l},f.prototype.setGeneralPurposeBit=function(l){if(!(l instanceof s))throw new Error("invalid entry GeneralPurposeBit");this.gpb=l},f.prototype.setInternalAttributes=function(l){this.inattr=l},f.prototype.setMethod=function(l){if(l<0)throw new Error("invalid entry compression method");this.method=l},f.prototype.setName=function(l,p=!1){l=u(l,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),p&&(l=`/${l}`),Ut.Buffer.byteLength(l)!==l.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=l},f.prototype.setPlatform=function(l){this.platform=l},f.prototype.setSize=function(l){if(l<0)throw new Error("invalid entry size");this.size=l},f.prototype.setTime=function(l,p){if(!(l instanceof Date))throw new Error("invalid entry time");this.time=c.dateToDos(l,p)},f.prototype.setUnixMode=function(l){l|=this.isDirectory()?o.S_IFDIR:o.S_IFREG;var p=0;p|=l<<o.SHORT_SHIFT|(this.isDirectory()?o.S_DOS_D:o.S_DOS_A),this.setExternalAttributes(p),this.mode=l&o.MODE_MASK,this.platform=o.PLATFORM_UNIX},f.prototype.setVersionNeededToExtract=function(l){this.minver=l},f.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"},f.prototype.isUnixSymlink=function(){return(this.getUnixMode()&e.FILE_TYPE_FLAG)===e.LINK_FLAG},f.prototype.isZip64=function(){return this.csize>o.ZIP64_MAGIC||this.size>o.ZIP64_MAGIC}}),u0=gt((t,i)=>{lt();var r=Cn().Stream,u=kr().PassThrough,a=i.exports={};a.isStream=function(s){return s instanceof r},a.normalizeInputSource=function(s){if(s===null)return Ut.Buffer.alloc(0);if(typeof s=="string")return Ut.Buffer.from(s);if(a.isStream(s)&&!s._readableState){var e=new u;return s.pipe(e),e}return s}}),h0=gt((t,i)=>{lt();var r=He().inherits,u=kr().Transform,a=Wu(),s=u0(),e=i.exports=function(o){if(!(this instanceof e))return new e(o);u.call(this,o),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};r(e,u),e.prototype._appendBuffer=function(o,c,f){},e.prototype._appendStream=function(o,c,f){},e.prototype._emitErrorCallback=function(o){o&&this.emit("error",o)},e.prototype._finish=function(o){},e.prototype._normalizeEntry=function(o){},e.prototype._transform=function(o,c,f){f(null,o)},e.prototype.entry=function(o,c,f){if(c=c||null,typeof f!="function"&&(f=this._emitErrorCallback.bind(this)),!(o instanceof a)){f(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){f(new Error("unacceptable entry after finish"));return}if(this._archive.processing){f(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(o),this._entry=o,c=s.normalizeInputSource(c),Ut.Buffer.isBuffer(c))this._appendBuffer(o,c,f);else if(s.isStream(c))this._appendStream(o,c,f);else{this._archive.processing=!1,f(new Error("input source must be valid Stream or Buffer instance"));return}return this},e.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()},e.prototype.getBytesWritten=function(){return this.offset},e.prototype.write=function(o,c){return o&&(this.offset+=o.length),u.prototype.write.call(this,o,c)}}),l0=gt((t,i)=>{lt();var r=$e().Buffer,u=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(u=new Int32Array(u));function a(c){if(r.isBuffer(c))return c;var f=typeof r.alloc=="function"&&typeof r.from=="function";if(typeof c=="number")return f?r.alloc(c):new r(c);if(typeof c=="string")return f?r.from(c):new r(c);throw new Error("input must be buffer, number, or string, received "+typeof c)}function s(c){var f=a(4);return f.writeInt32BE(c,0),f}function e(c,f){c=a(c),r.isBuffer(f)&&(f=f.readUInt32BE(0));for(var l=~~f^-1,p=0;p<c.length;p++)l=u[(l^c[p])&255]^l>>>8;return l^-1}function o(){return s(e.apply(null,arguments))}o.signed=function(){return e.apply(null,arguments)},o.unsigned=function(){return e.apply(null,arguments)>>>0},i.exports=o}),f0=gt(t=>{lt(),function(i){typeof DO_NOT_EXPORT_CRC>"u"?typeof t=="object"?i(t):typeof define=="function"&&define.amd?define(function(){var r={};return i(r),r}):i({}):i({})}(function(i){i.version="1.2.2";function r(){for(var P=0,D=new Array(256),W=0;W!=256;++W)P=W,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,D[W]=P;return typeof Int32Array<"u"?new Int32Array(D):D}var u=r();function a(P){var D=0,W=0,q=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)O[q]=P[q];for(q=0;q!=256;++q)for(W=P[q],D=256+q;D<4096;D+=256)W=O[D]=W>>>8^P[W&255];var L=[];for(q=1;q!=16;++q)L[q-1]=typeof Int32Array<"u"?O.subarray(q*256,q*256+256):O.slice(q*256,q*256+256);return L}var s=a(u),e=s[0],o=s[1],c=s[2],f=s[3],l=s[4],p=s[5],g=s[6],y=s[7],m=s[8],M=s[9],E=s[10],B=s[11],x=s[12],C=s[13],N=s[14];function F(P,D){for(var W=D^-1,q=0,O=P.length;q<O;)W=W>>>8^u[(W^P.charCodeAt(q++))&255];return~W}function I(P,D){for(var W=D^-1,q=P.length-15,O=0;O<q;)W=N[P[O++]^W&255]^C[P[O++]^W>>8&255]^x[P[O++]^W>>16&255]^B[P[O++]^W>>>24]^E[P[O++]]^M[P[O++]]^m[P[O++]]^y[P[O++]]^g[P[O++]]^p[P[O++]]^l[P[O++]]^f[P[O++]]^c[P[O++]]^o[P[O++]]^e[P[O++]]^u[P[O++]];for(q+=15;O<q;)W=W>>>8^u[(W^P[O++])&255];return~W}function U(P,D){for(var W=D^-1,q=0,O=P.length,L=0,n=0;q<O;)L=P.charCodeAt(q++),L<128?W=W>>>8^u[(W^L)&255]:L<2048?(W=W>>>8^u[(W^(192|L>>6&31))&255],W=W>>>8^u[(W^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,n=P.charCodeAt(q++)&1023,W=W>>>8^u[(W^(240|L>>8&7))&255],W=W>>>8^u[(W^(128|L>>2&63))&255],W=W>>>8^u[(W^(128|n>>6&15|(L&3)<<4))&255],W=W>>>8^u[(W^(128|n&63))&255]):(W=W>>>8^u[(W^(224|L>>12&15))&255],W=W>>>8^u[(W^(128|L>>6&63))&255],W=W>>>8^u[(W^(128|L&63))&255]);return~W}i.table=u,i.bstr=F,i.buf=I,i.str=U})}),C2=gt((t,i)=>{lt();var{Transform:r}=kr(),u=f0(),a=class extends r{constructor(s){super(s),this.checksum=Ut.Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(s,e,o){s&&(this.checksum=u.buf(s,this.checksum)>>>0,this.rawSize+=s.length),o(null,s)}digest(s){let e=Ut.Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),s?e.toString(s):e}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};i.exports=a}),P2=gt((t,i)=>{lt();function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=r}),Yo=gt(t=>{lt();var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(s,e){return Object.prototype.hasOwnProperty.call(s,e)}t.assign=function(s){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var o=e.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var c in o)r(o,c)&&(s[c]=o[c])}}return s},t.shrinkBuf=function(s,e){return s.length===e?s:s.subarray?s.subarray(0,e):(s.length=e,s)};var u={arraySet:function(s,e,o,c,f){if(e.subarray&&s.subarray){s.set(e.subarray(o,o+c),f);return}for(var l=0;l<c;l++)s[f+l]=e[o+l]},flattenChunks:function(s){var e,o,c,f,l,p;for(c=0,e=0,o=s.length;e<o;e++)c+=s[e].length;for(p=new Uint8Array(c),f=0,e=0,o=s.length;e<o;e++)l=s[e],p.set(l,f),f+=l.length;return p}},a={arraySet:function(s,e,o,c,f){for(var l=0;l<c;l++)s[f+l]=e[o+l]},flattenChunks:function(s){return[].concat.apply([],s)}};t.setTyped=function(s){s?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,u)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(i)}),R2=gt(t=>{lt();var i=Yo(),r=4,u=0,a=1,s=2;function e(dt){for(var Mt=dt.length;--Mt>=0;)dt[Mt]=0}var o=0,c=1,f=2,l=3,p=258,g=29,y=256,m=y+1+g,M=30,E=19,B=2*m+1,x=15,C=16,N=7,F=256,I=16,U=17,P=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=512,n=new Array((m+2)*2);e(n);var d=new Array(M*2);e(d);var v=new Array(L);e(v);var A=new Array(p-l+1);e(A);var T=new Array(g);e(T);var S=new Array(M);e(S);function w(dt,Mt,Lt,wt,ct){this.static_tree=dt,this.extra_bits=Mt,this.extra_base=Lt,this.elems=wt,this.max_length=ct,this.has_stree=dt&&dt.length}var b,h,k;function tt(dt,Mt){this.dyn_tree=dt,this.max_code=0,this.stat_desc=Mt}function X(dt){return dt<256?v[dt]:v[256+(dt>>>7)]}function ft(dt,Mt){dt.pending_buf[dt.pending++]=Mt&255,dt.pending_buf[dt.pending++]=Mt>>>8&255}function et(dt,Mt,Lt){dt.bi_valid>C-Lt?(dt.bi_buf|=Mt<<dt.bi_valid&65535,ft(dt,dt.bi_buf),dt.bi_buf=Mt>>C-dt.bi_valid,dt.bi_valid+=Lt-C):(dt.bi_buf|=Mt<<dt.bi_valid&65535,dt.bi_valid+=Lt)}function at(dt,Mt,Lt){et(dt,Lt[Mt*2],Lt[Mt*2+1])}function $(dt,Mt){var Lt=0;do Lt|=dt&1,dt>>>=1,Lt<<=1;while(--Mt>0);return Lt>>>1}function J(dt){dt.bi_valid===16?(ft(dt,dt.bi_buf),dt.bi_buf=0,dt.bi_valid=0):dt.bi_valid>=8&&(dt.pending_buf[dt.pending++]=dt.bi_buf&255,dt.bi_buf>>=8,dt.bi_valid-=8)}function R(dt,Mt){var Lt=Mt.dyn_tree,wt=Mt.max_code,ct=Mt.stat_desc.static_tree,Et=Mt.stat_desc.has_stree,ut=Mt.stat_desc.extra_bits,Ot=Mt.stat_desc.extra_base,qt=Mt.stat_desc.max_length,nt,Rt,Dt,bt,Tt,jt,St=0;for(bt=0;bt<=x;bt++)dt.bl_count[bt]=0;for(Lt[dt.heap[dt.heap_max]*2+1]=0,nt=dt.heap_max+1;nt<B;nt++)Rt=dt.heap[nt],bt=Lt[Lt[Rt*2+1]*2+1]+1,bt>qt&&(bt=qt,St++),Lt[Rt*2+1]=bt,!(Rt>wt)&&(dt.bl_count[bt]++,Tt=0,Rt>=Ot&&(Tt=ut[Rt-Ot]),jt=Lt[Rt*2],dt.opt_len+=jt*(bt+Tt),Et&&(dt.static_len+=jt*(ct[Rt*2+1]+Tt)));if(St!==0){do{for(bt=qt-1;dt.bl_count[bt]===0;)bt--;dt.bl_count[bt]--,dt.bl_count[bt+1]+=2,dt.bl_count[qt]--,St-=2}while(St>0);for(bt=qt;bt!==0;bt--)for(Rt=dt.bl_count[bt];Rt!==0;)Dt=dt.heap[--nt],!(Dt>wt)&&(Lt[Dt*2+1]!==bt&&(dt.opt_len+=(bt-Lt[Dt*2+1])*Lt[Dt*2],Lt[Dt*2+1]=bt),Rt--)}}function j(dt,Mt,Lt){var wt=new Array(x+1),ct=0,Et,ut;for(Et=1;Et<=x;Et++)wt[Et]=ct=ct+Lt[Et-1]<<1;for(ut=0;ut<=Mt;ut++){var Ot=dt[ut*2+1];Ot!==0&&(dt[ut*2]=$(wt[Ot]++,Ot))}}function z(){var dt,Mt,Lt,wt,ct,Et=new Array(x+1);for(Lt=0,wt=0;wt<g-1;wt++)for(T[wt]=Lt,dt=0;dt<1<<D[wt];dt++)A[Lt++]=wt;for(A[Lt-1]=wt,ct=0,wt=0;wt<16;wt++)for(S[wt]=ct,dt=0;dt<1<<W[wt];dt++)v[ct++]=wt;for(ct>>=7;wt<M;wt++)for(S[wt]=ct<<7,dt=0;dt<1<<W[wt]-7;dt++)v[256+ct++]=wt;for(Mt=0;Mt<=x;Mt++)Et[Mt]=0;for(dt=0;dt<=143;)n[dt*2+1]=8,dt++,Et[8]++;for(;dt<=255;)n[dt*2+1]=9,dt++,Et[9]++;for(;dt<=279;)n[dt*2+1]=7,dt++,Et[7]++;for(;dt<=287;)n[dt*2+1]=8,dt++,Et[8]++;for(j(n,m+1,Et),dt=0;dt<M;dt++)d[dt*2+1]=5,d[dt*2]=$(dt,5);b=new w(n,D,y+1,m,x),h=new w(d,W,0,M,x),k=new w(new Array(0),q,0,E,N)}function Z(dt){var Mt;for(Mt=0;Mt<m;Mt++)dt.dyn_ltree[Mt*2]=0;for(Mt=0;Mt<M;Mt++)dt.dyn_dtree[Mt*2]=0;for(Mt=0;Mt<E;Mt++)dt.bl_tree[Mt*2]=0;dt.dyn_ltree[F*2]=1,dt.opt_len=dt.static_len=0,dt.last_lit=dt.matches=0}function Q(dt){dt.bi_valid>8?ft(dt,dt.bi_buf):dt.bi_valid>0&&(dt.pending_buf[dt.pending++]=dt.bi_buf),dt.bi_buf=0,dt.bi_valid=0}function K(dt,Mt,Lt,wt){Q(dt),wt&&(ft(dt,Lt),ft(dt,~Lt)),i.arraySet(dt.pending_buf,dt.window,Mt,Lt,dt.pending),dt.pending+=Lt}function G(dt,Mt,Lt,wt){var ct=Mt*2,Et=Lt*2;return dt[ct]<dt[Et]||dt[ct]===dt[Et]&&wt[Mt]<=wt[Lt]}function H(dt,Mt,Lt){for(var wt=dt.heap[Lt],ct=Lt<<1;ct<=dt.heap_len&&(ct<dt.heap_len&&G(Mt,dt.heap[ct+1],dt.heap[ct],dt.depth)&&ct++,!G(Mt,wt,dt.heap[ct],dt.depth));)dt.heap[Lt]=dt.heap[ct],Lt=ct,ct<<=1;dt.heap[Lt]=wt}function Y(dt,Mt,Lt){var wt,ct,Et=0,ut,Ot;if(dt.last_lit!==0)do wt=dt.pending_buf[dt.d_buf+Et*2]<<8|dt.pending_buf[dt.d_buf+Et*2+1],ct=dt.pending_buf[dt.l_buf+Et],Et++,wt===0?at(dt,ct,Mt):(ut=A[ct],at(dt,ut+y+1,Mt),Ot=D[ut],Ot!==0&&(ct-=T[ut],et(dt,ct,Ot)),wt--,ut=X(wt),at(dt,ut,Lt),Ot=W[ut],Ot!==0&&(wt-=S[ut],et(dt,wt,Ot)));while(Et<dt.last_lit);at(dt,F,Mt)}function it(dt,Mt){var Lt=Mt.dyn_tree,wt=Mt.stat_desc.static_tree,ct=Mt.stat_desc.has_stree,Et=Mt.stat_desc.elems,ut,Ot,qt=-1,nt;for(dt.heap_len=0,dt.heap_max=B,ut=0;ut<Et;ut++)Lt[ut*2]!==0?(dt.heap[++dt.heap_len]=qt=ut,dt.depth[ut]=0):Lt[ut*2+1]=0;for(;dt.heap_len<2;)nt=dt.heap[++dt.heap_len]=qt<2?++qt:0,Lt[nt*2]=1,dt.depth[nt]=0,dt.opt_len--,ct&&(dt.static_len-=wt[nt*2+1]);for(Mt.max_code=qt,ut=dt.heap_len>>1;ut>=1;ut--)H(dt,Lt,ut);nt=Et;do ut=dt.heap[1],dt.heap[1]=dt.heap[dt.heap_len--],H(dt,Lt,1),Ot=dt.heap[1],dt.heap[--dt.heap_max]=ut,dt.heap[--dt.heap_max]=Ot,Lt[nt*2]=Lt[ut*2]+Lt[Ot*2],dt.depth[nt]=(dt.depth[ut]>=dt.depth[Ot]?dt.depth[ut]:dt.depth[Ot])+1,Lt[ut*2+1]=Lt[Ot*2+1]=nt,dt.heap[1]=nt++,H(dt,Lt,1);while(dt.heap_len>=2);dt.heap[--dt.heap_max]=dt.heap[1],R(dt,Mt),j(Lt,qt,dt.bl_count)}function ot(dt,Mt,Lt){var wt,ct=-1,Et,ut=Mt[0*2+1],Ot=0,qt=7,nt=4;for(ut===0&&(qt=138,nt=3),Mt[(Lt+1)*2+1]=65535,wt=0;wt<=Lt;wt++)Et=ut,ut=Mt[(wt+1)*2+1],!(++Ot<qt&&Et===ut)&&(Ot<nt?dt.bl_tree[Et*2]+=Ot:Et!==0?(Et!==ct&&dt.bl_tree[Et*2]++,dt.bl_tree[I*2]++):Ot<=10?dt.bl_tree[U*2]++:dt.bl_tree[P*2]++,Ot=0,ct=Et,ut===0?(qt=138,nt=3):Et===ut?(qt=6,nt=3):(qt=7,nt=4))}function mt(dt,Mt,Lt){var wt,ct=-1,Et,ut=Mt[0*2+1],Ot=0,qt=7,nt=4;for(ut===0&&(qt=138,nt=3),wt=0;wt<=Lt;wt++)if(Et=ut,ut=Mt[(wt+1)*2+1],!(++Ot<qt&&Et===ut)){if(Ot<nt)do at(dt,Et,dt.bl_tree);while(--Ot!==0);else Et!==0?(Et!==ct&&(at(dt,Et,dt.bl_tree),Ot--),at(dt,I,dt.bl_tree),et(dt,Ot-3,2)):Ot<=10?(at(dt,U,dt.bl_tree),et(dt,Ot-3,3)):(at(dt,P,dt.bl_tree),et(dt,Ot-11,7));Ot=0,ct=Et,ut===0?(qt=138,nt=3):Et===ut?(qt=6,nt=3):(qt=7,nt=4)}}function _t(dt){var Mt;for(ot(dt,dt.dyn_ltree,dt.l_desc.max_code),ot(dt,dt.dyn_dtree,dt.d_desc.max_code),it(dt,dt.bl_desc),Mt=E-1;Mt>=3&&dt.bl_tree[O[Mt]*2+1]===0;Mt--);return dt.opt_len+=3*(Mt+1)+5+5+4,Mt}function ht(dt,Mt,Lt,wt){var ct;for(et(dt,Mt-257,5),et(dt,Lt-1,5),et(dt,wt-4,4),ct=0;ct<wt;ct++)et(dt,dt.bl_tree[O[ct]*2+1],3);mt(dt,dt.dyn_ltree,Mt-1),mt(dt,dt.dyn_dtree,Lt-1)}function vt(dt){var Mt=4093624447,Lt;for(Lt=0;Lt<=31;Lt++,Mt>>>=1)if(Mt&1&&dt.dyn_ltree[Lt*2]!==0)return u;if(dt.dyn_ltree[9*2]!==0||dt.dyn_ltree[10*2]!==0||dt.dyn_ltree[13*2]!==0)return a;for(Lt=32;Lt<y;Lt++)if(dt.dyn_ltree[Lt*2]!==0)return a;return u}var pt=!1;function V(dt){pt||(z(),pt=!0),dt.l_desc=new tt(dt.dyn_ltree,b),dt.d_desc=new tt(dt.dyn_dtree,h),dt.bl_desc=new tt(dt.bl_tree,k),dt.bi_buf=0,dt.bi_valid=0,Z(dt)}function rt(dt,Mt,Lt,wt){et(dt,(o<<1)+(wt?1:0),3),K(dt,Mt,Lt,!0)}function st(dt){et(dt,c<<1,3),at(dt,F,n),J(dt)}function yt(dt,Mt,Lt,wt){var ct,Et,ut=0;dt.level>0?(dt.strm.data_type===s&&(dt.strm.data_type=vt(dt)),it(dt,dt.l_desc),it(dt,dt.d_desc),ut=_t(dt),ct=dt.opt_len+3+7>>>3,Et=dt.static_len+3+7>>>3,Et<=ct&&(ct=Et)):ct=Et=Lt+5,Lt+4<=ct&&Mt!==-1?rt(dt,Mt,Lt,wt):dt.strategy===r||Et===ct?(et(dt,(c<<1)+(wt?1:0),3),Y(dt,n,d)):(et(dt,(f<<1)+(wt?1:0),3),ht(dt,dt.l_desc.max_code+1,dt.d_desc.max_code+1,ut+1),Y(dt,dt.dyn_ltree,dt.dyn_dtree)),Z(dt),wt&&Q(dt)}function Ct(dt,Mt,Lt){return dt.pending_buf[dt.d_buf+dt.last_lit*2]=Mt>>>8&255,dt.pending_buf[dt.d_buf+dt.last_lit*2+1]=Mt&255,dt.pending_buf[dt.l_buf+dt.last_lit]=Lt&255,dt.last_lit++,Mt===0?dt.dyn_ltree[Lt*2]++:(dt.matches++,Mt--,dt.dyn_ltree[(A[Lt]+y+1)*2]++,dt.dyn_dtree[X(Mt)*2]++),dt.last_lit===dt.lit_bufsize-1}t._tr_init=V,t._tr_stored_block=rt,t._tr_flush_block=yt,t._tr_tally=Ct,t._tr_align=st}),c0=gt((t,i)=>{lt();function r(u,a,s,e){for(var o=u&65535|0,c=u>>>16&65535|0,f=0;s!==0;){f=s>2e3?2e3:s,s-=f;do o=o+a[e++]|0,c=c+o|0;while(--f);o%=65521,c%=65521}return o|c<<16|0}i.exports=r}),d0=gt((t,i)=>{lt();function r(){for(var s,e=[],o=0;o<256;o++){s=o;for(var c=0;c<8;c++)s=s&1?3988292384^s>>>1:s>>>1;e[o]=s}return e}var u=r();function a(s,e,o,c){var f=u,l=c+o;s^=-1;for(var p=c;p<l;p++)s=s>>>8^f[(s^e[p])&255];return s^-1}i.exports=a}),N2=gt((t,i)=>{lt(),i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}),L2=gt(t=>{lt();var i=Yo(),r=R2(),u=c0(),a=d0(),s=N2(),e=0,o=1,c=3,f=4,l=5,p=0,g=1,y=-2,m=-3,M=-5,E=-1,B=1,x=2,C=3,N=4,F=0,I=2,U=8,P=9,D=15,W=8,q=29,O=256,L=O+1+q,n=30,d=19,v=2*L+1,A=15,T=3,S=258,w=S+T+1,b=32,h=42,k=69,tt=73,X=91,ft=103,et=113,at=666,$=1,J=2,R=3,j=4,z=3;function Z(nt,Rt){return nt.msg=s[Rt],Rt}function Q(nt){return(nt<<1)-(nt>4?9:0)}function K(nt){for(var Rt=nt.length;--Rt>=0;)nt[Rt]=0}function G(nt){var Rt=nt.state,Dt=Rt.pending;Dt>nt.avail_out&&(Dt=nt.avail_out),Dt!==0&&(i.arraySet(nt.output,Rt.pending_buf,Rt.pending_out,Dt,nt.next_out),nt.next_out+=Dt,Rt.pending_out+=Dt,nt.total_out+=Dt,nt.avail_out-=Dt,Rt.pending-=Dt,Rt.pending===0&&(Rt.pending_out=0))}function H(nt,Rt){r._tr_flush_block(nt,nt.block_start>=0?nt.block_start:-1,nt.strstart-nt.block_start,Rt),nt.block_start=nt.strstart,G(nt.strm)}function Y(nt,Rt){nt.pending_buf[nt.pending++]=Rt}function it(nt,Rt){nt.pending_buf[nt.pending++]=Rt>>>8&255,nt.pending_buf[nt.pending++]=Rt&255}function ot(nt,Rt,Dt,bt){var Tt=nt.avail_in;return Tt>bt&&(Tt=bt),Tt===0?0:(nt.avail_in-=Tt,i.arraySet(Rt,nt.input,nt.next_in,Tt,Dt),nt.state.wrap===1?nt.adler=u(nt.adler,Rt,Tt,Dt):nt.state.wrap===2&&(nt.adler=a(nt.adler,Rt,Tt,Dt)),nt.next_in+=Tt,nt.total_in+=Tt,Tt)}function mt(nt,Rt){var Dt=nt.max_chain_length,bt=nt.strstart,Tt,jt,St=nt.prev_length,kt=nt.nice_match,Kt=nt.strstart>nt.w_size-w?nt.strstart-(nt.w_size-w):0,At=nt.window,Nt=nt.w_mask,$t=nt.prev,Ft=nt.strstart+S,Wt=At[bt+St-1],ae=At[bt+St];nt.prev_length>=nt.good_match&&(Dt>>=2),kt>nt.lookahead&&(kt=nt.lookahead);do if(Tt=Rt,!(At[Tt+St]!==ae||At[Tt+St-1]!==Wt||At[Tt]!==At[bt]||At[++Tt]!==At[bt+1])){bt+=2,Tt++;do;while(At[++bt]===At[++Tt]&&At[++bt]===At[++Tt]&&At[++bt]===At[++Tt]&&At[++bt]===At[++Tt]&&At[++bt]===At[++Tt]&&At[++bt]===At[++Tt]&&At[++bt]===At[++Tt]&&At[++bt]===At[++Tt]&&bt<Ft);if(jt=S-(Ft-bt),bt=Ft-S,jt>St){if(nt.match_start=Rt,St=jt,jt>=kt)break;Wt=At[bt+St-1],ae=At[bt+St]}}while((Rt=$t[Rt&Nt])>Kt&&--Dt!==0);return St<=nt.lookahead?St:nt.lookahead}function _t(nt){var Rt=nt.w_size,Dt,bt,Tt,jt,St;do{if(jt=nt.window_size-nt.lookahead-nt.strstart,nt.strstart>=Rt+(Rt-w)){i.arraySet(nt.window,nt.window,Rt,Rt,0),nt.match_start-=Rt,nt.strstart-=Rt,nt.block_start-=Rt,bt=nt.hash_size,Dt=bt;do Tt=nt.head[--Dt],nt.head[Dt]=Tt>=Rt?Tt-Rt:0;while(--bt);bt=Rt,Dt=bt;do Tt=nt.prev[--Dt],nt.prev[Dt]=Tt>=Rt?Tt-Rt:0;while(--bt);jt+=Rt}if(nt.strm.avail_in===0)break;if(bt=ot(nt.strm,nt.window,nt.strstart+nt.lookahead,jt),nt.lookahead+=bt,nt.lookahead+nt.insert>=T)for(St=nt.strstart-nt.insert,nt.ins_h=nt.window[St],nt.ins_h=(nt.ins_h<<nt.hash_shift^nt.window[St+1])&nt.hash_mask;nt.insert&&(nt.ins_h=(nt.ins_h<<nt.hash_shift^nt.window[St+T-1])&nt.hash_mask,nt.prev[St&nt.w_mask]=nt.head[nt.ins_h],nt.head[nt.ins_h]=St,St++,nt.insert--,!(nt.lookahead+nt.insert<T)););}while(nt.lookahead<w&&nt.strm.avail_in!==0)}function ht(nt,Rt){var Dt=65535;for(Dt>nt.pending_buf_size-5&&(Dt=nt.pending_buf_size-5);;){if(nt.lookahead<=1){if(_t(nt),nt.lookahead===0&&Rt===e)return $;if(nt.lookahead===0)break}nt.strstart+=nt.lookahead,nt.lookahead=0;var bt=nt.block_start+Dt;if((nt.strstart===0||nt.strstart>=bt)&&(nt.lookahead=nt.strstart-bt,nt.strstart=bt,H(nt,!1),nt.strm.avail_out===0)||nt.strstart-nt.block_start>=nt.w_size-w&&(H(nt,!1),nt.strm.avail_out===0))return $}return nt.insert=0,Rt===f?(H(nt,!0),nt.strm.avail_out===0?R:j):(nt.strstart>nt.block_start&&(H(nt,!1),nt.strm.avail_out),$)}function vt(nt,Rt){for(var Dt,bt;;){if(nt.lookahead<w){if(_t(nt),nt.lookahead<w&&Rt===e)return $;if(nt.lookahead===0)break}if(Dt=0,nt.lookahead>=T&&(nt.ins_h=(nt.ins_h<<nt.hash_shift^nt.window[nt.strstart+T-1])&nt.hash_mask,Dt=nt.prev[nt.strstart&nt.w_mask]=nt.head[nt.ins_h],nt.head[nt.ins_h]=nt.strstart),Dt!==0&&nt.strstart-Dt<=nt.w_size-w&&(nt.match_length=mt(nt,Dt)),nt.match_length>=T)if(bt=r._tr_tally(nt,nt.strstart-nt.match_start,nt.match_length-T),nt.lookahead-=nt.match_length,nt.match_length<=nt.max_lazy_match&&nt.lookahead>=T){nt.match_length--;do nt.strstart++,nt.ins_h=(nt.ins_h<<nt.hash_shift^nt.window[nt.strstart+T-1])&nt.hash_mask,Dt=nt.prev[nt.strstart&nt.w_mask]=nt.head[nt.ins_h],nt.head[nt.ins_h]=nt.strstart;while(--nt.match_length!==0);nt.strstart++}else nt.strstart+=nt.match_length,nt.match_length=0,nt.ins_h=nt.window[nt.strstart],nt.ins_h=(nt.ins_h<<nt.hash_shift^nt.window[nt.strstart+1])&nt.hash_mask;else bt=r._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++;if(bt&&(H(nt,!1),nt.strm.avail_out===0))return $}return nt.insert=nt.strstart<T-1?nt.strstart:T-1,Rt===f?(H(nt,!0),nt.strm.avail_out===0?R:j):nt.last_lit&&(H(nt,!1),nt.strm.avail_out===0)?$:J}function pt(nt,Rt){for(var Dt,bt,Tt;;){if(nt.lookahead<w){if(_t(nt),nt.lookahead<w&&Rt===e)return $;if(nt.lookahead===0)break}if(Dt=0,nt.lookahead>=T&&(nt.ins_h=(nt.ins_h<<nt.hash_shift^nt.window[nt.strstart+T-1])&nt.hash_mask,Dt=nt.prev[nt.strstart&nt.w_mask]=nt.head[nt.ins_h],nt.head[nt.ins_h]=nt.strstart),nt.prev_length=nt.match_length,nt.prev_match=nt.match_start,nt.match_length=T-1,Dt!==0&&nt.prev_length<nt.max_lazy_match&&nt.strstart-Dt<=nt.w_size-w&&(nt.match_length=mt(nt,Dt),nt.match_length<=5&&(nt.strategy===B||nt.match_length===T&&nt.strstart-nt.match_start>4096)&&(nt.match_length=T-1)),nt.prev_length>=T&&nt.match_length<=nt.prev_length){Tt=nt.strstart+nt.lookahead-T,bt=r._tr_tally(nt,nt.strstart-1-nt.prev_match,nt.prev_length-T),nt.lookahead-=nt.prev_length-1,nt.prev_length-=2;do++nt.strstart<=Tt&&(nt.ins_h=(nt.ins_h<<nt.hash_shift^nt.window[nt.strstart+T-1])&nt.hash_mask,Dt=nt.prev[nt.strstart&nt.w_mask]=nt.head[nt.ins_h],nt.head[nt.ins_h]=nt.strstart);while(--nt.prev_length!==0);if(nt.match_available=0,nt.match_length=T-1,nt.strstart++,bt&&(H(nt,!1),nt.strm.avail_out===0))return $}else if(nt.match_available){if(bt=r._tr_tally(nt,0,nt.window[nt.strstart-1]),bt&&H(nt,!1),nt.strstart++,nt.lookahead--,nt.strm.avail_out===0)return $}else nt.match_available=1,nt.strstart++,nt.lookahead--}return nt.match_available&&(bt=r._tr_tally(nt,0,nt.window[nt.strstart-1]),nt.match_available=0),nt.insert=nt.strstart<T-1?nt.strstart:T-1,Rt===f?(H(nt,!0),nt.strm.avail_out===0?R:j):nt.last_lit&&(H(nt,!1),nt.strm.avail_out===0)?$:J}function V(nt,Rt){for(var Dt,bt,Tt,jt,St=nt.window;;){if(nt.lookahead<=S){if(_t(nt),nt.lookahead<=S&&Rt===e)return $;if(nt.lookahead===0)break}if(nt.match_length=0,nt.lookahead>=T&&nt.strstart>0&&(Tt=nt.strstart-1,bt=St[Tt],bt===St[++Tt]&&bt===St[++Tt]&&bt===St[++Tt])){jt=nt.strstart+S;do;while(bt===St[++Tt]&&bt===St[++Tt]&&bt===St[++Tt]&&bt===St[++Tt]&&bt===St[++Tt]&&bt===St[++Tt]&&bt===St[++Tt]&&bt===St[++Tt]&&Tt<jt);nt.match_length=S-(jt-Tt),nt.match_length>nt.lookahead&&(nt.match_length=nt.lookahead)}if(nt.match_length>=T?(Dt=r._tr_tally(nt,1,nt.match_length-T),nt.lookahead-=nt.match_length,nt.strstart+=nt.match_length,nt.match_length=0):(Dt=r._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++),Dt&&(H(nt,!1),nt.strm.avail_out===0))return $}return nt.insert=0,Rt===f?(H(nt,!0),nt.strm.avail_out===0?R:j):nt.last_lit&&(H(nt,!1),nt.strm.avail_out===0)?$:J}function rt(nt,Rt){for(var Dt;;){if(nt.lookahead===0&&(_t(nt),nt.lookahead===0)){if(Rt===e)return $;break}if(nt.match_length=0,Dt=r._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++,Dt&&(H(nt,!1),nt.strm.avail_out===0))return $}return nt.insert=0,Rt===f?(H(nt,!0),nt.strm.avail_out===0?R:j):nt.last_lit&&(H(nt,!1),nt.strm.avail_out===0)?$:J}function st(nt,Rt,Dt,bt,Tt){this.good_length=nt,this.max_lazy=Rt,this.nice_length=Dt,this.max_chain=bt,this.func=Tt}var yt;yt=[new st(0,0,0,0,ht),new st(4,4,8,4,vt),new st(4,5,16,8,vt),new st(4,6,32,32,vt),new st(4,4,16,16,pt),new st(8,16,32,32,pt),new st(8,16,128,128,pt),new st(8,32,128,256,pt),new st(32,128,258,1024,pt),new st(32,258,258,4096,pt)];function Ct(nt){nt.window_size=2*nt.w_size,K(nt.head),nt.max_lazy_match=yt[nt.level].max_lazy,nt.good_match=yt[nt.level].good_length,nt.nice_match=yt[nt.level].nice_length,nt.max_chain_length=yt[nt.level].max_chain,nt.strstart=0,nt.block_start=0,nt.lookahead=0,nt.insert=0,nt.match_length=nt.prev_length=T-1,nt.match_available=0,nt.ins_h=0}function dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=U,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(v*2),this.dyn_dtree=new i.Buf16((2*n+1)*2),this.bl_tree=new i.Buf16((2*d+1)*2),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(A+1),this.heap=new i.Buf16(2*L+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*L+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Mt(nt){var Rt;return!nt||!nt.state?Z(nt,y):(nt.total_in=nt.total_out=0,nt.data_type=I,Rt=nt.state,Rt.pending=0,Rt.pending_out=0,Rt.wrap<0&&(Rt.wrap=-Rt.wrap),Rt.status=Rt.wrap?h:et,nt.adler=Rt.wrap===2?0:1,Rt.last_flush=e,r._tr_init(Rt),p)}function Lt(nt){var Rt=Mt(nt);return Rt===p&&Ct(nt.state),Rt}function wt(nt,Rt){return!nt||!nt.state||nt.state.wrap!==2?y:(nt.state.gzhead=Rt,p)}function ct(nt,Rt,Dt,bt,Tt,jt){if(!nt)return y;var St=1;if(Rt===E&&(Rt=6),bt<0?(St=0,bt=-bt):bt>15&&(St=2,bt-=16),Tt<1||Tt>P||Dt!==U||bt<8||bt>15||Rt<0||Rt>9||jt<0||jt>N)return Z(nt,y);bt===8&&(bt=9);var kt=new dt;return nt.state=kt,kt.strm=nt,kt.wrap=St,kt.gzhead=null,kt.w_bits=bt,kt.w_size=1<<kt.w_bits,kt.w_mask=kt.w_size-1,kt.hash_bits=Tt+7,kt.hash_size=1<<kt.hash_bits,kt.hash_mask=kt.hash_size-1,kt.hash_shift=~~((kt.hash_bits+T-1)/T),kt.window=new i.Buf8(kt.w_size*2),kt.head=new i.Buf16(kt.hash_size),kt.prev=new i.Buf16(kt.w_size),kt.lit_bufsize=1<<Tt+6,kt.pending_buf_size=kt.lit_bufsize*4,kt.pending_buf=new i.Buf8(kt.pending_buf_size),kt.d_buf=1*kt.lit_bufsize,kt.l_buf=3*kt.lit_bufsize,kt.level=Rt,kt.strategy=jt,kt.method=Dt,Lt(nt)}function Et(nt,Rt){return ct(nt,Rt,U,D,W,F)}function ut(nt,Rt){var Dt,bt,Tt,jt;if(!nt||!nt.state||Rt>l||Rt<0)return nt?Z(nt,y):y;if(bt=nt.state,!nt.output||!nt.input&&nt.avail_in!==0||bt.status===at&&Rt!==f)return Z(nt,nt.avail_out===0?M:y);if(bt.strm=nt,Dt=bt.last_flush,bt.last_flush=Rt,bt.status===h)if(bt.wrap===2)nt.adler=0,Y(bt,31),Y(bt,139),Y(bt,8),bt.gzhead?(Y(bt,(bt.gzhead.text?1:0)+(bt.gzhead.hcrc?2:0)+(bt.gzhead.extra?4:0)+(bt.gzhead.name?8:0)+(bt.gzhead.comment?16:0)),Y(bt,bt.gzhead.time&255),Y(bt,bt.gzhead.time>>8&255),Y(bt,bt.gzhead.time>>16&255),Y(bt,bt.gzhead.time>>24&255),Y(bt,bt.level===9?2:bt.strategy>=x||bt.level<2?4:0),Y(bt,bt.gzhead.os&255),bt.gzhead.extra&&bt.gzhead.extra.length&&(Y(bt,bt.gzhead.extra.length&255),Y(bt,bt.gzhead.extra.length>>8&255)),bt.gzhead.hcrc&&(nt.adler=a(nt.adler,bt.pending_buf,bt.pending,0)),bt.gzindex=0,bt.status=k):(Y(bt,0),Y(bt,0),Y(bt,0),Y(bt,0),Y(bt,0),Y(bt,bt.level===9?2:bt.strategy>=x||bt.level<2?4:0),Y(bt,z),bt.status=et);else{var St=U+(bt.w_bits-8<<4)<<8,kt=-1;bt.strategy>=x||bt.level<2?kt=0:bt.level<6?kt=1:bt.level===6?kt=2:kt=3,St|=kt<<6,bt.strstart!==0&&(St|=b),St+=31-St%31,bt.status=et,it(bt,St),bt.strstart!==0&&(it(bt,nt.adler>>>16),it(bt,nt.adler&65535)),nt.adler=1}if(bt.status===k)if(bt.gzhead.extra){for(Tt=bt.pending;bt.gzindex<(bt.gzhead.extra.length&65535)&&!(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>Tt&&(nt.adler=a(nt.adler,bt.pending_buf,bt.pending-Tt,Tt)),G(nt),Tt=bt.pending,bt.pending===bt.pending_buf_size));)Y(bt,bt.gzhead.extra[bt.gzindex]&255),bt.gzindex++;bt.gzhead.hcrc&&bt.pending>Tt&&(nt.adler=a(nt.adler,bt.pending_buf,bt.pending-Tt,Tt)),bt.gzindex===bt.gzhead.extra.length&&(bt.gzindex=0,bt.status=tt)}else bt.status=tt;if(bt.status===tt)if(bt.gzhead.name){Tt=bt.pending;do{if(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>Tt&&(nt.adler=a(nt.adler,bt.pending_buf,bt.pending-Tt,Tt)),G(nt),Tt=bt.pending,bt.pending===bt.pending_buf_size)){jt=1;break}bt.gzindex<bt.gzhead.name.length?jt=bt.gzhead.name.charCodeAt(bt.gzindex++)&255:jt=0,Y(bt,jt)}while(jt!==0);bt.gzhead.hcrc&&bt.pending>Tt&&(nt.adler=a(nt.adler,bt.pending_buf,bt.pending-Tt,Tt)),jt===0&&(bt.gzindex=0,bt.status=X)}else bt.status=X;if(bt.status===X)if(bt.gzhead.comment){Tt=bt.pending;do{if(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>Tt&&(nt.adler=a(nt.adler,bt.pending_buf,bt.pending-Tt,Tt)),G(nt),Tt=bt.pending,bt.pending===bt.pending_buf_size)){jt=1;break}bt.gzindex<bt.gzhead.comment.length?jt=bt.gzhead.comment.charCodeAt(bt.gzindex++)&255:jt=0,Y(bt,jt)}while(jt!==0);bt.gzhead.hcrc&&bt.pending>Tt&&(nt.adler=a(nt.adler,bt.pending_buf,bt.pending-Tt,Tt)),jt===0&&(bt.status=ft)}else bt.status=ft;if(bt.status===ft&&(bt.gzhead.hcrc?(bt.pending+2>bt.pending_buf_size&&G(nt),bt.pending+2<=bt.pending_buf_size&&(Y(bt,nt.adler&255),Y(bt,nt.adler>>8&255),nt.adler=0,bt.status=et)):bt.status=et),bt.pending!==0){if(G(nt),nt.avail_out===0)return bt.last_flush=-1,p}else if(nt.avail_in===0&&Q(Rt)<=Q(Dt)&&Rt!==f)return Z(nt,M);if(bt.status===at&&nt.avail_in!==0)return Z(nt,M);if(nt.avail_in!==0||bt.lookahead!==0||Rt!==e&&bt.status!==at){var Kt=bt.strategy===x?rt(bt,Rt):bt.strategy===C?V(bt,Rt):yt[bt.level].func(bt,Rt);if((Kt===R||Kt===j)&&(bt.status=at),Kt===$||Kt===R)return nt.avail_out===0&&(bt.last_flush=-1),p;if(Kt===J&&(Rt===o?r._tr_align(bt):Rt!==l&&(r._tr_stored_block(bt,0,0,!1),Rt===c&&(K(bt.head),bt.lookahead===0&&(bt.strstart=0,bt.block_start=0,bt.insert=0))),G(nt),nt.avail_out===0))return bt.last_flush=-1,p}return Rt!==f?p:bt.wrap<=0?g:(bt.wrap===2?(Y(bt,nt.adler&255),Y(bt,nt.adler>>8&255),Y(bt,nt.adler>>16&255),Y(bt,nt.adler>>24&255),Y(bt,nt.total_in&255),Y(bt,nt.total_in>>8&255),Y(bt,nt.total_in>>16&255),Y(bt,nt.total_in>>24&255)):(it(bt,nt.adler>>>16),it(bt,nt.adler&65535)),G(nt),bt.wrap>0&&(bt.wrap=-bt.wrap),bt.pending!==0?p:g)}function Ot(nt){var Rt;return!nt||!nt.state?y:(Rt=nt.state.status,Rt!==h&&Rt!==k&&Rt!==tt&&Rt!==X&&Rt!==ft&&Rt!==et&&Rt!==at?Z(nt,y):(nt.state=null,Rt===et?Z(nt,m):p))}function qt(nt,Rt){var Dt=Rt.length,bt,Tt,jt,St,kt,Kt,At,Nt;if(!nt||!nt.state||(bt=nt.state,St=bt.wrap,St===2||St===1&&bt.status!==h||bt.lookahead))return y;for(St===1&&(nt.adler=u(nt.adler,Rt,Dt,0)),bt.wrap=0,Dt>=bt.w_size&&(St===0&&(K(bt.head),bt.strstart=0,bt.block_start=0,bt.insert=0),Nt=new i.Buf8(bt.w_size),i.arraySet(Nt,Rt,Dt-bt.w_size,bt.w_size,0),Rt=Nt,Dt=bt.w_size),kt=nt.avail_in,Kt=nt.next_in,At=nt.input,nt.avail_in=Dt,nt.next_in=0,nt.input=Rt,_t(bt);bt.lookahead>=T;){Tt=bt.strstart,jt=bt.lookahead-(T-1);do bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[Tt+T-1])&bt.hash_mask,bt.prev[Tt&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=Tt,Tt++;while(--jt);bt.strstart=Tt,bt.lookahead=T-1,_t(bt)}return bt.strstart+=bt.lookahead,bt.block_start=bt.strstart,bt.insert=bt.lookahead,bt.lookahead=0,bt.match_length=bt.prev_length=T-1,bt.match_available=0,nt.next_in=Kt,nt.input=At,nt.avail_in=kt,bt.wrap=St,p}t.deflateInit=Et,t.deflateInit2=ct,t.deflateReset=Lt,t.deflateResetKeep=Mt,t.deflateSetHeader=wt,t.deflate=ut,t.deflateEnd=Ot,t.deflateSetDictionary=qt,t.deflateInfo="pako deflate (from Nodeca project)"}),D2=gt((t,i)=>{lt();var r=30,u=12;i.exports=function(a,s){var e,o,c,f,l,p,g,y,m,M,E,B,x,C,N,F,I,U,P,D,W,q,O,L,n;e=a.state,o=a.next_in,L=a.input,c=o+(a.avail_in-5),f=a.next_out,n=a.output,l=f-(s-a.avail_out),p=f+(a.avail_out-257),g=e.dmax,y=e.wsize,m=e.whave,M=e.wnext,E=e.window,B=e.hold,x=e.bits,C=e.lencode,N=e.distcode,F=(1<<e.lenbits)-1,I=(1<<e.distbits)-1;t:do{x<15&&(B+=L[o++]<<x,x+=8,B+=L[o++]<<x,x+=8),U=C[B&F];e:for(;;){if(P=U>>>24,B>>>=P,x-=P,P=U>>>16&255,P===0)n[f++]=U&65535;else if(P&16){D=U&65535,P&=15,P&&(x<P&&(B+=L[o++]<<x,x+=8),D+=B&(1<<P)-1,B>>>=P,x-=P),x<15&&(B+=L[o++]<<x,x+=8,B+=L[o++]<<x,x+=8),U=N[B&I];r:for(;;){if(P=U>>>24,B>>>=P,x-=P,P=U>>>16&255,P&16){if(W=U&65535,P&=15,x<P&&(B+=L[o++]<<x,x+=8,x<P&&(B+=L[o++]<<x,x+=8)),W+=B&(1<<P)-1,W>g){a.msg="invalid distance too far back",e.mode=r;break t}if(B>>>=P,x-=P,P=f-l,W>P){if(P=W-P,P>m&&e.sane){a.msg="invalid distance too far back",e.mode=r;break t}if(q=0,O=E,M===0){if(q+=y-P,P<D){D-=P;do n[f++]=E[q++];while(--P);q=f-W,O=n}}else if(M<P){if(q+=y+M-P,P-=M,P<D){D-=P;do n[f++]=E[q++];while(--P);if(q=0,M<D){P=M,D-=P;do n[f++]=E[q++];while(--P);q=f-W,O=n}}}else if(q+=M-P,P<D){D-=P;do n[f++]=E[q++];while(--P);q=f-W,O=n}for(;D>2;)n[f++]=O[q++],n[f++]=O[q++],n[f++]=O[q++],D-=3;D&&(n[f++]=O[q++],D>1&&(n[f++]=O[q++]))}else{q=f-W;do n[f++]=n[q++],n[f++]=n[q++],n[f++]=n[q++],D-=3;while(D>2);D&&(n[f++]=n[q++],D>1&&(n[f++]=n[q++]))}}else if(P&64){a.msg="invalid distance code",e.mode=r;break t}else{U=N[(U&65535)+(B&(1<<P)-1)];continue r}break}}else if(P&64)if(P&32){e.mode=u;break t}else{a.msg="invalid literal/length code",e.mode=r;break t}else{U=C[(U&65535)+(B&(1<<P)-1)];continue e}break}}while(o<c&&f<p);D=x>>3,o-=D,x-=D<<3,B&=(1<<x)-1,a.next_in=o,a.next_out=f,a.avail_in=o<c?5+(c-o):5-(o-c),a.avail_out=f<p?257+(p-f):257-(f-p),e.hold=B,e.bits=x}}),j2=gt((t,i)=>{lt();var r=Yo(),u=15,a=852,s=592,e=0,o=1,c=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(y,m,M,E,B,x,C,N){var F=N.bits,I=0,U=0,P=0,D=0,W=0,q=0,O=0,L=0,n=0,d=0,v,A,T,S,w,b=null,h=0,k,tt=new r.Buf16(u+1),X=new r.Buf16(u+1),ft=null,et=0,at,$,J;for(I=0;I<=u;I++)tt[I]=0;for(U=0;U<E;U++)tt[m[M+U]]++;for(W=F,D=u;D>=1&&tt[D]===0;D--);if(W>D&&(W=D),D===0)return B[x++]=1<<24|64<<16|0,B[x++]=1<<24|64<<16|0,N.bits=1,0;for(P=1;P<D&&tt[P]===0;P++);for(W<P&&(W=P),L=1,I=1;I<=u;I++)if(L<<=1,L-=tt[I],L<0)return-1;if(L>0&&(y===e||D!==1))return-1;for(X[1]=0,I=1;I<u;I++)X[I+1]=X[I]+tt[I];for(U=0;U<E;U++)m[M+U]!==0&&(C[X[m[M+U]]++]=U);if(y===e?(b=ft=C,k=19):y===o?(b=f,h-=257,ft=l,et-=257,k=256):(b=p,ft=g,k=-1),d=0,U=0,I=P,w=x,q=W,O=0,T=-1,n=1<<W,S=n-1,y===o&&n>a||y===c&&n>s)return 1;for(;;){at=I-O,C[U]<k?($=0,J=C[U]):C[U]>k?($=ft[et+C[U]],J=b[h+C[U]]):($=96,J=0),v=1<<I-O,A=1<<q,P=A;do A-=v,B[w+(d>>O)+A]=at<<24|$<<16|J|0;while(A!==0);for(v=1<<I-1;d&v;)v>>=1;if(v!==0?(d&=v-1,d+=v):d=0,U++,--tt[I]===0){if(I===D)break;I=m[M+C[U]]}if(I>W&&(d&S)!==T){for(O===0&&(O=W),w+=P,q=I-O,L=1<<q;q+O<D&&(L-=tt[q+O],!(L<=0));)q++,L<<=1;if(n+=1<<q,y===o&&n>a||y===c&&n>s)return 1;T=d&S,B[T]=W<<24|q<<16|w-x|0}}return d!==0&&(B[w+d]=I-O<<24|64<<16|0),N.bits=W,0}}),U2=gt(t=>{lt();var i=Yo(),r=c0(),u=d0(),a=D2(),s=j2(),e=0,o=1,c=2,f=4,l=5,p=6,g=0,y=1,m=2,M=-2,E=-3,B=-4,x=-5,C=8,N=1,F=2,I=3,U=4,P=5,D=6,W=7,q=8,O=9,L=10,n=11,d=12,v=13,A=14,T=15,S=16,w=17,b=18,h=19,k=20,tt=21,X=22,ft=23,et=24,at=25,$=26,J=27,R=28,j=29,z=30,Z=31,Q=32,K=852,G=592,H=15,Y=H;function it(ct){return(ct>>>24&255)+(ct>>>8&65280)+((ct&65280)<<8)+((ct&255)<<24)}function ot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function mt(ct){var Et;return!ct||!ct.state?M:(Et=ct.state,ct.total_in=ct.total_out=Et.total=0,ct.msg="",Et.wrap&&(ct.adler=Et.wrap&1),Et.mode=N,Et.last=0,Et.havedict=0,Et.dmax=32768,Et.head=null,Et.hold=0,Et.bits=0,Et.lencode=Et.lendyn=new i.Buf32(K),Et.distcode=Et.distdyn=new i.Buf32(G),Et.sane=1,Et.back=-1,g)}function _t(ct){var Et;return!ct||!ct.state?M:(Et=ct.state,Et.wsize=0,Et.whave=0,Et.wnext=0,mt(ct))}function ht(ct,Et){var ut,Ot;return!ct||!ct.state||(Ot=ct.state,Et<0?(ut=0,Et=-Et):(ut=(Et>>4)+1,Et<48&&(Et&=15)),Et&&(Et<8||Et>15))?M:(Ot.window!==null&&Ot.wbits!==Et&&(Ot.window=null),Ot.wrap=ut,Ot.wbits=Et,_t(ct))}function vt(ct,Et){var ut,Ot;return ct?(Ot=new ot,ct.state=Ot,Ot.window=null,ut=ht(ct,Et),ut!==g&&(ct.state=null),ut):M}function pt(ct){return vt(ct,Y)}var V=!0,rt,st;function yt(ct){if(V){var Et;for(rt=new i.Buf32(512),st=new i.Buf32(32),Et=0;Et<144;)ct.lens[Et++]=8;for(;Et<256;)ct.lens[Et++]=9;for(;Et<280;)ct.lens[Et++]=7;for(;Et<288;)ct.lens[Et++]=8;for(s(o,ct.lens,0,288,rt,0,ct.work,{bits:9}),Et=0;Et<32;)ct.lens[Et++]=5;s(c,ct.lens,0,32,st,0,ct.work,{bits:5}),V=!1}ct.lencode=rt,ct.lenbits=9,ct.distcode=st,ct.distbits=5}function Ct(ct,Et,ut,Ot){var qt,nt=ct.state;return nt.window===null&&(nt.wsize=1<<nt.wbits,nt.wnext=0,nt.whave=0,nt.window=new i.Buf8(nt.wsize)),Ot>=nt.wsize?(i.arraySet(nt.window,Et,ut-nt.wsize,nt.wsize,0),nt.wnext=0,nt.whave=nt.wsize):(qt=nt.wsize-nt.wnext,qt>Ot&&(qt=Ot),i.arraySet(nt.window,Et,ut-Ot,qt,nt.wnext),Ot-=qt,Ot?(i.arraySet(nt.window,Et,ut-Ot,Ot,0),nt.wnext=Ot,nt.whave=nt.wsize):(nt.wnext+=qt,nt.wnext===nt.wsize&&(nt.wnext=0),nt.whave<nt.wsize&&(nt.whave+=qt))),0}function dt(ct,Et){var ut,Ot,qt,nt,Rt,Dt,bt,Tt,jt,St,kt,Kt,At,Nt,$t=0,Ft,Wt,ae,Xt,Gt,he,Qt,Zt,se=new i.Buf8(4),te,re,Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ct||!ct.state||!ct.output||!ct.input&&ct.avail_in!==0)return M;ut=ct.state,ut.mode===d&&(ut.mode=v),Rt=ct.next_out,qt=ct.output,bt=ct.avail_out,nt=ct.next_in,Ot=ct.input,Dt=ct.avail_in,Tt=ut.hold,jt=ut.bits,St=Dt,kt=bt,Zt=g;t:for(;;)switch(ut.mode){case N:if(ut.wrap===0){ut.mode=v;break}for(;jt<16;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(ut.wrap&2&&Tt===35615){ut.check=0,se[0]=Tt&255,se[1]=Tt>>>8&255,ut.check=u(ut.check,se,2,0),Tt=0,jt=0,ut.mode=F;break}if(ut.flags=0,ut.head&&(ut.head.done=!1),!(ut.wrap&1)||(((Tt&255)<<8)+(Tt>>8))%31){ct.msg="incorrect header check",ut.mode=z;break}if((Tt&15)!==C){ct.msg="unknown compression method",ut.mode=z;break}if(Tt>>>=4,jt-=4,Qt=(Tt&15)+8,ut.wbits===0)ut.wbits=Qt;else if(Qt>ut.wbits){ct.msg="invalid window size",ut.mode=z;break}ut.dmax=1<<Qt,ct.adler=ut.check=1,ut.mode=Tt&512?L:d,Tt=0,jt=0;break;case F:for(;jt<16;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(ut.flags=Tt,(ut.flags&255)!==C){ct.msg="unknown compression method",ut.mode=z;break}if(ut.flags&57344){ct.msg="unknown header flags set",ut.mode=z;break}ut.head&&(ut.head.text=Tt>>8&1),ut.flags&512&&(se[0]=Tt&255,se[1]=Tt>>>8&255,ut.check=u(ut.check,se,2,0)),Tt=0,jt=0,ut.mode=I;case I:for(;jt<32;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}ut.head&&(ut.head.time=Tt),ut.flags&512&&(se[0]=Tt&255,se[1]=Tt>>>8&255,se[2]=Tt>>>16&255,se[3]=Tt>>>24&255,ut.check=u(ut.check,se,4,0)),Tt=0,jt=0,ut.mode=U;case U:for(;jt<16;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}ut.head&&(ut.head.xflags=Tt&255,ut.head.os=Tt>>8),ut.flags&512&&(se[0]=Tt&255,se[1]=Tt>>>8&255,ut.check=u(ut.check,se,2,0)),Tt=0,jt=0,ut.mode=P;case P:if(ut.flags&1024){for(;jt<16;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}ut.length=Tt,ut.head&&(ut.head.extra_len=Tt),ut.flags&512&&(se[0]=Tt&255,se[1]=Tt>>>8&255,ut.check=u(ut.check,se,2,0)),Tt=0,jt=0}else ut.head&&(ut.head.extra=null);ut.mode=D;case D:if(ut.flags&1024&&(Kt=ut.length,Kt>Dt&&(Kt=Dt),Kt&&(ut.head&&(Qt=ut.head.extra_len-ut.length,ut.head.extra||(ut.head.extra=new Array(ut.head.extra_len)),i.arraySet(ut.head.extra,Ot,nt,Kt,Qt)),ut.flags&512&&(ut.check=u(ut.check,Ot,Kt,nt)),Dt-=Kt,nt+=Kt,ut.length-=Kt),ut.length))break t;ut.length=0,ut.mode=W;case W:if(ut.flags&2048){if(Dt===0)break t;Kt=0;do Qt=Ot[nt+Kt++],ut.head&&Qt&&ut.length<65536&&(ut.head.name+=String.fromCharCode(Qt));while(Qt&&Kt<Dt);if(ut.flags&512&&(ut.check=u(ut.check,Ot,Kt,nt)),Dt-=Kt,nt+=Kt,Qt)break t}else ut.head&&(ut.head.name=null);ut.length=0,ut.mode=q;case q:if(ut.flags&4096){if(Dt===0)break t;Kt=0;do Qt=Ot[nt+Kt++],ut.head&&Qt&&ut.length<65536&&(ut.head.comment+=String.fromCharCode(Qt));while(Qt&&Kt<Dt);if(ut.flags&512&&(ut.check=u(ut.check,Ot,Kt,nt)),Dt-=Kt,nt+=Kt,Qt)break t}else ut.head&&(ut.head.comment=null);ut.mode=O;case O:if(ut.flags&512){for(;jt<16;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(Tt!==(ut.check&65535)){ct.msg="header crc mismatch",ut.mode=z;break}Tt=0,jt=0}ut.head&&(ut.head.hcrc=ut.flags>>9&1,ut.head.done=!0),ct.adler=ut.check=0,ut.mode=d;break;case L:for(;jt<32;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}ct.adler=ut.check=it(Tt),Tt=0,jt=0,ut.mode=n;case n:if(ut.havedict===0)return ct.next_out=Rt,ct.avail_out=bt,ct.next_in=nt,ct.avail_in=Dt,ut.hold=Tt,ut.bits=jt,m;ct.adler=ut.check=1,ut.mode=d;case d:if(Et===l||Et===p)break t;case v:if(ut.last){Tt>>>=jt&7,jt-=jt&7,ut.mode=J;break}for(;jt<3;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}switch(ut.last=Tt&1,Tt>>>=1,jt-=1,Tt&3){case 0:ut.mode=A;break;case 1:if(yt(ut),ut.mode=k,Et===p){Tt>>>=2,jt-=2;break t}break;case 2:ut.mode=w;break;case 3:ct.msg="invalid block type",ut.mode=z}Tt>>>=2,jt-=2;break;case A:for(Tt>>>=jt&7,jt-=jt&7;jt<32;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if((Tt&65535)!==(Tt>>>16^65535)){ct.msg="invalid stored block lengths",ut.mode=z;break}if(ut.length=Tt&65535,Tt=0,jt=0,ut.mode=T,Et===p)break t;case T:ut.mode=S;case S:if(Kt=ut.length,Kt){if(Kt>Dt&&(Kt=Dt),Kt>bt&&(Kt=bt),Kt===0)break t;i.arraySet(qt,Ot,nt,Kt,Rt),Dt-=Kt,nt+=Kt,bt-=Kt,Rt+=Kt,ut.length-=Kt;break}ut.mode=d;break;case w:for(;jt<14;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(ut.nlen=(Tt&31)+257,Tt>>>=5,jt-=5,ut.ndist=(Tt&31)+1,Tt>>>=5,jt-=5,ut.ncode=(Tt&15)+4,Tt>>>=4,jt-=4,ut.nlen>286||ut.ndist>30){ct.msg="too many length or distance symbols",ut.mode=z;break}ut.have=0,ut.mode=b;case b:for(;ut.have<ut.ncode;){for(;jt<3;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}ut.lens[Se[ut.have++]]=Tt&7,Tt>>>=3,jt-=3}for(;ut.have<19;)ut.lens[Se[ut.have++]]=0;if(ut.lencode=ut.lendyn,ut.lenbits=7,te={bits:ut.lenbits},Zt=s(e,ut.lens,0,19,ut.lencode,0,ut.work,te),ut.lenbits=te.bits,Zt){ct.msg="invalid code lengths set",ut.mode=z;break}ut.have=0,ut.mode=h;case h:for(;ut.have<ut.nlen+ut.ndist;){for(;$t=ut.lencode[Tt&(1<<ut.lenbits)-1],Ft=$t>>>24,Wt=$t>>>16&255,ae=$t&65535,!(Ft<=jt);){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(ae<16)Tt>>>=Ft,jt-=Ft,ut.lens[ut.have++]=ae;else{if(ae===16){for(re=Ft+2;jt<re;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(Tt>>>=Ft,jt-=Ft,ut.have===0){ct.msg="invalid bit length repeat",ut.mode=z;break}Qt=ut.lens[ut.have-1],Kt=3+(Tt&3),Tt>>>=2,jt-=2}else if(ae===17){for(re=Ft+3;jt<re;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}Tt>>>=Ft,jt-=Ft,Qt=0,Kt=3+(Tt&7),Tt>>>=3,jt-=3}else{for(re=Ft+7;jt<re;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}Tt>>>=Ft,jt-=Ft,Qt=0,Kt=11+(Tt&127),Tt>>>=7,jt-=7}if(ut.have+Kt>ut.nlen+ut.ndist){ct.msg="invalid bit length repeat",ut.mode=z;break}for(;Kt--;)ut.lens[ut.have++]=Qt}}if(ut.mode===z)break;if(ut.lens[256]===0){ct.msg="invalid code -- missing end-of-block",ut.mode=z;break}if(ut.lenbits=9,te={bits:ut.lenbits},Zt=s(o,ut.lens,0,ut.nlen,ut.lencode,0,ut.work,te),ut.lenbits=te.bits,Zt){ct.msg="invalid literal/lengths set",ut.mode=z;break}if(ut.distbits=6,ut.distcode=ut.distdyn,te={bits:ut.distbits},Zt=s(c,ut.lens,ut.nlen,ut.ndist,ut.distcode,0,ut.work,te),ut.distbits=te.bits,Zt){ct.msg="invalid distances set",ut.mode=z;break}if(ut.mode=k,Et===p)break t;case k:ut.mode=tt;case tt:if(Dt>=6&&bt>=258){ct.next_out=Rt,ct.avail_out=bt,ct.next_in=nt,ct.avail_in=Dt,ut.hold=Tt,ut.bits=jt,a(ct,kt),Rt=ct.next_out,qt=ct.output,bt=ct.avail_out,nt=ct.next_in,Ot=ct.input,Dt=ct.avail_in,Tt=ut.hold,jt=ut.bits,ut.mode===d&&(ut.back=-1);break}for(ut.back=0;$t=ut.lencode[Tt&(1<<ut.lenbits)-1],Ft=$t>>>24,Wt=$t>>>16&255,ae=$t&65535,!(Ft<=jt);){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(Wt&&!(Wt&240)){for(Xt=Ft,Gt=Wt,he=ae;$t=ut.lencode[he+((Tt&(1<<Xt+Gt)-1)>>Xt)],Ft=$t>>>24,Wt=$t>>>16&255,ae=$t&65535,!(Xt+Ft<=jt);){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}Tt>>>=Xt,jt-=Xt,ut.back+=Xt}if(Tt>>>=Ft,jt-=Ft,ut.back+=Ft,ut.length=ae,Wt===0){ut.mode=$;break}if(Wt&32){ut.back=-1,ut.mode=d;break}if(Wt&64){ct.msg="invalid literal/length code",ut.mode=z;break}ut.extra=Wt&15,ut.mode=X;case X:if(ut.extra){for(re=ut.extra;jt<re;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}ut.length+=Tt&(1<<ut.extra)-1,Tt>>>=ut.extra,jt-=ut.extra,ut.back+=ut.extra}ut.was=ut.length,ut.mode=ft;case ft:for(;$t=ut.distcode[Tt&(1<<ut.distbits)-1],Ft=$t>>>24,Wt=$t>>>16&255,ae=$t&65535,!(Ft<=jt);){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(!(Wt&240)){for(Xt=Ft,Gt=Wt,he=ae;$t=ut.distcode[he+((Tt&(1<<Xt+Gt)-1)>>Xt)],Ft=$t>>>24,Wt=$t>>>16&255,ae=$t&65535,!(Xt+Ft<=jt);){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}Tt>>>=Xt,jt-=Xt,ut.back+=Xt}if(Tt>>>=Ft,jt-=Ft,ut.back+=Ft,Wt&64){ct.msg="invalid distance code",ut.mode=z;break}ut.offset=ae,ut.extra=Wt&15,ut.mode=et;case et:if(ut.extra){for(re=ut.extra;jt<re;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}ut.offset+=Tt&(1<<ut.extra)-1,Tt>>>=ut.extra,jt-=ut.extra,ut.back+=ut.extra}if(ut.offset>ut.dmax){ct.msg="invalid distance too far back",ut.mode=z;break}ut.mode=at;case at:if(bt===0)break t;if(Kt=kt-bt,ut.offset>Kt){if(Kt=ut.offset-Kt,Kt>ut.whave&&ut.sane){ct.msg="invalid distance too far back",ut.mode=z;break}Kt>ut.wnext?(Kt-=ut.wnext,At=ut.wsize-Kt):At=ut.wnext-Kt,Kt>ut.length&&(Kt=ut.length),Nt=ut.window}else Nt=qt,At=Rt-ut.offset,Kt=ut.length;Kt>bt&&(Kt=bt),bt-=Kt,ut.length-=Kt;do qt[Rt++]=Nt[At++];while(--Kt);ut.length===0&&(ut.mode=tt);break;case $:if(bt===0)break t;qt[Rt++]=ut.length,bt--,ut.mode=tt;break;case J:if(ut.wrap){for(;jt<32;){if(Dt===0)break t;Dt--,Tt|=Ot[nt++]<<jt,jt+=8}if(kt-=bt,ct.total_out+=kt,ut.total+=kt,kt&&(ct.adler=ut.check=ut.flags?u(ut.check,qt,kt,Rt-kt):r(ut.check,qt,kt,Rt-kt)),kt=bt,(ut.flags?Tt:it(Tt))!==ut.check){ct.msg="incorrect data check",ut.mode=z;break}Tt=0,jt=0}ut.mode=R;case R:if(ut.wrap&&ut.flags){for(;jt<32;){if(Dt===0)break t;Dt--,Tt+=Ot[nt++]<<jt,jt+=8}if(Tt!==(ut.total&4294967295)){ct.msg="incorrect length check",ut.mode=z;break}Tt=0,jt=0}ut.mode=j;case j:Zt=y;break t;case z:Zt=E;break t;case Z:return B;case Q:default:return M}return ct.next_out=Rt,ct.avail_out=bt,ct.next_in=nt,ct.avail_in=Dt,ut.hold=Tt,ut.bits=jt,(ut.wsize||kt!==ct.avail_out&&ut.mode<z&&(ut.mode<J||Et!==f))&&Ct(ct,ct.output,ct.next_out,kt-ct.avail_out)?(ut.mode=Z,B):(St-=ct.avail_in,kt-=ct.avail_out,ct.total_in+=St,ct.total_out+=kt,ut.total+=kt,ut.wrap&&kt&&(ct.adler=ut.check=ut.flags?u(ut.check,qt,kt,ct.next_out-kt):r(ut.check,qt,kt,ct.next_out-kt)),ct.data_type=ut.bits+(ut.last?64:0)+(ut.mode===d?128:0)+(ut.mode===k||ut.mode===T?256:0),(St===0&&kt===0||Et===f)&&Zt===g&&(Zt=x),Zt)}function Mt(ct){if(!ct||!ct.state)return M;var Et=ct.state;return Et.window&&(Et.window=null),ct.state=null,g}function Lt(ct,Et){var ut;return!ct||!ct.state||(ut=ct.state,(ut.wrap&2)===0)?M:(ut.head=Et,Et.done=!1,g)}function wt(ct,Et){var ut=Et.length,Ot,qt,nt;return!ct||!ct.state||(Ot=ct.state,Ot.wrap!==0&&Ot.mode!==n)?M:Ot.mode===n&&(qt=1,qt=r(qt,Et,ut,0),qt!==Ot.check)?E:(nt=Ct(ct,Et,ut,ut),nt?(Ot.mode=Z,B):(Ot.havedict=1,g))}t.inflateReset=_t,t.inflateReset2=ht,t.inflateResetKeep=mt,t.inflateInit=pt,t.inflateInit2=vt,t.inflate=dt,t.inflateEnd=Mt,t.inflateGetHeader=Lt,t.inflateSetDictionary=wt,t.inflateInfo="pako inflate (from Nodeca project)"}),F2=gt((t,i)=>{lt(),i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}),K2=gt(t=>{lt();var i=li(),r=P2(),u=L2(),a=U2(),s=F2();for(e in s)t[e]=s[e];var e;t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;var o=31,c=139;function f(l){if(typeof l!="number"||l<t.DEFLATE||l>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=l,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}f.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?u.deflateEnd(this.strm):(this.mode===t.INFLATE||this.mode===t.GUNZIP||this.mode===t.INFLATERAW||this.mode===t.UNZIP)&&a.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null},f.prototype.write=function(l,p,g,y,m,M,E){return this._write(!0,l,p,g,y,m,M,E)},f.prototype.writeSync=function(l,p,g,y,m,M,E){return this._write(!1,l,p,g,y,m,M,E)},f.prototype._write=function(l,p,g,y,m,M,E,B){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,p===void 0,"must provide flush value"),this.write_in_progress=!0,p!==t.Z_NO_FLUSH&&p!==t.Z_PARTIAL_FLUSH&&p!==t.Z_SYNC_FLUSH&&p!==t.Z_FULL_FLUSH&&p!==t.Z_FINISH&&p!==t.Z_BLOCK)throw new Error("Invalid flush value");if(g==null&&(g=Ut.Buffer.alloc(0),m=0,y=0),this.strm.avail_in=m,this.strm.input=g,this.strm.next_in=y,this.strm.avail_out=B,this.strm.output=M,this.strm.next_out=E,this.flush=p,!l)return this._process(),this._checkError()?this._afterSync():void 0;var x=this;return Jt.default.nextTick(function(){x._process(),x._after()}),this},f.prototype._afterSync=function(){var l=this.strm.avail_out,p=this.strm.avail_in;return this.write_in_progress=!1,[p,l]},f.prototype._process=function(){var l=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=u.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(l=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(l===null)break;if(this.strm.input[l]===o){if(this.gzip_id_bytes_read=1,l++,this.strm.avail_in===1)break}else{this.mode=t.INFLATE;break}case 1:if(l===null)break;this.strm.input[l]===c?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},f.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},f.prototype._after=function(){if(this._checkError()){var l=this.strm.avail_out,p=this.strm.avail_in;this.write_in_progress=!1,this.callback(p,l),this.pending_close&&this.close()}},f.prototype._error=function(l){this.strm.msg&&(l=this.strm.msg),this.onerror(l,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},f.prototype.init=function(l,p,g,y,m){i(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(l>=8&&l<=15,"invalid windowBits"),i(p>=-1&&p<=9,"invalid compression level"),i(g>=1&&g<=9,"invalid memlevel"),i(y===t.Z_FILTERED||y===t.Z_HUFFMAN_ONLY||y===t.Z_RLE||y===t.Z_FIXED||y===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(p,l,g,y,m),this._setDictionary()},f.prototype.params=function(){throw new Error("deflateParams Not supported")},f.prototype.reset=function(){this._reset(),this._setDictionary()},f.prototype._init=function(l,p,g,y,m){switch(this.level=l,this.windowBits=p,this.memLevel=g,this.strategy=y,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,(this.mode===t.GZIP||this.mode===t.GUNZIP)&&(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),(this.mode===t.DEFLATERAW||this.mode===t.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=u.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=m,this.write_in_progress=!1,this.init_done=!0},f.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=u.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},f.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=u.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=a.inflateReset(this.strm);break}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=f}),p0=gt(t=>{lt();var i=$e().Buffer,r=Cn().Transform,u=K2(),a=He(),s=li().ok,e=$e().kMaxLength,o="Cannot create final Buffer. It would be larger than 0x"+e.toString(16)+" bytes";u.Z_MIN_WINDOWBITS=8,u.Z_MAX_WINDOWBITS=15,u.Z_DEFAULT_WINDOWBITS=15,u.Z_MIN_CHUNK=64,u.Z_MAX_CHUNK=1/0,u.Z_DEFAULT_CHUNK=16*1024,u.Z_MIN_MEMLEVEL=1,u.Z_MAX_MEMLEVEL=9,u.Z_DEFAULT_MEMLEVEL=8,u.Z_MIN_LEVEL=-1,u.Z_MAX_LEVEL=9,u.Z_DEFAULT_LEVEL=u.Z_DEFAULT_COMPRESSION;var c=Object.keys(u);for(l=0;l<c.length;l++)f=c[l],f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:u[f],writable:!1});var f,l,p={Z_OK:u.Z_OK,Z_STREAM_END:u.Z_STREAM_END,Z_NEED_DICT:u.Z_NEED_DICT,Z_ERRNO:u.Z_ERRNO,Z_STREAM_ERROR:u.Z_STREAM_ERROR,Z_DATA_ERROR:u.Z_DATA_ERROR,Z_MEM_ERROR:u.Z_MEM_ERROR,Z_BUF_ERROR:u.Z_BUF_ERROR,Z_VERSION_ERROR:u.Z_VERSION_ERROR},g=Object.keys(p);for(m=0;m<g.length;m++)y=g[m],p[p[y]]=y;var y,m;Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=B,t.Inflate=x,t.Gzip=C,t.Gunzip=N,t.DeflateRaw=F,t.InflateRaw=I,t.Unzip=U,t.createDeflate=function(O){return new B(O)},t.createInflate=function(O){return new x(O)},t.createDeflateRaw=function(O){return new F(O)},t.createInflateRaw=function(O){return new I(O)},t.createGzip=function(O){return new C(O)},t.createGunzip=function(O){return new N(O)},t.createUnzip=function(O){return new U(O)},t.deflate=function(O,L,n){return typeof L=="function"&&(n=L,L={}),M(new B(L),O,n)},t.deflateSync=function(O,L){return E(new B(L),O)},t.gzip=function(O,L,n){return typeof L=="function"&&(n=L,L={}),M(new C(L),O,n)},t.gzipSync=function(O,L){return E(new C(L),O)},t.deflateRaw=function(O,L,n){return typeof L=="function"&&(n=L,L={}),M(new F(L),O,n)},t.deflateRawSync=function(O,L){return E(new F(L),O)},t.unzip=function(O,L,n){return typeof L=="function"&&(n=L,L={}),M(new U(L),O,n)},t.unzipSync=function(O,L){return E(new U(L),O)},t.inflate=function(O,L,n){return typeof L=="function"&&(n=L,L={}),M(new x(L),O,n)},t.inflateSync=function(O,L){return E(new x(L),O)},t.gunzip=function(O,L,n){return typeof L=="function"&&(n=L,L={}),M(new N(L),O,n)},t.gunzipSync=function(O,L){return E(new N(L),O)},t.inflateRaw=function(O,L,n){return typeof L=="function"&&(n=L,L={}),M(new I(L),O,n)},t.inflateRawSync=function(O,L){return E(new I(L),O)};function M(O,L,n){var d=[],v=0;O.on("error",T),O.on("end",S),O.end(L),A();function A(){for(var w;(w=O.read())!==null;)d.push(w),v+=w.length;O.once("readable",A)}function T(w){O.removeListener("end",S),O.removeListener("readable",A),n(w)}function S(){var w,b=null;v>=e?b=new RangeError(o):w=i.concat(d,v),d=[],O.close(),n(b,w)}}function E(O,L){if(typeof L=="string"&&(L=i.from(L)),!i.isBuffer(L))throw new TypeError("Not a string or buffer");var n=O._finishFlushFlag;return O._processChunk(L,n)}function B(O){if(!(this instanceof B))return new B(O);D.call(this,O,u.DEFLATE)}function x(O){if(!(this instanceof x))return new x(O);D.call(this,O,u.INFLATE)}function C(O){if(!(this instanceof C))return new C(O);D.call(this,O,u.GZIP)}function N(O){if(!(this instanceof N))return new N(O);D.call(this,O,u.GUNZIP)}function F(O){if(!(this instanceof F))return new F(O);D.call(this,O,u.DEFLATERAW)}function I(O){if(!(this instanceof I))return new I(O);D.call(this,O,u.INFLATERAW)}function U(O){if(!(this instanceof U))return new U(O);D.call(this,O,u.UNZIP)}function P(O){return O===u.Z_NO_FLUSH||O===u.Z_PARTIAL_FLUSH||O===u.Z_SYNC_FLUSH||O===u.Z_FULL_FLUSH||O===u.Z_FINISH||O===u.Z_BLOCK}function D(O,L){var n=this;if(this._opts=O=O||{},this._chunkSize=O.chunkSize||t.Z_DEFAULT_CHUNK,r.call(this,O),O.flush&&!P(O.flush))throw new Error("Invalid flush flag: "+O.flush);if(O.finishFlush&&!P(O.finishFlush))throw new Error("Invalid flush flag: "+O.finishFlush);if(this._flushFlag=O.flush||u.Z_NO_FLUSH,this._finishFlushFlag=typeof O.finishFlush<"u"?O.finishFlush:u.Z_FINISH,O.chunkSize&&(O.chunkSize<t.Z_MIN_CHUNK||O.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+O.chunkSize);if(O.windowBits&&(O.windowBits<t.Z_MIN_WINDOWBITS||O.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+O.windowBits);if(O.level&&(O.level<t.Z_MIN_LEVEL||O.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+O.level);if(O.memLevel&&(O.memLevel<t.Z_MIN_MEMLEVEL||O.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+O.memLevel);if(O.strategy&&O.strategy!=t.Z_FILTERED&&O.strategy!=t.Z_HUFFMAN_ONLY&&O.strategy!=t.Z_RLE&&O.strategy!=t.Z_FIXED&&O.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+O.strategy);if(O.dictionary&&!i.isBuffer(O.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new u.Zlib(L);var d=this;this._hadError=!1,this._handle.onerror=function(T,S){W(d),d._hadError=!0;var w=new Error(T);w.errno=S,w.code=t.codes[S],d.emit("error",w)};var v=t.Z_DEFAULT_COMPRESSION;typeof O.level=="number"&&(v=O.level);var A=t.Z_DEFAULT_STRATEGY;typeof O.strategy=="number"&&(A=O.strategy),this._handle.init(O.windowBits||t.Z_DEFAULT_WINDOWBITS,v,O.memLevel||t.Z_DEFAULT_MEMLEVEL,A,O.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=v,this._strategy=A,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!n._handle},configurable:!0,enumerable:!0})}a.inherits(D,r),D.prototype.params=function(O,L,n){if(O<t.Z_MIN_LEVEL||O>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+O);if(L!=t.Z_FILTERED&&L!=t.Z_HUFFMAN_ONLY&&L!=t.Z_RLE&&L!=t.Z_FIXED&&L!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+L);if(this._level!==O||this._strategy!==L){var d=this;this.flush(u.Z_SYNC_FLUSH,function(){s(d._handle,"zlib binding closed"),d._handle.params(O,L),d._hadError||(d._level=O,d._strategy=L,n&&n())})}else Jt.default.nextTick(n)},D.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},D.prototype._flush=function(O){this._transform(i.alloc(0),"",O)},D.prototype.flush=function(O,L){var n=this,d=this._writableState;(typeof O=="function"||O===void 0&&!L)&&(L=O,O=u.Z_FULL_FLUSH),d.ended?L&&Jt.default.nextTick(L):d.ending?L&&this.once("end",L):d.needDrain?L&&this.once("drain",function(){return n.flush(O,L)}):(this._flushFlag=O,this.write(i.alloc(0),"",L))},D.prototype.close=function(O){W(this,O),Jt.default.nextTick(q,this)};function W(O,L){L&&Jt.default.nextTick(L),O._handle&&(O._handle.close(),O._handle=null)}function q(O){O.emit("close")}D.prototype._transform=function(O,L,n){var d,v=this._writableState,A=v.ending||v.ended,T=A&&(!O||v.length===O.length);if(O!==null&&!i.isBuffer(O))return n(new Error("invalid input"));if(!this._handle)return n(new Error("zlib binding closed"));T?d=this._finishFlushFlag:(d=this._flushFlag,O.length>=v.length&&(this._flushFlag=this._opts.flush||u.Z_NO_FLUSH)),this._processChunk(O,d,n)},D.prototype._processChunk=function(O,L,n){var d=O&&O.length,v=this._chunkSize-this._offset,A=0,T=this,S=typeof n=="function";if(!S){var w=[],b=0,h;this.on("error",function(et){h=et}),s(this._handle,"zlib binding closed");do var k=this._handle.writeSync(L,O,A,d,this._buffer,this._offset,v);while(!this._hadError&&ft(k[0],k[1]));if(this._hadError)throw h;if(b>=e)throw W(this),new RangeError(o);var tt=i.concat(w,b);return W(this),tt}s(this._handle,"zlib binding closed");var X=this._handle.write(L,O,A,d,this._buffer,this._offset,v);X.buffer=O,X.callback=ft;function ft(et,at){if(this&&(this.buffer=null,this.callback=null),!T._hadError){var $=v-at;if(s($>=0,"have should not go down"),$>0){var J=T._buffer.slice(T._offset,T._offset+$);T._offset+=$,S?T.push(J):(w.push(J),b+=J.length)}if((at===0||T._offset>=T._chunkSize)&&(v=T._chunkSize,T._offset=0,T._buffer=i.allocUnsafe(T._chunkSize)),at===0){if(A+=d-et,d=et,!S)return!0;var R=T._handle.write(L,O,A,d,T._buffer,T._offset,T._chunkSize);R.callback=ft,R.buffer=O;return}if(!S)return!1;n()}}},a.inherits(B,D),a.inherits(x,D),a.inherits(C,D),a.inherits(N,D),a.inherits(F,D),a.inherits(I,D),a.inherits(U,D)}),z2=gt((t,i)=>{lt();var{DeflateRaw:r}=p0(),u=f0(),a=class extends r{constructor(s){super(s),this.checksum=Ut.Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(s,e){return s&&(this.compressedSize+=s.length),super.push(s,e)}_transform(s,e,o){s&&(this.checksum=u.buf(s,this.checksum)>>>0,this.rawSize+=s.length),super._transform(s,e,o)}digest(s){let e=Ut.Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),s?e.toString(s):e}hex(){return this.digest("hex").toUpperCase()}size(s=!1){return s?this.compressedSize:this.rawSize}};i.exports=a}),Tl=gt((t,i)=>{lt(),i.exports={CRC32Stream:C2(),DeflateCRC32Stream:z2()}}),W2=gt((t,i)=>{lt();var r=He().inherits,u=l0(),{CRC32Stream:a}=Tl(),{DeflateCRC32Stream:s}=Tl(),e=h0();s0(),a0();var o=o0();u0();var c=qu(),f=i.exports=function(l){if(!(this instanceof f))return new f(l);l=this.options=this._defaults(l),e.call(this,l),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:l.forceZip64,forceLocalTime:l.forceLocalTime}};r(f,e),f.prototype._afterAppend=function(l){this._entries.push(l),l.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(l),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()},f.prototype._appendBuffer=function(l,p,g){p.length===0&&l.setMethod(o.METHOD_STORED);var y=l.getMethod();if(y===o.METHOD_STORED&&(l.setSize(p.length),l.setCompressedSize(p.length),l.setCrc(u.unsigned(p))),this._writeLocalFileHeader(l),y===o.METHOD_STORED){this.write(p),this._afterAppend(l),g(null,l);return}else if(y===o.METHOD_DEFLATED){this._smartStream(l,g).end(p);return}else{g(new Error("compression method "+y+" not implemented"));return}},f.prototype._appendStream=function(l,p,g){l.getGeneralPurposeBit().useDataDescriptor(!0),l.setVersionNeededToExtract(o.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(l);var y=this._smartStream(l,g);p.once("error",function(m){y.emit("error",m),y.end()}),p.pipe(y)},f.prototype._defaults=function(l){return typeof l!="object"&&(l={}),typeof l.zlib!="object"&&(l.zlib={}),typeof l.zlib.level!="number"&&(l.zlib.level=o.ZLIB_BEST_SPEED),l.forceZip64=!!l.forceZip64,l.forceLocalTime=!!l.forceLocalTime,l},f.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach((function(l){this._writeCentralFileHeader(l)}).bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()},f.prototype._normalizeEntry=function(l){l.getMethod()===-1&&l.setMethod(o.METHOD_DEFLATED),l.getMethod()===o.METHOD_DEFLATED&&(l.getGeneralPurposeBit().useDataDescriptor(!0),l.setVersionNeededToExtract(o.MIN_VERSION_DATA_DESCRIPTOR)),l.getTime()===-1&&l.setTime(new Date,this._archive.forceLocalTime),l._offsets={file:0,data:0,contents:0}},f.prototype._smartStream=function(l,p){var g=l.getMethod()===o.METHOD_DEFLATED,y=g?new s(this.options.zlib):new a,m=null;function M(){var E=y.digest().readUInt32BE(0);l.setCrc(E),l.setSize(y.size()),l.setCompressedSize(y.size(!0)),this._afterAppend(l),p(m,l)}return y.once("end",M.bind(this)),y.once("error",function(E){m=E}),y.pipe(this,{end:!1}),y},f.prototype._writeCentralDirectoryEnd=function(){var l=this._entries.length,p=this._archive.centralLength,g=this._archive.centralOffset;this.isZip64()&&(l=o.ZIP64_MAGIC_SHORT,p=o.ZIP64_MAGIC,g=o.ZIP64_MAGIC),this.write(c.getLongBytes(o.SIG_EOCD)),this.write(o.SHORT_ZERO),this.write(o.SHORT_ZERO),this.write(c.getShortBytes(l)),this.write(c.getShortBytes(l)),this.write(c.getLongBytes(p)),this.write(c.getLongBytes(g));var y=this.getComment(),m=Ut.Buffer.byteLength(y);this.write(c.getShortBytes(m)),this.write(y)},f.prototype._writeCentralDirectoryZip64=function(){this.write(c.getLongBytes(o.SIG_ZIP64_EOCD)),this.write(c.getEightBytes(44)),this.write(c.getShortBytes(o.MIN_VERSION_ZIP64)),this.write(c.getShortBytes(o.MIN_VERSION_ZIP64)),this.write(o.LONG_ZERO),this.write(o.LONG_ZERO),this.write(c.getEightBytes(this._entries.length)),this.write(c.getEightBytes(this._entries.length)),this.write(c.getEightBytes(this._archive.centralLength)),this.write(c.getEightBytes(this._archive.centralOffset)),this.write(c.getLongBytes(o.SIG_ZIP64_EOCD_LOC)),this.write(o.LONG_ZERO),this.write(c.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(c.getLongBytes(1))},f.prototype._writeCentralFileHeader=function(l){var p=l.getGeneralPurposeBit(),g=l.getMethod(),y=l._offsets,m=l.getSize(),M=l.getCompressedSize();if(l.isZip64()||y.file>o.ZIP64_MAGIC){m=o.ZIP64_MAGIC,M=o.ZIP64_MAGIC,l.setVersionNeededToExtract(o.MIN_VERSION_ZIP64);var E=Ut.Buffer.concat([c.getShortBytes(o.ZIP64_EXTRA_ID),c.getShortBytes(24),c.getEightBytes(l.getSize()),c.getEightBytes(l.getCompressedSize()),c.getEightBytes(y.file)],28);l.setExtra(E)}this.write(c.getLongBytes(o.SIG_CFH)),this.write(c.getShortBytes(l.getPlatform()<<8|o.VERSION_MADEBY)),this.write(c.getShortBytes(l.getVersionNeededToExtract())),this.write(p.encode()),this.write(c.getShortBytes(g)),this.write(c.getLongBytes(l.getTimeDos())),this.write(c.getLongBytes(l.getCrc())),this.write(c.getLongBytes(M)),this.write(c.getLongBytes(m));var B=l.getName(),x=l.getComment(),C=l.getCentralDirectoryExtra();p.usesUTF8ForNames()&&(B=Ut.Buffer.from(B),x=Ut.Buffer.from(x)),this.write(c.getShortBytes(B.length)),this.write(c.getShortBytes(C.length)),this.write(c.getShortBytes(x.length)),this.write(o.SHORT_ZERO),this.write(c.getShortBytes(l.getInternalAttributes())),this.write(c.getLongBytes(l.getExternalAttributes())),y.file>o.ZIP64_MAGIC?this.write(c.getLongBytes(o.ZIP64_MAGIC)):this.write(c.getLongBytes(y.file)),this.write(B),this.write(C),this.write(x)},f.prototype._writeDataDescriptor=function(l){this.write(c.getLongBytes(o.SIG_DD)),this.write(c.getLongBytes(l.getCrc())),l.isZip64()?(this.write(c.getEightBytes(l.getCompressedSize())),this.write(c.getEightBytes(l.getSize()))):(this.write(c.getLongBytes(l.getCompressedSize())),this.write(c.getLongBytes(l.getSize())))},f.prototype._writeLocalFileHeader=function(l){var p=l.getGeneralPurposeBit(),g=l.getMethod(),y=l.getName(),m=l.getLocalFileDataExtra();l.isZip64()&&(p.useDataDescriptor(!0),l.setVersionNeededToExtract(o.MIN_VERSION_ZIP64)),p.usesUTF8ForNames()&&(y=Ut.Buffer.from(y)),l._offsets.file=this.offset,this.write(c.getLongBytes(o.SIG_LFH)),this.write(c.getShortBytes(l.getVersionNeededToExtract())),this.write(p.encode()),this.write(c.getShortBytes(g)),this.write(c.getLongBytes(l.getTimeDos())),l._offsets.data=this.offset,p.usesDataDescriptor()?(this.write(o.LONG_ZERO),this.write(o.LONG_ZERO),this.write(o.LONG_ZERO)):(this.write(c.getLongBytes(l.getCrc())),this.write(c.getLongBytes(l.getCompressedSize())),this.write(c.getLongBytes(l.getSize()))),this.write(c.getShortBytes(y.length)),this.write(c.getShortBytes(m.length)),this.write(y),this.write(m),l._offsets.contents=this.offset},f.prototype.getComment=function(l){return this._archive.comment!==null?this._archive.comment:""},f.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>o.ZIP64_MAGIC_SHORT||this._archive.centralLength>o.ZIP64_MAGIC||this._archive.centralOffset>o.ZIP64_MAGIC},f.prototype.setComment=function(l){this._archive.comment=l}}),Ml=gt((t,i)=>{lt(),i.exports={ArchiveEntry:Wu(),ZipArchiveEntry:s0(),ArchiveOutputStream:h0(),ZipArchiveOutputStream:W2()}}),q2=gt((t,i)=>{lt();var r=Vo(),u=dn(),a=Yc(),s=Qc(),e=t0(),o=e0(),c=zu(),f=i.exports={},l=/[\/\\]/g,p=function(g,y){var m=[];return a(g).forEach(function(M){var E=M.indexOf("!")===0;E&&(M=M.slice(1));var B=y(M);E?m=s(m,B):m=e(m,B)}),m};f.exists=function(){var g=u.join.apply(u,arguments);return r.existsSync(g)},f.expand=function(...g){var y=o(g[0])?g.shift():{},m=Array.isArray(g[0])?g[0]:g;if(m.length===0)return[];var M=p(m,function(E){return c.sync(E,y)});return y.filter&&(M=M.filter(function(E){E=u.join(y.cwd||"",E);try{return typeof y.filter=="function"?y.filter(E):r.statSync(E)[y.filter]()}catch{return!1}})),M},f.expandMapping=function(g,y,m){m=Object.assign({rename:function(B,x){return u.join(B||"",x)}},m);var M=[],E={};return f.expand(m,g).forEach(function(B){var x=B;m.flatten&&(x=u.basename(x)),m.ext&&(x=x.replace(/(\.[^\/]*)?$/,m.ext));var C=m.rename(y,x,m);m.cwd&&(B=u.join(m.cwd,B)),C=C.replace(l,"/"),B=B.replace(l,"/"),E[C]?E[C].src.push(B):(M.push({src:[B],dest:C}),E[C]=M[M.length-1])}),M},f.normalizeFilesArray=function(g){var y=[];return g.forEach(function(m){("src"in m||"dest"in m)&&y.push(m)}),y.length===0?[]:(y=_(y).chain().forEach(function(m){!("src"in m)||!m.src||(Array.isArray(m.src)?m.src=a(m.src):m.src=[m.src])}).map(function(m){var M=Object.assign({},m);if(delete M.src,delete M.dest,m.expand)return f.expandMapping(m.src,m.dest,M).map(function(B){var x=Object.assign({},m);return x.orig=Object.assign({},m),x.src=B.src,x.dest=B.dest,["expand","cwd","flatten","rename","ext"].forEach(function(C){delete x[C]}),x});var E=Object.assign({},m);return E.orig=Object.assign({},m),"src"in E&&Object.defineProperty(E,"src",{enumerable:!0,get:function B(){var x;return"result"in B||(x=m.src,x=Array.isArray(x)?a(x):[x],B.result=f.expand(M,x)),B.result}}),"dest"in E&&(E.dest=m.dest),E}).flatten().value(),y)}}),$2=gt((t,i)=>{lt();var r=Vo(),u=dn(),a=$c(),s=ju(),e=Hc(),o=Cn().Stream,c=kr().PassThrough,f=i.exports={};f.file=q2(),f.collectStream=function(l,p){var g=[],y=0;l.on("error",p),l.on("data",function(m){g.push(m),y+=m.length}),l.on("end",function(){var m=Ut.Buffer.alloc(y),M=0;g.forEach(function(E){E.copy(m,M),M+=E.length}),p(null,m)})},f.dateify=function(l){return l=l||new Date,l instanceof Date?l=l:typeof l=="string"?l=new Date(l):l=new Date,l},f.defaults=function(l,p,g){var y=arguments;return y[0]=y[0]||{},e(...y)},f.isStream=function(l){return l instanceof o},f.lazyReadStream=function(l){return new a.Readable(function(){return r.createReadStream(l)})},f.normalizeInputSource=function(l){return l===null?Ut.Buffer.alloc(0):typeof l=="string"?Ut.Buffer.from(l):f.isStream(l)?l.pipe(new c):l},f.sanitizePath=function(l){return s(l,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")},f.trailingSlashIt=function(l){return l.slice(-1)!=="/"?l+"/":l},f.unixifyPath=function(l){return s(l,!1).replace(/^\w+:/,"")},f.walkdir=function(l,p,g){var y=[];typeof p=="function"&&(g=p,p=l),r.readdir(l,function(m,M){var E=0,B,x;if(m)return g(m);(function C(){if(B=M[E++],!B)return g(null,y);x=u.join(l,B),r.stat(x,function(N,F){y.push({path:x,relative:u.relative(p,x).replace(/\\/g,"/"),stats:F}),F&&F.isDirectory()?f.walkdir(x,p,function(I,U){U.forEach(function(P){y.push(P)}),C()}):C()})})()})}}),H2=gt((t,i)=>{lt();var r=He().inherits,u=Ml().ZipArchiveOutputStream,a=Ml().ZipArchiveEntry,s=$2(),e=i.exports=function(o){if(!(this instanceof e))return new e(o);o=this.options=o||{},o.zlib=o.zlib||{},u.call(this,o),typeof o.level=="number"&&o.level>=0&&(o.zlib.level=o.level,delete o.level),!o.forceZip64&&typeof o.zlib.level=="number"&&o.zlib.level===0&&(o.store=!0),o.namePrependSlash=o.namePrependSlash||!1,o.comment&&o.comment.length>0&&this.setComment(o.comment)};r(e,u),e.prototype._normalizeFileData=function(o){o=s.defaults(o,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var c=o.type==="directory",f=o.type==="symlink";return o.name&&(o.name=s.sanitizePath(o.name),!f&&o.name.slice(-1)==="/"?(c=!0,o.type="directory"):c&&(o.name+="/")),(c||f)&&(o.store=!0),o.date=s.dateify(o.date),o},e.prototype.entry=function(o,c,f){if(typeof f!="function"&&(f=this._emitErrorCallback.bind(this)),c=this._normalizeFileData(c),c.type!=="file"&&c.type!=="directory"&&c.type!=="symlink"){f(new Error(c.type+" entries not currently supported"));return}if(typeof c.name!="string"||c.name.length===0){f(new Error("entry name must be a non-empty string value"));return}if(c.type==="symlink"&&typeof c.linkname!="string"){f(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var l=new a(c.name);return l.setTime(c.date,this.options.forceLocalTime),c.namePrependSlash&&l.setName(c.name,!0),c.store&&l.setMethod(0),c.comment.length>0&&l.setComment(c.comment),c.type==="symlink"&&typeof c.mode!="number"&&(c.mode=40960),typeof c.mode=="number"&&(c.type==="symlink"&&(c.mode|=40960),l.setUnixMode(c.mode)),c.type==="symlink"&&typeof c.linkname=="string"&&(o=Ut.Buffer.from(c.linkname)),u.prototype.entry.call(this,l,o,f)},e.prototype.finalize=function(){this.finish()}}),G2=gt((t,i)=>{lt();var r=H2(),u=Xo(),a=function(s){if(!(this instanceof a))return new a(s);s=this.options=u.defaults(s,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new r(s)};a.prototype.append=function(s,e,o){this.engine.entry(s,e,o)},a.prototype.finalize=function(){this.engine.finalize()},a.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},a.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)},a.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)},i.exports=a}),V2=gt((t,i)=>{lt();var{Buffer:r}=$e(),u=Symbol.for("BufferList");function a(s){if(!(this instanceof a))return new a(s);a._init.call(this,s)}a._init=function(s){Object.defineProperty(this,u,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},a.prototype._new=function(s){return new a(s)},a.prototype._offset=function(s){if(s===0)return[0,0];let e=0;for(let o=0;o<this._bufs.length;o++){let c=e+this._bufs[o].length;if(s<c||o===this._bufs.length-1)return[o,s-e];e=c}},a.prototype._reverseOffset=function(s){let e=s[0],o=s[1];for(let c=0;c<e;c++)o+=this._bufs[c].length;return o},a.prototype.get=function(s){if(s>this.length||s<0)return;let e=this._offset(s);return this._bufs[e[0]][e[1]]},a.prototype.slice=function(s,e){return typeof s=="number"&&s<0&&(s+=this.length),typeof e=="number"&&e<0&&(e+=this.length),this.copy(null,0,s,e)},a.prototype.copy=function(s,e,o,c){if((typeof o!="number"||o<0)&&(o=0),(typeof c!="number"||c>this.length)&&(c=this.length),o>=this.length||c<=0)return s||r.alloc(0);let f=!!s,l=this._offset(o),p=c-o,g=p,y=f&&e||0,m=l[1];if(o===0&&c===this.length){if(!f)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let M=0;M<this._bufs.length;M++)this._bufs[M].copy(s,y),y+=this._bufs[M].length;return s}if(g<=this._bufs[l[0]].length-m)return f?this._bufs[l[0]].copy(s,e,m,m+g):this._bufs[l[0]].slice(m,m+g);f||(s=r.allocUnsafe(p));for(let M=l[0];M<this._bufs.length;M++){let E=this._bufs[M].length-m;if(g>E)this._bufs[M].copy(s,y,m),y+=E;else{this._bufs[M].copy(s,y,m,m+g),y+=E;break}g-=E,m&&(m=0)}return s.length>y?s.slice(0,y):s},a.prototype.shallowSlice=function(s,e){if(s=s||0,e=typeof e!="number"?this.length:e,s<0&&(s+=this.length),e<0&&(e+=this.length),s===e)return this._new();let o=this._offset(s),c=this._offset(e),f=this._bufs.slice(o[0],c[0]+1);return c[1]===0?f.pop():f[f.length-1]=f[f.length-1].slice(0,c[1]),o[1]!==0&&(f[0]=f[0].slice(o[1])),this._new(f)},a.prototype.toString=function(s,e,o){return this.slice(e,o).toString(s)},a.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},a.prototype.duplicate=function(){let s=this._new();for(let e=0;e<this._bufs.length;e++)s.append(this._bufs[e]);return s},a.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(r.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let e=0;e<s.length;e++)this.append(s[e]);else if(this._isBufferList(s))for(let e=0;e<s._bufs.length;e++)this.append(s._bufs[e]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(r.from(s));return this},a.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},a.prototype.indexOf=function(s,e,o){if(o===void 0&&typeof e=="string"&&(o=e,e=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=r.from([s]):typeof s=="string"?s=r.from(s,o):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=r.from(s.buffer,s.byteOffset,s.byteLength):r.isBuffer(s)||(s=r.from(s)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),s.length===0)return e>this.length?this.length:e;let c=this._offset(e),f=c[0],l=c[1];for(;f<this._bufs.length;f++){let p=this._bufs[f];for(;l<p.length;)if(p.length-l>=s.length){let g=p.indexOf(s,l);if(g!==-1)return this._reverseOffset([f,g]);l=p.length-s.length+1}else{let g=this._reverseOffset([f,l]);if(this._match(g,s))return g;l++}l=0}return-1},a.prototype._match=function(s,e){if(this.length-s<e.length)return!1;for(let o=0;o<e.length;o++)if(this.get(s+o)!==e[o])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in s)(function(o){s[o]===null?a.prototype[o]=function(c,f){return this.slice(c,c+f)[o](0,f)}:a.prototype[o]=function(c=0){return this.slice(c,c+s[o])[o](0)}})(e)}(),a.prototype._isBufferList=function(s){return s instanceof a||a.isBufferList(s)},a.isBufferList=function(s){return s!=null&&s[u]},i.exports=a}),Z2=gt((t,i)=>{lt();var r=kr().Duplex,u=pe(),a=V2();function s(e){if(!(this instanceof s))return new s(e);if(typeof e=="function"){this._callback=e;let o=(function(c){this._callback&&(this._callback(c),this._callback=null)}).bind(this);this.on("pipe",function(c){c.on("error",o)}),this.on("unpipe",function(c){c.removeListener("error",o)}),e=null}a._init.call(this,e),r.call(this)}u(s,r),Object.assign(s.prototype,a.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,o,c){this._appendBuffer(e),typeof c=="function"&&c()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,o){this._bufs.length=0,this.length=0,o(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof a||s.isBufferList(e)},s.isBufferList=a.isBufferList,i.exports=s,i.exports.BufferListStream=s,i.exports.BufferList=a}),g0=gt(t=>{lt();var i=Ut.Buffer.alloc,r="0000000000000000000",u="7777777777777777777",a=48,s=Ut.Buffer.from("ustar\0","binary"),e=Ut.Buffer.from("00","binary"),o=Ut.Buffer.from("ustar ","binary"),c=Ut.Buffer.from(" \0","binary"),f=parseInt("7777",8),l=257,p=263,g=function(I,U,P){return typeof I!="number"?P:(I=~~I,I>=U?U:I>=0||(I+=U,I>=0)?I:0)},y=function(I){switch(I){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},m=function(I){switch(I){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},M=function(I,U,P,D){for(;P<D;P++)if(I[P]===U)return P;return D},E=function(I){for(var U=256,P=0;P<148;P++)U+=I[P];for(var D=156;D<512;D++)U+=I[D];return U},B=function(I,U){return I=I.toString(8),I.length>U?u.slice(0,U)+" ":r.slice(0,U-I.length)+I+" "};function x(I){var U;if(I[0]===128)U=!0;else if(I[0]===255)U=!1;else return null;for(var P=[],D=I.length-1;D>0;D--){var W=I[D];U?P.push(W):P.push(255-W)}var q=0,O=P.length;for(D=0;D<O;D++)q+=P[D]*Math.pow(256,D);return U?q:-1*q}var C=function(I,U,P){if(I=I.slice(U,U+P),U=0,I[U]&128)return x(I);for(;U<I.length&&I[U]===32;)U++;for(var D=g(M(I,32,U,I.length),I.length,I.length);U<D&&I[U]===0;)U++;return D===U?0:parseInt(I.slice(U,D).toString(),8)},N=function(I,U,P,D){return I.slice(U,M(I,0,U,U+P)).toString(D)},F=function(I){var U=Ut.Buffer.byteLength(I),P=Math.floor(Math.log(U)/Math.log(10))+1;return U+P>=Math.pow(10,P)&&P++,U+P+I};t.decodeLongPath=function(I,U){return N(I,0,I.length,U)},t.encodePax=function(I){var U="";I.name&&(U+=F(" path="+I.name+`
`)),I.linkname&&(U+=F(" linkpath="+I.linkname+`
`));var P=I.pax;if(P)for(var D in P)U+=F(" "+D+"="+P[D]+`
`);return Ut.Buffer.from(U)},t.decodePax=function(I){for(var U={};I.length;){for(var P=0;P<I.length&&I[P]!==32;)P++;var D=parseInt(I.slice(0,P).toString(),10);if(!D)return U;var W=I.slice(P+1,D-1).toString(),q=W.indexOf("=");if(q===-1)return U;U[W.slice(0,q)]=W.slice(q+1),I=I.slice(D)}return U},t.encode=function(I){var U=i(512),P=I.name,D="";if(I.typeflag===5&&P[P.length-1]!=="/"&&(P+="/"),Ut.Buffer.byteLength(P)!==P.length)return null;for(;Ut.Buffer.byteLength(P)>100;){var W=P.indexOf("/");if(W===-1)return null;D+=D?"/"+P.slice(0,W):P.slice(0,W),P=P.slice(W+1)}return Ut.Buffer.byteLength(P)>100||Ut.Buffer.byteLength(D)>155||I.linkname&&Ut.Buffer.byteLength(I.linkname)>100?null:(U.write(P),U.write(B(I.mode&f,6),100),U.write(B(I.uid,6),108),U.write(B(I.gid,6),116),U.write(B(I.size,11),124),U.write(B(I.mtime.getTime()/1e3|0,11),136),U[156]=a+m(I.type),I.linkname&&U.write(I.linkname,157),s.copy(U,l),e.copy(U,p),I.uname&&U.write(I.uname,265),I.gname&&U.write(I.gname,297),U.write(B(I.devmajor||0,6),329),U.write(B(I.devminor||0,6),337),D&&U.write(D,345),U.write(B(E(U),6),148),U)},t.decode=function(I,U,P){var D=I[156]===0?0:I[156]-a,W=N(I,0,100,U),q=C(I,100,8),O=C(I,108,8),L=C(I,116,8),n=C(I,124,12),d=C(I,136,12),v=y(D),A=I[157]===0?null:N(I,157,100,U),T=N(I,265,32),S=N(I,297,32),w=C(I,329,8),b=C(I,337,8),h=E(I);if(h===8*32)return null;if(h!==C(I,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(s.compare(I,l,l+6)===0)I[345]&&(W=N(I,345,155,U)+"/"+W);else if(!(o.compare(I,l,l+6)===0&&c.compare(I,p,p+2)===0)&&!P)throw new Error("Invalid tar header: unknown format.");return D===0&&W&&W[W.length-1]==="/"&&(D=5),{name:W,mode:q,uid:O,gid:L,size:n,mtime:new Date(1e3*d),type:v,linkname:A,uname:T,gname:S,devmajor:w,devminor:b}}}),J2=gt((t,i)=>{lt();var r=He(),u=Z2(),a=g0(),s=kr().Writable,e=kr().PassThrough,o=function(){},c=function(y){return y&=511,y&&512-y},f=function(y,m){var M=new p(y,m);return M.end(),M},l=function(y,m){return m.path&&(y.name=m.path),m.linkpath&&(y.linkname=m.linkpath),m.size&&(y.size=parseInt(m.size,10)),y.pax=m,y},p=function(y,m){this._parent=y,this.offset=m,e.call(this,{autoDestroy:!1})};r.inherits(p,e),p.prototype.destroy=function(y){this._parent.destroy(y)};var g=function(y){if(!(this instanceof g))return new g(y);s.call(this,y),y=y||{},this._offset=0,this._buffer=u(),this._missing=0,this._partial=!1,this._onparse=o,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var m=this,M=m._buffer,E=function(){m._continue()},B=function(D){if(m._locked=!1,D)return m.destroy(D);m._stream||E()},x=function(){m._stream=null;var D=c(m._header.size);D?m._parse(D,C):m._parse(512,P),m._locked||E()},C=function(){m._buffer.consume(c(m._header.size)),m._parse(512,P),E()},N=function(){var D=m._header.size;m._paxGlobal=a.decodePax(M.slice(0,D)),M.consume(D),x()},F=function(){var D=m._header.size;m._pax=a.decodePax(M.slice(0,D)),m._paxGlobal&&(m._pax=Object.assign({},m._paxGlobal,m._pax)),M.consume(D),x()},I=function(){var D=m._header.size;this._gnuLongPath=a.decodeLongPath(M.slice(0,D),y.filenameEncoding),M.consume(D),x()},U=function(){var D=m._header.size;this._gnuLongLinkPath=a.decodeLongPath(M.slice(0,D),y.filenameEncoding),M.consume(D),x()},P=function(){var D=m._offset,W;try{W=m._header=a.decode(M.slice(0,512),y.filenameEncoding,y.allowUnknownFormat)}catch(q){m.emit("error",q)}if(M.consume(512),!W){m._parse(512,P),E();return}if(W.type==="gnu-long-path"){m._parse(W.size,I),E();return}if(W.type==="gnu-long-link-path"){m._parse(W.size,U),E();return}if(W.type==="pax-global-header"){m._parse(W.size,N),E();return}if(W.type==="pax-header"){m._parse(W.size,F),E();return}if(m._gnuLongPath&&(W.name=m._gnuLongPath,m._gnuLongPath=null),m._gnuLongLinkPath&&(W.linkname=m._gnuLongLinkPath,m._gnuLongLinkPath=null),m._pax&&(m._header=W=l(W,m._pax),m._pax=null),m._locked=!0,!W.size||W.type==="directory"){m._parse(512,P),m.emit("entry",W,f(m,D),B);return}m._stream=new p(m,D),m.emit("entry",W,m._stream,B),m._parse(W.size,x),E()};this._onheader=P,this._parse(512,P)};r.inherits(g,s),g.prototype.destroy=function(y){this._destroyed||(this._destroyed=!0,y&&this.emit("error",y),this.emit("close"),this._stream&&this._stream.emit("close"))},g.prototype._parse=function(y,m){this._destroyed||(this._offset+=y,this._missing=y,m===this._onheader&&(this._partial=!1),this._onparse=m)},g.prototype._continue=function(){if(!this._destroyed){var y=this._cb;this._cb=o,this._overflow?this._write(this._overflow,void 0,y):y()}},g.prototype._write=function(y,m,M){if(!this._destroyed){var E=this._stream,B=this._buffer,x=this._missing;if(y.length&&(this._partial=!0),y.length<x)return this._missing-=y.length,this._overflow=null,E?E.write(y,M):(B.append(y),M());this._cb=M,this._missing=0;var C=null;y.length>x&&(C=y.slice(x),y=y.slice(0,x)),E?E.end(y):B.append(y),this._overflow=C,this._onparse()}},g.prototype._final=function(y){if(this._partial)return this.destroy(new Error("Unexpected end of data"));y()},i.exports=g}),X2=gt((t,i)=>{lt(),i.exports=Tc()}),Y2=gt((t,i)=>{lt();var r=Ku(),u=function(){},a=function(o){return o.setHeader&&typeof o.abort=="function"},s=function(o){return o.stdio&&Array.isArray(o.stdio)&&o.stdio.length===3},e=function(o,c,f){if(typeof c=="function")return e(o,null,c);c||(c={}),f=r(f||u);var l=o._writableState,p=o._readableState,g=c.readable||c.readable!==!1&&o.readable,y=c.writable||c.writable!==!1&&o.writable,m=!1,M=function(){o.writable||E()},E=function(){y=!1,g||f.call(o)},B=function(){g=!1,y||f.call(o)},x=function(U){f.call(o,U?new Error("exited with error code: "+U):null)},C=function(U){f.call(o,U)},N=function(){Jt.default.nextTick(F)},F=function(){if(!m){if(g&&!(p&&p.ended&&!p.destroyed))return f.call(o,new Error("premature close"));if(y&&!(l&&l.ended&&!l.destroyed))return f.call(o,new Error("premature close"))}},I=function(){o.req.on("finish",E)};return a(o)?(o.on("complete",E),o.on("abort",N),o.req?I():o.on("request",I)):y&&!l&&(o.on("end",M),o.on("close",M)),s(o)&&o.on("exit",x),o.on("end",B),o.on("finish",E),c.error!==!1&&o.on("error",C),o.on("close",N),function(){m=!0,o.removeListener("complete",E),o.removeListener("abort",N),o.removeListener("request",I),o.req&&o.req.removeListener("finish",E),o.removeListener("end",M),o.removeListener("close",M),o.removeListener("finish",E),o.removeListener("exit",x),o.removeListener("end",B),o.removeListener("error",C),o.removeListener("close",N)}};i.exports=e}),Q2=gt((t,i)=>{lt();var r=X2(),u=Y2(),a=pe(),s=Ut.Buffer.alloc,e=kr().Readable,o=kr().Writable,c=co().StringDecoder,f=g0(),l=parseInt("755",8),p=parseInt("644",8),g=s(1024),y=function(){},m=function(N,F){F&=511,F&&N.push(g.slice(0,512-F))};function M(N){switch(N&r.S_IFMT){case r.S_IFBLK:return"block-device";case r.S_IFCHR:return"character-device";case r.S_IFDIR:return"directory";case r.S_IFIFO:return"fifo";case r.S_IFLNK:return"symlink"}return"file"}var E=function(N){o.call(this),this.written=0,this._to=N,this._destroyed=!1};a(E,o),E.prototype._write=function(N,F,I){if(this.written+=N.length,this._to.push(N))return I();this._to._drain=I},E.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var B=function(){o.call(this),this.linkname="",this._decoder=new c("utf-8"),this._destroyed=!1};a(B,o),B.prototype._write=function(N,F,I){this.linkname+=this._decoder.write(N),I()},B.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var x=function(){o.call(this),this._destroyed=!1};a(x,o),x.prototype._write=function(N,F,I){I(new Error("No body allowed for this entry"))},x.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var C=function(N){if(!(this instanceof C))return new C(N);e.call(this,N),this._drain=y,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};a(C,e),C.prototype.entry=function(N,F,I){if(this._stream)throw new Error("already piping an entry");if(!(this._finalized||this._destroyed)){typeof F=="function"&&(I=F,F=null),I||(I=y);var U=this;if((!N.size||N.type==="symlink")&&(N.size=0),N.type||(N.type=M(N.mode)),N.mode||(N.mode=N.type==="directory"?l:p),N.uid||(N.uid=0),N.gid||(N.gid=0),N.mtime||(N.mtime=new Date),typeof F=="string"&&(F=Ut.Buffer.from(F)),Ut.Buffer.isBuffer(F)){N.size=F.length,this._encode(N);var P=this.push(F);return m(U,N.size),P?Jt.default.nextTick(I):this._drain=I,new x}if(N.type==="symlink"&&!N.linkname){var D=new B;return u(D,function(q){if(q)return U.destroy(),I(q);N.linkname=D.linkname,U._encode(N),I()}),D}if(this._encode(N),N.type!=="file"&&N.type!=="contiguous-file")return Jt.default.nextTick(I),new x;var W=new E(this);return this._stream=W,u(W,function(q){if(U._stream=null,q)return U.destroy(),I(q);if(W.written!==N.size)return U.destroy(),I(new Error("size mismatch"));m(U,N.size),U._finalizing&&U.finalize(),I()}),W}},C.prototype.finalize=function(){if(this._stream){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(g),this.push(null))},C.prototype.destroy=function(N){this._destroyed||(this._destroyed=!0,N&&this.emit("error",N),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},C.prototype._encode=function(N){if(!N.pax){var F=f.encode(N);if(F){this.push(F);return}}this._encodePax(N)},C.prototype._encodePax=function(N){var F=f.encodePax({name:N.name,linkname:N.linkname,pax:N.pax}),I={name:"PaxHeader",mode:N.mode,uid:N.uid,gid:N.gid,size:F.length,mtime:N.mtime,type:"pax-header",linkname:N.linkname&&"PaxHeader",uname:N.uname,gname:N.gname,devmajor:N.devmajor,devminor:N.devminor};this.push(f.encode(I)),this.push(F),m(this,F.length),I.size=N.size,I.type=N.type,this.push(f.encode(I))},C.prototype._read=function(N){var F=this._drain;this._drain=y,F()},i.exports=C}),tm=gt(t=>{lt(),t.extract=J2(),t.pack=Q2()}),em=gt((t,i)=>{lt();var r=p0(),u=tm(),a=Xo(),s=function(e){if(!(this instanceof s))return new s(e);e=this.options=a.defaults(e,{gzip:!1}),typeof e.gzipOptions!="object"&&(e.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=u.pack(e),this.compressor=!1,e.gzip&&(this.compressor=r.createGzip(e.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};s.prototype._onCompressorError=function(e){this.engine.emit("error",e)},s.prototype.append=function(e,o,c){var f=this;o.mtime=o.date;function l(g,y){if(g){c(g);return}f.engine.entry(o,y,function(m){c(m,o)})}if(o.sourceType==="buffer")l(null,e);else if(o.sourceType==="stream"&&o.stats){o.size=o.stats.size;var p=f.engine.entry(o,function(g){c(g,o)});e.pipe(p)}else o.sourceType==="stream"&&a.collectStream(e,l)},s.prototype.finalize=function(){this.engine.finalize()},s.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},s.prototype.pipe=function(e,o){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(e,o):this.engine.pipe.apply(this.engine,arguments)},s.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)},i.exports=s}),rm=gt((t,i)=>{lt();var r=He().inherits,u=kr().Transform,a=l0(),s=Xo(),e=function(o){if(!(this instanceof e))return new e(o);o=this.options=s.defaults(o,{}),u.call(this,o),this.supports={directory:!0,symlink:!0},this.files=[]};r(e,u),e.prototype._transform=function(o,c,f){f(null,o)},e.prototype._writeStringified=function(){var o=JSON.stringify(this.files);this.write(o)},e.prototype.append=function(o,c,f){var l=this;c.crc32=0;function p(g,y){if(g){f(g);return}c.size=y.length||0,c.crc32=a.unsigned(y),l.files.push(c),f(null,c)}c.sourceType==="buffer"?p(null,o):c.sourceType==="stream"&&s.collectStream(o,p)},e.prototype.finalize=function(){this._writeStringified(),this.end()},i.exports=e}),nm=gt((t,i)=>{lt();var r=I2(),u={},a=function(s,e){return a.create(s,e)};a.create=function(s,e){if(u[s]){var o=new r(s,e);return o.setFormat(s),o.setModule(new u[s](e)),o}else throw new Error("create("+s+"): format not registered")},a.registerFormat=function(s,e){if(u[s])throw new Error("register("+s+"): format already registered");if(typeof e!="function")throw new Error("register("+s+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+s+"): format module missing methods");u[s]=e},a.isRegisteredFormat=function(s){return!!u[s]},a.registerFormat("zip",G2()),a.registerFormat("tar",em()),a.registerFormat("json",rm()),i.exports=a}),$u=gt((t,i)=>{lt(),i.exports={DEFAULT_INITIAL_SIZE:8*1024,DEFAULT_INCREMENT_AMOUNT:8*1024,DEFAULT_FREQUENCY:1,DEFAULT_CHUNK_SIZE:1024}}),im=gt((t,i)=>{lt();var r=Cn(),u=$u(),a=He(),s=i.exports=function(e){var o=this;e=e||{},r.Readable.call(this,e),this.stopped=!1;var c=e.hasOwnProperty("frequency")?e.frequency:u.DEFAULT_FREQUENCY,f=e.chunkSize||u.DEFAULT_CHUNK_SIZE,l=e.initialSize||u.DEFAULT_INITIAL_SIZE,p=e.incrementAmount||u.DEFAULT_INCREMENT_AMOUNT,g=0,y=new Ut.Buffer(l),m=!1,M=function(){var x=Math.min(f,g),C=!1;if(x>0){var N=null;N=new Ut.Buffer(x),y.copy(N,0,0,x),C=o.push(N)!==!1,m=C,y.copy(y,0,x,g),g-=x}g===0&&o.stopped&&o.push(null),C?M.timeout=setTimeout(M,c):M.timeout=null};this.stop=function(){if(this.stopped)throw new Error("stop() called on already stopped ReadableStreamBuffer");this.stopped=!0,g===0&&this.push(null)},this.size=function(){return g},this.maxSize=function(){return y.length};var E=function(x){if(y.length-g<x){var C=Math.ceil((x-(y.length-g))/p),N=new Ut.Buffer(y.length+p*C);y.copy(N,0,0,g),y=N}},B=function(){!M.timeout&&m&&(M.timeout=setTimeout(M,c))};this.put=function(x,C){if(o.stopped)throw new Error("Tried to write data to a stopped ReadableStreamBuffer");if(Ut.Buffer.isBuffer(x))E(x.length),x.copy(y,g,0),g+=x.length;else{x=x+"";var N=Ut.Buffer.byteLength(x);E(N),y.write(x,g,C||"utf8"),g+=N}B()},this._read=function(){m=!0,B()}};a.inherits(s,r.Readable)}),am=gt((t,i)=>{lt();var r=He(),u=Cn(),a=$u(),s=i.exports=function(e){e=e||{},e.decodeStrings=!0,u.Writable.call(this,e);var o=e.initialSize||a.DEFAULT_INITIAL_SIZE,c=e.incrementAmount||a.DEFAULT_INCREMENT_AMOUNT,f=new Ut.Buffer(o),l=0;this.size=function(){return l},this.maxSize=function(){return f.length},this.getContents=function(g){if(!l)return!1;var y=new Ut.Buffer(Math.min(g||l,l));return f.copy(y,0,0,y.length),y.length<l&&f.copy(f,0,y.length),l-=y.length,y},this.getContentsAsString=function(g,y){if(!l)return!1;var m=f.toString(g||"utf8",0,Math.min(y||l,l)),M=Ut.Buffer.byteLength(m);return M<l&&f.copy(f,0,M),l-=M,m};var p=function(g){if(f.length-l<g){var y=Math.ceil((g-(f.length-l))/c),m=new Ut.Buffer(f.length+c*y);f.copy(m,0,0,l),f=m}};this._write=function(g,y,m){p(g.length),g.copy(f,l,0),l+=g.length,m()}};r.inherits(s,u.Writable)}),om=gt((t,i)=>{lt(),i.exports=$u(),i.exports.ReadableStreamBuffer=im(),i.exports.WritableStreamBuffer=am()}),sm=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});function i(r){var u=4,a=r.length,s=a%u;if(!s)return r;var e=a,o=u-s,c=a+o,f=Ut.Buffer.alloc(c);for(f.write(r);o--;)f.write("=",e++);return f.toString()}t.default=i}),um=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=sm();function r(c,f){return f===void 0&&(f="utf8"),Ut.Buffer.isBuffer(c)?s(c.toString("base64")):s(Ut.Buffer.from(c,f).toString("base64"))}function u(c,f){return f===void 0&&(f="utf8"),Ut.Buffer.from(a(c),"base64").toString(f)}function a(c){return c=c.toString(),i.default(c).replace(/\-/g,"+").replace(/_/g,"/")}function s(c){return c.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function e(c){return Ut.Buffer.from(a(c),"base64")}var o=r;o.encode=r,o.decode=u,o.toBase64=a,o.fromBase64=s,o.toBuffer=e,t.default=o}),Gr=gt((t,i)=>{lt(),i.exports=um().default,i.exports.default=i.exports}),Fi=gt((t,i)=>{lt();var r=65536,u=4294967295;function a(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var s=Ee().Buffer,e=le.crypto||le.msCrypto;e&&e.getRandomValues?i.exports=o:i.exports=a;function o(c,f){if(c>u)throw new RangeError("requested too many random bytes");var l=s.allocUnsafe(c);if(c>0)if(c>r)for(var p=0;p<c;p+=r)e.getRandomValues(l.slice(p,p+r));else e.getRandomValues(l);return typeof f=="function"?Jt.default.nextTick(function(){f(null,l)}):l}}),m0=gt((t,i)=>{lt();var r=Ee().Buffer,u=kr().Transform,a=pe();function s(o,c){if(!r.isBuffer(o)&&typeof o!="string")throw new TypeError(c+" must be a string or a buffer")}function e(o){u.call(this),this._block=r.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}a(e,u),e.prototype._transform=function(o,c,f){var l=null;try{this.update(o,c)}catch(p){l=p}f(l)},e.prototype._flush=function(o){var c=null;try{this.push(this.digest())}catch(f){c=f}o(c)},e.prototype.update=function(o,c){if(s(o,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(o)||(o=r.from(o,c));for(var f=this._block,l=0;this._blockOffset+o.length-l>=this._blockSize;){for(var p=this._blockOffset;p<this._blockSize;)f[p++]=o[l++];this._update(),this._blockOffset=0}for(;l<o.length;)f[this._blockOffset++]=o[l++];for(var g=0,y=o.length*8;y>0;++g)this._length[g]+=y,y=this._length[g]/4294967296|0,y>0&&(this._length[g]-=4294967296*y);return this},e.prototype._update=function(){throw new Error("_update is not implemented")},e.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();o!==void 0&&(c=c.toString(o)),this._block.fill(0),this._blockOffset=0;for(var f=0;f<4;++f)this._length[f]=0;return c},e.prototype._digest=function(){throw new Error("_digest is not implemented")},i.exports=e}),Hu=gt((t,i)=>{lt();var r=pe(),u=m0(),a=Ee().Buffer,s=new Array(16);function e(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}r(e,u),e.prototype._update=function(){for(var g=s,y=0;y<16;++y)g[y]=this._block.readInt32LE(y*4);var m=this._a,M=this._b,E=this._c,B=this._d;m=c(m,M,E,B,g[0],3614090360,7),B=c(B,m,M,E,g[1],3905402710,12),E=c(E,B,m,M,g[2],606105819,17),M=c(M,E,B,m,g[3],3250441966,22),m=c(m,M,E,B,g[4],4118548399,7),B=c(B,m,M,E,g[5],1200080426,12),E=c(E,B,m,M,g[6],2821735955,17),M=c(M,E,B,m,g[7],4249261313,22),m=c(m,M,E,B,g[8],1770035416,7),B=c(B,m,M,E,g[9],2336552879,12),E=c(E,B,m,M,g[10],4294925233,17),M=c(M,E,B,m,g[11],2304563134,22),m=c(m,M,E,B,g[12],1804603682,7),B=c(B,m,M,E,g[13],4254626195,12),E=c(E,B,m,M,g[14],2792965006,17),M=c(M,E,B,m,g[15],1236535329,22),m=f(m,M,E,B,g[1],4129170786,5),B=f(B,m,M,E,g[6],3225465664,9),E=f(E,B,m,M,g[11],643717713,14),M=f(M,E,B,m,g[0],3921069994,20),m=f(m,M,E,B,g[5],3593408605,5),B=f(B,m,M,E,g[10],38016083,9),E=f(E,B,m,M,g[15],3634488961,14),M=f(M,E,B,m,g[4],3889429448,20),m=f(m,M,E,B,g[9],568446438,5),B=f(B,m,M,E,g[14],3275163606,9),E=f(E,B,m,M,g[3],4107603335,14),M=f(M,E,B,m,g[8],1163531501,20),m=f(m,M,E,B,g[13],2850285829,5),B=f(B,m,M,E,g[2],4243563512,9),E=f(E,B,m,M,g[7],1735328473,14),M=f(M,E,B,m,g[12],2368359562,20),m=l(m,M,E,B,g[5],4294588738,4),B=l(B,m,M,E,g[8],2272392833,11),E=l(E,B,m,M,g[11],1839030562,16),M=l(M,E,B,m,g[14],4259657740,23),m=l(m,M,E,B,g[1],2763975236,4),B=l(B,m,M,E,g[4],1272893353,11),E=l(E,B,m,M,g[7],4139469664,16),M=l(M,E,B,m,g[10],3200236656,23),m=l(m,M,E,B,g[13],681279174,4),B=l(B,m,M,E,g[0],3936430074,11),E=l(E,B,m,M,g[3],3572445317,16),M=l(M,E,B,m,g[6],76029189,23),m=l(m,M,E,B,g[9],3654602809,4),B=l(B,m,M,E,g[12],3873151461,11),E=l(E,B,m,M,g[15],530742520,16),M=l(M,E,B,m,g[2],3299628645,23),m=p(m,M,E,B,g[0],4096336452,6),B=p(B,m,M,E,g[7],1126891415,10),E=p(E,B,m,M,g[14],2878612391,15),M=p(M,E,B,m,g[5],4237533241,21),m=p(m,M,E,B,g[12],1700485571,6),B=p(B,m,M,E,g[3],2399980690,10),E=p(E,B,m,M,g[10],4293915773,15),M=p(M,E,B,m,g[1],2240044497,21),m=p(m,M,E,B,g[8],1873313359,6),B=p(B,m,M,E,g[15],4264355552,10),E=p(E,B,m,M,g[6],2734768916,15),M=p(M,E,B,m,g[13],1309151649,21),m=p(m,M,E,B,g[4],4149444226,6),B=p(B,m,M,E,g[11],3174756917,10),E=p(E,B,m,M,g[2],718787259,15),M=p(M,E,B,m,g[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+M|0,this._c=this._c+E|0,this._d=this._d+B|0},e.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=a.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g};function o(g,y){return g<<y|g>>>32-y}function c(g,y,m,M,E,B,x){return o(g+(y&m|~y&M)+E+B|0,x)+y|0}function f(g,y,m,M,E,B,x){return o(g+(y&M|m&~M)+E+B|0,x)+y|0}function l(g,y,m,M,E,B,x){return o(g+(y^m^M)+E+B|0,x)+y|0}function p(g,y,m,M,E,B,x){return o(g+(m^(y|~M))+E+B|0,x)+y|0}i.exports=e}),Gu=gt((t,i)=>{lt();var r=$e().Buffer,u=pe(),a=m0(),s=new Array(16),e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],o=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}u(g,a),g.prototype._update=function(){for(var C=s,N=0;N<16;++N)C[N]=this._block.readInt32LE(N*4);for(var F=this._a|0,I=this._b|0,U=this._c|0,P=this._d|0,D=this._e|0,W=this._a|0,q=this._b|0,O=this._c|0,L=this._d|0,n=this._e|0,d=0;d<80;d+=1){var v,A;d<16?(v=m(F,I,U,P,D,C[e[d]],l[0],c[d]),A=x(W,q,O,L,n,C[o[d]],p[0],f[d])):d<32?(v=M(F,I,U,P,D,C[e[d]],l[1],c[d]),A=B(W,q,O,L,n,C[o[d]],p[1],f[d])):d<48?(v=E(F,I,U,P,D,C[e[d]],l[2],c[d]),A=E(W,q,O,L,n,C[o[d]],p[2],f[d])):d<64?(v=B(F,I,U,P,D,C[e[d]],l[3],c[d]),A=M(W,q,O,L,n,C[o[d]],p[3],f[d])):(v=x(F,I,U,P,D,C[e[d]],l[4],c[d]),A=m(W,q,O,L,n,C[o[d]],p[4],f[d])),F=D,D=P,P=y(U,10),U=I,I=v,W=n,n=L,L=y(O,10),O=q,q=A}var T=this._b+U+L|0;this._b=this._c+P+n|0,this._c=this._d+D+W|0,this._d=this._e+F+q|0,this._e=this._a+I+O|0,this._a=T},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var C=r.alloc?r.alloc(20):new r(20);return C.writeInt32LE(this._a,0),C.writeInt32LE(this._b,4),C.writeInt32LE(this._c,8),C.writeInt32LE(this._d,12),C.writeInt32LE(this._e,16),C};function y(C,N){return C<<N|C>>>32-N}function m(C,N,F,I,U,P,D,W){return y(C+(N^F^I)+P+D|0,W)+U|0}function M(C,N,F,I,U,P,D,W){return y(C+(N&F|~N&I)+P+D|0,W)+U|0}function E(C,N,F,I,U,P,D,W){return y(C+((N|~F)^I)+P+D|0,W)+U|0}function B(C,N,F,I,U,P,D,W){return y(C+(N&I|F&~I)+P+D|0,W)+U|0}function x(C,N,F,I,U,P,D,W){return y(C+(N^(F|~I))+P+D|0,W)+U|0}i.exports=g}),Ki=gt((t,i)=>{lt();var r=Ee().Buffer;function u(a,s){this._block=r.alloc(a),this._finalSize=s,this._blockSize=a,this._len=0}u.prototype.update=function(a,s){typeof a=="string"&&(s=s||"utf8",a=r.from(a,s));for(var e=this._block,o=this._blockSize,c=a.length,f=this._len,l=0;l<c;){for(var p=f%o,g=Math.min(c-l,o-p),y=0;y<g;y++)e[p+y]=a[l+y];f+=g,l+=g,f%o===0&&this._update(e)}return this._len+=c,this},u.prototype.digest=function(a){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=this._len*8;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var o=(e&4294967295)>>>0,c=(e-o)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var f=this._hash();return a?f.toString(a):f},u.prototype._update=function(){throw new Error("_update must be implemented by subclass")},i.exports=u}),hm=gt((t,i)=>{lt();var r=pe(),u=Ki(),a=Ee().Buffer,s=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function o(){this.init(),this._w=e,u.call(this,64,56)}r(o,u),o.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function c(p){return p<<5|p>>>27}function f(p){return p<<30|p>>>2}function l(p,g,y,m){return p===0?g&y|~g&m:p===2?g&y|g&m|y&m:g^y^m}o.prototype._update=function(p){for(var g=this._w,y=this._a|0,m=this._b|0,M=this._c|0,E=this._d|0,B=this._e|0,x=0;x<16;++x)g[x]=p.readInt32BE(x*4);for(;x<80;++x)g[x]=g[x-3]^g[x-8]^g[x-14]^g[x-16];for(var C=0;C<80;++C){var N=~~(C/20),F=c(y)+l(N,m,M,E)+B+g[C]+s[N]|0;B=E,E=M,M=f(m),m=y,y=F}this._a=y+this._a|0,this._b=m+this._b|0,this._c=M+this._c|0,this._d=E+this._d|0,this._e=B+this._e|0},o.prototype._hash=function(){var p=a.allocUnsafe(20);return p.writeInt32BE(this._a|0,0),p.writeInt32BE(this._b|0,4),p.writeInt32BE(this._c|0,8),p.writeInt32BE(this._d|0,12),p.writeInt32BE(this._e|0,16),p},i.exports=o}),lm=gt((t,i)=>{lt();var r=pe(),u=Ki(),a=Ee().Buffer,s=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function o(){this.init(),this._w=e,u.call(this,64,56)}r(o,u),o.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function c(g){return g<<1|g>>>31}function f(g){return g<<5|g>>>27}function l(g){return g<<30|g>>>2}function p(g,y,m,M){return g===0?y&m|~y&M:g===2?y&m|y&M|m&M:y^m^M}o.prototype._update=function(g){for(var y=this._w,m=this._a|0,M=this._b|0,E=this._c|0,B=this._d|0,x=this._e|0,C=0;C<16;++C)y[C]=g.readInt32BE(C*4);for(;C<80;++C)y[C]=c(y[C-3]^y[C-8]^y[C-14]^y[C-16]);for(var N=0;N<80;++N){var F=~~(N/20),I=f(m)+p(F,M,E,B)+x+y[N]+s[F]|0;x=B,B=E,E=l(M),M=m,m=I}this._a=m+this._a|0,this._b=M+this._b|0,this._c=E+this._c|0,this._d=B+this._d|0,this._e=x+this._e|0},o.prototype._hash=function(){var g=a.allocUnsafe(20);return g.writeInt32BE(this._a|0,0),g.writeInt32BE(this._b|0,4),g.writeInt32BE(this._c|0,8),g.writeInt32BE(this._d|0,12),g.writeInt32BE(this._e|0,16),g},i.exports=o}),y0=gt((t,i)=>{lt();var r=pe(),u=Ki(),a=Ee().Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],e=new Array(64);function o(){this.init(),this._w=e,u.call(this,64,56)}r(o,u),o.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function c(m,M,E){return E^m&(M^E)}function f(m,M,E){return m&M|E&(m|M)}function l(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function p(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function g(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}function y(m){return(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10}o.prototype._update=function(m){for(var M=this._w,E=this._a|0,B=this._b|0,x=this._c|0,C=this._d|0,N=this._e|0,F=this._f|0,I=this._g|0,U=this._h|0,P=0;P<16;++P)M[P]=m.readInt32BE(P*4);for(;P<64;++P)M[P]=y(M[P-2])+M[P-7]+g(M[P-15])+M[P-16]|0;for(var D=0;D<64;++D){var W=U+p(N)+c(N,F,I)+s[D]+M[D]|0,q=l(E)+f(E,B,x)|0;U=I,I=F,F=N,N=C+W|0,C=x,x=B,B=E,E=W+q|0}this._a=E+this._a|0,this._b=B+this._b|0,this._c=x+this._c|0,this._d=C+this._d|0,this._e=N+this._e|0,this._f=F+this._f|0,this._g=I+this._g|0,this._h=U+this._h|0},o.prototype._hash=function(){var m=a.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},i.exports=o}),fm=gt((t,i)=>{lt();var r=pe(),u=y0(),a=Ki(),s=Ee().Buffer,e=new Array(64);function o(){this.init(),this._w=e,a.call(this,64,56)}r(o,u),o.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},o.prototype._hash=function(){var c=s.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},i.exports=o}),b0=gt((t,i)=>{lt();var r=pe(),u=Ki(),a=Ee().Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],e=new Array(160);function o(){this.init(),this._w=e,u.call(this,128,112)}r(o,u),o.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function c(B,x,C){return C^B&(x^C)}function f(B,x,C){return B&x|C&(B|x)}function l(B,x){return(B>>>28|x<<4)^(x>>>2|B<<30)^(x>>>7|B<<25)}function p(B,x){return(B>>>14|x<<18)^(B>>>18|x<<14)^(x>>>9|B<<23)}function g(B,x){return(B>>>1|x<<31)^(B>>>8|x<<24)^B>>>7}function y(B,x){return(B>>>1|x<<31)^(B>>>8|x<<24)^(B>>>7|x<<25)}function m(B,x){return(B>>>19|x<<13)^(x>>>29|B<<3)^B>>>6}function M(B,x){return(B>>>19|x<<13)^(x>>>29|B<<3)^(B>>>6|x<<26)}function E(B,x){return B>>>0<x>>>0?1:0}o.prototype._update=function(B){for(var x=this._w,C=this._ah|0,N=this._bh|0,F=this._ch|0,I=this._dh|0,U=this._eh|0,P=this._fh|0,D=this._gh|0,W=this._hh|0,q=this._al|0,O=this._bl|0,L=this._cl|0,n=this._dl|0,d=this._el|0,v=this._fl|0,A=this._gl|0,T=this._hl|0,S=0;S<32;S+=2)x[S]=B.readInt32BE(S*4),x[S+1]=B.readInt32BE(S*4+4);for(;S<160;S+=2){var w=x[S-30],b=x[S-15*2+1],h=g(w,b),k=y(b,w);w=x[S-2*2],b=x[S-2*2+1];var tt=m(w,b),X=M(b,w),ft=x[S-7*2],et=x[S-7*2+1],at=x[S-16*2],$=x[S-16*2+1],J=k+et|0,R=h+ft+E(J,k)|0;J=J+X|0,R=R+tt+E(J,X)|0,J=J+$|0,R=R+at+E(J,$)|0,x[S]=R,x[S+1]=J}for(var j=0;j<160;j+=2){R=x[j],J=x[j+1];var z=f(C,N,F),Z=f(q,O,L),Q=l(C,q),K=l(q,C),G=p(U,d),H=p(d,U),Y=s[j],it=s[j+1],ot=c(U,P,D),mt=c(d,v,A),_t=T+H|0,ht=W+G+E(_t,T)|0;_t=_t+mt|0,ht=ht+ot+E(_t,mt)|0,_t=_t+it|0,ht=ht+Y+E(_t,it)|0,_t=_t+J|0,ht=ht+R+E(_t,J)|0;var vt=K+Z|0,pt=Q+z+E(vt,K)|0;W=D,T=A,D=P,A=v,P=U,v=d,d=n+_t|0,U=I+ht+E(d,n)|0,I=F,n=L,F=N,L=O,N=C,O=q,q=_t+vt|0,C=ht+pt+E(q,_t)|0}this._al=this._al+q|0,this._bl=this._bl+O|0,this._cl=this._cl+L|0,this._dl=this._dl+n|0,this._el=this._el+d|0,this._fl=this._fl+v|0,this._gl=this._gl+A|0,this._hl=this._hl+T|0,this._ah=this._ah+C+E(this._al,q)|0,this._bh=this._bh+N+E(this._bl,O)|0,this._ch=this._ch+F+E(this._cl,L)|0,this._dh=this._dh+I+E(this._dl,n)|0,this._eh=this._eh+U+E(this._el,d)|0,this._fh=this._fh+P+E(this._fl,v)|0,this._gh=this._gh+D+E(this._gl,A)|0,this._hh=this._hh+W+E(this._hl,T)|0},o.prototype._hash=function(){var B=a.allocUnsafe(64);function x(C,N,F){B.writeInt32BE(C,F),B.writeInt32BE(N,F+4)}return x(this._ah,this._al,0),x(this._bh,this._bl,8),x(this._ch,this._cl,16),x(this._dh,this._dl,24),x(this._eh,this._el,32),x(this._fh,this._fl,40),x(this._gh,this._gl,48),x(this._hh,this._hl,56),B},i.exports=o}),cm=gt((t,i)=>{lt();var r=pe(),u=b0(),a=Ki(),s=Ee().Buffer,e=new Array(160);function o(){this.init(),this._w=e,a.call(this,128,112)}r(o,u),o.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},o.prototype._hash=function(){var c=s.allocUnsafe(48);function f(l,p,g){c.writeInt32BE(l,g),c.writeInt32BE(p,g+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),c},i.exports=o}),Vu=gt((r,i)=>{lt();var r=i.exports=function(u){u=u.toLowerCase();var a=r[u];if(!a)throw new Error(u+" is not supported (we accept pull requests)");return new a};r.sha=hm(),r.sha1=lm(),r.sha224=fm(),r.sha256=y0(),r.sha384=cm(),r.sha512=b0()}),Qn=gt((t,i)=>{lt();var r=Ee().Buffer,u=Cn().Transform,a=co().StringDecoder,s=pe();function e(o){u.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}s(e,u),e.prototype.update=function(o,c,f){typeof o=="string"&&(o=r.from(o,c));var l=this._update(o);return this.hashMode?this:(f&&(l=this._toString(l,f)),l)},e.prototype.setAutoPadding=function(){},e.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},e.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},e.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},e.prototype._transform=function(o,c,f){var l;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(p){l=p}finally{f(l)}},e.prototype._flush=function(o){var c;try{this.push(this.__final())}catch(f){c=f}o(c)},e.prototype._finalOrDigest=function(o){var c=this.__final()||r.alloc(0);return o&&(c=this._toString(c,o,!0)),c},e.prototype._toString=function(o,c,f){if(this._decoder||(this._decoder=new a(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var l=this._decoder.write(o);return f&&(l+=this._decoder.end()),l},i.exports=e}),Ea=gt((t,i)=>{lt();var r=pe(),u=Hu(),a=Gu(),s=Vu(),e=Qn();function o(c){e.call(this,"digest"),this._hash=c}r(o,e),o.prototype._update=function(c){this._hash.update(c)},o.prototype._final=function(){return this._hash.digest()},i.exports=function(c){return c=c.toLowerCase(),c==="md5"?new u:c==="rmd160"||c==="ripemd160"?new a:new o(s(c))}}),dm=gt((t,i)=>{lt();var r=pe(),u=Ee().Buffer,a=Qn(),s=u.alloc(128),e=64;function o(c,f){a.call(this,"digest"),typeof f=="string"&&(f=u.from(f)),this._alg=c,this._key=f,f.length>e?f=c(f):f.length<e&&(f=u.concat([f,s],e));for(var l=this._ipad=u.allocUnsafe(e),p=this._opad=u.allocUnsafe(e),g=0;g<e;g++)l[g]=f[g]^54,p[g]=f[g]^92;this._hash=[l]}r(o,a),o.prototype._update=function(c){this._hash.push(c)},o.prototype._final=function(){var c=this._alg(u.concat(this._hash));return this._alg(u.concat([this._opad,c]))},i.exports=o}),v0=gt((t,i)=>{lt();var r=Hu();i.exports=function(u){return new r().update(u).digest()}}),w0=gt((t,i)=>{lt();var r=pe(),u=dm(),a=Qn(),s=Ee().Buffer,e=v0(),o=Gu(),c=Vu(),f=s.alloc(128);function l(p,g){a.call(this,"digest"),typeof g=="string"&&(g=s.from(g));var y=p==="sha512"||p==="sha384"?128:64;if(this._alg=p,this._key=g,g.length>y){var m=p==="rmd160"?new o:c(p);g=m.update(g).digest()}else g.length<y&&(g=s.concat([g,f],y));for(var M=this._ipad=s.allocUnsafe(y),E=this._opad=s.allocUnsafe(y),B=0;B<y;B++)M[B]=g[B]^54,E[B]=g[B]^92;this._hash=p==="rmd160"?new o:c(p),this._hash.update(M)}r(l,a),l.prototype._update=function(p){this._hash.update(p)},l.prototype._final=function(){var p=this._hash.digest(),g=this._alg==="rmd160"?new o:c(this._alg);return g.update(this._opad).update(p).digest()},i.exports=function(p,g){return p=p.toLowerCase(),p==="rmd160"||p==="ripemd160"?new l("rmd160",g):p==="md5"?new u(e,g):new l(p,g)}}),_0=gt((t,i)=>{i.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),pm=gt((t,i)=>{lt(),i.exports=_0()}),E0=gt((t,i)=>{lt();var r=Math.pow(2,30)-1;i.exports=function(u,a){if(typeof u!="number")throw new TypeError("Iterations not a number");if(u<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>r||a!==a)throw new TypeError("Bad key length")}}),S0=gt((t,i)=>{lt();var r;le.process&&le.process.browser?r="utf-8":le.process&&le.process.version?(u=parseInt(Jt.default.version.split(".")[0].slice(1),10),r=u>=6?"utf-8":"binary"):r="utf-8";var u;i.exports=r}),A0=gt((t,i)=>{lt();var r=Ee().Buffer;i.exports=function(u,a,s){if(r.isBuffer(u))return u;if(typeof u=="string")return r.from(u,a);if(ArrayBuffer.isView(u))return r.from(u.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}}),T0=gt((t,i)=>{lt();var r=v0(),u=Gu(),a=Vu(),s=Ee().Buffer,e=E0(),o=S0(),c=A0(),f=s.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(m,M,E){var B=g(m),x=m==="sha512"||m==="sha384"?128:64;M.length>x?M=B(M):M.length<x&&(M=s.concat([M,f],x));for(var C=s.allocUnsafe(x+l[m]),N=s.allocUnsafe(x+l[m]),F=0;F<x;F++)C[F]=M[F]^54,N[F]=M[F]^92;var I=s.allocUnsafe(x+E+4);C.copy(I,0,0,x),this.ipad1=I,this.ipad2=C,this.opad=N,this.alg=m,this.blocksize=x,this.hash=B,this.size=l[m]}p.prototype.run=function(m,M){m.copy(M,this.blocksize);var E=this.hash(M);return E.copy(this.opad,this.blocksize),this.hash(this.opad)};function g(m){function M(B){return a(m).update(B).digest()}function E(B){return new u().update(B).digest()}return m==="rmd160"||m==="ripemd160"?E:m==="md5"?r:M}function y(m,M,E,B,x){e(E,B),m=c(m,o,"Password"),M=c(M,o,"Salt"),x=x||"sha1";var C=new p(x,m,M.length),N=s.allocUnsafe(B),F=s.allocUnsafe(M.length+4);M.copy(F,0,0,M.length);for(var I=0,U=l[x],P=Math.ceil(B/U),D=1;D<=P;D++){F.writeUInt32BE(D,M.length);for(var W=C.run(F,C.ipad1),q=W,O=1;O<E;O++){q=C.run(q,C.ipad2);for(var L=0;L<U;L++)W[L]^=q[L]}W.copy(N,I),I+=U}return N}i.exports=y}),gm=gt((t,i)=>{lt();var r=Ee().Buffer,u=E0(),a=S0(),s=T0(),e=A0(),o,c=le.crypto&&le.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function p(E){if(le.process&&!le.process.browser||!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(l[E]!==void 0)return l[E];o=o||r.alloc(8);var B=m(o,o,10,128,E).then(function(){return!0}).catch(function(){return!1});return l[E]=B,B}var g;function y(){return g||(le.process&&le.process.nextTick?g=le.process.nextTick:le.queueMicrotask?g=le.queueMicrotask:le.setImmediate?g=le.setImmediate:g=le.setTimeout,g)}function m(E,B,x,C,N){return c.importKey("raw",E,{name:"PBKDF2"},!1,["deriveBits"]).then(function(F){return c.deriveBits({name:"PBKDF2",salt:B,iterations:x,hash:{name:N}},F,C<<3)}).then(function(F){return r.from(F)})}function M(E,B){E.then(function(x){y()(function(){B(null,x)})},function(x){y()(function(){B(x)})})}i.exports=function(E,B,x,C,N,F){typeof N=="function"&&(F=N,N=void 0),N=N||"sha1";var I=f[N.toLowerCase()];if(!I||typeof le.Promise!="function"){y()(function(){var U;try{U=s(E,B,x,C,N)}catch(P){return F(P)}F(null,U)});return}if(u(x,C),E=e(E,a,"Password"),B=e(B,a,"Salt"),typeof F!="function")throw new Error("No callback provided to pbkdf2");M(p(I).then(function(U){return U?m(E,B,x,C,I):s(E,B,x,C,N)}),F)}}),M0=gt(t=>{lt(),t.pbkdf2=gm(),t.pbkdf2Sync=T0()}),x0=gt(t=>{lt(),t.readUInt32BE=function(a,s){var e=a[0+s]<<24|a[1+s]<<16|a[2+s]<<8|a[3+s];return e>>>0},t.writeUInt32BE=function(a,s,e){a[0+e]=s>>>24,a[1+e]=s>>>16&255,a[2+e]=s>>>8&255,a[3+e]=s&255},t.ip=function(a,s,e,o){for(var c=0,f=0,l=6;l>=0;l-=2){for(var p=0;p<=24;p+=8)c<<=1,c|=s>>>p+l&1;for(var p=0;p<=24;p+=8)c<<=1,c|=a>>>p+l&1}for(var l=6;l>=0;l-=2){for(var p=1;p<=25;p+=8)f<<=1,f|=s>>>p+l&1;for(var p=1;p<=25;p+=8)f<<=1,f|=a>>>p+l&1}e[o+0]=c>>>0,e[o+1]=f>>>0},t.rip=function(a,s,e,o){for(var c=0,f=0,l=0;l<4;l++)for(var p=24;p>=0;p-=8)c<<=1,c|=s>>>p+l&1,c<<=1,c|=a>>>p+l&1;for(var l=4;l<8;l++)for(var p=24;p>=0;p-=8)f<<=1,f|=s>>>p+l&1,f<<=1,f|=a>>>p+l&1;e[o+0]=c>>>0,e[o+1]=f>>>0},t.pc1=function(a,s,e,o){for(var c=0,f=0,l=7;l>=5;l--){for(var p=0;p<=24;p+=8)c<<=1,c|=s>>p+l&1;for(var p=0;p<=24;p+=8)c<<=1,c|=a>>p+l&1}for(var p=0;p<=24;p+=8)c<<=1,c|=s>>p+l&1;for(var l=1;l<=3;l++){for(var p=0;p<=24;p+=8)f<<=1,f|=s>>p+l&1;for(var p=0;p<=24;p+=8)f<<=1,f|=a>>p+l&1}for(var p=0;p<=24;p+=8)f<<=1,f|=a>>p+l&1;e[o+0]=c>>>0,e[o+1]=f>>>0},t.r28shl=function(a,s){return a<<s&268435455|a>>>28-s};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(a,s,e,o){for(var c=0,f=0,l=i.length>>>1,p=0;p<l;p++)c<<=1,c|=a>>>i[p]&1;for(var p=l;p<i.length;p++)f<<=1,f|=s>>>i[p]&1;e[o+0]=c>>>0,e[o+1]=f>>>0},t.expand=function(a,s,e){var o=0,c=0;o=(a&1)<<5|a>>>27;for(var f=23;f>=15;f-=4)o<<=6,o|=a>>>f&63;for(var f=11;f>=3;f-=4)c|=a>>>f&63,c<<=6;c|=(a&31)<<1|a>>>31,s[e+0]=o>>>0,s[e+1]=c>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(a,s){for(var e=0,o=0;o<4;o++){var c=a>>>18-o*6&63,f=r[o*64+c];e<<=4,e|=f}for(var o=0;o<4;o++){var c=s>>>18-o*6&63,f=r[4*64+o*64+c];e<<=4,e|=f}return e>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(a){for(var s=0,e=0;e<u.length;e++)s<<=1,s|=a>>>u[e]&1;return s>>>0},t.padSplit=function(a,s,e){for(var o=a.toString(2);o.length<s;)o="0"+o;for(var c=[],f=0;f<s;f+=e)c.push(o.slice(f,f+e));return c.join(" ")}}),Vr=gt((t,i)=>{lt(),i.exports=r;function r(u,a){if(!u)throw new Error(a||"Assertion failed")}r.equal=function(u,a,s){if(u!=a)throw new Error(s||"Assertion failed: "+u+" != "+a)}}),Zu=gt((t,i)=>{lt();var r=Vr();function u(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}i.exports=u,u.prototype._init=function(){},u.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},u.prototype._buffer=function(a,s){for(var e=Math.min(this.buffer.length-this.bufferOff,a.length-s),o=0;o<e;o++)this.buffer[this.bufferOff+o]=a[s+o];return this.bufferOff+=e,e},u.prototype._flushBuffer=function(a,s){return this._update(this.buffer,0,a,s),this.bufferOff=0,this.blockSize},u.prototype._updateEncrypt=function(a){var s=0,e=0,o=(this.bufferOff+a.length)/this.blockSize|0,c=new Array(o*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(a,s),this.bufferOff===this.buffer.length&&(e+=this._flushBuffer(c,e)));for(var f=a.length-(a.length-s)%this.blockSize;s<f;s+=this.blockSize)this._update(a,s,c,e),e+=this.blockSize;for(;s<a.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=a[s];return c},u.prototype._updateDecrypt=function(a){for(var s=0,e=0,o=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,c=new Array(o*this.blockSize);o>0;o--)s+=this._buffer(a,s),e+=this._flushBuffer(c,e);return s+=this._buffer(a,s),c},u.prototype.final=function(a){var s;a&&(s=this.update(a));var e;return this.type==="encrypt"?e=this._finalEncrypt():e=this._finalDecrypt(),s?s.concat(e):e},u.prototype._pad=function(a,s){if(s===0)return!1;for(;s<a.length;)a[s++]=0;return!0},u.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},u.prototype._unpad=function(a){return a},u.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}}),k0=gt((t,i)=>{lt();var r=Vr(),u=pe(),a=x0(),s=Zu();function e(){this.tmp=new Array(2),this.keys=null}function o(f){s.call(this,f);var l=new e;this._desState=l,this.deriveKeys(l,f.key)}u(o,s),i.exports=o,o.create=function(f){return new o(f)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];o.prototype.deriveKeys=function(f,l){f.keys=new Array(16*2),r.equal(l.length,this.blockSize,"Invalid key length");var p=a.readUInt32BE(l,0),g=a.readUInt32BE(l,4);a.pc1(p,g,f.tmp,0),p=f.tmp[0],g=f.tmp[1];for(var y=0;y<f.keys.length;y+=2){var m=c[y>>>1];p=a.r28shl(p,m),g=a.r28shl(g,m),a.pc2(p,g,f.keys,y)}},o.prototype._update=function(f,l,p,g){var y=this._desState,m=a.readUInt32BE(f,l),M=a.readUInt32BE(f,l+4);a.ip(m,M,y.tmp,0),m=y.tmp[0],M=y.tmp[1],this.type==="encrypt"?this._encrypt(y,m,M,y.tmp,0):this._decrypt(y,m,M,y.tmp,0),m=y.tmp[0],M=y.tmp[1],a.writeUInt32BE(p,m,g),a.writeUInt32BE(p,M,g+4)},o.prototype._pad=function(f,l){if(this.padding===!1)return!1;for(var p=f.length-l,g=l;g<f.length;g++)f[g]=p;return!0},o.prototype._unpad=function(f){if(this.padding===!1)return f;for(var l=f[f.length-1],p=f.length-l;p<f.length;p++)r.equal(f[p],l);return f.slice(0,f.length-l)},o.prototype._encrypt=function(f,l,p,g,y){for(var m=l,M=p,E=0;E<f.keys.length;E+=2){var B=f.keys[E],x=f.keys[E+1];a.expand(M,f.tmp,0),B^=f.tmp[0],x^=f.tmp[1];var C=a.substitute(B,x),N=a.permute(C),F=M;M=(m^N)>>>0,m=F}a.rip(M,m,g,y)},o.prototype._decrypt=function(f,l,p,g,y){for(var m=p,M=l,E=f.keys.length-2;E>=0;E-=2){var B=f.keys[E],x=f.keys[E+1];a.expand(m,f.tmp,0),B^=f.tmp[0],x^=f.tmp[1];var C=a.substitute(B,x),N=a.permute(C),F=m;m=(M^N)>>>0,M=F}a.rip(m,M,g,y)}}),mm=gt(t=>{lt();var i=Vr(),r=pe(),u={};function a(e){i.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var o=0;o<this.iv.length;o++)this.iv[o]=e[o]}function s(e){function o(p){e.call(this,p),this._cbcInit()}r(o,e);for(var c=Object.keys(u),f=0;f<c.length;f++){var l=c[f];o.prototype[l]=u[l]}return o.create=function(p){return new o(p)},o}t.instantiate=s,u._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},u._update=function(e,o,c,f){var l=this._cbcState,p=this.constructor.super_.prototype,g=l.iv;if(this.type==="encrypt"){for(var y=0;y<this.blockSize;y++)g[y]^=e[o+y];p._update.call(this,g,0,c,f);for(var y=0;y<this.blockSize;y++)g[y]=c[f+y]}else{p._update.call(this,e,o,c,f);for(var y=0;y<this.blockSize;y++)c[f+y]^=g[y];for(var y=0;y<this.blockSize;y++)g[y]=e[o+y]}}}),ym=gt((t,i)=>{lt();var r=Vr(),u=pe(),a=Zu(),s=k0();function e(c,f){r.equal(f.length,24,"Invalid key length");var l=f.slice(0,8),p=f.slice(8,16),g=f.slice(16,24);c==="encrypt"?this.ciphers=[s.create({type:"encrypt",key:l}),s.create({type:"decrypt",key:p}),s.create({type:"encrypt",key:g})]:this.ciphers=[s.create({type:"decrypt",key:g}),s.create({type:"encrypt",key:p}),s.create({type:"decrypt",key:l})]}function o(c){a.call(this,c);var f=new e(this.type,this.options.key);this._edeState=f}u(o,a),i.exports=o,o.create=function(c){return new o(c)},o.prototype._update=function(c,f,l,p){var g=this._edeState;g.ciphers[0]._update(c,f,l,p),g.ciphers[1]._update(l,p,l,p),g.ciphers[2]._update(l,p,l,p)},o.prototype._pad=s.prototype._pad,o.prototype._unpad=s.prototype._unpad}),bm=gt(t=>{lt(),t.utils=x0(),t.Cipher=Zu(),t.DES=k0(),t.CBC=mm(),t.EDE=ym()}),vm=gt((t,i)=>{lt();var r=Qn(),u=bm(),a=pe(),s=Ee().Buffer,e={"des-ede3-cbc":u.CBC.instantiate(u.EDE),"des-ede3":u.EDE,"des-ede-cbc":u.CBC.instantiate(u.EDE),"des-ede":u.EDE,"des-cbc":u.CBC.instantiate(u.DES),"des-ecb":u.DES};e.des=e["des-cbc"],e.des3=e["des-ede3-cbc"],i.exports=o,a(o,r);function o(c){r.call(this);var f=c.mode.toLowerCase(),l=e[f],p;c.decrypt?p="decrypt":p="encrypt";var g=c.key;s.isBuffer(g)||(g=s.from(g)),(f==="des-ede"||f==="des-ede-cbc")&&(g=s.concat([g,g.slice(0,8)]));var y=c.iv;s.isBuffer(y)||(y=s.from(y)),this._des=l.create({key:g,iv:y,type:p})}o.prototype._update=function(c){return s.from(this._des.update(c))},o.prototype._final=function(){return s.from(this._des.final())}}),wm=gt(t=>{lt(),t.encrypt=function(i,r){return i._cipher.encryptBlock(r)},t.decrypt=function(i,r){return i._cipher.decryptBlock(r)}}),Sa=gt((t,i)=>{lt(),i.exports=function(r,u){for(var a=Math.min(r.length,u.length),s=new Ut.Buffer(a),e=0;e<a;++e)s[e]=r[e]^u[e];return s}}),_m=gt(t=>{lt();var i=Sa();t.encrypt=function(r,u){var a=i(u,r._prev);return r._prev=r._cipher.encryptBlock(a),r._prev},t.decrypt=function(r,u){var a=r._prev;r._prev=u;var s=r._cipher.decryptBlock(u);return i(s,a)}}),Em=gt(t=>{lt();var i=Ee().Buffer,r=Sa();function u(a,s,e){var o=s.length,c=r(s,a._cache);return a._cache=a._cache.slice(o),a._prev=i.concat([a._prev,e?s:c]),c}t.encrypt=function(a,s,e){for(var o=i.allocUnsafe(0),c;s.length;)if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=i.allocUnsafe(0)),a._cache.length<=s.length)c=a._cache.length,o=i.concat([o,u(a,s.slice(0,c),e)]),s=s.slice(c);else{o=i.concat([o,u(a,s,e)]);break}return o}}),Sm=gt(t=>{lt();var i=Ee().Buffer;function r(u,a,s){var e=u._cipher.encryptBlock(u._prev),o=e[0]^a;return u._prev=i.concat([u._prev.slice(1),i.from([s?a:o])]),o}t.encrypt=function(u,a,s){for(var e=a.length,o=i.allocUnsafe(e),c=-1;++c<e;)o[c]=r(u,a[c],s);return o}}),Am=gt(t=>{lt();var i=Ee().Buffer;function r(a,s,e){for(var o,c=-1,f=8,l=0,p,g;++c<f;)o=a._cipher.encryptBlock(a._prev),p=s&1<<7-c?128:0,g=o[0]^p,l+=(g&128)>>c%8,a._prev=u(a._prev,e?p:g);return l}function u(a,s){var e=a.length,o=-1,c=i.allocUnsafe(a.length);for(a=i.concat([a,i.from([s])]);++o<e;)c[o]=a[o]<<1|a[o+1]>>7;return c}t.encrypt=function(a,s,e){for(var o=s.length,c=i.allocUnsafe(o),f=-1;++f<o;)c[f]=r(a,s[f],e);return c}}),Tm=gt(t=>{lt();var i=Sa();function r(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}t.encrypt=function(u,a){for(;u._cache.length<a.length;)u._cache=Ut.Buffer.concat([u._cache,r(u)]);var s=u._cache.slice(0,a.length);return u._cache=u._cache.slice(a.length),i(a,s)}}),O0=gt((t,i)=>{lt();function r(u){for(var a=u.length,s;a--;)if(s=u.readUInt8(a),s===255)u.writeUInt8(0,a);else{s++,u.writeUInt8(s,a);break}}i.exports=r}),xl=gt(t=>{lt();var i=Sa(),r=Ee().Buffer,u=O0();function a(e){var o=e._cipher.encryptBlockRaw(e._prev);return u(e._prev),o}var s=16;t.encrypt=function(e,o){var c=Math.ceil(o.length/s),f=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(c*s)]);for(var l=0;l<c;l++){var p=a(e),g=f+l*s;e._cache.writeUInt32BE(p[0],g+0),e._cache.writeUInt32BE(p[1],g+4),e._cache.writeUInt32BE(p[2],g+8),e._cache.writeUInt32BE(p[3],g+12)}var y=e._cache.slice(0,o.length);return e._cache=e._cache.slice(o.length),i(o,y)}}),I0=gt((t,i)=>{i.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),Ju=gt((t,i)=>{lt();var r={ECB:wm(),CBC:_m(),CFB:Em(),CFB8:Sm(),CFB1:Am(),OFB:Tm(),CTR:xl(),GCM:xl()},u=I0();for(a in u)u[a].module=r[u[a].mode];var a;i.exports=u}),Qo=gt((t,i)=>{lt();var r=Ee().Buffer;function u(f){r.isBuffer(f)||(f=r.from(f));for(var l=f.length/4|0,p=new Array(l),g=0;g<l;g++)p[g]=f.readUInt32BE(g*4);return p}function a(f){for(var l=0;l<f.length;f++)f[l]=0}function s(f,l,p,g,y){for(var m=p[0],M=p[1],E=p[2],B=p[3],x=f[0]^l[0],C=f[1]^l[1],N=f[2]^l[2],F=f[3]^l[3],I,U,P,D,W=4,q=1;q<y;q++)I=m[x>>>24]^M[C>>>16&255]^E[N>>>8&255]^B[F&255]^l[W++],U=m[C>>>24]^M[N>>>16&255]^E[F>>>8&255]^B[x&255]^l[W++],P=m[N>>>24]^M[F>>>16&255]^E[x>>>8&255]^B[C&255]^l[W++],D=m[F>>>24]^M[x>>>16&255]^E[C>>>8&255]^B[N&255]^l[W++],x=I,C=U,N=P,F=D;return I=(g[x>>>24]<<24|g[C>>>16&255]<<16|g[N>>>8&255]<<8|g[F&255])^l[W++],U=(g[C>>>24]<<24|g[N>>>16&255]<<16|g[F>>>8&255]<<8|g[x&255])^l[W++],P=(g[N>>>24]<<24|g[F>>>16&255]<<16|g[x>>>8&255]<<8|g[C&255])^l[W++],D=(g[F>>>24]<<24|g[x>>>16&255]<<16|g[C>>>8&255]<<8|g[N&255])^l[W++],I=I>>>0,U=U>>>0,P=P>>>0,D=D>>>0,[I,U,P,D]}var e=[0,1,2,4,8,16,32,64,128,27,54],o=function(){for(var f=new Array(256),l=0;l<256;l++)l<128?f[l]=l<<1:f[l]=l<<1^283;for(var p=[],g=[],y=[[],[],[],[]],m=[[],[],[],[]],M=0,E=0,B=0;B<256;++B){var x=E^E<<1^E<<2^E<<3^E<<4;x=x>>>8^x&255^99,p[M]=x,g[x]=M;var C=f[M],N=f[C],F=f[N],I=f[x]*257^x*16843008;y[0][M]=I<<24|I>>>8,y[1][M]=I<<16|I>>>16,y[2][M]=I<<8|I>>>24,y[3][M]=I,I=F*16843009^N*65537^C*257^M*16843008,m[0][x]=I<<24|I>>>8,m[1][x]=I<<16|I>>>16,m[2][x]=I<<8|I>>>24,m[3][x]=I,M===0?M=E=1:(M=C^f[f[f[F^C]]],E^=f[f[E]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:y,INV_SUB_MIX:m}}();function c(f){this._key=u(f),this._reset()}c.blockSize=4*4,c.keySize=256/8,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var f=this._key,l=f.length,p=l+6,g=(p+1)*4,y=[],m=0;m<l;m++)y[m]=f[m];for(m=l;m<g;m++){var M=y[m-1];m%l===0?(M=M<<8|M>>>24,M=o.SBOX[M>>>24]<<24|o.SBOX[M>>>16&255]<<16|o.SBOX[M>>>8&255]<<8|o.SBOX[M&255],M^=e[m/l|0]<<24):l>6&&m%l===4&&(M=o.SBOX[M>>>24]<<24|o.SBOX[M>>>16&255]<<16|o.SBOX[M>>>8&255]<<8|o.SBOX[M&255]),y[m]=y[m-l]^M}for(var E=[],B=0;B<g;B++){var x=g-B,C=y[x-(B%4?0:4)];B<4||x<=4?E[B]=C:E[B]=o.INV_SUB_MIX[0][o.SBOX[C>>>24]]^o.INV_SUB_MIX[1][o.SBOX[C>>>16&255]]^o.INV_SUB_MIX[2][o.SBOX[C>>>8&255]]^o.INV_SUB_MIX[3][o.SBOX[C&255]]}this._nRounds=p,this._keySchedule=y,this._invKeySchedule=E},c.prototype.encryptBlockRaw=function(f){return f=u(f),s(f,this._keySchedule,o.SUB_MIX,o.SBOX,this._nRounds)},c.prototype.encryptBlock=function(f){var l=this.encryptBlockRaw(f),p=r.allocUnsafe(16);return p.writeUInt32BE(l[0],0),p.writeUInt32BE(l[1],4),p.writeUInt32BE(l[2],8),p.writeUInt32BE(l[3],12),p},c.prototype.decryptBlock=function(f){f=u(f);var l=f[1];f[1]=f[3],f[3]=l;var p=s(f,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX,this._nRounds),g=r.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},c.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},i.exports.AES=c}),Mm=gt((t,i)=>{lt();var r=Ee().Buffer,u=r.alloc(16,0);function a(o){return[o.readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)]}function s(o){var c=r.allocUnsafe(16);return c.writeUInt32BE(o[0]>>>0,0),c.writeUInt32BE(o[1]>>>0,4),c.writeUInt32BE(o[2]>>>0,8),c.writeUInt32BE(o[3]>>>0,12),c}function e(o){this.h=o,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}e.prototype.ghash=function(o){for(var c=-1;++c<o.length;)this.state[c]^=o[c];this._multiply()},e.prototype._multiply=function(){for(var o=a(this.h),c=[0,0,0,0],f,l,p,g=-1;++g<128;){for(l=(this.state[~~(g/8)]&1<<7-g%8)!==0,l&&(c[0]^=o[0],c[1]^=o[1],c[2]^=o[2],c[3]^=o[3]),p=(o[3]&1)!==0,f=3;f>0;f--)o[f]=o[f]>>>1|(o[f-1]&1)<<31;o[0]=o[0]>>>1,p&&(o[0]=o[0]^225<<24)}this.state=s(c)},e.prototype.update=function(o){this.cache=r.concat([this.cache,o]);for(var c;this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},e.prototype.final=function(o,c){return this.cache.length&&this.ghash(r.concat([this.cache,u],16)),this.ghash(s([0,o,0,c])),this.state},i.exports=e}),B0=gt((t,i)=>{lt();var r=Qo(),u=Ee().Buffer,a=Qn(),s=pe(),e=Mm(),o=Sa(),c=O0();function f(g,y){var m=0;g.length!==y.length&&m++;for(var M=Math.min(g.length,y.length),E=0;E<M;++E)m+=g[E]^y[E];return m}function l(g,y,m){if(y.length===12)return g._finID=u.concat([y,u.from([0,0,0,1])]),u.concat([y,u.from([0,0,0,2])]);var M=new e(m),E=y.length,B=E%16;M.update(y),B&&(B=16-B,M.update(u.alloc(B,0))),M.update(u.alloc(8,0));var x=E*8,C=u.alloc(8);C.writeUIntBE(x,0,8),M.update(C),g._finID=M.state;var N=u.from(g._finID);return c(N),N}function p(g,y,m,M){a.call(this);var E=u.alloc(4,0);this._cipher=new r.AES(y);var B=this._cipher.encryptBlock(E);this._ghash=new e(B),m=l(this,m,B),this._prev=u.from(m),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=M,this._alen=0,this._len=0,this._mode=g,this._authTag=null,this._called=!1}s(p,a),p.prototype._update=function(g){if(!this._called&&this._alen){var y=16-this._alen%16;y<16&&(y=u.alloc(y,0),this._ghash.update(y))}this._called=!0;var m=this._mode.encrypt(this,g);return this._decrypt?this._ghash.update(g):this._ghash.update(m),this._len+=g.length,m},p.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var g=o(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&f(g,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=g,this._cipher.scrub()},p.prototype.getAuthTag=function(){if(this._decrypt||!u.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},p.prototype.setAuthTag=function(g){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=g},p.prototype.setAAD=function(g){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(g),this._alen+=g.length},i.exports=p}),C0=gt((t,i)=>{lt();var r=Qo(),u=Ee().Buffer,a=Qn(),s=pe();function e(o,c,f,l){a.call(this),this._cipher=new r.AES(c),this._prev=u.from(f),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=l,this._mode=o}s(e,a),e.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},e.prototype._final=function(){this._cipher.scrub()},i.exports=e}),ts=gt((t,i)=>{lt();var r=Ee().Buffer,u=Hu();function a(s,e,o,c){if(r.isBuffer(s)||(s=r.from(s,"binary")),e&&(r.isBuffer(e)||(e=r.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=o/8,l=r.alloc(f),p=r.alloc(c||0),g=r.alloc(0);f>0||c>0;){var y=new u;y.update(g),y.update(s),e&&y.update(e),g=y.digest();var m=0;if(f>0){var M=l.length-f;m=Math.min(f,g.length),g.copy(l,M,0,m),f-=m}if(m<g.length&&c>0){var E=p.length-c,B=Math.min(c,g.length-m);g.copy(p,E,m,m+B),c-=B}}return g.fill(0),{key:l,iv:p}}i.exports=a}),xm=gt(t=>{lt();var i=Ju(),r=B0(),u=Ee().Buffer,a=C0(),s=Qn(),e=Qo(),o=ts(),c=pe();function f(m,M,E){s.call(this),this._cache=new p,this._cipher=new e.AES(M),this._prev=u.from(E),this._mode=m,this._autopadding=!0}c(f,s),f.prototype._update=function(m){this._cache.add(m);for(var M,E,B=[];M=this._cache.get();)E=this._mode.encrypt(this,M),B.push(E);return u.concat(B)};var l=u.alloc(16,16);f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this};function p(){this.cache=u.allocUnsafe(0)}p.prototype.add=function(m){this.cache=u.concat([this.cache,m])},p.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},p.prototype.flush=function(){for(var m=16-this.cache.length,M=u.allocUnsafe(m),E=-1;++E<m;)M.writeUInt8(m,E);return u.concat([this.cache,M])};function g(m,M,E){var B=i[m.toLowerCase()];if(!B)throw new TypeError("invalid suite type");if(typeof M=="string"&&(M=u.from(M)),M.length!==B.key/8)throw new TypeError("invalid key length "+M.length);if(typeof E=="string"&&(E=u.from(E)),B.mode!=="GCM"&&E.length!==B.iv)throw new TypeError("invalid iv length "+E.length);return B.type==="stream"?new a(B.module,M,E):B.type==="auth"?new r(B.module,M,E):new f(B.module,M,E)}function y(m,M){var E=i[m.toLowerCase()];if(!E)throw new TypeError("invalid suite type");var B=o(M,!1,E.key,E.iv);return g(m,B.key,B.iv)}t.createCipheriv=g,t.createCipher=y}),km=gt(t=>{lt();var i=B0(),r=Ee().Buffer,u=Ju(),a=C0(),s=Qn(),e=Qo(),o=ts(),c=pe();function f(m,M,E){s.call(this),this._cache=new l,this._last=void 0,this._cipher=new e.AES(M),this._prev=r.from(E),this._mode=m,this._autopadding=!0}c(f,s),f.prototype._update=function(m){this._cache.add(m);for(var M,E,B=[];M=this._cache.get(this._autopadding);)E=this._mode.decrypt(this,M),B.push(E);return r.concat(B)},f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return p(this._mode.decrypt(this,m));if(m)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this};function l(){this.cache=r.allocUnsafe(0)}l.prototype.add=function(m){this.cache=r.concat([this.cache,m])},l.prototype.get=function(m){var M;if(m){if(this.cache.length>16)return M=this.cache.slice(0,16),this.cache=this.cache.slice(16),M}else if(this.cache.length>=16)return M=this.cache.slice(0,16),this.cache=this.cache.slice(16),M;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache};function p(m){var M=m[15];if(M<1||M>16)throw new Error("unable to decrypt data");for(var E=-1;++E<M;)if(m[E+(16-M)]!==M)throw new Error("unable to decrypt data");if(M!==16)return m.slice(0,16-M)}function g(m,M,E){var B=u[m.toLowerCase()];if(!B)throw new TypeError("invalid suite type");if(typeof E=="string"&&(E=r.from(E)),B.mode!=="GCM"&&E.length!==B.iv)throw new TypeError("invalid iv length "+E.length);if(typeof M=="string"&&(M=r.from(M)),M.length!==B.key/8)throw new TypeError("invalid key length "+M.length);return B.type==="stream"?new a(B.module,M,E,!0):B.type==="auth"?new i(B.module,M,E,!0):new f(B.module,M,E)}function y(m,M){var E=u[m.toLowerCase()];if(!E)throw new TypeError("invalid suite type");var B=o(M,!1,E.key,E.iv);return g(m,B.key,B.iv)}t.createDecipher=y,t.createDecipheriv=g}),Xu=gt(t=>{lt();var i=xm(),r=km(),u=I0();function a(){return Object.keys(u)}t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=r.createDecipher,t.createDecipheriv=t.Decipheriv=r.createDecipheriv,t.listCiphers=t.getCiphers=a}),Om=gt(t=>{lt(),t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}}),Im=gt(t=>{lt();var i=vm(),r=Xu(),u=Ju(),a=Om(),s=ts();function e(p,g){p=p.toLowerCase();var y,m;if(u[p])y=u[p].key,m=u[p].iv;else if(a[p])y=a[p].key*8,m=a[p].iv;else throw new TypeError("invalid suite type");var M=s(g,!1,y,m);return c(p,M.key,M.iv)}function o(p,g){p=p.toLowerCase();var y,m;if(u[p])y=u[p].key,m=u[p].iv;else if(a[p])y=a[p].key*8,m=a[p].iv;else throw new TypeError("invalid suite type");var M=s(g,!1,y,m);return f(p,M.key,M.iv)}function c(p,g,y){if(p=p.toLowerCase(),u[p])return r.createCipheriv(p,g,y);if(a[p])return new i({key:g,iv:y,mode:p});throw new TypeError("invalid suite type")}function f(p,g,y){if(p=p.toLowerCase(),u[p])return r.createDecipheriv(p,g,y);if(a[p])return new i({key:g,iv:y,mode:p,decrypt:!0});throw new TypeError("invalid suite type")}function l(){return Object.keys(a).concat(r.getCiphers())}t.createCipher=t.Cipher=e,t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=o,t.createDecipheriv=t.Decipheriv=f,t.listCiphers=t.getCiphers=l}),Yu=gt((t,i)=>{lt();var r;i.exports=function(s){return r||(r=new u(null)),r.generate(s)};function u(s){this.rand=s}if(i.exports.Rand=u,u.prototype.generate=function(s){return this._rand(s)},u.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var e=new Uint8Array(s),o=0;o<e.length;o++)e[o]=this.rand.getByte();return e},typeof self=="object")self.crypto&&self.crypto.getRandomValues?u.prototype._rand=function(s){var e=new Uint8Array(s);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?u.prototype._rand=function(s){var e=new Uint8Array(s);return self.msCrypto.getRandomValues(e),e}:typeof window=="object"&&(u.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(a=gi(),typeof a.randomBytes!="function")throw new Error("Not supported");u.prototype._rand=function(s){return a.randomBytes(s)}}catch{}var a}),P0=gt((t,i)=>{lt();var r=sr(),u=Yu();function a(s){this.rand=s||new u.Rand}i.exports=a,a.create=function(s){return new a(s)},a.prototype._randbelow=function(s){var e=s.bitLength(),o=Math.ceil(e/8);do var c=new r(this.rand.generate(o));while(c.cmp(s)>=0);return c},a.prototype._randrange=function(s,e){var o=e.sub(s);return s.add(this._randbelow(o))},a.prototype.test=function(s,e,o){var c=s.bitLength(),f=r.mont(s),l=new r(1).toRed(f);e||(e=Math.max(1,c/48|0));for(var p=s.subn(1),g=0;!p.testn(g);g++);for(var y=s.shrn(g),m=p.toRed(f),M=!0;e>0;e--){var E=this._randrange(new r(2),p);o&&o(E);var B=E.toRed(f).redPow(y);if(!(B.cmp(l)===0||B.cmp(m)===0)){for(var x=1;x<g;x++){if(B=B.redSqr(),B.cmp(l)===0)return!1;if(B.cmp(m)===0)break}if(x===g)return!1}}return M},a.prototype.getDivisor=function(s,e){var o=s.bitLength(),c=r.mont(s),f=new r(1).toRed(c);e||(e=Math.max(1,o/48|0));for(var l=s.subn(1),p=0;!l.testn(p);p++);for(var g=s.shrn(p),y=l.toRed(c);e>0;e--){var m=this._randrange(new r(2),l),M=s.gcd(m);if(M.cmpn(1)!==0)return M;var E=m.toRed(c).redPow(g);if(!(E.cmp(f)===0||E.cmp(y)===0)){for(var B=1;B<p;B++){if(E=E.redSqr(),E.cmp(f)===0)return E.fromRed().subn(1).gcd(s);if(E.cmp(y)===0)break}if(B===p)return E=E.redSqr(),E.fromRed().subn(1).gcd(s)}}return!1}}),R0=gt((t,i)=>{lt();var r=Fi();i.exports=x,x.simpleSieve=E,x.fermatTest=B;var u=sr(),a=new u(24),s=P0(),e=new s,o=new u(1),c=new u(2),f=new u(5);new u(16),new u(8);var l=new u(10),p=new u(3);new u(7);var g=new u(11),y=new u(4);new u(12);var m=null;function M(){if(m!==null)return m;var C=1048576,N=[];N[0]=2;for(var F=1,I=3;I<C;I+=2){for(var U=Math.ceil(Math.sqrt(I)),P=0;P<F&&N[P]<=U&&I%N[P]!==0;P++);F!==P&&N[P]<=U||(N[F++]=I)}return m=N,N}function E(C){for(var N=M(),F=0;F<N.length;F++)if(C.modn(N[F])===0)return C.cmpn(N[F])===0;return!0}function B(C){var N=u.mont(C);return c.toRed(N).redPow(C.subn(1)).fromRed().cmpn(1)===0}function x(C,N){if(C<16)return N===2||N===5?new u([140,123]):new u([140,39]);N=new u(N);for(var F,I;;){for(F=new u(r(Math.ceil(C/8)));F.bitLength()>C;)F.ishrn(1);if(F.isEven()&&F.iadd(o),F.testn(1)||F.iadd(c),N.cmp(c)){if(!N.cmp(f))for(;F.mod(l).cmp(p);)F.iadd(y)}else for(;F.mod(a).cmp(g);)F.iadd(y);if(I=F.shrn(1),E(I)&&E(F)&&B(I)&&B(F)&&e.test(I)&&e.test(F))return F}}}),Bm=gt((t,i)=>{i.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),Cm=gt((t,i)=>{lt();var r=sr(),u=P0(),a=new u,s=new r(24),e=new r(11),o=new r(10),c=new r(3),f=new r(7),l=R0(),p=Fi();i.exports=E;function g(x,C){return C=C||"utf8",Ut.Buffer.isBuffer(x)||(x=new Ut.Buffer(x,C)),this._pub=new r(x),this}function y(x,C){return C=C||"utf8",Ut.Buffer.isBuffer(x)||(x=new Ut.Buffer(x,C)),this._priv=new r(x),this}var m={};function M(x,C){var N=C.toString("hex"),F=[N,x.toString(16)].join("_");if(F in m)return m[F];var I=0;if(x.isEven()||!l.simpleSieve||!l.fermatTest(x)||!a.test(x))return I+=1,N==="02"||N==="05"?I+=8:I+=4,m[F]=I,I;a.test(x.shrn(1))||(I+=2);var U;switch(N){case"02":x.mod(s).cmp(e)&&(I+=8);break;case"05":U=x.mod(o),U.cmp(c)&&U.cmp(f)&&(I+=8);break;default:I+=4}return m[F]=I,I}function E(x,C,N){this.setGenerator(C),this.__prime=new r(x),this._prime=r.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,N?(this.setPublicKey=g,this.setPrivateKey=y):this._primeCode=8}Object.defineProperty(E.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=M(this.__prime,this.__gen)),this._primeCode}}),E.prototype.generateKeys=function(){return this._priv||(this._priv=new r(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},E.prototype.computeSecret=function(x){x=new r(x),x=x.toRed(this._prime);var C=x.redPow(this._priv).fromRed(),N=new Ut.Buffer(C.toArray()),F=this.getPrime();if(N.length<F.length){var I=new Ut.Buffer(F.length-N.length);I.fill(0),N=Ut.Buffer.concat([I,N])}return N},E.prototype.getPublicKey=function(x){return B(this._pub,x)},E.prototype.getPrivateKey=function(x){return B(this._priv,x)},E.prototype.getPrime=function(x){return B(this.__prime,x)},E.prototype.getGenerator=function(x){return B(this._gen,x)},E.prototype.setGenerator=function(x,C){return C=C||"utf8",Ut.Buffer.isBuffer(x)||(x=new Ut.Buffer(x,C)),this.__gen=x,this._gen=new r(x),this};function B(x,C){var N=new Ut.Buffer(x.toArray());return C?N.toString(C):N}}),Pm=gt(t=>{lt();var i=R0(),r=Bm(),u=Cm();function a(o){var c=new Ut.Buffer(r[o].prime,"hex"),f=new Ut.Buffer(r[o].gen,"hex");return new u(c,f)}var s={binary:!0,hex:!0,base64:!0};function e(o,c,f,l){return Ut.Buffer.isBuffer(c)||s[c]===void 0?e(o,"binary",c,f):(c=c||"binary",l=l||"binary",f=f||new Ut.Buffer([2]),Ut.Buffer.isBuffer(f)||(f=new Ut.Buffer(f,l)),typeof o=="number"?new u(i(o,f),f,!0):(Ut.Buffer.isBuffer(o)||(o=new Ut.Buffer(o,c)),new u(o,f,!0)))}t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=a,t.createDiffieHellman=t.DiffieHellman=e}),Rm=gt((t,i)=>{lt(),function(r,u){function a(n,d){if(!n)throw new Error(d||"Assertion failed")}function s(n,d){n.super_=d;var v=function(){};v.prototype=d.prototype,n.prototype=new v,n.prototype.constructor=n}function e(n,d,v){if(e.isBN(n))return n;this.negative=0,this.words=null,this.length=0,this.red=null,n!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(n||0,d||10,v||"be"))}typeof r=="object"?r.exports=e:u.BN=e,e.BN=e,e.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$e().Buffer}catch{}e.isBN=function(n){return n instanceof e?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===e.wordSize&&Array.isArray(n.words)},e.max=function(n,d){return n.cmp(d)>0?n:d},e.min=function(n,d){return n.cmp(d)<0?n:d},e.prototype._init=function(n,d,v){if(typeof n=="number")return this._initNumber(n,d,v);if(typeof n=="object")return this._initArray(n,d,v);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),n=n.toString().replace(/\s+/g,"");var A=0;n[0]==="-"&&(A++,this.negative=1),A<n.length&&(d===16?this._parseHex(n,A,v):(this._parseBase(n,d,A),v==="le"&&this._initArray(this.toArray(),d,v)))},e.prototype._initNumber=function(n,d,v){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(a(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},e.prototype._initArray=function(n,d,v){if(a(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T,S,w=0;if(v==="be")for(A=n.length-1,T=0;A>=0;A-=3)S=n[A]|n[A-1]<<8|n[A-2]<<16,this.words[T]|=S<<w&67108863,this.words[T+1]=S>>>26-w&67108863,w+=24,w>=26&&(w-=26,T++);else if(v==="le")for(A=0,T=0;A<n.length;A+=3)S=n[A]|n[A+1]<<8|n[A+2]<<16,this.words[T]|=S<<w&67108863,this.words[T+1]=S>>>26-w&67108863,w+=24,w>=26&&(w-=26,T++);return this._strip()};function c(n,d){var v=n.charCodeAt(d);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;a(!1,"Invalid character in "+n)}function f(n,d,v){var A=c(n,v);return v-1>=d&&(A|=c(n,v-1)<<4),A}e.prototype._parseHex=function(n,d,v){this.length=Math.ceil((n.length-d)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T=0,S=0,w;if(v==="be")for(A=n.length-1;A>=d;A-=2)w=f(n,d,A)<<T,this.words[S]|=w&67108863,T>=18?(T-=18,S+=1,this.words[S]|=w>>>26):T+=8;else{var b=n.length-d;for(A=b%2===0?d+1:d;A<n.length;A+=2)w=f(n,d,A)<<T,this.words[S]|=w&67108863,T>=18?(T-=18,S+=1,this.words[S]|=w>>>26):T+=8}this._strip()};function l(n,d,v,A){for(var T=0,S=0,w=Math.min(n.length,v),b=d;b<w;b++){var h=n.charCodeAt(b)-48;T*=A,h>=49?S=h-49+10:h>=17?S=h-17+10:S=h,a(h>=0&&S<A,"Invalid character"),T+=S}return T}e.prototype._parseBase=function(n,d,v){this.words=[0],this.length=1;for(var A=0,T=1;T<=67108863;T*=d)A++;A--,T=T/d|0;for(var S=n.length-v,w=S%A,b=Math.min(S,S-w)+v,h=0,k=v;k<b;k+=A)h=l(n,k,k+A,d),this.imuln(T),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(w!==0){var tt=1;for(h=l(n,k,n.length,d),k=0;k<w;k++)tt*=d;this.imuln(tt),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},e.prototype.copy=function(n){n.words=new Array(this.length);for(var d=0;d<this.length;d++)n.words[d]=this.words[d];n.length=this.length,n.negative=this.negative,n.red=this.red};function p(n,d){n.words=d.words,n.length=d.length,n.negative=d.negative,n.red=d.red}if(e.prototype._move=function(n){p(n,this)},e.prototype.clone=function(){var n=new e(null);return this.copy(n),n},e.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{e.prototype.inspect=g}else e.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(n,d){n=n||10,d=d|0||1;var v;if(n===16||n==="hex"){v="";for(var A=0,T=0,S=0;S<this.length;S++){var w=this.words[S],b=((w<<A|T)&16777215).toString(16);T=w>>>24-A&16777215,A+=2,A>=26&&(A-=26,S--),T!==0||S!==this.length-1?v=y[6-b.length]+b+v:v=b+v}for(T!==0&&(v=T.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(n===(n|0)&&n>=2&&n<=36){var h=m[n],k=M[n];v="";var tt=this.clone();for(tt.negative=0;!tt.isZero();){var X=tt.modrn(k).toString(n);tt=tt.idivn(k),tt.isZero()?v=X+v:v=y[h-X.length]+X+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}a(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},e.prototype.toJSON=function(){return this.toString(16,2)},o&&(e.prototype.toBuffer=function(n,d){return this.toArrayLike(o,n,d)}),e.prototype.toArray=function(n,d){return this.toArrayLike(Array,n,d)};var E=function(n,d){return n.allocUnsafe?n.allocUnsafe(d):new n(d)};e.prototype.toArrayLike=function(n,d,v){this._strip();var A=this.byteLength(),T=v||Math.max(1,A);a(A<=T,"byte array longer than desired length"),a(T>0,"Requested array length <= 0");var S=E(n,T),w=d==="le"?"LE":"BE";return this["_toArrayLike"+w](S,A),S},e.prototype._toArrayLikeLE=function(n,d){for(var v=0,A=0,T=0,S=0;T<this.length;T++){var w=this.words[T]<<S|A;n[v++]=w&255,v<n.length&&(n[v++]=w>>8&255),v<n.length&&(n[v++]=w>>16&255),S===6?(v<n.length&&(n[v++]=w>>24&255),A=0,S=0):(A=w>>>24,S+=2)}if(v<n.length)for(n[v++]=A;v<n.length;)n[v++]=0},e.prototype._toArrayLikeBE=function(n,d){for(var v=n.length-1,A=0,T=0,S=0;T<this.length;T++){var w=this.words[T]<<S|A;n[v--]=w&255,v>=0&&(n[v--]=w>>8&255),v>=0&&(n[v--]=w>>16&255),S===6?(v>=0&&(n[v--]=w>>24&255),A=0,S=0):(A=w>>>24,S+=2)}if(v>=0)for(n[v--]=A;v>=0;)n[v--]=0},Math.clz32?e.prototype._countBits=function(n){return 32-Math.clz32(n)}:e.prototype._countBits=function(n){var d=n,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},e.prototype._zeroBits=function(n){if(n===0)return 26;var d=n,v=0;return!(d&8191)&&(v+=13,d>>>=13),!(d&127)&&(v+=7,d>>>=7),!(d&15)&&(v+=4,d>>>=4),!(d&3)&&(v+=2,d>>>=2),!(d&1)&&v++,v},e.prototype.bitLength=function(){var n=this.words[this.length-1],d=this._countBits(n);return(this.length-1)*26+d};function B(n){for(var d=new Array(n.bitLength()),v=0;v<d.length;v++){var A=v/26|0,T=v%26;d[v]=n.words[A]>>>T&1}return d}e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(n+=v,v!==26)break}return n},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},e.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var d=0;d<n.length;d++)this.words[d]=this.words[d]|n.words[d];return this._strip()},e.prototype.ior=function(n){return a((this.negative|n.negative)===0),this.iuor(n)},e.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},e.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},e.prototype.iuand=function(n){var d;this.length>n.length?d=n:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&n.words[v];return this.length=d.length,this._strip()},e.prototype.iand=function(n){return a((this.negative|n.negative)===0),this.iuand(n)},e.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},e.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},e.prototype.iuxor=function(n){var d,v;this.length>n.length?(d=this,v=n):(d=n,v=this);for(var A=0;A<v.length;A++)this.words[A]=d.words[A]^v.words[A];if(this!==d)for(;A<d.length;A++)this.words[A]=d.words[A];return this.length=d.length,this._strip()},e.prototype.ixor=function(n){return a((this.negative|n.negative)===0),this.iuxor(n)},e.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},e.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},e.prototype.inotn=function(n){a(typeof n=="number"&&n>=0);var d=Math.ceil(n/26)|0,v=n%26;this._expand(d),v>0&&d--;for(var A=0;A<d;A++)this.words[A]=~this.words[A]&67108863;return v>0&&(this.words[A]=~this.words[A]&67108863>>26-v),this._strip()},e.prototype.notn=function(n){return this.clone().inotn(n)},e.prototype.setn=function(n,d){a(typeof n=="number"&&n>=0);var v=n/26|0,A=n%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<A:this.words[v]=this.words[v]&~(1<<A),this._strip()},e.prototype.iadd=function(n){var d;if(this.negative!==0&&n.negative===0)return this.negative=0,d=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,d=this.isub(n),n.negative=1,d._normSign();var v,A;this.length>n.length?(v=this,A=n):(v=n,A=this);for(var T=0,S=0;S<A.length;S++)d=(v.words[S]|0)+(A.words[S]|0)+T,this.words[S]=d&67108863,T=d>>>26;for(;T!==0&&S<v.length;S++)d=(v.words[S]|0)+T,this.words[S]=d&67108863,T=d>>>26;if(this.length=v.length,T!==0)this.words[this.length]=T,this.length++;else if(v!==this)for(;S<v.length;S++)this.words[S]=v.words[S];return this},e.prototype.add=function(n){var d;return n.negative!==0&&this.negative===0?(n.negative=0,d=this.sub(n),n.negative^=1,d):n.negative===0&&this.negative!==0?(this.negative=0,d=n.sub(this),this.negative=1,d):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},e.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var d=this.iadd(n);return n.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var v=this.cmp(n);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,T;v>0?(A=this,T=n):(A=n,T=this);for(var S=0,w=0;w<T.length;w++)d=(A.words[w]|0)-(T.words[w]|0)+S,S=d>>26,this.words[w]=d&67108863;for(;S!==0&&w<A.length;w++)d=(A.words[w]|0)+S,S=d>>26,this.words[w]=d&67108863;if(S===0&&w<A.length&&A!==this)for(;w<A.length;w++)this.words[w]=A.words[w];return this.length=Math.max(this.length,w),A!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(n){return this.clone().isub(n)};function x(n,d,v){v.negative=d.negative^n.negative;var A=n.length+d.length|0;v.length=A,A=A-1|0;var T=n.words[0]|0,S=d.words[0]|0,w=T*S,b=w&67108863,h=w/67108864|0;v.words[0]=b;for(var k=1;k<A;k++){for(var tt=h>>>26,X=h&67108863,ft=Math.min(k,d.length-1),et=Math.max(0,k-n.length+1);et<=ft;et++){var at=k-et|0;T=n.words[at]|0,S=d.words[et]|0,w=T*S+X,tt+=w/67108864|0,X=w&67108863}v.words[k]=X|0,h=tt|0}return h!==0?v.words[k]=h|0:v.length--,v._strip()}var C=function(n,d,v){var A=n.words,T=d.words,S=v.words,w=0,b,h,k,tt=A[0]|0,X=tt&8191,ft=tt>>>13,et=A[1]|0,at=et&8191,$=et>>>13,J=A[2]|0,R=J&8191,j=J>>>13,z=A[3]|0,Z=z&8191,Q=z>>>13,K=A[4]|0,G=K&8191,H=K>>>13,Y=A[5]|0,it=Y&8191,ot=Y>>>13,mt=A[6]|0,_t=mt&8191,ht=mt>>>13,vt=A[7]|0,pt=vt&8191,V=vt>>>13,rt=A[8]|0,st=rt&8191,yt=rt>>>13,Ct=A[9]|0,dt=Ct&8191,Mt=Ct>>>13,Lt=T[0]|0,wt=Lt&8191,ct=Lt>>>13,Et=T[1]|0,ut=Et&8191,Ot=Et>>>13,qt=T[2]|0,nt=qt&8191,Rt=qt>>>13,Dt=T[3]|0,bt=Dt&8191,Tt=Dt>>>13,jt=T[4]|0,St=jt&8191,kt=jt>>>13,Kt=T[5]|0,At=Kt&8191,Nt=Kt>>>13,$t=T[6]|0,Ft=$t&8191,Wt=$t>>>13,ae=T[7]|0,Xt=ae&8191,Gt=ae>>>13,he=T[8]|0,Qt=he&8191,Zt=he>>>13,se=T[9]|0,te=se&8191,re=se>>>13;v.negative=n.negative^d.negative,v.length=19,b=Math.imul(X,wt),h=Math.imul(X,ct),h=h+Math.imul(ft,wt)|0,k=Math.imul(ft,ct);var Se=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Se>>>26)|0,Se&=67108863,b=Math.imul(at,wt),h=Math.imul(at,ct),h=h+Math.imul($,wt)|0,k=Math.imul($,ct),b=b+Math.imul(X,ut)|0,h=h+Math.imul(X,Ot)|0,h=h+Math.imul(ft,ut)|0,k=k+Math.imul(ft,Ot)|0;var Be=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Be>>>26)|0,Be&=67108863,b=Math.imul(R,wt),h=Math.imul(R,ct),h=h+Math.imul(j,wt)|0,k=Math.imul(j,ct),b=b+Math.imul(at,ut)|0,h=h+Math.imul(at,Ot)|0,h=h+Math.imul($,ut)|0,k=k+Math.imul($,Ot)|0,b=b+Math.imul(X,nt)|0,h=h+Math.imul(X,Rt)|0,h=h+Math.imul(ft,nt)|0,k=k+Math.imul(ft,Rt)|0;var Re=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,b=Math.imul(Z,wt),h=Math.imul(Z,ct),h=h+Math.imul(Q,wt)|0,k=Math.imul(Q,ct),b=b+Math.imul(R,ut)|0,h=h+Math.imul(R,Ot)|0,h=h+Math.imul(j,ut)|0,k=k+Math.imul(j,Ot)|0,b=b+Math.imul(at,nt)|0,h=h+Math.imul(at,Rt)|0,h=h+Math.imul($,nt)|0,k=k+Math.imul($,Rt)|0,b=b+Math.imul(X,bt)|0,h=h+Math.imul(X,Tt)|0,h=h+Math.imul(ft,bt)|0,k=k+Math.imul(ft,Tt)|0;var Te=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Te>>>26)|0,Te&=67108863,b=Math.imul(G,wt),h=Math.imul(G,ct),h=h+Math.imul(H,wt)|0,k=Math.imul(H,ct),b=b+Math.imul(Z,ut)|0,h=h+Math.imul(Z,Ot)|0,h=h+Math.imul(Q,ut)|0,k=k+Math.imul(Q,Ot)|0,b=b+Math.imul(R,nt)|0,h=h+Math.imul(R,Rt)|0,h=h+Math.imul(j,nt)|0,k=k+Math.imul(j,Rt)|0,b=b+Math.imul(at,bt)|0,h=h+Math.imul(at,Tt)|0,h=h+Math.imul($,bt)|0,k=k+Math.imul($,Tt)|0,b=b+Math.imul(X,St)|0,h=h+Math.imul(X,kt)|0,h=h+Math.imul(ft,St)|0,k=k+Math.imul(ft,kt)|0;var xe=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,b=Math.imul(it,wt),h=Math.imul(it,ct),h=h+Math.imul(ot,wt)|0,k=Math.imul(ot,ct),b=b+Math.imul(G,ut)|0,h=h+Math.imul(G,Ot)|0,h=h+Math.imul(H,ut)|0,k=k+Math.imul(H,Ot)|0,b=b+Math.imul(Z,nt)|0,h=h+Math.imul(Z,Rt)|0,h=h+Math.imul(Q,nt)|0,k=k+Math.imul(Q,Rt)|0,b=b+Math.imul(R,bt)|0,h=h+Math.imul(R,Tt)|0,h=h+Math.imul(j,bt)|0,k=k+Math.imul(j,Tt)|0,b=b+Math.imul(at,St)|0,h=h+Math.imul(at,kt)|0,h=h+Math.imul($,St)|0,k=k+Math.imul($,kt)|0,b=b+Math.imul(X,At)|0,h=h+Math.imul(X,Nt)|0,h=h+Math.imul(ft,At)|0,k=k+Math.imul(ft,Nt)|0;var Ce=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,b=Math.imul(_t,wt),h=Math.imul(_t,ct),h=h+Math.imul(ht,wt)|0,k=Math.imul(ht,ct),b=b+Math.imul(it,ut)|0,h=h+Math.imul(it,Ot)|0,h=h+Math.imul(ot,ut)|0,k=k+Math.imul(ot,Ot)|0,b=b+Math.imul(G,nt)|0,h=h+Math.imul(G,Rt)|0,h=h+Math.imul(H,nt)|0,k=k+Math.imul(H,Rt)|0,b=b+Math.imul(Z,bt)|0,h=h+Math.imul(Z,Tt)|0,h=h+Math.imul(Q,bt)|0,k=k+Math.imul(Q,Tt)|0,b=b+Math.imul(R,St)|0,h=h+Math.imul(R,kt)|0,h=h+Math.imul(j,St)|0,k=k+Math.imul(j,kt)|0,b=b+Math.imul(at,At)|0,h=h+Math.imul(at,Nt)|0,h=h+Math.imul($,At)|0,k=k+Math.imul($,Nt)|0,b=b+Math.imul(X,Ft)|0,h=h+Math.imul(X,Wt)|0,h=h+Math.imul(ft,Ft)|0,k=k+Math.imul(ft,Wt)|0;var Ue=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,b=Math.imul(pt,wt),h=Math.imul(pt,ct),h=h+Math.imul(V,wt)|0,k=Math.imul(V,ct),b=b+Math.imul(_t,ut)|0,h=h+Math.imul(_t,Ot)|0,h=h+Math.imul(ht,ut)|0,k=k+Math.imul(ht,Ot)|0,b=b+Math.imul(it,nt)|0,h=h+Math.imul(it,Rt)|0,h=h+Math.imul(ot,nt)|0,k=k+Math.imul(ot,Rt)|0,b=b+Math.imul(G,bt)|0,h=h+Math.imul(G,Tt)|0,h=h+Math.imul(H,bt)|0,k=k+Math.imul(H,Tt)|0,b=b+Math.imul(Z,St)|0,h=h+Math.imul(Z,kt)|0,h=h+Math.imul(Q,St)|0,k=k+Math.imul(Q,kt)|0,b=b+Math.imul(R,At)|0,h=h+Math.imul(R,Nt)|0,h=h+Math.imul(j,At)|0,k=k+Math.imul(j,Nt)|0,b=b+Math.imul(at,Ft)|0,h=h+Math.imul(at,Wt)|0,h=h+Math.imul($,Ft)|0,k=k+Math.imul($,Wt)|0,b=b+Math.imul(X,Xt)|0,h=h+Math.imul(X,Gt)|0,h=h+Math.imul(ft,Xt)|0,k=k+Math.imul(ft,Gt)|0;var Ke=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,b=Math.imul(st,wt),h=Math.imul(st,ct),h=h+Math.imul(yt,wt)|0,k=Math.imul(yt,ct),b=b+Math.imul(pt,ut)|0,h=h+Math.imul(pt,Ot)|0,h=h+Math.imul(V,ut)|0,k=k+Math.imul(V,Ot)|0,b=b+Math.imul(_t,nt)|0,h=h+Math.imul(_t,Rt)|0,h=h+Math.imul(ht,nt)|0,k=k+Math.imul(ht,Rt)|0,b=b+Math.imul(it,bt)|0,h=h+Math.imul(it,Tt)|0,h=h+Math.imul(ot,bt)|0,k=k+Math.imul(ot,Tt)|0,b=b+Math.imul(G,St)|0,h=h+Math.imul(G,kt)|0,h=h+Math.imul(H,St)|0,k=k+Math.imul(H,kt)|0,b=b+Math.imul(Z,At)|0,h=h+Math.imul(Z,Nt)|0,h=h+Math.imul(Q,At)|0,k=k+Math.imul(Q,Nt)|0,b=b+Math.imul(R,Ft)|0,h=h+Math.imul(R,Wt)|0,h=h+Math.imul(j,Ft)|0,k=k+Math.imul(j,Wt)|0,b=b+Math.imul(at,Xt)|0,h=h+Math.imul(at,Gt)|0,h=h+Math.imul($,Xt)|0,k=k+Math.imul($,Gt)|0,b=b+Math.imul(X,Qt)|0,h=h+Math.imul(X,Zt)|0,h=h+Math.imul(ft,Qt)|0,k=k+Math.imul(ft,Zt)|0;var Je=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(dt,wt),h=Math.imul(dt,ct),h=h+Math.imul(Mt,wt)|0,k=Math.imul(Mt,ct),b=b+Math.imul(st,ut)|0,h=h+Math.imul(st,Ot)|0,h=h+Math.imul(yt,ut)|0,k=k+Math.imul(yt,Ot)|0,b=b+Math.imul(pt,nt)|0,h=h+Math.imul(pt,Rt)|0,h=h+Math.imul(V,nt)|0,k=k+Math.imul(V,Rt)|0,b=b+Math.imul(_t,bt)|0,h=h+Math.imul(_t,Tt)|0,h=h+Math.imul(ht,bt)|0,k=k+Math.imul(ht,Tt)|0,b=b+Math.imul(it,St)|0,h=h+Math.imul(it,kt)|0,h=h+Math.imul(ot,St)|0,k=k+Math.imul(ot,kt)|0,b=b+Math.imul(G,At)|0,h=h+Math.imul(G,Nt)|0,h=h+Math.imul(H,At)|0,k=k+Math.imul(H,Nt)|0,b=b+Math.imul(Z,Ft)|0,h=h+Math.imul(Z,Wt)|0,h=h+Math.imul(Q,Ft)|0,k=k+Math.imul(Q,Wt)|0,b=b+Math.imul(R,Xt)|0,h=h+Math.imul(R,Gt)|0,h=h+Math.imul(j,Xt)|0,k=k+Math.imul(j,Gt)|0,b=b+Math.imul(at,Qt)|0,h=h+Math.imul(at,Zt)|0,h=h+Math.imul($,Qt)|0,k=k+Math.imul($,Zt)|0,b=b+Math.imul(X,te)|0,h=h+Math.imul(X,re)|0,h=h+Math.imul(ft,te)|0,k=k+Math.imul(ft,re)|0;var ze=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(ze>>>26)|0,ze&=67108863,b=Math.imul(dt,ut),h=Math.imul(dt,Ot),h=h+Math.imul(Mt,ut)|0,k=Math.imul(Mt,Ot),b=b+Math.imul(st,nt)|0,h=h+Math.imul(st,Rt)|0,h=h+Math.imul(yt,nt)|0,k=k+Math.imul(yt,Rt)|0,b=b+Math.imul(pt,bt)|0,h=h+Math.imul(pt,Tt)|0,h=h+Math.imul(V,bt)|0,k=k+Math.imul(V,Tt)|0,b=b+Math.imul(_t,St)|0,h=h+Math.imul(_t,kt)|0,h=h+Math.imul(ht,St)|0,k=k+Math.imul(ht,kt)|0,b=b+Math.imul(it,At)|0,h=h+Math.imul(it,Nt)|0,h=h+Math.imul(ot,At)|0,k=k+Math.imul(ot,Nt)|0,b=b+Math.imul(G,Ft)|0,h=h+Math.imul(G,Wt)|0,h=h+Math.imul(H,Ft)|0,k=k+Math.imul(H,Wt)|0,b=b+Math.imul(Z,Xt)|0,h=h+Math.imul(Z,Gt)|0,h=h+Math.imul(Q,Xt)|0,k=k+Math.imul(Q,Gt)|0,b=b+Math.imul(R,Qt)|0,h=h+Math.imul(R,Zt)|0,h=h+Math.imul(j,Qt)|0,k=k+Math.imul(j,Zt)|0,b=b+Math.imul(at,te)|0,h=h+Math.imul(at,re)|0,h=h+Math.imul($,te)|0,k=k+Math.imul($,re)|0;var Xe=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(dt,nt),h=Math.imul(dt,Rt),h=h+Math.imul(Mt,nt)|0,k=Math.imul(Mt,Rt),b=b+Math.imul(st,bt)|0,h=h+Math.imul(st,Tt)|0,h=h+Math.imul(yt,bt)|0,k=k+Math.imul(yt,Tt)|0,b=b+Math.imul(pt,St)|0,h=h+Math.imul(pt,kt)|0,h=h+Math.imul(V,St)|0,k=k+Math.imul(V,kt)|0,b=b+Math.imul(_t,At)|0,h=h+Math.imul(_t,Nt)|0,h=h+Math.imul(ht,At)|0,k=k+Math.imul(ht,Nt)|0,b=b+Math.imul(it,Ft)|0,h=h+Math.imul(it,Wt)|0,h=h+Math.imul(ot,Ft)|0,k=k+Math.imul(ot,Wt)|0,b=b+Math.imul(G,Xt)|0,h=h+Math.imul(G,Gt)|0,h=h+Math.imul(H,Xt)|0,k=k+Math.imul(H,Gt)|0,b=b+Math.imul(Z,Qt)|0,h=h+Math.imul(Z,Zt)|0,h=h+Math.imul(Q,Qt)|0,k=k+Math.imul(Q,Zt)|0,b=b+Math.imul(R,te)|0,h=h+Math.imul(R,re)|0,h=h+Math.imul(j,te)|0,k=k+Math.imul(j,re)|0;var Ge=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,b=Math.imul(dt,bt),h=Math.imul(dt,Tt),h=h+Math.imul(Mt,bt)|0,k=Math.imul(Mt,Tt),b=b+Math.imul(st,St)|0,h=h+Math.imul(st,kt)|0,h=h+Math.imul(yt,St)|0,k=k+Math.imul(yt,kt)|0,b=b+Math.imul(pt,At)|0,h=h+Math.imul(pt,Nt)|0,h=h+Math.imul(V,At)|0,k=k+Math.imul(V,Nt)|0,b=b+Math.imul(_t,Ft)|0,h=h+Math.imul(_t,Wt)|0,h=h+Math.imul(ht,Ft)|0,k=k+Math.imul(ht,Wt)|0,b=b+Math.imul(it,Xt)|0,h=h+Math.imul(it,Gt)|0,h=h+Math.imul(ot,Xt)|0,k=k+Math.imul(ot,Gt)|0,b=b+Math.imul(G,Qt)|0,h=h+Math.imul(G,Zt)|0,h=h+Math.imul(H,Qt)|0,k=k+Math.imul(H,Zt)|0,b=b+Math.imul(Z,te)|0,h=h+Math.imul(Z,re)|0,h=h+Math.imul(Q,te)|0,k=k+Math.imul(Q,re)|0;var Ye=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,b=Math.imul(dt,St),h=Math.imul(dt,kt),h=h+Math.imul(Mt,St)|0,k=Math.imul(Mt,kt),b=b+Math.imul(st,At)|0,h=h+Math.imul(st,Nt)|0,h=h+Math.imul(yt,At)|0,k=k+Math.imul(yt,Nt)|0,b=b+Math.imul(pt,Ft)|0,h=h+Math.imul(pt,Wt)|0,h=h+Math.imul(V,Ft)|0,k=k+Math.imul(V,Wt)|0,b=b+Math.imul(_t,Xt)|0,h=h+Math.imul(_t,Gt)|0,h=h+Math.imul(ht,Xt)|0,k=k+Math.imul(ht,Gt)|0,b=b+Math.imul(it,Qt)|0,h=h+Math.imul(it,Zt)|0,h=h+Math.imul(ot,Qt)|0,k=k+Math.imul(ot,Zt)|0,b=b+Math.imul(G,te)|0,h=h+Math.imul(G,re)|0,h=h+Math.imul(H,te)|0,k=k+Math.imul(H,re)|0;var We=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(We>>>26)|0,We&=67108863,b=Math.imul(dt,At),h=Math.imul(dt,Nt),h=h+Math.imul(Mt,At)|0,k=Math.imul(Mt,Nt),b=b+Math.imul(st,Ft)|0,h=h+Math.imul(st,Wt)|0,h=h+Math.imul(yt,Ft)|0,k=k+Math.imul(yt,Wt)|0,b=b+Math.imul(pt,Xt)|0,h=h+Math.imul(pt,Gt)|0,h=h+Math.imul(V,Xt)|0,k=k+Math.imul(V,Gt)|0,b=b+Math.imul(_t,Qt)|0,h=h+Math.imul(_t,Zt)|0,h=h+Math.imul(ht,Qt)|0,k=k+Math.imul(ht,Zt)|0,b=b+Math.imul(it,te)|0,h=h+Math.imul(it,re)|0,h=h+Math.imul(ot,te)|0,k=k+Math.imul(ot,re)|0;var Ve=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,b=Math.imul(dt,Ft),h=Math.imul(dt,Wt),h=h+Math.imul(Mt,Ft)|0,k=Math.imul(Mt,Wt),b=b+Math.imul(st,Xt)|0,h=h+Math.imul(st,Gt)|0,h=h+Math.imul(yt,Xt)|0,k=k+Math.imul(yt,Gt)|0,b=b+Math.imul(pt,Qt)|0,h=h+Math.imul(pt,Zt)|0,h=h+Math.imul(V,Qt)|0,k=k+Math.imul(V,Zt)|0,b=b+Math.imul(_t,te)|0,h=h+Math.imul(_t,re)|0,h=h+Math.imul(ht,te)|0,k=k+Math.imul(ht,re)|0;var Ze=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(dt,Xt),h=Math.imul(dt,Gt),h=h+Math.imul(Mt,Xt)|0,k=Math.imul(Mt,Gt),b=b+Math.imul(st,Qt)|0,h=h+Math.imul(st,Zt)|0,h=h+Math.imul(yt,Qt)|0,k=k+Math.imul(yt,Zt)|0,b=b+Math.imul(pt,te)|0,h=h+Math.imul(pt,re)|0,h=h+Math.imul(V,te)|0,k=k+Math.imul(V,re)|0;var ar=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,b=Math.imul(dt,Qt),h=Math.imul(dt,Zt),h=h+Math.imul(Mt,Qt)|0,k=Math.imul(Mt,Zt),b=b+Math.imul(st,te)|0,h=h+Math.imul(st,re)|0,h=h+Math.imul(yt,te)|0,k=k+Math.imul(yt,re)|0;var br=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(br>>>26)|0,br&=67108863,b=Math.imul(dt,te),h=Math.imul(dt,re),h=h+Math.imul(Mt,te)|0,k=Math.imul(Mt,re);var cr=(w+b|0)+((h&8191)<<13)|0;return w=(k+(h>>>13)|0)+(cr>>>26)|0,cr&=67108863,S[0]=Se,S[1]=Be,S[2]=Re,S[3]=Te,S[4]=xe,S[5]=Ce,S[6]=Ue,S[7]=Ke,S[8]=Je,S[9]=ze,S[10]=Xe,S[11]=Ge,S[12]=Ye,S[13]=We,S[14]=Ve,S[15]=Ze,S[16]=ar,S[17]=br,S[18]=cr,w!==0&&(S[19]=w,v.length++),v};Math.imul||(C=x);function N(n,d,v){v.negative=d.negative^n.negative,v.length=n.length+d.length;for(var A=0,T=0,S=0;S<v.length-1;S++){var w=T;T=0;for(var b=A&67108863,h=Math.min(S,d.length-1),k=Math.max(0,S-n.length+1);k<=h;k++){var tt=S-k,X=n.words[tt]|0,ft=d.words[k]|0,et=X*ft,at=et&67108863;w=w+(et/67108864|0)|0,at=at+b|0,b=at&67108863,w=w+(at>>>26)|0,T+=w>>>26,w&=67108863}v.words[S]=b,A=w,w=T}return A!==0?v.words[S]=A:v.length--,v._strip()}function F(n,d,v){return N(n,d,v)}e.prototype.mulTo=function(n,d){var v,A=this.length+n.length;return this.length===10&&n.length===10?v=C(this,n,d):A<63?v=x(this,n,d):A<1024?v=N(this,n,d):v=F(this,n,d),v},e.prototype.mul=function(n){var d=new e(null);return d.words=new Array(this.length+n.length),this.mulTo(n,d)},e.prototype.mulf=function(n){var d=new e(null);return d.words=new Array(this.length+n.length),F(this,n,d)},e.prototype.imul=function(n){return this.clone().mulTo(n,this)},e.prototype.imuln=function(n){var d=n<0;d&&(n=-n),a(typeof n=="number"),a(n<67108864);for(var v=0,A=0;A<this.length;A++){var T=(this.words[A]|0)*n,S=(T&67108863)+(v&67108863);v>>=26,v+=T/67108864|0,v+=S>>>26,this.words[A]=S&67108863}return v!==0&&(this.words[A]=v,this.length++),d?this.ineg():this},e.prototype.muln=function(n){return this.clone().imuln(n)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(n){var d=B(n);if(d.length===0)return new e(1);for(var v=this,A=0;A<d.length&&d[A]===0;A++,v=v.sqr());if(++A<d.length)for(var T=v.sqr();A<d.length;A++,T=T.sqr())d[A]!==0&&(v=v.mul(T));return v},e.prototype.iushln=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26,A=67108863>>>26-d<<26-d,T;if(d!==0){var S=0;for(T=0;T<this.length;T++){var w=this.words[T]&A,b=(this.words[T]|0)-w<<d;this.words[T]=b|S,S=w>>>26-d}S&&(this.words[T]=S,this.length++)}if(v!==0){for(T=this.length-1;T>=0;T--)this.words[T+v]=this.words[T];for(T=0;T<v;T++)this.words[T]=0;this.length+=v}return this._strip()},e.prototype.ishln=function(n){return a(this.negative===0),this.iushln(n)},e.prototype.iushrn=function(n,d,v){a(typeof n=="number"&&n>=0);var A;d?A=(d-d%26)/26:A=0;var T=n%26,S=Math.min((n-T)/26,this.length),w=67108863^67108863>>>T<<T,b=v;if(A-=S,A=Math.max(0,A),b){for(var h=0;h<S;h++)b.words[h]=this.words[h];b.length=S}if(S!==0)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(k!==0||h>=A);h--){var tt=this.words[h]|0;this.words[h]=k<<26-T|tt>>>T,k=tt&w}return b&&k!==0&&(b.words[b.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(n,d,v){return a(this.negative===0),this.iushrn(n,d,v)},e.prototype.shln=function(n){return this.clone().ishln(n)},e.prototype.ushln=function(n){return this.clone().iushln(n)},e.prototype.shrn=function(n){return this.clone().ishrn(n)},e.prototype.ushrn=function(n){return this.clone().iushrn(n)},e.prototype.testn=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26,A=1<<d;if(this.length<=v)return!1;var T=this.words[v];return!!(T&A)},e.prototype.imaskn=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var A=67108863^67108863>>>d<<d;this.words[this.length-1]&=A}return this._strip()},e.prototype.maskn=function(n){return this.clone().imaskn(n)},e.prototype.iaddn=function(n){return a(typeof n=="number"),a(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},e.prototype._iaddn=function(n){this.words[0]+=n;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},e.prototype.isubn=function(n){if(a(typeof n=="number"),a(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},e.prototype.addn=function(n){return this.clone().iaddn(n)},e.prototype.subn=function(n){return this.clone().isubn(n)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(n,d,v){var A=n.length+v,T;this._expand(A);var S,w=0;for(T=0;T<n.length;T++){S=(this.words[T+v]|0)+w;var b=(n.words[T]|0)*d;S-=b&67108863,w=(S>>26)-(b/67108864|0),this.words[T+v]=S&67108863}for(;T<this.length-v;T++)S=(this.words[T+v]|0)+w,w=S>>26,this.words[T+v]=S&67108863;if(w===0)return this._strip();for(a(w===-1),w=0,T=0;T<this.length;T++)S=-(this.words[T]|0)+w,w=S>>26,this.words[T]=S&67108863;return this.negative=1,this._strip()},e.prototype._wordDiv=function(n,d){var v=this.length-n.length,A=this.clone(),T=n,S=T.words[T.length-1]|0,w=this._countBits(S);v=26-w,v!==0&&(T=T.ushln(v),A.iushln(v),S=T.words[T.length-1]|0);var b=A.length-T.length,h;if(d!=="mod"){h=new e(null),h.length=b+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var tt=A.clone()._ishlnsubmul(T,1,b);tt.negative===0&&(A=tt,h&&(h.words[b]=1));for(var X=b-1;X>=0;X--){var ft=(A.words[T.length+X]|0)*67108864+(A.words[T.length+X-1]|0);for(ft=Math.min(ft/S|0,67108863),A._ishlnsubmul(T,ft,X);A.negative!==0;)ft--,A.negative=0,A._ishlnsubmul(T,1,X),A.isZero()||(A.negative^=1);h&&(h.words[X]=ft)}return h&&h._strip(),A._strip(),d!=="div"&&v!==0&&A.iushrn(v),{div:h||null,mod:A}},e.prototype.divmod=function(n,d,v){if(a(!n.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var A,T,S;return this.negative!==0&&n.negative===0?(S=this.neg().divmod(n,d),d!=="mod"&&(A=S.div.neg()),d!=="div"&&(T=S.mod.neg(),v&&T.negative!==0&&T.iadd(n)),{div:A,mod:T}):this.negative===0&&n.negative!==0?(S=this.divmod(n.neg(),d),d!=="mod"&&(A=S.div.neg()),{div:A,mod:S.mod}):this.negative&n.negative?(S=this.neg().divmod(n.neg(),d),d!=="div"&&(T=S.mod.neg(),v&&T.negative!==0&&T.isub(n)),{div:S.div,mod:T}):n.length>this.length||this.cmp(n)<0?{div:new e(0),mod:this}:n.length===1?d==="div"?{div:this.divn(n.words[0]),mod:null}:d==="mod"?{div:null,mod:new e(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new e(this.modrn(n.words[0]))}:this._wordDiv(n,d)},e.prototype.div=function(n){return this.divmod(n,"div",!1).div},e.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},e.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},e.prototype.divRound=function(n){var d=this.divmod(n);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(n):d.mod,A=n.ushrn(1),T=n.andln(1),S=v.cmp(A);return S<0||T===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},e.prototype.modrn=function(n){var d=n<0;d&&(n=-n),a(n<=67108863);for(var v=(1<<26)%n,A=0,T=this.length-1;T>=0;T--)A=(v*A+(this.words[T]|0))%n;return d?-A:A},e.prototype.modn=function(n){return this.modrn(n)},e.prototype.idivn=function(n){var d=n<0;d&&(n=-n),a(n<=67108863);for(var v=0,A=this.length-1;A>=0;A--){var T=(this.words[A]|0)+v*67108864;this.words[A]=T/n|0,v=T%n}return this._strip(),d?this.ineg():this},e.prototype.divn=function(n){return this.clone().idivn(n)},e.prototype.egcd=function(n){a(n.negative===0),a(!n.isZero());var d=this,v=n.clone();d.negative!==0?d=d.umod(n):d=d.clone();for(var A=new e(1),T=new e(0),S=new e(0),w=new e(1),b=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++b;for(var h=v.clone(),k=d.clone();!d.isZero();){for(var tt=0,X=1;!(d.words[0]&X)&&tt<26;++tt,X<<=1);if(tt>0)for(d.iushrn(tt);tt-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(h),T.isub(k)),A.iushrn(1),T.iushrn(1);for(var ft=0,et=1;!(v.words[0]&et)&&ft<26;++ft,et<<=1);if(ft>0)for(v.iushrn(ft);ft-- >0;)(S.isOdd()||w.isOdd())&&(S.iadd(h),w.isub(k)),S.iushrn(1),w.iushrn(1);d.cmp(v)>=0?(d.isub(v),A.isub(S),T.isub(w)):(v.isub(d),S.isub(A),w.isub(T))}return{a:S,b:w,gcd:v.iushln(b)}},e.prototype._invmp=function(n){a(n.negative===0),a(!n.isZero());var d=this,v=n.clone();d.negative!==0?d=d.umod(n):d=d.clone();for(var A=new e(1),T=new e(0),S=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var w=0,b=1;!(d.words[0]&b)&&w<26;++w,b<<=1);if(w>0)for(d.iushrn(w);w-- >0;)A.isOdd()&&A.iadd(S),A.iushrn(1);for(var h=0,k=1;!(v.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(v.iushrn(h);h-- >0;)T.isOdd()&&T.iadd(S),T.iushrn(1);d.cmp(v)>=0?(d.isub(v),A.isub(T)):(v.isub(d),T.isub(A))}var tt;return d.cmpn(1)===0?tt=A:tt=T,tt.cmpn(0)<0&&tt.iadd(n),tt},e.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var d=this.clone(),v=n.clone();d.negative=0,v.negative=0;for(var A=0;d.isEven()&&v.isEven();A++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var T=d.cmp(v);if(T<0){var S=d;d=v,v=S}else if(T===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(A)},e.prototype.invm=function(n){return this.egcd(n).a.umod(n)},e.prototype.isEven=function(){return(this.words[0]&1)===0},e.prototype.isOdd=function(){return(this.words[0]&1)===1},e.prototype.andln=function(n){return this.words[0]&n},e.prototype.bincn=function(n){a(typeof n=="number");var d=n%26,v=(n-d)/26,A=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=A,this;for(var T=A,S=v;T!==0&&S<this.length;S++){var w=this.words[S]|0;w+=T,T=w>>>26,w&=67108863,this.words[S]=w}return T!==0&&(this.words[S]=T,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(n){var d=n<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(n=-n),a(n<=67108863,"Number is too big");var A=this.words[0]|0;v=A===n?0:A<n?-1:1}return this.negative!==0?-v|0:v},e.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var d=this.ucmp(n);return this.negative!==0?-d|0:d},e.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var A=this.words[v]|0,T=n.words[v]|0;if(A!==T){A<T?d=-1:A>T&&(d=1);break}}return d},e.prototype.gtn=function(n){return this.cmpn(n)===1},e.prototype.gt=function(n){return this.cmp(n)===1},e.prototype.gten=function(n){return this.cmpn(n)>=0},e.prototype.gte=function(n){return this.cmp(n)>=0},e.prototype.ltn=function(n){return this.cmpn(n)===-1},e.prototype.lt=function(n){return this.cmp(n)===-1},e.prototype.lten=function(n){return this.cmpn(n)<=0},e.prototype.lte=function(n){return this.cmp(n)<=0},e.prototype.eqn=function(n){return this.cmpn(n)===0},e.prototype.eq=function(n){return this.cmp(n)===0},e.red=function(n){return new O(n)},e.prototype.toRed=function(n){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},e.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(n){return this.red=n,this},e.prototype.forceRed=function(n){return a(!this.red,"Already a number in reduction context"),this._forceRed(n)},e.prototype.redAdd=function(n){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},e.prototype.redIAdd=function(n){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},e.prototype.redSub=function(n){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},e.prototype.redISub=function(n){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},e.prototype.redShl=function(n){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},e.prototype.redMul=function(n){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},e.prototype.redIMul=function(n){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},e.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(n){return a(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var I={k256:null,p224:null,p192:null,p25519:null};function U(n,d){this.name=n,this.p=new e(d,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var n=new e(null);return n.words=new Array(Math.ceil(this.n/13)),n},U.prototype.ireduce=function(n){var d=n,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var A=v<this.n?-1:d.ucmp(this.p);return A===0?(d.words[0]=0,d.length=1):A>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(n,d){n.iushrn(this.n,0,d)},U.prototype.imulK=function(n){return n.imul(this.k)};function P(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(P,U),P.prototype.split=function(n,d){for(var v=4194303,A=Math.min(n.length,9),T=0;T<A;T++)d.words[T]=n.words[T];if(d.length=A,n.length<=9){n.words[0]=0,n.length=1;return}var S=n.words[9];for(d.words[d.length++]=S&v,T=10;T<n.length;T++){var w=n.words[T]|0;n.words[T-10]=(w&v)<<4|S>>>22,S=w}S>>>=22,n.words[T-10]=S,S===0&&n.length>10?n.length-=10:n.length-=9},P.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var d=0,v=0;v<n.length;v++){var A=n.words[v]|0;d+=A*977,n.words[v]=d&67108863,d=A*64+(d/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function D(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,U);function q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,U),q.prototype.imulK=function(n){for(var d=0,v=0;v<n.length;v++){var A=(n.words[v]|0)*19+d,T=A&67108863;A>>>=26,n.words[v]=T,d=A}return d!==0&&(n.words[n.length++]=d),n},e._prime=function(n){if(I[n])return I[n];var d;if(n==="k256")d=new P;else if(n==="p224")d=new D;else if(n==="p192")d=new W;else if(n==="p25519")d=new q;else throw new Error("Unknown prime "+n);return I[n]=d,d};function O(n){if(typeof n=="string"){var d=e._prime(n);this.m=d.p,this.prime=d}else a(n.gtn(1),"modulus must be greater than 1"),this.m=n,this.prime=null}O.prototype._verify1=function(n){a(n.negative===0,"red works only with positives"),a(n.red,"red works only with red numbers")},O.prototype._verify2=function(n,d){a((n.negative|d.negative)===0,"red works only with positives"),a(n.red&&n.red===d.red,"red works only with red numbers")},O.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(p(n,n.umod(this.m)._forceRed(this)),n)},O.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},O.prototype.add=function(n,d){this._verify2(n,d);var v=n.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},O.prototype.iadd=function(n,d){this._verify2(n,d);var v=n.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},O.prototype.sub=function(n,d){this._verify2(n,d);var v=n.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},O.prototype.isub=function(n,d){this._verify2(n,d);var v=n.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},O.prototype.shl=function(n,d){return this._verify1(n),this.imod(n.ushln(d))},O.prototype.imul=function(n,d){return this._verify2(n,d),this.imod(n.imul(d))},O.prototype.mul=function(n,d){return this._verify2(n,d),this.imod(n.mul(d))},O.prototype.isqr=function(n){return this.imul(n,n.clone())},O.prototype.sqr=function(n){return this.mul(n,n)},O.prototype.sqrt=function(n){if(n.isZero())return n.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var v=this.m.add(new e(1)).iushrn(2);return this.pow(n,v)}for(var A=this.m.subn(1),T=0;!A.isZero()&&A.andln(1)===0;)T++,A.iushrn(1);a(!A.isZero());var S=new e(1).toRed(this),w=S.redNeg(),b=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new e(2*h*h).toRed(this);this.pow(h,b).cmp(w)!==0;)h.redIAdd(w);for(var k=this.pow(h,A),tt=this.pow(n,A.addn(1).iushrn(1)),X=this.pow(n,A),ft=T;X.cmp(S)!==0;){for(var et=X,at=0;et.cmp(S)!==0;at++)et=et.redSqr();a(at<ft);var $=this.pow(k,new e(1).iushln(ft-at-1));tt=tt.redMul($),k=$.redSqr(),X=X.redMul(k),ft=at}return tt},O.prototype.invm=function(n){var d=n._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},O.prototype.pow=function(n,d){if(d.isZero())return new e(1).toRed(this);if(d.cmpn(1)===0)return n.clone();var v=4,A=new Array(1<<v);A[0]=new e(1).toRed(this),A[1]=n;for(var T=2;T<A.length;T++)A[T]=this.mul(A[T-1],n);var S=A[0],w=0,b=0,h=d.bitLength()%26;for(h===0&&(h=26),T=d.length-1;T>=0;T--){for(var k=d.words[T],tt=h-1;tt>=0;tt--){var X=k>>tt&1;if(S!==A[0]&&(S=this.sqr(S)),X===0&&w===0){b=0;continue}w<<=1,w|=X,b++,!(b!==v&&(T!==0||tt!==0))&&(S=this.mul(S,A[w]),b=0,w=0)}h=26}return S},O.prototype.convertTo=function(n){var d=n.umod(this.m);return d===n?d.clone():d},O.prototype.convertFrom=function(n){var d=n.clone();return d.red=null,d},e.mont=function(n){return new L(n)};function L(n){O.call(this,n),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(L,O),L.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},L.prototype.convertFrom=function(n){var d=this.imod(n.mul(this.rinv));return d.red=null,d},L.prototype.imul=function(n,d){if(n.isZero()||d.isZero())return n.words[0]=0,n.length=1,n;var v=n.imul(d),A=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(A).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},L.prototype.mul=function(n,d){if(n.isZero()||d.isZero())return new e(0)._forceRed(this);var v=n.mul(d),A=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(A).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},L.prototype.invm=function(n){var d=this.imod(n._invmp(this.m).mul(this.r2));return d._forceRed(this)}}(typeof i>"u"||i,t)}),Qu=gt((t,i)=>{lt();var r=Rm(),u=Fi();function a(o){var c=s(o),f=c.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed();return{blinder:f,unblinder:c.invm(o.modulus)}}function s(o){var c=o.modulus.byteLength(),f;do f=new r(u(c));while(f.cmp(o.modulus)>=0||!f.umod(o.prime1)||!f.umod(o.prime2));return f}function e(o,c){var f=a(c),l=c.modulus.byteLength(),p=new r(o).mul(f.blinder).umod(c.modulus),g=p.toRed(r.mont(c.prime1)),y=p.toRed(r.mont(c.prime2)),m=c.coefficient,M=c.prime1,E=c.prime2,B=g.redPow(c.exponent1).fromRed(),x=y.redPow(c.exponent2).fromRed(),C=B.isub(x).imul(m).umod(M).imul(E);return x.iadd(C).imul(f.unblinder).umod(c.modulus).toArrayLike(Ut.Buffer,"be",l)}e.getr=s,i.exports=e}),Nm=gt((t,i)=>{i.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),N0=gt(t=>{lt();var i=t;function r(s,e){if(Array.isArray(s))return s.slice();if(!s)return[];var o=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)o[c]=s[c]|0;return o}if(e==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)o.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var f=s.charCodeAt(c),l=f>>8,p=f&255;l?o.push(l,p):o.push(p)}return o}i.toArray=r;function u(s){return s.length===1?"0"+s:s}i.zero2=u;function a(s){for(var e="",o=0;o<s.length;o++)e+=u(s[o].toString(16));return e}i.toHex=a,i.encode=function(s,e){return e==="hex"?a(s):s}}),Zr=gt(t=>{lt();var i=t,r=sr(),u=Vr(),a=N0();i.assert=u,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode;function s(l,p,g){var y=new Array(Math.max(l.bitLength(),g)+1);y.fill(0);for(var m=1<<p+1,M=l.clone(),E=0;E<y.length;E++){var B,x=M.andln(m-1);M.isOdd()?(x>(m>>1)-1?B=(m>>1)-x:B=x,M.isubn(B)):B=0,y[E]=B,M.iushrn(1)}return y}i.getNAF=s;function e(l,p){var g=[[],[]];l=l.clone(),p=p.clone();for(var y=0,m=0,M;l.cmpn(-y)>0||p.cmpn(-m)>0;){var E=l.andln(3)+y&3,B=p.andln(3)+m&3;E===3&&(E=-1),B===3&&(B=-1);var x;E&1?(M=l.andln(7)+y&7,(M===3||M===5)&&B===2?x=-E:x=E):x=0,g[0].push(x);var C;B&1?(M=p.andln(7)+m&7,(M===3||M===5)&&E===2?C=-B:C=B):C=0,g[1].push(C),2*y===x+1&&(y=1-y),2*m===C+1&&(m=1-m),l.iushrn(1),p.iushrn(1)}return g}i.getJSF=e;function o(l,p,g){var y="_"+p;l.prototype[p]=function(){return this[y]!==void 0?this[y]:this[y]=g.call(this)}}i.cachedProperty=o;function c(l){return typeof l=="string"?i.toArray(l,"hex"):l}i.parseBytes=c;function f(l){return new r(l,"hex","le")}i.intFromLE=f}),es=gt((t,i)=>{lt();var r=sr(),u=Zr(),a=u.getNAF,s=u.getJSF,e=u.assert;function o(f,l){this.type=f,this.p=new r(l.p,16),this.red=l.prime?r.red(l.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=l.n&&new r(l.n,16),this.g=l.g&&this.pointFromJSON(l.g,l.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}i.exports=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(f,l){e(f.precomputed);var p=f._getDoubles(),g=a(l,1,this._bitLength),y=(1<<p.step+1)-(p.step%2===0?2:1);y/=3;var m=[],M,E;for(M=0;M<g.length;M+=p.step){E=0;for(var B=M+p.step-1;B>=M;B--)E=(E<<1)+g[B];m.push(E)}for(var x=this.jpoint(null,null,null),C=this.jpoint(null,null,null),N=y;N>0;N--){for(M=0;M<m.length;M++)E=m[M],E===N?C=C.mixedAdd(p.points[M]):E===-N&&(C=C.mixedAdd(p.points[M].neg()));x=x.add(C)}return x.toP()},o.prototype._wnafMul=function(f,l){var p=4,g=f._getNAFPoints(p);p=g.wnd;for(var y=g.points,m=a(l,p,this._bitLength),M=this.jpoint(null,null,null),E=m.length-1;E>=0;E--){for(var B=0;E>=0&&m[E]===0;E--)B++;if(E>=0&&B++,M=M.dblp(B),E<0)break;var x=m[E];e(x!==0),f.type==="affine"?x>0?M=M.mixedAdd(y[x-1>>1]):M=M.mixedAdd(y[-x-1>>1].neg()):x>0?M=M.add(y[x-1>>1]):M=M.add(y[-x-1>>1].neg())}return f.type==="affine"?M.toP():M},o.prototype._wnafMulAdd=function(f,l,p,g,y){var m=this._wnafT1,M=this._wnafT2,E=this._wnafT3,B=0,x,C,N;for(x=0;x<g;x++){N=l[x];var F=N._getNAFPoints(f);m[x]=F.wnd,M[x]=F.points}for(x=g-1;x>=1;x-=2){var I=x-1,U=x;if(m[I]!==1||m[U]!==1){E[I]=a(p[I],m[I],this._bitLength),E[U]=a(p[U],m[U],this._bitLength),B=Math.max(E[I].length,B),B=Math.max(E[U].length,B);continue}var P=[l[I],null,null,l[U]];l[I].y.cmp(l[U].y)===0?(P[1]=l[I].add(l[U]),P[2]=l[I].toJ().mixedAdd(l[U].neg())):l[I].y.cmp(l[U].y.redNeg())===0?(P[1]=l[I].toJ().mixedAdd(l[U]),P[2]=l[I].add(l[U].neg())):(P[1]=l[I].toJ().mixedAdd(l[U]),P[2]=l[I].toJ().mixedAdd(l[U].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],W=s(p[I],p[U]);for(B=Math.max(W[0].length,B),E[I]=new Array(B),E[U]=new Array(B),C=0;C<B;C++){var q=W[0][C]|0,O=W[1][C]|0;E[I][C]=D[(q+1)*3+(O+1)],E[U][C]=0,M[I]=P}}var L=this.jpoint(null,null,null),n=this._wnafT4;for(x=B;x>=0;x--){for(var d=0;x>=0;){var v=!0;for(C=0;C<g;C++)n[C]=E[C][x]|0,n[C]!==0&&(v=!1);if(!v)break;d++,x--}if(x>=0&&d++,L=L.dblp(d),x<0)break;for(C=0;C<g;C++){var A=n[C];A!==0&&(A>0?N=M[C][A-1>>1]:A<0&&(N=M[C][-A-1>>1].neg()),N.type==="affine"?L=L.mixedAdd(N):L=L.add(N))}}for(x=0;x<g;x++)M[x]=null;return y?L:L.toP()};function c(f,l){this.curve=f,this.type=l,this.precomputed=null}o.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(f,l){f=u.toArray(f,l);var p=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1===2*p){f[0]===6?e(f[f.length-1]%2===0):f[0]===7&&e(f[f.length-1]%2===1);var g=this.point(f.slice(1,1+p),f.slice(1+p,1+2*p));return g}else if((f[0]===2||f[0]===3)&&f.length-1===p)return this.pointFromX(f.slice(1,1+p),f[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(f){return this.encode(f,!0)},c.prototype._encode=function(f){var l=this.curve.p.byteLength(),p=this.getX().toArray("be",l);return f?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",l))},c.prototype.encode=function(f,l){return u.encode(this._encode(l),f)},c.prototype.precompute=function(f){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,f),l.beta=this._getBeta(),this.precomputed=l,this},c.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return l?l.points.length>=Math.ceil((f.bitLength()+1)/l.step):!1},c.prototype._getDoubles=function(f,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,y=0;y<l;y+=f){for(var m=0;m<f;m++)g=g.dbl();p.push(g)}return{step:f,points:p}},c.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],p=(1<<f)-1,g=p===1?null:this.dbl(),y=1;y<p;y++)l[y]=l[y-1].add(g);return{wnd:f,points:l}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(f){for(var l=this,p=0;p<f;p++)l=l.dbl();return l}}),Lm=gt((t,i)=>{lt();var r=Zr(),u=sr(),a=pe(),s=es(),e=r.assert;function o(l){s.call(this,"short",l),this.a=new u(l.a,16).toRed(this.red),this.b=new u(l.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(l),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}a(o,s),i.exports=o,o.prototype._getEndomorphism=function(l){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var p,g;if(l.beta)p=new u(l.beta,16).toRed(this.red);else{var y=this._getEndoRoots(this.p);p=y[0].cmp(y[1])<0?y[0]:y[1],p=p.toRed(this.red)}if(l.lambda)g=new u(l.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(p))===0?g=m[0]:(g=m[1],e(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}var M;return l.basis?M=l.basis.map(function(E){return{a:new u(E.a,16),b:new u(E.b,16)}}):M=this._getEndoBasis(g),{beta:p,lambda:g,basis:M}}},o.prototype._getEndoRoots=function(l){var p=l===this.p?this.red:u.mont(l),g=new u(2).toRed(p).redInvm(),y=g.redNeg(),m=new u(3).toRed(p).redNeg().redSqrt().redMul(g),M=y.redAdd(m).fromRed(),E=y.redSub(m).fromRed();return[M,E]},o.prototype._getEndoBasis=function(l){for(var p=this.n.ushrn(Math.floor(this.n.bitLength()/2)),g=l,y=this.n.clone(),m=new u(1),M=new u(0),E=new u(0),B=new u(1),x,C,N,F,I,U,P,D=0,W,q;g.cmpn(0)!==0;){var O=y.div(g);W=y.sub(O.mul(g)),q=E.sub(O.mul(m));var L=B.sub(O.mul(M));if(!N&&W.cmp(p)<0)x=P.neg(),C=m,N=W.neg(),F=q;else if(N&&++D===2)break;P=W,y=g,g=W,E=m,m=q,B=M,M=L}I=W.neg(),U=q;var n=N.sqr().add(F.sqr()),d=I.sqr().add(U.sqr());return d.cmp(n)>=0&&(I=x,U=C),N.negative&&(N=N.neg(),F=F.neg()),I.negative&&(I=I.neg(),U=U.neg()),[{a:N,b:F},{a:I,b:U}]},o.prototype._endoSplit=function(l){var p=this.endo.basis,g=p[0],y=p[1],m=y.b.mul(l).divRound(this.n),M=g.b.neg().mul(l).divRound(this.n),E=m.mul(g.a),B=M.mul(y.a),x=m.mul(g.b),C=M.mul(y.b),N=l.sub(E).sub(B),F=x.add(C).neg();return{k1:N,k2:F}},o.prototype.pointFromX=function(l,p){l=new u(l,16),l.red||(l=l.toRed(this.red));var g=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),y=g.redSqrt();if(y.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var m=y.fromRed().isOdd();return(p&&!m||!p&&m)&&(y=y.redNeg()),this.point(l,y)},o.prototype.validate=function(l){if(l.inf)return!0;var p=l.x,g=l.y,y=this.a.redMul(p),m=p.redSqr().redMul(p).redIAdd(y).redIAdd(this.b);return g.redSqr().redISub(m).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(l,p,g){for(var y=this._endoWnafT1,m=this._endoWnafT2,M=0;M<l.length;M++){var E=this._endoSplit(p[M]),B=l[M],x=B._getBeta();E.k1.negative&&(E.k1.ineg(),B=B.neg(!0)),E.k2.negative&&(E.k2.ineg(),x=x.neg(!0)),y[M*2]=B,y[M*2+1]=x,m[M*2]=E.k1,m[M*2+1]=E.k2}for(var C=this._wnafMulAdd(1,y,m,M*2,g),N=0;N<M*2;N++)y[N]=null,m[N]=null;return C};function c(l,p,g,y){s.BasePoint.call(this,l,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new u(p,16),this.y=new u(g,16),y&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a(c,s.BasePoint),o.prototype.point=function(l,p,g){return new c(this,l,p,g)},o.prototype.pointFromJSON=function(l,p){return c.fromJSON(this,l,p)},c.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var g=this.curve,y=function(m){return g.point(m.x.redMul(g.endo.beta),m.y)};l.beta=p,p.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(y)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(y)}}}return p}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(l,p,g){typeof p=="string"&&(p=JSON.parse(p));var y=l.point(p[0],p[1],g);if(!p[2])return y;function m(E){return l.point(E[0],E[1],g)}var M=p[2];return y.precomputed={beta:null,doubles:M.doubles&&{step:M.doubles.step,points:[y].concat(M.doubles.points.map(m))},naf:M.naf&&{wnd:M.naf.wnd,points:[y].concat(M.naf.points.map(m))}},y},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var p=this.y.redSub(l.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(l.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(l.x),y=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,y)},c.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),y=l.redInvm(),m=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(y),M=m.redSqr().redISub(this.x.redAdd(this.x)),E=m.redMul(this.x.redSub(M)).redISub(this.y);return this.curve.point(M,E)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(l){return l=new u(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},c.prototype.mulAdd=function(l,p,g){var y=[this,p],m=[l,g];return this.curve.endo?this.curve._endoWnafMulAdd(y,m):this.curve._wnafMulAdd(1,y,m,2)},c.prototype.jmulAdd=function(l,p,g){var y=[this,p],m=[l,g];return this.curve.endo?this.curve._endoWnafMulAdd(y,m,!0):this.curve._wnafMulAdd(1,y,m,2,!0)},c.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},c.prototype.neg=function(l){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var g=this.precomputed,y=function(m){return m.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(y)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(y)}}}return p},c.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var l=this.curve.jpoint(this.x,this.y,this.curve.one);return l};function f(l,p,g,y){s.BasePoint.call(this,l,"jacobian"),p===null&&g===null&&y===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new u(0)):(this.x=new u(p,16),this.y=new u(g,16),this.z=new u(y,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(f,s.BasePoint),o.prototype.jpoint=function(l,p,g){return new f(this,l,p,g)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),p=l.redSqr(),g=this.x.redMul(p),y=this.y.redMul(p).redMul(l);return this.curve.point(g,y)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var p=l.z.redSqr(),g=this.z.redSqr(),y=this.x.redMul(p),m=l.x.redMul(g),M=this.y.redMul(p.redMul(l.z)),E=l.y.redMul(g.redMul(this.z)),B=y.redSub(m),x=M.redSub(E);if(B.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var C=B.redSqr(),N=C.redMul(B),F=y.redMul(C),I=x.redSqr().redIAdd(N).redISub(F).redISub(F),U=x.redMul(F.redISub(I)).redISub(M.redMul(N)),P=this.z.redMul(l.z).redMul(B);return this.curve.jpoint(I,U,P)},f.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var p=this.z.redSqr(),g=this.x,y=l.x.redMul(p),m=this.y,M=l.y.redMul(p).redMul(this.z),E=g.redSub(y),B=m.redSub(M);if(E.cmpn(0)===0)return B.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=E.redSqr(),C=x.redMul(E),N=g.redMul(x),F=B.redSqr().redIAdd(C).redISub(N).redISub(N),I=B.redMul(N.redISub(F)).redISub(m.redMul(C)),U=this.z.redMul(E);return this.curve.jpoint(F,I,U)},f.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<l;p++)g=g.dbl();return g}var y=this.curve.a,m=this.curve.tinv,M=this.x,E=this.y,B=this.z,x=B.redSqr().redSqr(),C=E.redAdd(E);for(p=0;p<l;p++){var N=M.redSqr(),F=C.redSqr(),I=F.redSqr(),U=N.redAdd(N).redIAdd(N).redIAdd(y.redMul(x)),P=M.redMul(F),D=U.redSqr().redISub(P.redAdd(P)),W=P.redISub(D),q=U.redMul(W);q=q.redIAdd(q).redISub(I);var O=C.redMul(B);p+1<l&&(x=x.redMul(I)),M=D,B=O,C=q}return this.curve.jpoint(M,C.redMul(m),B)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var l,p,g;if(this.zOne){var y=this.x.redSqr(),m=this.y.redSqr(),M=m.redSqr(),E=this.x.redAdd(m).redSqr().redISub(y).redISub(M);E=E.redIAdd(E);var B=y.redAdd(y).redIAdd(y),x=B.redSqr().redISub(E).redISub(E),C=M.redIAdd(M);C=C.redIAdd(C),C=C.redIAdd(C),l=x,p=B.redMul(E.redISub(x)).redISub(C),g=this.y.redAdd(this.y)}else{var N=this.x.redSqr(),F=this.y.redSqr(),I=F.redSqr(),U=this.x.redAdd(F).redSqr().redISub(N).redISub(I);U=U.redIAdd(U);var P=N.redAdd(N).redIAdd(N),D=P.redSqr(),W=I.redIAdd(I);W=W.redIAdd(W),W=W.redIAdd(W),l=D.redISub(U).redISub(U),p=P.redMul(U.redISub(l)).redISub(W),g=this.y.redMul(this.z),g=g.redIAdd(g)}return this.curve.jpoint(l,p,g)},f.prototype._threeDbl=function(){var l,p,g;if(this.zOne){var y=this.x.redSqr(),m=this.y.redSqr(),M=m.redSqr(),E=this.x.redAdd(m).redSqr().redISub(y).redISub(M);E=E.redIAdd(E);var B=y.redAdd(y).redIAdd(y).redIAdd(this.curve.a),x=B.redSqr().redISub(E).redISub(E);l=x;var C=M.redIAdd(M);C=C.redIAdd(C),C=C.redIAdd(C),p=B.redMul(E.redISub(x)).redISub(C),g=this.y.redAdd(this.y)}else{var N=this.z.redSqr(),F=this.y.redSqr(),I=this.x.redMul(F),U=this.x.redSub(N).redMul(this.x.redAdd(N));U=U.redAdd(U).redIAdd(U);var P=I.redIAdd(I);P=P.redIAdd(P);var D=P.redAdd(P);l=U.redSqr().redISub(D),g=this.y.redAdd(this.z).redSqr().redISub(F).redISub(N);var W=F.redSqr();W=W.redIAdd(W),W=W.redIAdd(W),W=W.redIAdd(W),p=U.redMul(P.redISub(l)).redISub(W)}return this.curve.jpoint(l,p,g)},f.prototype._dbl=function(){var l=this.curve.a,p=this.x,g=this.y,y=this.z,m=y.redSqr().redSqr(),M=p.redSqr(),E=g.redSqr(),B=M.redAdd(M).redIAdd(M).redIAdd(l.redMul(m)),x=p.redAdd(p);x=x.redIAdd(x);var C=x.redMul(E),N=B.redSqr().redISub(C.redAdd(C)),F=C.redISub(N),I=E.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var U=B.redMul(F).redISub(I),P=g.redAdd(g).redMul(y);return this.curve.jpoint(N,U,P)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),y=p.redSqr(),m=l.redAdd(l).redIAdd(l),M=m.redSqr(),E=this.x.redAdd(p).redSqr().redISub(l).redISub(y);E=E.redIAdd(E),E=E.redAdd(E).redIAdd(E),E=E.redISub(M);var B=E.redSqr(),x=y.redIAdd(y);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var C=m.redIAdd(E).redSqr().redISub(M).redISub(B).redISub(x),N=p.redMul(C);N=N.redIAdd(N),N=N.redIAdd(N);var F=this.x.redMul(B).redISub(N);F=F.redIAdd(F),F=F.redIAdd(F);var I=this.y.redMul(C.redMul(x.redISub(C)).redISub(E.redMul(B)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var U=this.z.redAdd(E).redSqr().redISub(g).redISub(B);return this.curve.jpoint(F,I,U)},f.prototype.mul=function(l,p){return l=new u(l,p),this.curve._wnafMul(this,l)},f.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var p=this.z.redSqr(),g=l.z.redSqr();if(this.x.redMul(g).redISub(l.x.redMul(p)).cmpn(0)!==0)return!1;var y=p.redMul(this.z),m=g.redMul(l.z);return this.y.redMul(m).redISub(l.y.redMul(y)).cmpn(0)===0},f.prototype.eqXToP=function(l){var p=this.z.redSqr(),g=l.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var y=l.clone(),m=this.curve.redN.redMul(p);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(m),this.x.cmp(g)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),Dm=gt((t,i)=>{lt();var r=sr(),u=pe(),a=es(),s=Zr();function e(c){a.call(this,"mont",c),this.a=new r(c.a,16).toRed(this.red),this.b=new r(c.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}u(e,a),i.exports=e,e.prototype.validate=function(c){var f=c.normalize().x,l=f.redSqr(),p=l.redMul(f).redAdd(l.redMul(this.a)).redAdd(f),g=p.redSqrt();return g.redSqr().cmp(p)===0};function o(c,f,l){a.BasePoint.call(this,c,"projective"),f===null&&l===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(f,16),this.z=new r(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}u(o,a.BasePoint),e.prototype.decodePoint=function(c,f){return this.point(s.toArray(c,f),1)},e.prototype.point=function(c,f){return new o(this,c,f)},e.prototype.pointFromJSON=function(c){return o.fromJSON(this,c)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(c,f){return new o(c,f[0],f[1]||c.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var c=this.x.redAdd(this.z),f=c.redSqr(),l=this.x.redSub(this.z),p=l.redSqr(),g=f.redSub(p),y=f.redMul(p),m=g.redMul(p.redAdd(this.curve.a24.redMul(g)));return this.curve.point(y,m)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(c,f){var l=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=c.x.redAdd(c.z),y=c.x.redSub(c.z),m=y.redMul(l),M=g.redMul(p),E=f.z.redMul(m.redAdd(M).redSqr()),B=f.x.redMul(m.redISub(M).redSqr());return this.curve.point(E,B)},o.prototype.mul=function(c){for(var f=c.clone(),l=this,p=this.curve.point(null,null),g=this,y=[];f.cmpn(0)!==0;f.iushrn(1))y.push(f.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(l=l.diffAdd(p,g),p=p.dbl()):(p=l.diffAdd(p,g),l=l.dbl());return p},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),jm=gt((t,i)=>{lt();var r=Zr(),u=sr(),a=pe(),s=es(),e=r.assert;function o(f){this.twisted=(f.a|0)!==1,this.mOneA=this.twisted&&(f.a|0)===-1,this.extended=this.mOneA,s.call(this,"edwards",f),this.a=new u(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new u(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new u(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(f.c|0)===1}a(o,s),i.exports=o,o.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},o.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},o.prototype.jpoint=function(f,l,p,g){return this.point(f,l,p,g)},o.prototype.pointFromX=function(f,l){f=new u(f,16),f.red||(f=f.toRed(this.red));var p=f.redSqr(),g=this.c2.redSub(this.a.redMul(p)),y=this.one.redSub(this.c2.redMul(this.d).redMul(p)),m=g.redMul(y.redInvm()),M=m.redSqrt();if(M.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var E=M.fromRed().isOdd();return(l&&!E||!l&&E)&&(M=M.redNeg()),this.point(f,M)},o.prototype.pointFromY=function(f,l){f=new u(f,16),f.red||(f=f.toRed(this.red));var p=f.redSqr(),g=p.redSub(this.c2),y=p.redMul(this.d).redMul(this.c2).redSub(this.a),m=g.redMul(y.redInvm());if(m.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,f)}var M=m.redSqrt();if(M.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return M.fromRed().isOdd()!==l&&(M=M.redNeg()),this.point(M,f)},o.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var l=f.x.redSqr(),p=f.y.redSqr(),g=l.redMul(this.a).redAdd(p),y=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(p)));return g.cmp(y)===0};function c(f,l,p,g,y){s.BasePoint.call(this,f,"projective"),l===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new u(l,16),this.y=new u(p,16),this.z=g?new u(g,16):this.curve.one,this.t=y&&new u(y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,s.BasePoint),o.prototype.pointFromJSON=function(f){return c.fromJSON(this,f)},o.prototype.point=function(f,l,p,g){return new c(this,f,l,p,g)},c.fromJSON=function(f,l){return new c(f,l[0],l[1],l[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var f=this.x.redSqr(),l=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(f),y=this.x.redAdd(this.y).redSqr().redISub(f).redISub(l),m=g.redAdd(l),M=m.redSub(p),E=g.redSub(l),B=y.redMul(M),x=m.redMul(E),C=y.redMul(E),N=M.redMul(m);return this.curve.point(B,x,N,C)},c.prototype._projDbl=function(){var f=this.x.redAdd(this.y).redSqr(),l=this.x.redSqr(),p=this.y.redSqr(),g,y,m,M,E,B;if(this.curve.twisted){M=this.curve._mulA(l);var x=M.redAdd(p);this.zOne?(g=f.redSub(l).redSub(p).redMul(x.redSub(this.curve.two)),y=x.redMul(M.redSub(p)),m=x.redSqr().redSub(x).redSub(x)):(E=this.z.redSqr(),B=x.redSub(E).redISub(E),g=f.redSub(l).redISub(p).redMul(B),y=x.redMul(M.redSub(p)),m=x.redMul(B))}else M=l.redAdd(p),E=this.curve._mulC(this.z).redSqr(),B=M.redSub(E).redSub(E),g=this.curve._mulC(f.redISub(M)).redMul(B),y=this.curve._mulC(M).redMul(l.redISub(p)),m=M.redMul(B);return this.curve.point(g,y,m)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(f){var l=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),p=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),g=this.t.redMul(this.curve.dd).redMul(f.t),y=this.z.redMul(f.z.redAdd(f.z)),m=p.redSub(l),M=y.redSub(g),E=y.redAdd(g),B=p.redAdd(l),x=m.redMul(M),C=E.redMul(B),N=m.redMul(B),F=M.redMul(E);return this.curve.point(x,C,F,N)},c.prototype._projAdd=function(f){var l=this.z.redMul(f.z),p=l.redSqr(),g=this.x.redMul(f.x),y=this.y.redMul(f.y),m=this.curve.d.redMul(g).redMul(y),M=p.redSub(m),E=p.redAdd(m),B=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(g).redISub(y),x=l.redMul(M).redMul(B),C,N;return this.curve.twisted?(C=l.redMul(E).redMul(y.redSub(this.curve._mulA(g))),N=M.redMul(E)):(C=l.redMul(E).redMul(y.redSub(g)),N=this.curve._mulC(M).redMul(E)),this.curve.point(x,C,N)},c.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},c.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},c.prototype.mulAdd=function(f,l,p){return this.curve._wnafMulAdd(1,[this,l],[f,p],2,!1)},c.prototype.jmulAdd=function(f,l,p){return this.curve._wnafMulAdd(1,[this,l],[f,p],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},c.prototype.eqXToP=function(f){var l=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var p=f.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(g),this.x.cmp(l)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add}),L0=gt(t=>{lt();var i=t;i.base=es(),i.short=Lm(),i.mont=Dm(),i.edwards=jm()}),An=gt(t=>{lt();var i=Vr(),r=pe();t.inherits=r;function u(L,n){return(L.charCodeAt(n)&64512)!==55296||n<0||n+1>=L.length?!1:(L.charCodeAt(n+1)&64512)===56320}function a(L,n){if(Array.isArray(L))return L.slice();if(!L)return[];var d=[];if(typeof L=="string")if(n){if(n==="hex")for(L=L.replace(/[^a-z0-9]+/ig,""),L.length%2!==0&&(L="0"+L),A=0;A<L.length;A+=2)d.push(parseInt(L[A]+L[A+1],16))}else for(var v=0,A=0;A<L.length;A++){var T=L.charCodeAt(A);T<128?d[v++]=T:T<2048?(d[v++]=T>>6|192,d[v++]=T&63|128):u(L,A)?(T=65536+((T&1023)<<10)+(L.charCodeAt(++A)&1023),d[v++]=T>>18|240,d[v++]=T>>12&63|128,d[v++]=T>>6&63|128,d[v++]=T&63|128):(d[v++]=T>>12|224,d[v++]=T>>6&63|128,d[v++]=T&63|128)}else for(A=0;A<L.length;A++)d[A]=L[A]|0;return d}t.toArray=a;function s(L){for(var n="",d=0;d<L.length;d++)n+=c(L[d].toString(16));return n}t.toHex=s;function e(L){var n=L>>>24|L>>>8&65280|L<<8&16711680|(L&255)<<24;return n>>>0}t.htonl=e;function o(L,n){for(var d="",v=0;v<L.length;v++){var A=L[v];n==="little"&&(A=e(A)),d+=f(A.toString(16))}return d}t.toHex32=o;function c(L){return L.length===1?"0"+L:L}t.zero2=c;function f(L){return L.length===7?"0"+L:L.length===6?"00"+L:L.length===5?"000"+L:L.length===4?"0000"+L:L.length===3?"00000"+L:L.length===2?"000000"+L:L.length===1?"0000000"+L:L}t.zero8=f;function l(L,n,d,v){var A=d-n;i(A%4===0);for(var T=new Array(A/4),S=0,w=n;S<T.length;S++,w+=4){var b;v==="big"?b=L[w]<<24|L[w+1]<<16|L[w+2]<<8|L[w+3]:b=L[w+3]<<24|L[w+2]<<16|L[w+1]<<8|L[w],T[S]=b>>>0}return T}t.join32=l;function p(L,n){for(var d=new Array(L.length*4),v=0,A=0;v<L.length;v++,A+=4){var T=L[v];n==="big"?(d[A]=T>>>24,d[A+1]=T>>>16&255,d[A+2]=T>>>8&255,d[A+3]=T&255):(d[A+3]=T>>>24,d[A+2]=T>>>16&255,d[A+1]=T>>>8&255,d[A]=T&255)}return d}t.split32=p;function g(L,n){return L>>>n|L<<32-n}t.rotr32=g;function y(L,n){return L<<n|L>>>32-n}t.rotl32=y;function m(L,n){return L+n>>>0}t.sum32=m;function M(L,n,d){return L+n+d>>>0}t.sum32_3=M;function E(L,n,d,v){return L+n+d+v>>>0}t.sum32_4=E;function B(L,n,d,v,A){return L+n+d+v+A>>>0}t.sum32_5=B;function x(L,n,d,v){var A=L[n],T=L[n+1],S=v+T>>>0,w=(S<v?1:0)+d+A;L[n]=w>>>0,L[n+1]=S}t.sum64=x;function C(L,n,d,v){var A=n+v>>>0,T=(A<n?1:0)+L+d;return T>>>0}t.sum64_hi=C;function N(L,n,d,v){var A=n+v;return A>>>0}t.sum64_lo=N;function F(L,n,d,v,A,T,S,w){var b=0,h=n;h=h+v>>>0,b+=h<n?1:0,h=h+T>>>0,b+=h<T?1:0,h=h+w>>>0,b+=h<w?1:0;var k=L+d+A+S+b;return k>>>0}t.sum64_4_hi=F;function I(L,n,d,v,A,T,S,w){var b=n+v+T+w;return b>>>0}t.sum64_4_lo=I;function U(L,n,d,v,A,T,S,w,b,h){var k=0,tt=n;tt=tt+v>>>0,k+=tt<n?1:0,tt=tt+T>>>0,k+=tt<T?1:0,tt=tt+w>>>0,k+=tt<w?1:0,tt=tt+h>>>0,k+=tt<h?1:0;var X=L+d+A+S+b+k;return X>>>0}t.sum64_5_hi=U;function P(L,n,d,v,A,T,S,w,b,h){var k=n+v+T+w+h;return k>>>0}t.sum64_5_lo=P;function D(L,n,d){var v=n<<32-d|L>>>d;return v>>>0}t.rotr64_hi=D;function W(L,n,d){var v=L<<32-d|n>>>d;return v>>>0}t.rotr64_lo=W;function q(L,n,d){return L>>>d}t.shr64_hi=q;function O(L,n,d){var v=L<<32-d|n>>>d;return v>>>0}t.shr64_lo=O}),Aa=gt(t=>{lt();var i=An(),r=Vr();function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=u,u.prototype.update=function(a,s){if(a=i.toArray(a,s),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var e=a.length%this._delta8;this.pending=a.slice(a.length-e,a.length),this.pending.length===0&&(this.pending=null),a=i.join32(a,0,a.length-e,this.endian);for(var o=0;o<a.length;o+=this._delta32)this._update(a,o,o+this._delta32)}return this},u.prototype.digest=function(a){return this.update(this._pad()),r(this.pending===null),this._digest(a)},u.prototype._pad=function(){var a=this.pendingTotal,s=this._delta8,e=s-(a+this.padLength)%s,o=new Array(e+this.padLength);o[0]=128;for(var c=1;c<e;c++)o[c]=0;if(a<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)o[c++]=0;o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=a>>>24&255,o[c++]=a>>>16&255,o[c++]=a>>>8&255,o[c++]=a&255}else for(o[c++]=a&255,o[c++]=a>>>8&255,o[c++]=a>>>16&255,o[c++]=a>>>24&255,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,f=8;f<this.padLength;f++)o[c++]=0;return o}}),D0=gt(t=>{lt();var i=An(),r=i.rotr32;function u(p,g,y,m){if(p===0)return a(g,y,m);if(p===1||p===3)return e(g,y,m);if(p===2)return s(g,y,m)}t.ft_1=u;function a(p,g,y){return p&g^~p&y}t.ch32=a;function s(p,g,y){return p&g^p&y^g&y}t.maj32=s;function e(p,g,y){return p^g^y}t.p32=e;function o(p){return r(p,2)^r(p,13)^r(p,22)}t.s0_256=o;function c(p){return r(p,6)^r(p,11)^r(p,25)}t.s1_256=c;function f(p){return r(p,7)^r(p,18)^p>>>3}t.g0_256=f;function l(p){return r(p,17)^r(p,19)^p>>>10}t.g1_256=l}),Um=gt((t,i)=>{lt();var r=An(),u=Aa(),a=D0(),s=r.rotl32,e=r.sum32,o=r.sum32_5,c=a.ft_1,f=u.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(p,f),i.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,y){for(var m=this.W,M=0;M<16;M++)m[M]=g[y+M];for(;M<m.length;M++)m[M]=s(m[M-3]^m[M-8]^m[M-14]^m[M-16],1);var E=this.h[0],B=this.h[1],x=this.h[2],C=this.h[3],N=this.h[4];for(M=0;M<m.length;M++){var F=~~(M/20),I=o(s(E,5),c(F,B,x,C),N,m[M],l[F]);N=C,C=x,x=s(B,30),B=E,E=I}this.h[0]=e(this.h[0],E),this.h[1]=e(this.h[1],B),this.h[2]=e(this.h[2],x),this.h[3]=e(this.h[3],C),this.h[4]=e(this.h[4],N)},p.prototype._digest=function(g){return g==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),j0=gt((t,i)=>{lt();var r=An(),u=Aa(),a=D0(),s=Vr(),e=r.sum32,o=r.sum32_4,c=r.sum32_5,f=a.ch32,l=a.maj32,p=a.s0_256,g=a.s1_256,y=a.g0_256,m=a.g1_256,M=u.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function B(){if(!(this instanceof B))return new B;M.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,this.W=new Array(64)}r.inherits(B,M),i.exports=B,B.blockSize=512,B.outSize=256,B.hmacStrength=192,B.padLength=64,B.prototype._update=function(x,C){for(var N=this.W,F=0;F<16;F++)N[F]=x[C+F];for(;F<N.length;F++)N[F]=o(m(N[F-2]),N[F-7],y(N[F-15]),N[F-16]);var I=this.h[0],U=this.h[1],P=this.h[2],D=this.h[3],W=this.h[4],q=this.h[5],O=this.h[6],L=this.h[7];for(s(this.k.length===N.length),F=0;F<N.length;F++){var n=c(L,g(W),f(W,q,O),this.k[F],N[F]),d=e(p(I),l(I,U,P));L=O,O=q,q=W,W=e(D,n),D=P,P=U,U=I,I=e(n,d)}this.h[0]=e(this.h[0],I),this.h[1]=e(this.h[1],U),this.h[2]=e(this.h[2],P),this.h[3]=e(this.h[3],D),this.h[4]=e(this.h[4],W),this.h[5]=e(this.h[5],q),this.h[6]=e(this.h[6],O),this.h[7]=e(this.h[7],L)},B.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),Fm=gt((t,i)=>{lt();var r=An(),u=j0();function a(){if(!(this instanceof a))return new a;u.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(a,u),i.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),U0=gt((t,i)=>{lt();var r=An(),u=Aa(),a=Vr(),s=r.rotr64_hi,e=r.rotr64_lo,o=r.shr64_hi,c=r.shr64_lo,f=r.sum64,l=r.sum64_hi,p=r.sum64_lo,g=r.sum64_4_hi,y=r.sum64_4_lo,m=r.sum64_5_hi,M=r.sum64_5_lo,E=u.BlockHash,B=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=B,this.W=new Array(160)}r.inherits(x,E),i.exports=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(d,v){for(var A=this.W,T=0;T<32;T++)A[T]=d[v+T];for(;T<A.length;T+=2){var S=L(A[T-4],A[T-3]),w=n(A[T-4],A[T-3]),b=A[T-14],h=A[T-13],k=q(A[T-30],A[T-29]),tt=O(A[T-30],A[T-29]),X=A[T-32],ft=A[T-31];A[T]=g(S,w,b,h,k,tt,X,ft),A[T+1]=y(S,w,b,h,k,tt,X,ft)}},x.prototype._update=function(d,v){this._prepareBlock(d,v);var A=this.W,T=this.h[0],S=this.h[1],w=this.h[2],b=this.h[3],h=this.h[4],k=this.h[5],tt=this.h[6],X=this.h[7],ft=this.h[8],et=this.h[9],at=this.h[10],$=this.h[11],J=this.h[12],R=this.h[13],j=this.h[14],z=this.h[15];a(this.k.length===A.length);for(var Z=0;Z<A.length;Z+=2){var Q=j,K=z,G=D(ft,et),H=W(ft,et),Y=C(ft,et,at,$,J),it=N(ft,et,at,$,J,R),ot=this.k[Z],mt=this.k[Z+1],_t=A[Z],ht=A[Z+1],vt=m(Q,K,G,H,Y,it,ot,mt,_t,ht),pt=M(Q,K,G,H,Y,it,ot,mt,_t,ht);Q=U(T,S),K=P(T,S),G=F(T,S,w,b,h),H=I(T,S,w,b,h,k);var V=l(Q,K,G,H),rt=p(Q,K,G,H);j=J,z=R,J=at,R=$,at=ft,$=et,ft=l(tt,X,vt,pt),et=p(X,X,vt,pt),tt=h,X=k,h=w,k=b,w=T,b=S,T=l(vt,pt,V,rt),S=p(vt,pt,V,rt)}f(this.h,0,T,S),f(this.h,2,w,b),f(this.h,4,h,k),f(this.h,6,tt,X),f(this.h,8,ft,et),f(this.h,10,at,$),f(this.h,12,J,R),f(this.h,14,j,z)},x.prototype._digest=function(d){return d==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function C(d,v,A,T,S){var w=d&A^~d&S;return w<0&&(w+=4294967296),w}function N(d,v,A,T,S,w){var b=v&T^~v&w;return b<0&&(b+=4294967296),b}function F(d,v,A,T,S){var w=d&A^d&S^A&S;return w<0&&(w+=4294967296),w}function I(d,v,A,T,S,w){var b=v&T^v&w^T&w;return b<0&&(b+=4294967296),b}function U(d,v){var A=s(d,v,28),T=s(v,d,2),S=s(v,d,7),w=A^T^S;return w<0&&(w+=4294967296),w}function P(d,v){var A=e(d,v,28),T=e(v,d,2),S=e(v,d,7),w=A^T^S;return w<0&&(w+=4294967296),w}function D(d,v){var A=s(d,v,14),T=s(d,v,18),S=s(v,d,9),w=A^T^S;return w<0&&(w+=4294967296),w}function W(d,v){var A=e(d,v,14),T=e(d,v,18),S=e(v,d,9),w=A^T^S;return w<0&&(w+=4294967296),w}function q(d,v){var A=s(d,v,1),T=s(d,v,8),S=o(d,v,7),w=A^T^S;return w<0&&(w+=4294967296),w}function O(d,v){var A=e(d,v,1),T=e(d,v,8),S=c(d,v,7),w=A^T^S;return w<0&&(w+=4294967296),w}function L(d,v){var A=s(d,v,19),T=s(v,d,29),S=o(d,v,6),w=A^T^S;return w<0&&(w+=4294967296),w}function n(d,v){var A=e(d,v,19),T=e(v,d,29),S=c(d,v,6),w=A^T^S;return w<0&&(w+=4294967296),w}}),Km=gt((t,i)=>{lt();var r=An(),u=U0();function a(){if(!(this instanceof a))return new a;u.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(a,u),i.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),zm=gt(t=>{lt(),t.sha1=Um(),t.sha224=Fm(),t.sha256=j0(),t.sha384=Km(),t.sha512=U0()}),Wm=gt(t=>{lt();var i=An(),r=Aa(),u=i.rotl32,a=i.sum32,s=i.sum32_3,e=i.sum32_4,o=r.BlockHash;function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}i.inherits(c,o),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(E,B){for(var x=this.h[0],C=this.h[1],N=this.h[2],F=this.h[3],I=this.h[4],U=x,P=C,D=N,W=F,q=I,O=0;O<80;O++){var L=a(u(e(x,f(O,C,N,F),E[g[O]+B],l(O)),m[O]),I);x=I,I=F,F=u(N,10),N=C,C=L,L=a(u(e(U,f(79-O,P,D,W),E[y[O]+B],p(O)),M[O]),q),U=q,q=W,W=u(D,10),D=P,P=L}L=s(this.h[1],N,W),this.h[1]=s(this.h[2],F,q),this.h[2]=s(this.h[3],I,U),this.h[3]=s(this.h[4],x,P),this.h[4]=s(this.h[0],C,D),this.h[0]=L},c.prototype._digest=function(E){return E==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};function f(E,B,x,C){return E<=15?B^x^C:E<=31?B&x|~B&C:E<=47?(B|~x)^C:E<=63?B&C|x&~C:B^(x|~C)}function l(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function p(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],M=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),qm=gt((t,i)=>{lt();var r=An(),u=Vr();function a(s,e,o){if(!(this instanceof a))return new a(s,e,o);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,o))}i.exports=a,a.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),u(s.length<=this.blockSize);for(var e=s.length;e<this.blockSize;e++)s.push(0);for(e=0;e<s.length;e++)s[e]^=54;for(this.inner=new this.Hash().update(s),e=0;e<s.length;e++)s[e]^=106;this.outer=new this.Hash().update(s)},a.prototype.update=function(s,e){return this.inner.update(s,e),this},a.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}}),Ta=gt(t=>{lt();var i=t;i.utils=An(),i.common=Aa(),i.sha=zm(),i.ripemd=Wm(),i.hmac=qm(),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160}),$m=gt((t,i)=>{lt(),i.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),th=gt(t=>{lt();var i=t,r=Ta(),u=L0(),a=Zr(),s=a.assert;function e(f){f.type==="short"?this.curve=new u.short(f):f.type==="edwards"?this.curve=new u.edwards(f):this.curve=new u.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i.PresetCurve=e;function o(f,l){Object.defineProperty(i,f,{configurable:!0,enumerable:!0,get:function(){var p=new e(l);return Object.defineProperty(i,f,{configurable:!0,enumerable:!0,value:p}),p}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=$m()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})}),Hm=gt((t,i)=>{lt();var r=Ta(),u=N0(),a=Vr();function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=u.toArray(e.entropy,e.entropyEnc||"hex"),c=u.toArray(e.nonce,e.nonceEnc||"hex"),f=u.toArray(e.pers,e.persEnc||"hex");a(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,c,f)}i.exports=s,s.prototype._init=function(e,o,c){var f=e.concat(o).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(e){var o=this._hmac().update(this.V).update([0]);e&&(o=o.update(e)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,o,c,f){typeof o!="string"&&(f=c,c=o,o=null),e=u.toArray(e,o),c=u.toArray(c,f),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(c||[])),this._reseed=1},s.prototype.generate=function(e,o,c,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(f=c,c=o,o=null),c&&(c=u.toArray(c,f||"hex"),this._update(c));for(var l=[];l.length<e;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var p=l.slice(0,e);return this._update(c),this._reseed++,u.encode(p,o)}}),Gm=gt((t,i)=>{lt();var r=sr(),u=Zr(),a=u.assert;function s(e,o){this.ec=e,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}i.exports=s,s.fromPublic=function(e,o,c){return o instanceof s?o:new s(e,{pub:o,pubEnc:c})},s.fromPrivate=function(e,o,c){return o instanceof s?o:new s(e,{priv:o,privEnc:c})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,o){return typeof e=="string"&&(o=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,e):this.pub},s.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,o){this.priv=new r(e,o||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,o){if(e.x||e.y){this.ec.curve.type==="mont"?a(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&a(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,o)},s.prototype.derive=function(e){return e.validate()||a(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,o,c){return this.ec.sign(e,this,o,c)},s.prototype.verify=function(e,o){return this.ec.verify(e,o,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),Vm=gt((t,i)=>{lt();var r=sr(),u=Zr(),a=u.assert;function s(l,p){if(l instanceof s)return l;this._importDER(l,p)||(a(l.r&&l.s,"Signature without r or s"),this.r=new r(l.r,16),this.s=new r(l.s,16),l.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=l.recoveryParam)}i.exports=s;function e(){this.place=0}function o(l,p){var g=l[p.place++];if(!(g&128))return g;var y=g&15;if(y===0||y>4)return!1;for(var m=0,M=0,E=p.place;M<y;M++,E++)m<<=8,m|=l[E],m>>>=0;return m<=127?!1:(p.place=E,m)}function c(l){for(var p=0,g=l.length-1;!l[p]&&!(l[p+1]&128)&&p<g;)p++;return p===0?l:l.slice(p)}s.prototype._importDER=function(l,p){l=u.toArray(l,p);var g=new e;if(l[g.place++]!==48)return!1;var y=o(l,g);if(y===!1||y+g.place!==l.length||l[g.place++]!==2)return!1;var m=o(l,g);if(m===!1)return!1;var M=l.slice(g.place,m+g.place);if(g.place+=m,l[g.place++]!==2)return!1;var E=o(l,g);if(E===!1||l.length!==E+g.place)return!1;var B=l.slice(g.place,E+g.place);if(M[0]===0)if(M[1]&128)M=M.slice(1);else return!1;if(B[0]===0)if(B[1]&128)B=B.slice(1);else return!1;return this.r=new r(M),this.s=new r(B),this.recoveryParam=null,!0};function f(l,p){if(p<128){l.push(p);return}var g=1+(Math.log(p)/Math.LN2>>>3);for(l.push(g|128);--g;)l.push(p>>>(g<<3)&255);l.push(p)}s.prototype.toDER=function(l){var p=this.r.toArray(),g=this.s.toArray();for(p[0]&128&&(p=[0].concat(p)),g[0]&128&&(g=[0].concat(g)),p=c(p),g=c(g);!g[0]&&!(g[1]&128);)g=g.slice(1);var y=[2];f(y,p.length),y=y.concat(p),y.push(2),f(y,g.length);var m=y.concat(g),M=[48];return f(M,m.length),M=M.concat(m),u.encode(M,l)}}),Zm=gt((t,i)=>{lt();var r=sr(),u=Hm(),a=Zr(),s=th(),e=Yu(),o=a.assert,c=Gm(),f=Vm();function l(p){if(!(this instanceof l))return new l(p);typeof p=="string"&&(o(Object.prototype.hasOwnProperty.call(s,p),"Unknown curve "+p),p=s[p]),p instanceof s.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}i.exports=l,l.prototype.keyPair=function(p){return new c(this,p)},l.prototype.keyFromPrivate=function(p,g){return c.fromPrivate(this,p,g)},l.prototype.keyFromPublic=function(p,g){return c.fromPublic(this,p,g)},l.prototype.genKeyPair=function(p){p||(p={});for(var g=new u({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||e(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),y=this.n.byteLength(),m=this.n.sub(new r(2));;){var M=new r(g.generate(y));if(!(M.cmp(m)>0))return M.iaddn(1),this.keyFromPrivate(M)}},l.prototype._truncateToN=function(p,g){var y=p.byteLength()*8-this.n.bitLength();return y>0&&(p=p.ushrn(y)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},l.prototype.sign=function(p,g,y,m){typeof y=="object"&&(m=y,y=null),m||(m={}),g=this.keyFromPrivate(g,y),p=this._truncateToN(new r(p,16));for(var M=this.n.byteLength(),E=g.getPrivate().toArray("be",M),B=p.toArray("be",M),x=new u({hash:this.hash,entropy:E,nonce:B,pers:m.pers,persEnc:m.persEnc||"utf8"}),C=this.n.sub(new r(1)),N=0;;N++){var F=m.k?m.k(N):new r(x.generate(this.n.byteLength()));if(F=this._truncateToN(F,!0),!(F.cmpn(1)<=0||F.cmp(C)>=0)){var I=this.g.mul(F);if(!I.isInfinity()){var U=I.getX(),P=U.umod(this.n);if(P.cmpn(0)!==0){var D=F.invm(this.n).mul(P.mul(g.getPrivate()).iadd(p));if(D=D.umod(this.n),D.cmpn(0)!==0){var W=(I.getY().isOdd()?1:0)|(U.cmp(P)!==0?2:0);return m.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),W^=1),new f({r:P,s:D,recoveryParam:W})}}}}}},l.prototype.verify=function(p,g,y,m){p=this._truncateToN(new r(p,16)),y=this.keyFromPublic(y,m),g=new f(g,"hex");var M=g.r,E=g.s;if(M.cmpn(1)<0||M.cmp(this.n)>=0||E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;var B=E.invm(this.n),x=B.mul(p).umod(this.n),C=B.mul(M).umod(this.n),N;return this.curve._maxwellTrick?(N=this.g.jmulAdd(x,y.getPublic(),C),N.isInfinity()?!1:N.eqXToP(M)):(N=this.g.mulAdd(x,y.getPublic(),C),N.isInfinity()?!1:N.getX().umod(this.n).cmp(M)===0)},l.prototype.recoverPubKey=function(p,g,y,m){o((3&y)===y,"The recovery param is more than two bits"),g=new f(g,m);var M=this.n,E=new r(p),B=g.r,x=g.s,C=y&1,N=y>>1;if(B.cmp(this.curve.p.umod(this.curve.n))>=0&&N)throw new Error("Unable to find sencond key candinate");N?B=this.curve.pointFromX(B.add(this.curve.n),C):B=this.curve.pointFromX(B,C);var F=g.r.invm(M),I=M.sub(E).mul(F).umod(M),U=x.mul(F).umod(M);return this.g.mulAdd(I,B,U)},l.prototype.getKeyRecoveryParam=function(p,g,y,m){if(g=new f(g,m),g.recoveryParam!==null)return g.recoveryParam;for(var M=0;M<4;M++){var E;try{E=this.recoverPubKey(p,g,M)}catch{continue}if(E.eq(y))return M}throw new Error("Unable to find valid recovery factor")}}),Jm=gt((t,i)=>{lt();var r=Zr(),u=r.assert,a=r.parseBytes,s=r.cachedProperty;function e(o,c){this.eddsa=o,this._secret=a(c.secret),o.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=a(c.pub)}e.fromPublic=function(o,c){return c instanceof e?c:new e(o,{pub:c})},e.fromSecret=function(o,c){return c instanceof e?c:new e(o,{secret:c})},e.prototype.secret=function(){return this._secret},s(e,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(e,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(e,"privBytes",function(){var o=this.eddsa,c=this.hash(),f=o.encodingLength-1,l=c.slice(0,o.encodingLength);return l[0]&=248,l[f]&=127,l[f]|=64,l}),s(e,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(e,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(e,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),e.prototype.sign=function(o){return u(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},e.prototype.verify=function(o,c){return this.eddsa.verify(o,c,this)},e.prototype.getSecret=function(o){return u(this._secret,"KeyPair is public only"),r.encode(this.secret(),o)},e.prototype.getPublic=function(o){return r.encode(this.pubBytes(),o)},i.exports=e}),Xm=gt((t,i)=>{lt();var r=sr(),u=Zr(),a=u.assert,s=u.cachedProperty,e=u.parseBytes;function o(c,f){this.eddsa=c,typeof f!="object"&&(f=e(f)),Array.isArray(f)&&(f={R:f.slice(0,c.encodingLength),S:f.slice(c.encodingLength)}),a(f.R&&f.S,"Signature without R or S"),c.isPoint(f.R)&&(this._R=f.R),f.S instanceof r&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}s(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return u.encode(this.toBytes(),"hex").toUpperCase()},i.exports=o}),Ym=gt((t,i)=>{lt();var r=Ta(),u=th(),a=Zr(),s=a.assert,e=a.parseBytes,o=Jm(),c=Xm();function f(l){if(s(l==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(l);l=u[l].curve,this.curve=l,this.g=l.g,this.g.precompute(l.n.bitLength()+1),this.pointClass=l.point().constructor,this.encodingLength=Math.ceil(l.n.bitLength()/8),this.hash=r.sha512}i.exports=f,f.prototype.sign=function(l,p){l=e(l);var g=this.keyFromSecret(p),y=this.hashInt(g.messagePrefix(),l),m=this.g.mul(y),M=this.encodePoint(m),E=this.hashInt(M,g.pubBytes(),l).mul(g.priv()),B=y.add(E).umod(this.curve.n);return this.makeSignature({R:m,S:B,Rencoded:M})},f.prototype.verify=function(l,p,g){l=e(l),p=this.makeSignature(p);var y=this.keyFromPublic(g),m=this.hashInt(p.Rencoded(),y.pubBytes(),l),M=this.g.mul(p.S()),E=p.R().add(y.pub().mul(m));return E.eq(M)},f.prototype.hashInt=function(){for(var l=this.hash(),p=0;p<arguments.length;p++)l.update(arguments[p]);return a.intFromLE(l.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(l){return o.fromPublic(this,l)},f.prototype.keyFromSecret=function(l){return o.fromSecret(this,l)},f.prototype.makeSignature=function(l){return l instanceof c?l:new c(this,l)},f.prototype.encodePoint=function(l){var p=l.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=l.getX().isOdd()?128:0,p},f.prototype.decodePoint=function(l){l=a.parseBytes(l);var p=l.length-1,g=l.slice(0,p).concat(l[p]&-129),y=(l[p]&128)!==0,m=a.intFromLE(g);return this.curve.pointFromY(m,y)},f.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(l){return a.intFromLE(l)},f.prototype.isPoint=function(l){return l instanceof this.pointClass}}),rs=gt(t=>{lt();var i=t;i.version=Nm().version,i.utils=Zr(),i.rand=Yu(),i.curve=L0(),i.curves=th(),i.ec=Zm(),i.eddsa=Ym()}),F0=gt((t,i)=>{lt(),function(r,u){function a(n,d){if(!n)throw new Error(d||"Assertion failed")}function s(n,d){n.super_=d;var v=function(){};v.prototype=d.prototype,n.prototype=new v,n.prototype.constructor=n}function e(n,d,v){if(e.isBN(n))return n;this.negative=0,this.words=null,this.length=0,this.red=null,n!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(n||0,d||10,v||"be"))}typeof r=="object"?r.exports=e:u.BN=e,e.BN=e,e.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$e().Buffer}catch{}e.isBN=function(n){return n instanceof e?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===e.wordSize&&Array.isArray(n.words)},e.max=function(n,d){return n.cmp(d)>0?n:d},e.min=function(n,d){return n.cmp(d)<0?n:d},e.prototype._init=function(n,d,v){if(typeof n=="number")return this._initNumber(n,d,v);if(typeof n=="object")return this._initArray(n,d,v);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),n=n.toString().replace(/\s+/g,"");var A=0;n[0]==="-"&&(A++,this.negative=1),A<n.length&&(d===16?this._parseHex(n,A,v):(this._parseBase(n,d,A),v==="le"&&this._initArray(this.toArray(),d,v)))},e.prototype._initNumber=function(n,d,v){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(a(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},e.prototype._initArray=function(n,d,v){if(a(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T,S,w=0;if(v==="be")for(A=n.length-1,T=0;A>=0;A-=3)S=n[A]|n[A-1]<<8|n[A-2]<<16,this.words[T]|=S<<w&67108863,this.words[T+1]=S>>>26-w&67108863,w+=24,w>=26&&(w-=26,T++);else if(v==="le")for(A=0,T=0;A<n.length;A+=3)S=n[A]|n[A+1]<<8|n[A+2]<<16,this.words[T]|=S<<w&67108863,this.words[T+1]=S>>>26-w&67108863,w+=24,w>=26&&(w-=26,T++);return this._strip()};function c(n,d){var v=n.charCodeAt(d);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;a(!1,"Invalid character in "+n)}function f(n,d,v){var A=c(n,v);return v-1>=d&&(A|=c(n,v-1)<<4),A}e.prototype._parseHex=function(n,d,v){this.length=Math.ceil((n.length-d)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T=0,S=0,w;if(v==="be")for(A=n.length-1;A>=d;A-=2)w=f(n,d,A)<<T,this.words[S]|=w&67108863,T>=18?(T-=18,S+=1,this.words[S]|=w>>>26):T+=8;else{var b=n.length-d;for(A=b%2===0?d+1:d;A<n.length;A+=2)w=f(n,d,A)<<T,this.words[S]|=w&67108863,T>=18?(T-=18,S+=1,this.words[S]|=w>>>26):T+=8}this._strip()};function l(n,d,v,A){for(var T=0,S=0,w=Math.min(n.length,v),b=d;b<w;b++){var h=n.charCodeAt(b)-48;T*=A,h>=49?S=h-49+10:h>=17?S=h-17+10:S=h,a(h>=0&&S<A,"Invalid character"),T+=S}return T}e.prototype._parseBase=function(n,d,v){this.words=[0],this.length=1;for(var A=0,T=1;T<=67108863;T*=d)A++;A--,T=T/d|0;for(var S=n.length-v,w=S%A,b=Math.min(S,S-w)+v,h=0,k=v;k<b;k+=A)h=l(n,k,k+A,d),this.imuln(T),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(w!==0){var tt=1;for(h=l(n,k,n.length,d),k=0;k<w;k++)tt*=d;this.imuln(tt),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},e.prototype.copy=function(n){n.words=new Array(this.length);for(var d=0;d<this.length;d++)n.words[d]=this.words[d];n.length=this.length,n.negative=this.negative,n.red=this.red};function p(n,d){n.words=d.words,n.length=d.length,n.negative=d.negative,n.red=d.red}if(e.prototype._move=function(n){p(n,this)},e.prototype.clone=function(){var n=new e(null);return this.copy(n),n},e.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{e.prototype.inspect=g}else e.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(n,d){n=n||10,d=d|0||1;var v;if(n===16||n==="hex"){v="";for(var A=0,T=0,S=0;S<this.length;S++){var w=this.words[S],b=((w<<A|T)&16777215).toString(16);T=w>>>24-A&16777215,A+=2,A>=26&&(A-=26,S--),T!==0||S!==this.length-1?v=y[6-b.length]+b+v:v=b+v}for(T!==0&&(v=T.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(n===(n|0)&&n>=2&&n<=36){var h=m[n],k=M[n];v="";var tt=this.clone();for(tt.negative=0;!tt.isZero();){var X=tt.modrn(k).toString(n);tt=tt.idivn(k),tt.isZero()?v=X+v:v=y[h-X.length]+X+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}a(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},e.prototype.toJSON=function(){return this.toString(16,2)},o&&(e.prototype.toBuffer=function(n,d){return this.toArrayLike(o,n,d)}),e.prototype.toArray=function(n,d){return this.toArrayLike(Array,n,d)};var E=function(n,d){return n.allocUnsafe?n.allocUnsafe(d):new n(d)};e.prototype.toArrayLike=function(n,d,v){this._strip();var A=this.byteLength(),T=v||Math.max(1,A);a(A<=T,"byte array longer than desired length"),a(T>0,"Requested array length <= 0");var S=E(n,T),w=d==="le"?"LE":"BE";return this["_toArrayLike"+w](S,A),S},e.prototype._toArrayLikeLE=function(n,d){for(var v=0,A=0,T=0,S=0;T<this.length;T++){var w=this.words[T]<<S|A;n[v++]=w&255,v<n.length&&(n[v++]=w>>8&255),v<n.length&&(n[v++]=w>>16&255),S===6?(v<n.length&&(n[v++]=w>>24&255),A=0,S=0):(A=w>>>24,S+=2)}if(v<n.length)for(n[v++]=A;v<n.length;)n[v++]=0},e.prototype._toArrayLikeBE=function(n,d){for(var v=n.length-1,A=0,T=0,S=0;T<this.length;T++){var w=this.words[T]<<S|A;n[v--]=w&255,v>=0&&(n[v--]=w>>8&255),v>=0&&(n[v--]=w>>16&255),S===6?(v>=0&&(n[v--]=w>>24&255),A=0,S=0):(A=w>>>24,S+=2)}if(v>=0)for(n[v--]=A;v>=0;)n[v--]=0},Math.clz32?e.prototype._countBits=function(n){return 32-Math.clz32(n)}:e.prototype._countBits=function(n){var d=n,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},e.prototype._zeroBits=function(n){if(n===0)return 26;var d=n,v=0;return!(d&8191)&&(v+=13,d>>>=13),!(d&127)&&(v+=7,d>>>=7),!(d&15)&&(v+=4,d>>>=4),!(d&3)&&(v+=2,d>>>=2),!(d&1)&&v++,v},e.prototype.bitLength=function(){var n=this.words[this.length-1],d=this._countBits(n);return(this.length-1)*26+d};function B(n){for(var d=new Array(n.bitLength()),v=0;v<d.length;v++){var A=v/26|0,T=v%26;d[v]=n.words[A]>>>T&1}return d}e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(n+=v,v!==26)break}return n},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},e.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var d=0;d<n.length;d++)this.words[d]=this.words[d]|n.words[d];return this._strip()},e.prototype.ior=function(n){return a((this.negative|n.negative)===0),this.iuor(n)},e.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},e.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},e.prototype.iuand=function(n){var d;this.length>n.length?d=n:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&n.words[v];return this.length=d.length,this._strip()},e.prototype.iand=function(n){return a((this.negative|n.negative)===0),this.iuand(n)},e.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},e.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},e.prototype.iuxor=function(n){var d,v;this.length>n.length?(d=this,v=n):(d=n,v=this);for(var A=0;A<v.length;A++)this.words[A]=d.words[A]^v.words[A];if(this!==d)for(;A<d.length;A++)this.words[A]=d.words[A];return this.length=d.length,this._strip()},e.prototype.ixor=function(n){return a((this.negative|n.negative)===0),this.iuxor(n)},e.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},e.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},e.prototype.inotn=function(n){a(typeof n=="number"&&n>=0);var d=Math.ceil(n/26)|0,v=n%26;this._expand(d),v>0&&d--;for(var A=0;A<d;A++)this.words[A]=~this.words[A]&67108863;return v>0&&(this.words[A]=~this.words[A]&67108863>>26-v),this._strip()},e.prototype.notn=function(n){return this.clone().inotn(n)},e.prototype.setn=function(n,d){a(typeof n=="number"&&n>=0);var v=n/26|0,A=n%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<A:this.words[v]=this.words[v]&~(1<<A),this._strip()},e.prototype.iadd=function(n){var d;if(this.negative!==0&&n.negative===0)return this.negative=0,d=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,d=this.isub(n),n.negative=1,d._normSign();var v,A;this.length>n.length?(v=this,A=n):(v=n,A=this);for(var T=0,S=0;S<A.length;S++)d=(v.words[S]|0)+(A.words[S]|0)+T,this.words[S]=d&67108863,T=d>>>26;for(;T!==0&&S<v.length;S++)d=(v.words[S]|0)+T,this.words[S]=d&67108863,T=d>>>26;if(this.length=v.length,T!==0)this.words[this.length]=T,this.length++;else if(v!==this)for(;S<v.length;S++)this.words[S]=v.words[S];return this},e.prototype.add=function(n){var d;return n.negative!==0&&this.negative===0?(n.negative=0,d=this.sub(n),n.negative^=1,d):n.negative===0&&this.negative!==0?(this.negative=0,d=n.sub(this),this.negative=1,d):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},e.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var d=this.iadd(n);return n.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var v=this.cmp(n);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,T;v>0?(A=this,T=n):(A=n,T=this);for(var S=0,w=0;w<T.length;w++)d=(A.words[w]|0)-(T.words[w]|0)+S,S=d>>26,this.words[w]=d&67108863;for(;S!==0&&w<A.length;w++)d=(A.words[w]|0)+S,S=d>>26,this.words[w]=d&67108863;if(S===0&&w<A.length&&A!==this)for(;w<A.length;w++)this.words[w]=A.words[w];return this.length=Math.max(this.length,w),A!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(n){return this.clone().isub(n)};function x(n,d,v){v.negative=d.negative^n.negative;var A=n.length+d.length|0;v.length=A,A=A-1|0;var T=n.words[0]|0,S=d.words[0]|0,w=T*S,b=w&67108863,h=w/67108864|0;v.words[0]=b;for(var k=1;k<A;k++){for(var tt=h>>>26,X=h&67108863,ft=Math.min(k,d.length-1),et=Math.max(0,k-n.length+1);et<=ft;et++){var at=k-et|0;T=n.words[at]|0,S=d.words[et]|0,w=T*S+X,tt+=w/67108864|0,X=w&67108863}v.words[k]=X|0,h=tt|0}return h!==0?v.words[k]=h|0:v.length--,v._strip()}var C=function(n,d,v){var A=n.words,T=d.words,S=v.words,w=0,b,h,k,tt=A[0]|0,X=tt&8191,ft=tt>>>13,et=A[1]|0,at=et&8191,$=et>>>13,J=A[2]|0,R=J&8191,j=J>>>13,z=A[3]|0,Z=z&8191,Q=z>>>13,K=A[4]|0,G=K&8191,H=K>>>13,Y=A[5]|0,it=Y&8191,ot=Y>>>13,mt=A[6]|0,_t=mt&8191,ht=mt>>>13,vt=A[7]|0,pt=vt&8191,V=vt>>>13,rt=A[8]|0,st=rt&8191,yt=rt>>>13,Ct=A[9]|0,dt=Ct&8191,Mt=Ct>>>13,Lt=T[0]|0,wt=Lt&8191,ct=Lt>>>13,Et=T[1]|0,ut=Et&8191,Ot=Et>>>13,qt=T[2]|0,nt=qt&8191,Rt=qt>>>13,Dt=T[3]|0,bt=Dt&8191,Tt=Dt>>>13,jt=T[4]|0,St=jt&8191,kt=jt>>>13,Kt=T[5]|0,At=Kt&8191,Nt=Kt>>>13,$t=T[6]|0,Ft=$t&8191,Wt=$t>>>13,ae=T[7]|0,Xt=ae&8191,Gt=ae>>>13,he=T[8]|0,Qt=he&8191,Zt=he>>>13,se=T[9]|0,te=se&8191,re=se>>>13;v.negative=n.negative^d.negative,v.length=19,b=Math.imul(X,wt),h=Math.imul(X,ct),h=h+Math.imul(ft,wt)|0,k=Math.imul(ft,ct);var Se=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Se>>>26)|0,Se&=67108863,b=Math.imul(at,wt),h=Math.imul(at,ct),h=h+Math.imul($,wt)|0,k=Math.imul($,ct),b=b+Math.imul(X,ut)|0,h=h+Math.imul(X,Ot)|0,h=h+Math.imul(ft,ut)|0,k=k+Math.imul(ft,Ot)|0;var Be=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Be>>>26)|0,Be&=67108863,b=Math.imul(R,wt),h=Math.imul(R,ct),h=h+Math.imul(j,wt)|0,k=Math.imul(j,ct),b=b+Math.imul(at,ut)|0,h=h+Math.imul(at,Ot)|0,h=h+Math.imul($,ut)|0,k=k+Math.imul($,Ot)|0,b=b+Math.imul(X,nt)|0,h=h+Math.imul(X,Rt)|0,h=h+Math.imul(ft,nt)|0,k=k+Math.imul(ft,Rt)|0;var Re=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,b=Math.imul(Z,wt),h=Math.imul(Z,ct),h=h+Math.imul(Q,wt)|0,k=Math.imul(Q,ct),b=b+Math.imul(R,ut)|0,h=h+Math.imul(R,Ot)|0,h=h+Math.imul(j,ut)|0,k=k+Math.imul(j,Ot)|0,b=b+Math.imul(at,nt)|0,h=h+Math.imul(at,Rt)|0,h=h+Math.imul($,nt)|0,k=k+Math.imul($,Rt)|0,b=b+Math.imul(X,bt)|0,h=h+Math.imul(X,Tt)|0,h=h+Math.imul(ft,bt)|0,k=k+Math.imul(ft,Tt)|0;var Te=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Te>>>26)|0,Te&=67108863,b=Math.imul(G,wt),h=Math.imul(G,ct),h=h+Math.imul(H,wt)|0,k=Math.imul(H,ct),b=b+Math.imul(Z,ut)|0,h=h+Math.imul(Z,Ot)|0,h=h+Math.imul(Q,ut)|0,k=k+Math.imul(Q,Ot)|0,b=b+Math.imul(R,nt)|0,h=h+Math.imul(R,Rt)|0,h=h+Math.imul(j,nt)|0,k=k+Math.imul(j,Rt)|0,b=b+Math.imul(at,bt)|0,h=h+Math.imul(at,Tt)|0,h=h+Math.imul($,bt)|0,k=k+Math.imul($,Tt)|0,b=b+Math.imul(X,St)|0,h=h+Math.imul(X,kt)|0,h=h+Math.imul(ft,St)|0,k=k+Math.imul(ft,kt)|0;var xe=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,b=Math.imul(it,wt),h=Math.imul(it,ct),h=h+Math.imul(ot,wt)|0,k=Math.imul(ot,ct),b=b+Math.imul(G,ut)|0,h=h+Math.imul(G,Ot)|0,h=h+Math.imul(H,ut)|0,k=k+Math.imul(H,Ot)|0,b=b+Math.imul(Z,nt)|0,h=h+Math.imul(Z,Rt)|0,h=h+Math.imul(Q,nt)|0,k=k+Math.imul(Q,Rt)|0,b=b+Math.imul(R,bt)|0,h=h+Math.imul(R,Tt)|0,h=h+Math.imul(j,bt)|0,k=k+Math.imul(j,Tt)|0,b=b+Math.imul(at,St)|0,h=h+Math.imul(at,kt)|0,h=h+Math.imul($,St)|0,k=k+Math.imul($,kt)|0,b=b+Math.imul(X,At)|0,h=h+Math.imul(X,Nt)|0,h=h+Math.imul(ft,At)|0,k=k+Math.imul(ft,Nt)|0;var Ce=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,b=Math.imul(_t,wt),h=Math.imul(_t,ct),h=h+Math.imul(ht,wt)|0,k=Math.imul(ht,ct),b=b+Math.imul(it,ut)|0,h=h+Math.imul(it,Ot)|0,h=h+Math.imul(ot,ut)|0,k=k+Math.imul(ot,Ot)|0,b=b+Math.imul(G,nt)|0,h=h+Math.imul(G,Rt)|0,h=h+Math.imul(H,nt)|0,k=k+Math.imul(H,Rt)|0,b=b+Math.imul(Z,bt)|0,h=h+Math.imul(Z,Tt)|0,h=h+Math.imul(Q,bt)|0,k=k+Math.imul(Q,Tt)|0,b=b+Math.imul(R,St)|0,h=h+Math.imul(R,kt)|0,h=h+Math.imul(j,St)|0,k=k+Math.imul(j,kt)|0,b=b+Math.imul(at,At)|0,h=h+Math.imul(at,Nt)|0,h=h+Math.imul($,At)|0,k=k+Math.imul($,Nt)|0,b=b+Math.imul(X,Ft)|0,h=h+Math.imul(X,Wt)|0,h=h+Math.imul(ft,Ft)|0,k=k+Math.imul(ft,Wt)|0;var Ue=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,b=Math.imul(pt,wt),h=Math.imul(pt,ct),h=h+Math.imul(V,wt)|0,k=Math.imul(V,ct),b=b+Math.imul(_t,ut)|0,h=h+Math.imul(_t,Ot)|0,h=h+Math.imul(ht,ut)|0,k=k+Math.imul(ht,Ot)|0,b=b+Math.imul(it,nt)|0,h=h+Math.imul(it,Rt)|0,h=h+Math.imul(ot,nt)|0,k=k+Math.imul(ot,Rt)|0,b=b+Math.imul(G,bt)|0,h=h+Math.imul(G,Tt)|0,h=h+Math.imul(H,bt)|0,k=k+Math.imul(H,Tt)|0,b=b+Math.imul(Z,St)|0,h=h+Math.imul(Z,kt)|0,h=h+Math.imul(Q,St)|0,k=k+Math.imul(Q,kt)|0,b=b+Math.imul(R,At)|0,h=h+Math.imul(R,Nt)|0,h=h+Math.imul(j,At)|0,k=k+Math.imul(j,Nt)|0,b=b+Math.imul(at,Ft)|0,h=h+Math.imul(at,Wt)|0,h=h+Math.imul($,Ft)|0,k=k+Math.imul($,Wt)|0,b=b+Math.imul(X,Xt)|0,h=h+Math.imul(X,Gt)|0,h=h+Math.imul(ft,Xt)|0,k=k+Math.imul(ft,Gt)|0;var Ke=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,b=Math.imul(st,wt),h=Math.imul(st,ct),h=h+Math.imul(yt,wt)|0,k=Math.imul(yt,ct),b=b+Math.imul(pt,ut)|0,h=h+Math.imul(pt,Ot)|0,h=h+Math.imul(V,ut)|0,k=k+Math.imul(V,Ot)|0,b=b+Math.imul(_t,nt)|0,h=h+Math.imul(_t,Rt)|0,h=h+Math.imul(ht,nt)|0,k=k+Math.imul(ht,Rt)|0,b=b+Math.imul(it,bt)|0,h=h+Math.imul(it,Tt)|0,h=h+Math.imul(ot,bt)|0,k=k+Math.imul(ot,Tt)|0,b=b+Math.imul(G,St)|0,h=h+Math.imul(G,kt)|0,h=h+Math.imul(H,St)|0,k=k+Math.imul(H,kt)|0,b=b+Math.imul(Z,At)|0,h=h+Math.imul(Z,Nt)|0,h=h+Math.imul(Q,At)|0,k=k+Math.imul(Q,Nt)|0,b=b+Math.imul(R,Ft)|0,h=h+Math.imul(R,Wt)|0,h=h+Math.imul(j,Ft)|0,k=k+Math.imul(j,Wt)|0,b=b+Math.imul(at,Xt)|0,h=h+Math.imul(at,Gt)|0,h=h+Math.imul($,Xt)|0,k=k+Math.imul($,Gt)|0,b=b+Math.imul(X,Qt)|0,h=h+Math.imul(X,Zt)|0,h=h+Math.imul(ft,Qt)|0,k=k+Math.imul(ft,Zt)|0;var Je=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(dt,wt),h=Math.imul(dt,ct),h=h+Math.imul(Mt,wt)|0,k=Math.imul(Mt,ct),b=b+Math.imul(st,ut)|0,h=h+Math.imul(st,Ot)|0,h=h+Math.imul(yt,ut)|0,k=k+Math.imul(yt,Ot)|0,b=b+Math.imul(pt,nt)|0,h=h+Math.imul(pt,Rt)|0,h=h+Math.imul(V,nt)|0,k=k+Math.imul(V,Rt)|0,b=b+Math.imul(_t,bt)|0,h=h+Math.imul(_t,Tt)|0,h=h+Math.imul(ht,bt)|0,k=k+Math.imul(ht,Tt)|0,b=b+Math.imul(it,St)|0,h=h+Math.imul(it,kt)|0,h=h+Math.imul(ot,St)|0,k=k+Math.imul(ot,kt)|0,b=b+Math.imul(G,At)|0,h=h+Math.imul(G,Nt)|0,h=h+Math.imul(H,At)|0,k=k+Math.imul(H,Nt)|0,b=b+Math.imul(Z,Ft)|0,h=h+Math.imul(Z,Wt)|0,h=h+Math.imul(Q,Ft)|0,k=k+Math.imul(Q,Wt)|0,b=b+Math.imul(R,Xt)|0,h=h+Math.imul(R,Gt)|0,h=h+Math.imul(j,Xt)|0,k=k+Math.imul(j,Gt)|0,b=b+Math.imul(at,Qt)|0,h=h+Math.imul(at,Zt)|0,h=h+Math.imul($,Qt)|0,k=k+Math.imul($,Zt)|0,b=b+Math.imul(X,te)|0,h=h+Math.imul(X,re)|0,h=h+Math.imul(ft,te)|0,k=k+Math.imul(ft,re)|0;var ze=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(ze>>>26)|0,ze&=67108863,b=Math.imul(dt,ut),h=Math.imul(dt,Ot),h=h+Math.imul(Mt,ut)|0,k=Math.imul(Mt,Ot),b=b+Math.imul(st,nt)|0,h=h+Math.imul(st,Rt)|0,h=h+Math.imul(yt,nt)|0,k=k+Math.imul(yt,Rt)|0,b=b+Math.imul(pt,bt)|0,h=h+Math.imul(pt,Tt)|0,h=h+Math.imul(V,bt)|0,k=k+Math.imul(V,Tt)|0,b=b+Math.imul(_t,St)|0,h=h+Math.imul(_t,kt)|0,h=h+Math.imul(ht,St)|0,k=k+Math.imul(ht,kt)|0,b=b+Math.imul(it,At)|0,h=h+Math.imul(it,Nt)|0,h=h+Math.imul(ot,At)|0,k=k+Math.imul(ot,Nt)|0,b=b+Math.imul(G,Ft)|0,h=h+Math.imul(G,Wt)|0,h=h+Math.imul(H,Ft)|0,k=k+Math.imul(H,Wt)|0,b=b+Math.imul(Z,Xt)|0,h=h+Math.imul(Z,Gt)|0,h=h+Math.imul(Q,Xt)|0,k=k+Math.imul(Q,Gt)|0,b=b+Math.imul(R,Qt)|0,h=h+Math.imul(R,Zt)|0,h=h+Math.imul(j,Qt)|0,k=k+Math.imul(j,Zt)|0,b=b+Math.imul(at,te)|0,h=h+Math.imul(at,re)|0,h=h+Math.imul($,te)|0,k=k+Math.imul($,re)|0;var Xe=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(dt,nt),h=Math.imul(dt,Rt),h=h+Math.imul(Mt,nt)|0,k=Math.imul(Mt,Rt),b=b+Math.imul(st,bt)|0,h=h+Math.imul(st,Tt)|0,h=h+Math.imul(yt,bt)|0,k=k+Math.imul(yt,Tt)|0,b=b+Math.imul(pt,St)|0,h=h+Math.imul(pt,kt)|0,h=h+Math.imul(V,St)|0,k=k+Math.imul(V,kt)|0,b=b+Math.imul(_t,At)|0,h=h+Math.imul(_t,Nt)|0,h=h+Math.imul(ht,At)|0,k=k+Math.imul(ht,Nt)|0,b=b+Math.imul(it,Ft)|0,h=h+Math.imul(it,Wt)|0,h=h+Math.imul(ot,Ft)|0,k=k+Math.imul(ot,Wt)|0,b=b+Math.imul(G,Xt)|0,h=h+Math.imul(G,Gt)|0,h=h+Math.imul(H,Xt)|0,k=k+Math.imul(H,Gt)|0,b=b+Math.imul(Z,Qt)|0,h=h+Math.imul(Z,Zt)|0,h=h+Math.imul(Q,Qt)|0,k=k+Math.imul(Q,Zt)|0,b=b+Math.imul(R,te)|0,h=h+Math.imul(R,re)|0,h=h+Math.imul(j,te)|0,k=k+Math.imul(j,re)|0;var Ge=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,b=Math.imul(dt,bt),h=Math.imul(dt,Tt),h=h+Math.imul(Mt,bt)|0,k=Math.imul(Mt,Tt),b=b+Math.imul(st,St)|0,h=h+Math.imul(st,kt)|0,h=h+Math.imul(yt,St)|0,k=k+Math.imul(yt,kt)|0,b=b+Math.imul(pt,At)|0,h=h+Math.imul(pt,Nt)|0,h=h+Math.imul(V,At)|0,k=k+Math.imul(V,Nt)|0,b=b+Math.imul(_t,Ft)|0,h=h+Math.imul(_t,Wt)|0,h=h+Math.imul(ht,Ft)|0,k=k+Math.imul(ht,Wt)|0,b=b+Math.imul(it,Xt)|0,h=h+Math.imul(it,Gt)|0,h=h+Math.imul(ot,Xt)|0,k=k+Math.imul(ot,Gt)|0,b=b+Math.imul(G,Qt)|0,h=h+Math.imul(G,Zt)|0,h=h+Math.imul(H,Qt)|0,k=k+Math.imul(H,Zt)|0,b=b+Math.imul(Z,te)|0,h=h+Math.imul(Z,re)|0,h=h+Math.imul(Q,te)|0,k=k+Math.imul(Q,re)|0;var Ye=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,b=Math.imul(dt,St),h=Math.imul(dt,kt),h=h+Math.imul(Mt,St)|0,k=Math.imul(Mt,kt),b=b+Math.imul(st,At)|0,h=h+Math.imul(st,Nt)|0,h=h+Math.imul(yt,At)|0,k=k+Math.imul(yt,Nt)|0,b=b+Math.imul(pt,Ft)|0,h=h+Math.imul(pt,Wt)|0,h=h+Math.imul(V,Ft)|0,k=k+Math.imul(V,Wt)|0,b=b+Math.imul(_t,Xt)|0,h=h+Math.imul(_t,Gt)|0,h=h+Math.imul(ht,Xt)|0,k=k+Math.imul(ht,Gt)|0,b=b+Math.imul(it,Qt)|0,h=h+Math.imul(it,Zt)|0,h=h+Math.imul(ot,Qt)|0,k=k+Math.imul(ot,Zt)|0,b=b+Math.imul(G,te)|0,h=h+Math.imul(G,re)|0,h=h+Math.imul(H,te)|0,k=k+Math.imul(H,re)|0;var We=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(We>>>26)|0,We&=67108863,b=Math.imul(dt,At),h=Math.imul(dt,Nt),h=h+Math.imul(Mt,At)|0,k=Math.imul(Mt,Nt),b=b+Math.imul(st,Ft)|0,h=h+Math.imul(st,Wt)|0,h=h+Math.imul(yt,Ft)|0,k=k+Math.imul(yt,Wt)|0,b=b+Math.imul(pt,Xt)|0,h=h+Math.imul(pt,Gt)|0,h=h+Math.imul(V,Xt)|0,k=k+Math.imul(V,Gt)|0,b=b+Math.imul(_t,Qt)|0,h=h+Math.imul(_t,Zt)|0,h=h+Math.imul(ht,Qt)|0,k=k+Math.imul(ht,Zt)|0,b=b+Math.imul(it,te)|0,h=h+Math.imul(it,re)|0,h=h+Math.imul(ot,te)|0,k=k+Math.imul(ot,re)|0;var Ve=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,b=Math.imul(dt,Ft),h=Math.imul(dt,Wt),h=h+Math.imul(Mt,Ft)|0,k=Math.imul(Mt,Wt),b=b+Math.imul(st,Xt)|0,h=h+Math.imul(st,Gt)|0,h=h+Math.imul(yt,Xt)|0,k=k+Math.imul(yt,Gt)|0,b=b+Math.imul(pt,Qt)|0,h=h+Math.imul(pt,Zt)|0,h=h+Math.imul(V,Qt)|0,k=k+Math.imul(V,Zt)|0,b=b+Math.imul(_t,te)|0,h=h+Math.imul(_t,re)|0,h=h+Math.imul(ht,te)|0,k=k+Math.imul(ht,re)|0;var Ze=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(dt,Xt),h=Math.imul(dt,Gt),h=h+Math.imul(Mt,Xt)|0,k=Math.imul(Mt,Gt),b=b+Math.imul(st,Qt)|0,h=h+Math.imul(st,Zt)|0,h=h+Math.imul(yt,Qt)|0,k=k+Math.imul(yt,Zt)|0,b=b+Math.imul(pt,te)|0,h=h+Math.imul(pt,re)|0,h=h+Math.imul(V,te)|0,k=k+Math.imul(V,re)|0;var ar=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,b=Math.imul(dt,Qt),h=Math.imul(dt,Zt),h=h+Math.imul(Mt,Qt)|0,k=Math.imul(Mt,Zt),b=b+Math.imul(st,te)|0,h=h+Math.imul(st,re)|0,h=h+Math.imul(yt,te)|0,k=k+Math.imul(yt,re)|0;var br=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(br>>>26)|0,br&=67108863,b=Math.imul(dt,te),h=Math.imul(dt,re),h=h+Math.imul(Mt,te)|0,k=Math.imul(Mt,re);var cr=(w+b|0)+((h&8191)<<13)|0;return w=(k+(h>>>13)|0)+(cr>>>26)|0,cr&=67108863,S[0]=Se,S[1]=Be,S[2]=Re,S[3]=Te,S[4]=xe,S[5]=Ce,S[6]=Ue,S[7]=Ke,S[8]=Je,S[9]=ze,S[10]=Xe,S[11]=Ge,S[12]=Ye,S[13]=We,S[14]=Ve,S[15]=Ze,S[16]=ar,S[17]=br,S[18]=cr,w!==0&&(S[19]=w,v.length++),v};Math.imul||(C=x);function N(n,d,v){v.negative=d.negative^n.negative,v.length=n.length+d.length;for(var A=0,T=0,S=0;S<v.length-1;S++){var w=T;T=0;for(var b=A&67108863,h=Math.min(S,d.length-1),k=Math.max(0,S-n.length+1);k<=h;k++){var tt=S-k,X=n.words[tt]|0,ft=d.words[k]|0,et=X*ft,at=et&67108863;w=w+(et/67108864|0)|0,at=at+b|0,b=at&67108863,w=w+(at>>>26)|0,T+=w>>>26,w&=67108863}v.words[S]=b,A=w,w=T}return A!==0?v.words[S]=A:v.length--,v._strip()}function F(n,d,v){return N(n,d,v)}e.prototype.mulTo=function(n,d){var v,A=this.length+n.length;return this.length===10&&n.length===10?v=C(this,n,d):A<63?v=x(this,n,d):A<1024?v=N(this,n,d):v=F(this,n,d),v},e.prototype.mul=function(n){var d=new e(null);return d.words=new Array(this.length+n.length),this.mulTo(n,d)},e.prototype.mulf=function(n){var d=new e(null);return d.words=new Array(this.length+n.length),F(this,n,d)},e.prototype.imul=function(n){return this.clone().mulTo(n,this)},e.prototype.imuln=function(n){var d=n<0;d&&(n=-n),a(typeof n=="number"),a(n<67108864);for(var v=0,A=0;A<this.length;A++){var T=(this.words[A]|0)*n,S=(T&67108863)+(v&67108863);v>>=26,v+=T/67108864|0,v+=S>>>26,this.words[A]=S&67108863}return v!==0&&(this.words[A]=v,this.length++),d?this.ineg():this},e.prototype.muln=function(n){return this.clone().imuln(n)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(n){var d=B(n);if(d.length===0)return new e(1);for(var v=this,A=0;A<d.length&&d[A]===0;A++,v=v.sqr());if(++A<d.length)for(var T=v.sqr();A<d.length;A++,T=T.sqr())d[A]!==0&&(v=v.mul(T));return v},e.prototype.iushln=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26,A=67108863>>>26-d<<26-d,T;if(d!==0){var S=0;for(T=0;T<this.length;T++){var w=this.words[T]&A,b=(this.words[T]|0)-w<<d;this.words[T]=b|S,S=w>>>26-d}S&&(this.words[T]=S,this.length++)}if(v!==0){for(T=this.length-1;T>=0;T--)this.words[T+v]=this.words[T];for(T=0;T<v;T++)this.words[T]=0;this.length+=v}return this._strip()},e.prototype.ishln=function(n){return a(this.negative===0),this.iushln(n)},e.prototype.iushrn=function(n,d,v){a(typeof n=="number"&&n>=0);var A;d?A=(d-d%26)/26:A=0;var T=n%26,S=Math.min((n-T)/26,this.length),w=67108863^67108863>>>T<<T,b=v;if(A-=S,A=Math.max(0,A),b){for(var h=0;h<S;h++)b.words[h]=this.words[h];b.length=S}if(S!==0)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(k!==0||h>=A);h--){var tt=this.words[h]|0;this.words[h]=k<<26-T|tt>>>T,k=tt&w}return b&&k!==0&&(b.words[b.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(n,d,v){return a(this.negative===0),this.iushrn(n,d,v)},e.prototype.shln=function(n){return this.clone().ishln(n)},e.prototype.ushln=function(n){return this.clone().iushln(n)},e.prototype.shrn=function(n){return this.clone().ishrn(n)},e.prototype.ushrn=function(n){return this.clone().iushrn(n)},e.prototype.testn=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26,A=1<<d;if(this.length<=v)return!1;var T=this.words[v];return!!(T&A)},e.prototype.imaskn=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var A=67108863^67108863>>>d<<d;this.words[this.length-1]&=A}return this._strip()},e.prototype.maskn=function(n){return this.clone().imaskn(n)},e.prototype.iaddn=function(n){return a(typeof n=="number"),a(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},e.prototype._iaddn=function(n){this.words[0]+=n;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},e.prototype.isubn=function(n){if(a(typeof n=="number"),a(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},e.prototype.addn=function(n){return this.clone().iaddn(n)},e.prototype.subn=function(n){return this.clone().isubn(n)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(n,d,v){var A=n.length+v,T;this._expand(A);var S,w=0;for(T=0;T<n.length;T++){S=(this.words[T+v]|0)+w;var b=(n.words[T]|0)*d;S-=b&67108863,w=(S>>26)-(b/67108864|0),this.words[T+v]=S&67108863}for(;T<this.length-v;T++)S=(this.words[T+v]|0)+w,w=S>>26,this.words[T+v]=S&67108863;if(w===0)return this._strip();for(a(w===-1),w=0,T=0;T<this.length;T++)S=-(this.words[T]|0)+w,w=S>>26,this.words[T]=S&67108863;return this.negative=1,this._strip()},e.prototype._wordDiv=function(n,d){var v=this.length-n.length,A=this.clone(),T=n,S=T.words[T.length-1]|0,w=this._countBits(S);v=26-w,v!==0&&(T=T.ushln(v),A.iushln(v),S=T.words[T.length-1]|0);var b=A.length-T.length,h;if(d!=="mod"){h=new e(null),h.length=b+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var tt=A.clone()._ishlnsubmul(T,1,b);tt.negative===0&&(A=tt,h&&(h.words[b]=1));for(var X=b-1;X>=0;X--){var ft=(A.words[T.length+X]|0)*67108864+(A.words[T.length+X-1]|0);for(ft=Math.min(ft/S|0,67108863),A._ishlnsubmul(T,ft,X);A.negative!==0;)ft--,A.negative=0,A._ishlnsubmul(T,1,X),A.isZero()||(A.negative^=1);h&&(h.words[X]=ft)}return h&&h._strip(),A._strip(),d!=="div"&&v!==0&&A.iushrn(v),{div:h||null,mod:A}},e.prototype.divmod=function(n,d,v){if(a(!n.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var A,T,S;return this.negative!==0&&n.negative===0?(S=this.neg().divmod(n,d),d!=="mod"&&(A=S.div.neg()),d!=="div"&&(T=S.mod.neg(),v&&T.negative!==0&&T.iadd(n)),{div:A,mod:T}):this.negative===0&&n.negative!==0?(S=this.divmod(n.neg(),d),d!=="mod"&&(A=S.div.neg()),{div:A,mod:S.mod}):this.negative&n.negative?(S=this.neg().divmod(n.neg(),d),d!=="div"&&(T=S.mod.neg(),v&&T.negative!==0&&T.isub(n)),{div:S.div,mod:T}):n.length>this.length||this.cmp(n)<0?{div:new e(0),mod:this}:n.length===1?d==="div"?{div:this.divn(n.words[0]),mod:null}:d==="mod"?{div:null,mod:new e(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new e(this.modrn(n.words[0]))}:this._wordDiv(n,d)},e.prototype.div=function(n){return this.divmod(n,"div",!1).div},e.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},e.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},e.prototype.divRound=function(n){var d=this.divmod(n);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(n):d.mod,A=n.ushrn(1),T=n.andln(1),S=v.cmp(A);return S<0||T===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},e.prototype.modrn=function(n){var d=n<0;d&&(n=-n),a(n<=67108863);for(var v=(1<<26)%n,A=0,T=this.length-1;T>=0;T--)A=(v*A+(this.words[T]|0))%n;return d?-A:A},e.prototype.modn=function(n){return this.modrn(n)},e.prototype.idivn=function(n){var d=n<0;d&&(n=-n),a(n<=67108863);for(var v=0,A=this.length-1;A>=0;A--){var T=(this.words[A]|0)+v*67108864;this.words[A]=T/n|0,v=T%n}return this._strip(),d?this.ineg():this},e.prototype.divn=function(n){return this.clone().idivn(n)},e.prototype.egcd=function(n){a(n.negative===0),a(!n.isZero());var d=this,v=n.clone();d.negative!==0?d=d.umod(n):d=d.clone();for(var A=new e(1),T=new e(0),S=new e(0),w=new e(1),b=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++b;for(var h=v.clone(),k=d.clone();!d.isZero();){for(var tt=0,X=1;!(d.words[0]&X)&&tt<26;++tt,X<<=1);if(tt>0)for(d.iushrn(tt);tt-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(h),T.isub(k)),A.iushrn(1),T.iushrn(1);for(var ft=0,et=1;!(v.words[0]&et)&&ft<26;++ft,et<<=1);if(ft>0)for(v.iushrn(ft);ft-- >0;)(S.isOdd()||w.isOdd())&&(S.iadd(h),w.isub(k)),S.iushrn(1),w.iushrn(1);d.cmp(v)>=0?(d.isub(v),A.isub(S),T.isub(w)):(v.isub(d),S.isub(A),w.isub(T))}return{a:S,b:w,gcd:v.iushln(b)}},e.prototype._invmp=function(n){a(n.negative===0),a(!n.isZero());var d=this,v=n.clone();d.negative!==0?d=d.umod(n):d=d.clone();for(var A=new e(1),T=new e(0),S=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var w=0,b=1;!(d.words[0]&b)&&w<26;++w,b<<=1);if(w>0)for(d.iushrn(w);w-- >0;)A.isOdd()&&A.iadd(S),A.iushrn(1);for(var h=0,k=1;!(v.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(v.iushrn(h);h-- >0;)T.isOdd()&&T.iadd(S),T.iushrn(1);d.cmp(v)>=0?(d.isub(v),A.isub(T)):(v.isub(d),T.isub(A))}var tt;return d.cmpn(1)===0?tt=A:tt=T,tt.cmpn(0)<0&&tt.iadd(n),tt},e.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var d=this.clone(),v=n.clone();d.negative=0,v.negative=0;for(var A=0;d.isEven()&&v.isEven();A++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var T=d.cmp(v);if(T<0){var S=d;d=v,v=S}else if(T===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(A)},e.prototype.invm=function(n){return this.egcd(n).a.umod(n)},e.prototype.isEven=function(){return(this.words[0]&1)===0},e.prototype.isOdd=function(){return(this.words[0]&1)===1},e.prototype.andln=function(n){return this.words[0]&n},e.prototype.bincn=function(n){a(typeof n=="number");var d=n%26,v=(n-d)/26,A=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=A,this;for(var T=A,S=v;T!==0&&S<this.length;S++){var w=this.words[S]|0;w+=T,T=w>>>26,w&=67108863,this.words[S]=w}return T!==0&&(this.words[S]=T,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(n){var d=n<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(n=-n),a(n<=67108863,"Number is too big");var A=this.words[0]|0;v=A===n?0:A<n?-1:1}return this.negative!==0?-v|0:v},e.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var d=this.ucmp(n);return this.negative!==0?-d|0:d},e.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var A=this.words[v]|0,T=n.words[v]|0;if(A!==T){A<T?d=-1:A>T&&(d=1);break}}return d},e.prototype.gtn=function(n){return this.cmpn(n)===1},e.prototype.gt=function(n){return this.cmp(n)===1},e.prototype.gten=function(n){return this.cmpn(n)>=0},e.prototype.gte=function(n){return this.cmp(n)>=0},e.prototype.ltn=function(n){return this.cmpn(n)===-1},e.prototype.lt=function(n){return this.cmp(n)===-1},e.prototype.lten=function(n){return this.cmpn(n)<=0},e.prototype.lte=function(n){return this.cmp(n)<=0},e.prototype.eqn=function(n){return this.cmpn(n)===0},e.prototype.eq=function(n){return this.cmp(n)===0},e.red=function(n){return new O(n)},e.prototype.toRed=function(n){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},e.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(n){return this.red=n,this},e.prototype.forceRed=function(n){return a(!this.red,"Already a number in reduction context"),this._forceRed(n)},e.prototype.redAdd=function(n){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},e.prototype.redIAdd=function(n){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},e.prototype.redSub=function(n){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},e.prototype.redISub=function(n){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},e.prototype.redShl=function(n){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},e.prototype.redMul=function(n){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},e.prototype.redIMul=function(n){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},e.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(n){return a(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var I={k256:null,p224:null,p192:null,p25519:null};function U(n,d){this.name=n,this.p=new e(d,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var n=new e(null);return n.words=new Array(Math.ceil(this.n/13)),n},U.prototype.ireduce=function(n){var d=n,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var A=v<this.n?-1:d.ucmp(this.p);return A===0?(d.words[0]=0,d.length=1):A>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(n,d){n.iushrn(this.n,0,d)},U.prototype.imulK=function(n){return n.imul(this.k)};function P(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(P,U),P.prototype.split=function(n,d){for(var v=4194303,A=Math.min(n.length,9),T=0;T<A;T++)d.words[T]=n.words[T];if(d.length=A,n.length<=9){n.words[0]=0,n.length=1;return}var S=n.words[9];for(d.words[d.length++]=S&v,T=10;T<n.length;T++){var w=n.words[T]|0;n.words[T-10]=(w&v)<<4|S>>>22,S=w}S>>>=22,n.words[T-10]=S,S===0&&n.length>10?n.length-=10:n.length-=9},P.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var d=0,v=0;v<n.length;v++){var A=n.words[v]|0;d+=A*977,n.words[v]=d&67108863,d=A*64+(d/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function D(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,U);function q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,U),q.prototype.imulK=function(n){for(var d=0,v=0;v<n.length;v++){var A=(n.words[v]|0)*19+d,T=A&67108863;A>>>=26,n.words[v]=T,d=A}return d!==0&&(n.words[n.length++]=d),n},e._prime=function(n){if(I[n])return I[n];var d;if(n==="k256")d=new P;else if(n==="p224")d=new D;else if(n==="p192")d=new W;else if(n==="p25519")d=new q;else throw new Error("Unknown prime "+n);return I[n]=d,d};function O(n){if(typeof n=="string"){var d=e._prime(n);this.m=d.p,this.prime=d}else a(n.gtn(1),"modulus must be greater than 1"),this.m=n,this.prime=null}O.prototype._verify1=function(n){a(n.negative===0,"red works only with positives"),a(n.red,"red works only with red numbers")},O.prototype._verify2=function(n,d){a((n.negative|d.negative)===0,"red works only with positives"),a(n.red&&n.red===d.red,"red works only with red numbers")},O.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(p(n,n.umod(this.m)._forceRed(this)),n)},O.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},O.prototype.add=function(n,d){this._verify2(n,d);var v=n.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},O.prototype.iadd=function(n,d){this._verify2(n,d);var v=n.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},O.prototype.sub=function(n,d){this._verify2(n,d);var v=n.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},O.prototype.isub=function(n,d){this._verify2(n,d);var v=n.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},O.prototype.shl=function(n,d){return this._verify1(n),this.imod(n.ushln(d))},O.prototype.imul=function(n,d){return this._verify2(n,d),this.imod(n.imul(d))},O.prototype.mul=function(n,d){return this._verify2(n,d),this.imod(n.mul(d))},O.prototype.isqr=function(n){return this.imul(n,n.clone())},O.prototype.sqr=function(n){return this.mul(n,n)},O.prototype.sqrt=function(n){if(n.isZero())return n.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var v=this.m.add(new e(1)).iushrn(2);return this.pow(n,v)}for(var A=this.m.subn(1),T=0;!A.isZero()&&A.andln(1)===0;)T++,A.iushrn(1);a(!A.isZero());var S=new e(1).toRed(this),w=S.redNeg(),b=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new e(2*h*h).toRed(this);this.pow(h,b).cmp(w)!==0;)h.redIAdd(w);for(var k=this.pow(h,A),tt=this.pow(n,A.addn(1).iushrn(1)),X=this.pow(n,A),ft=T;X.cmp(S)!==0;){for(var et=X,at=0;et.cmp(S)!==0;at++)et=et.redSqr();a(at<ft);var $=this.pow(k,new e(1).iushln(ft-at-1));tt=tt.redMul($),k=$.redSqr(),X=X.redMul(k),ft=at}return tt},O.prototype.invm=function(n){var d=n._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},O.prototype.pow=function(n,d){if(d.isZero())return new e(1).toRed(this);if(d.cmpn(1)===0)return n.clone();var v=4,A=new Array(1<<v);A[0]=new e(1).toRed(this),A[1]=n;for(var T=2;T<A.length;T++)A[T]=this.mul(A[T-1],n);var S=A[0],w=0,b=0,h=d.bitLength()%26;for(h===0&&(h=26),T=d.length-1;T>=0;T--){for(var k=d.words[T],tt=h-1;tt>=0;tt--){var X=k>>tt&1;if(S!==A[0]&&(S=this.sqr(S)),X===0&&w===0){b=0;continue}w<<=1,w|=X,b++,!(b!==v&&(T!==0||tt!==0))&&(S=this.mul(S,A[w]),b=0,w=0)}h=26}return S},O.prototype.convertTo=function(n){var d=n.umod(this.m);return d===n?d.clone():d},O.prototype.convertFrom=function(n){var d=n.clone();return d.red=null,d},e.mont=function(n){return new L(n)};function L(n){O.call(this,n),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(L,O),L.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},L.prototype.convertFrom=function(n){var d=this.imod(n.mul(this.rinv));return d.red=null,d},L.prototype.imul=function(n,d){if(n.isZero()||d.isZero())return n.words[0]=0,n.length=1,n;var v=n.imul(d),A=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(A).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},L.prototype.mul=function(n,d){if(n.isZero()||d.isZero())return new e(0)._forceRed(this);var v=n.mul(d),A=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(A).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},L.prototype.invm=function(n){var d=this.imod(n._invmp(this.m).mul(this.r2));return d._forceRed(this)}}(typeof i>"u"||i,t)}),eh=gt((t,i)=>{lt();var r=$e(),u=r.Buffer,a={},s;for(s in r)!r.hasOwnProperty(s)||s==="SlowBuffer"||s==="Buffer"||(a[s]=r[s]);var e=a.Buffer={};for(s in u)!u.hasOwnProperty(s)||s==="allocUnsafe"||s==="allocUnsafeSlow"||(e[s]=u[s]);if(a.Buffer.prototype=u.prototype,(!e.from||e.from===Uint8Array.from)&&(e.from=function(o,c,f){if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof o);if(o&&typeof o.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);return u(o,c,f)}),e.alloc||(e.alloc=function(o,c,f){if(typeof o!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof o);if(o<0||o>=2*(1<<30))throw new RangeError('The value "'+o+'" is invalid for option "size"');var l=u(o);return!c||c.length===0?l.fill(0):typeof f=="string"?l.fill(c,f):l.fill(c),l}),!a.kStringMaxLength)try{a.kStringMaxLength=Jt.default.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),i.exports=a}),rh=gt(t=>{lt();var i=pe();function r(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}t.Reporter=r,r.prototype.isError=function(a){return a instanceof u},r.prototype.save=function(){let a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},r.prototype.restore=function(a){let s=this._reporterState;s.obj=a.obj,s.path=s.path.slice(0,a.pathLen)},r.prototype.enterKey=function(a){return this._reporterState.path.push(a)},r.prototype.exitKey=function(a){let s=this._reporterState;s.path=s.path.slice(0,a-1)},r.prototype.leaveKey=function(a,s,e){let o=this._reporterState;this.exitKey(a),o.obj!==null&&(o.obj[s]=e)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){let a=this._reporterState,s=a.obj;return a.obj={},s},r.prototype.leaveObject=function(a){let s=this._reporterState,e=s.obj;return s.obj=a,e},r.prototype.error=function(a){let s,e=this._reporterState,o=a instanceof u;if(o?s=a:s=new u(e.path.map(function(c){return"["+JSON.stringify(c)+"]"}).join(""),a.message||a,a.stack),!e.options.partial)throw s;return o||e.errors.push(s),s},r.prototype.wrapResult=function(a){let s=this._reporterState;return s.options.partial?{result:this.isError(a)?null:a,errors:s.errors}:a};function u(a,s){this.path=a,this.rethrow(s)}i(u,Error),u.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,u),!this.stack)try{throw new Error(this.message)}catch(s){this.stack=s.stack}return this}}),ua=gt(t=>{lt();var i=pe(),r=rh().Reporter,u=eh().Buffer;function a(e,o){if(r.call(this,o),!u.isBuffer(e)){this.error("Input not Buffer");return}this.base=e,this.offset=0,this.length=e.length}i(a,r),t.DecoderBuffer=a,a.isDecoderBuffer=function(e){return e instanceof a?!0:typeof e=="object"&&u.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"},a.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},a.prototype.restore=function(e){let o=new a(this.base);return o.offset=e.offset,o.length=this.offset,this.offset=e.offset,r.prototype.restore.call(this,e.reporter),o},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,o){if(!(this.offset+e<=this.length))return this.error(o||"DecoderBuffer overrun");let c=new a(this.base);return c._reporterState=this._reporterState,c.offset=this.offset,c.length=this.offset+e,this.offset+=e,c},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function s(e,o){if(Array.isArray(e))this.length=0,this.value=e.map(function(c){return s.isEncoderBuffer(c)||(c=new s(c,o)),this.length+=c.length,c},this);else if(typeof e=="number"){if(!(0<=e&&e<=255))return o.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if(typeof e=="string")this.value=e,this.length=u.byteLength(e);else if(u.isBuffer(e))this.value=e,this.length=e.length;else return o.error("Unsupported type: "+typeof e)}t.EncoderBuffer=s,s.isEncoderBuffer=function(e){return e instanceof s?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"},s.prototype.join=function(e,o){return e||(e=u.alloc(this.length)),o||(o=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(c){c.join(e,o),o+=c.length}):(typeof this.value=="number"?e[o]=this.value:typeof this.value=="string"?e.write(this.value,o):u.isBuffer(this.value)&&this.value.copy(e,o),o+=this.length)),e}}),nh=gt((t,i)=>{lt();var r=rh().Reporter,u=ua().EncoderBuffer,a=ua().DecoderBuffer,s=Vr(),e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(e),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function f(p,g,y){let m={};this._baseState=m,m.name=y,m.enc=p,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}i.exports=f;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){let p=this._baseState,g={};l.forEach(function(m){g[m]=p[m]});let y=new this.constructor(g.parent);return y._baseState=g,y},f.prototype._wrap=function(){let p=this._baseState;o.forEach(function(g){this[g]=function(){let y=new this.constructor(this);return p.children.push(y),y[g].apply(y,arguments)}},this)},f.prototype._init=function(p){let g=this._baseState;s(g.parent===null),p.call(this),g.children=g.children.filter(function(y){return y._baseState.parent===this},this),s.equal(g.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(p){let g=this._baseState,y=p.filter(function(m){return m instanceof this.constructor},this);p=p.filter(function(m){return!(m instanceof this.constructor)},this),y.length!==0&&(s(g.children===null),g.children=y,y.forEach(function(m){m._baseState.parent=this},this)),p.length!==0&&(s(g.args===null),g.args=p,g.reverseArgs=p.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;let M={};return Object.keys(m).forEach(function(E){E==(E|0)&&(E|=0);let B=m[E];M[B]=E}),M}))},c.forEach(function(p){f.prototype[p]=function(){let g=this._baseState;throw new Error(p+" not implemented for encoding: "+g.enc)}}),e.forEach(function(p){f.prototype[p]=function(){let g=this._baseState,y=Array.prototype.slice.call(arguments);return s(g.tag===null),g.tag=p,this._useArgs(y),this}}),f.prototype.use=function(p){s(p);let g=this._baseState;return s(g.use===null),g.use=p,this},f.prototype.optional=function(){let p=this._baseState;return p.optional=!0,this},f.prototype.def=function(p){let g=this._baseState;return s(g.default===null),g.default=p,g.optional=!0,this},f.prototype.explicit=function(p){let g=this._baseState;return s(g.explicit===null&&g.implicit===null),g.explicit=p,this},f.prototype.implicit=function(p){let g=this._baseState;return s(g.explicit===null&&g.implicit===null),g.implicit=p,this},f.prototype.obj=function(){let p=this._baseState,g=Array.prototype.slice.call(arguments);return p.obj=!0,g.length!==0&&this._useArgs(g),this},f.prototype.key=function(p){let g=this._baseState;return s(g.key===null),g.key=p,this},f.prototype.any=function(){let p=this._baseState;return p.any=!0,this},f.prototype.choice=function(p){let g=this._baseState;return s(g.choice===null),g.choice=p,this._useArgs(Object.keys(p).map(function(y){return p[y]})),this},f.prototype.contains=function(p){let g=this._baseState;return s(g.use===null),g.contains=p,this},f.prototype._decode=function(p,g){let y=this._baseState;if(y.parent===null)return p.wrapResult(y.children[0]._decode(p,g));let m=y.default,M=!0,E=null;if(y.key!==null&&(E=p.enterKey(y.key)),y.optional){let x=null;if(y.explicit!==null?x=y.explicit:y.implicit!==null?x=y.implicit:y.tag!==null&&(x=y.tag),x===null&&!y.any){let C=p.save();try{y.choice===null?this._decodeGeneric(y.tag,p,g):this._decodeChoice(p,g),M=!0}catch{M=!1}p.restore(C)}else if(M=this._peekTag(p,x,y.any),p.isError(M))return M}let B;if(y.obj&&M&&(B=p.enterObject()),M){if(y.explicit!==null){let C=this._decodeTag(p,y.explicit);if(p.isError(C))return C;p=C}let x=p.offset;if(y.use===null&&y.choice===null){let C;y.any&&(C=p.save());let N=this._decodeTag(p,y.implicit!==null?y.implicit:y.tag,y.any);if(p.isError(N))return N;y.any?m=p.raw(C):p=N}if(g&&g.track&&y.tag!==null&&g.track(p.path(),x,p.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(p.path(),p.offset,p.length,"content"),y.any||(y.choice===null?m=this._decodeGeneric(y.tag,p,g):m=this._decodeChoice(p,g)),p.isError(m))return m;if(!y.any&&y.choice===null&&y.children!==null&&y.children.forEach(function(C){C._decode(p,g)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){let C=new a(m);m=this._getUse(y.contains,p._reporterState.obj)._decode(C,g)}}return y.obj&&M&&(m=p.leaveObject(B)),y.key!==null&&(m!==null||M===!0)?p.leaveKey(E,y.key,m):E!==null&&p.exitKey(E),m},f.prototype._decodeGeneric=function(p,g,y){let m=this._baseState;return p==="seq"||p==="set"?null:p==="seqof"||p==="setof"?this._decodeList(g,p,m.args[0],y):/str$/.test(p)?this._decodeStr(g,p,y):p==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],y):p==="objid"?this._decodeObjid(g,null,null,y):p==="gentime"||p==="utctime"?this._decodeTime(g,p,y):p==="null_"?this._decodeNull(g,y):p==="bool"?this._decodeBool(g,y):p==="objDesc"?this._decodeStr(g,p,y):p==="int"||p==="enum"?this._decodeInt(g,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+p)},f.prototype._getUse=function(p,g){let y=this._baseState;return y.useDecoder=this._use(p,g),s(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},f.prototype._decodeChoice=function(p,g){let y=this._baseState,m=null,M=!1;return Object.keys(y.choice).some(function(E){let B=p.save(),x=y.choice[E];try{let C=x._decode(p,g);if(p.isError(C))return!1;m={type:E,value:C},M=!0}catch{return p.restore(B),!1}return!0},this),M?m:p.error("Choice not matched")},f.prototype._createEncoderBuffer=function(p){return new u(p,this.reporter)},f.prototype._encode=function(p,g,y){let m=this._baseState;if(m.default!==null&&m.default===p)return;let M=this._encodeValue(p,g,y);if(M!==void 0&&!this._skipDefault(M,g,y))return M},f.prototype._encodeValue=function(p,g,y){let m=this._baseState;if(m.parent===null)return m.children[0]._encode(p,g||new r);let M=null;if(this.reporter=g,m.optional&&p===void 0)if(m.default!==null)p=m.default;else return;let E=null,B=!1;if(m.any)M=this._createEncoderBuffer(p);else if(m.choice)M=this._encodeChoice(p,g);else if(m.contains)E=this._getUse(m.contains,y)._encode(p,g),B=!0;else if(m.children)E=m.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,g,p);if(x._baseState.key===null)return g.error("Child should have a key");let C=g.enterKey(x._baseState.key);if(typeof p!="object")return g.error("Child expected, but input is not object");let N=x._encode(p[x._baseState.key],g,p);return g.leaveKey(C),N},this).filter(function(x){return x}),E=this._createEncoderBuffer(E);else if(m.tag==="seqof"||m.tag==="setof"){if(!(m.args&&m.args.length===1))return g.error("Too many args for : "+m.tag);if(!Array.isArray(p))return g.error("seqof/setof, but data is not Array");let x=this.clone();x._baseState.implicit=null,E=this._createEncoderBuffer(p.map(function(C){let N=this._baseState;return this._getUse(N.args[0],p)._encode(C,g)},x))}else m.use!==null?M=this._getUse(m.use,y)._encode(p,g):(E=this._encodePrimitive(m.tag,p),B=!0);if(!m.any&&m.choice===null){let x=m.implicit!==null?m.implicit:m.tag,C=m.implicit===null?"universal":"context";x===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(M=this._encodeComposite(x,B,C,E))}return m.explicit!==null&&(M=this._encodeComposite(m.explicit,!1,"context",M)),M},f.prototype._encodeChoice=function(p,g){let y=this._baseState,m=y.choice[p.type];return m||s(!1,p.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(p.value,g)},f.prototype._encodePrimitive=function(p,g){let y=this._baseState;if(/str$/.test(p))return this._encodeStr(g,p);if(p==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(p==="objid")return this._encodeObjid(g,null,null);if(p==="gentime"||p==="utctime")return this._encodeTime(g,p);if(p==="null_")return this._encodeNull();if(p==="int"||p==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(p==="bool")return this._encodeBool(g);if(p==="objDesc")return this._encodeStr(g,p);throw new Error("Unsupported tag: "+p)},f.prototype._isNumstr=function(p){return/^[0-9 ]*$/.test(p)},f.prototype._isPrintstr=function(p){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(p)}}),ih=gt(t=>{lt();function i(r){let u={};return Object.keys(r).forEach(function(a){(a|0)==a&&(a=a|0);let s=r[a];u[s]=a}),u}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=i(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=i(t.tag)}),K0=gt((t,i)=>{lt();var r=pe(),u=eh().Buffer,a=nh(),s=ih();function e(l){this.enc="der",this.name=l.name,this.entity=l,this.tree=new o,this.tree._init(l.body)}i.exports=e,e.prototype.encode=function(l,p){return this.tree._encode(l,p).join()};function o(l){a.call(this,"der",l)}r(o,a),o.prototype._encodeComposite=function(l,p,g,y){let m=f(l,p,g,this.reporter);if(y.length<128){let B=u.alloc(2);return B[0]=m,B[1]=y.length,this._createEncoderBuffer([B,y])}let M=1;for(let B=y.length;B>=256;B>>=8)M++;let E=u.alloc(2+M);E[0]=m,E[1]=128|M;for(let B=1+M,x=y.length;x>0;B--,x>>=8)E[B]=x&255;return this._createEncoderBuffer([E,y])},o.prototype._encodeStr=function(l,p){if(p==="bitstr")return this._createEncoderBuffer([l.unused|0,l.data]);if(p==="bmpstr"){let g=u.alloc(l.length*2);for(let y=0;y<l.length;y++)g.writeUInt16BE(l.charCodeAt(y),y*2);return this._createEncoderBuffer(g)}else return p==="numstr"?this._isNumstr(l)?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: numstr supports only digits and space"):p==="printstr"?this._isPrintstr(l)?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(p)?this._createEncoderBuffer(l):p==="objDesc"?this._createEncoderBuffer(l):this.reporter.error("Encoding of string type: "+p+" unsupported")},o.prototype._encodeObjid=function(l,p,g){if(typeof l=="string"){if(!p)return this.reporter.error("string objid given, but no values map found");if(!p.hasOwnProperty(l))return this.reporter.error("objid not found in values map");l=p[l].split(/[\s.]+/g);for(let E=0;E<l.length;E++)l[E]|=0}else if(Array.isArray(l)){l=l.slice();for(let E=0;E<l.length;E++)l[E]|=0}if(!Array.isArray(l))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(l));if(!g){if(l[1]>=40)return this.reporter.error("Second objid identifier OOB");l.splice(0,2,l[0]*40+l[1])}let y=0;for(let E=0;E<l.length;E++){let B=l[E];for(y++;B>=128;B>>=7)y++}let m=u.alloc(y),M=m.length-1;for(let E=l.length-1;E>=0;E--){let B=l[E];for(m[M--]=B&127;(B>>=7)>0;)m[M--]=128|B&127}return this._createEncoderBuffer(m)};function c(l){return l<10?"0"+l:l}o.prototype._encodeTime=function(l,p){let g,y=new Date(l);return p==="gentime"?g=[c(y.getUTCFullYear()),c(y.getUTCMonth()+1),c(y.getUTCDate()),c(y.getUTCHours()),c(y.getUTCMinutes()),c(y.getUTCSeconds()),"Z"].join(""):p==="utctime"?g=[c(y.getUTCFullYear()%100),c(y.getUTCMonth()+1),c(y.getUTCDate()),c(y.getUTCHours()),c(y.getUTCMinutes()),c(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+p+" time is not supported yet"),this._encodeStr(g,"octstr")},o.prototype._encodeNull=function(){return this._createEncoderBuffer("")},o.prototype._encodeInt=function(l,p){if(typeof l=="string"){if(!p)return this.reporter.error("String int or enum given, but no values map");if(!p.hasOwnProperty(l))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(l));l=p[l]}if(typeof l!="number"&&!u.isBuffer(l)){let m=l.toArray();!l.sign&&m[0]&128&&m.unshift(0),l=u.from(m)}if(u.isBuffer(l)){let m=l.length;l.length===0&&m++;let M=u.alloc(m);return l.copy(M),l.length===0&&(M[0]=0),this._createEncoderBuffer(M)}if(l<128)return this._createEncoderBuffer(l);if(l<256)return this._createEncoderBuffer([0,l]);let g=1;for(let m=l;m>=256;m>>=8)g++;let y=new Array(g);for(let m=y.length-1;m>=0;m--)y[m]=l&255,l>>=8;return y[0]&128&&y.unshift(0),this._createEncoderBuffer(u.from(y))},o.prototype._encodeBool=function(l){return this._createEncoderBuffer(l?255:0)},o.prototype._use=function(l,p){return typeof l=="function"&&(l=l(p)),l._getEncoder("der").tree},o.prototype._skipDefault=function(l,p,g){let y=this._baseState,m;if(y.default===null)return!1;let M=l.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,p,g).join()),M.length!==y.defaultBuffer.length)return!1;for(m=0;m<M.length;m++)if(M[m]!==y.defaultBuffer[m])return!1;return!0};function f(l,p,g,y){let m;if(l==="seqof"?l="seq":l==="setof"&&(l="set"),s.tagByName.hasOwnProperty(l))m=s.tagByName[l];else if(typeof l=="number"&&(l|0)===l)m=l;else return y.error("Unknown tag: "+l);return m>=31?y.error("Multi-octet tag encoding unsupported"):(p||(m|=32),m|=s.tagClassByName[g||"universal"]<<6,m)}}),Qm=gt((t,i)=>{lt();var r=pe(),u=K0();function a(s){u.call(this,s),this.enc="pem"}r(a,u),i.exports=a,a.prototype.encode=function(s,e){let o=u.prototype.encode.call(this,s).toString("base64"),c=["-----BEGIN "+e.label+"-----"];for(let f=0;f<o.length;f+=64)c.push(o.slice(f,f+64));return c.push("-----END "+e.label+"-----"),c.join(`
`)}}),z0=gt(t=>{lt();var i=t;i.der=K0(),i.pem=Qm()}),W0=gt((t,i)=>{lt();var r=pe(),u=sr(),a=ua().DecoderBuffer,s=nh(),e=ih();function o(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new c,this.tree._init(p.body)}i.exports=o,o.prototype.decode=function(p,g){return a.isDecoderBuffer(p)||(p=new a(p,g)),this.tree._decode(p,g)};function c(p){s.call(this,"der",p)}r(c,s),c.prototype._peekTag=function(p,g,y){if(p.isEmpty())return!1;let m=p.save(),M=f(p,'Failed to peek tag: "'+g+'"');return p.isError(M)?M:(p.restore(m),M.tag===g||M.tagStr===g||M.tagStr+"of"===g||y)},c.prototype._decodeTag=function(p,g,y){let m=f(p,'Failed to decode tag of "'+g+'"');if(p.isError(m))return m;let M=l(p,m.primitive,'Failed to get length of "'+g+'"');if(p.isError(M))return M;if(!y&&m.tag!==g&&m.tagStr!==g&&m.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(m.primitive||M!==null)return p.skip(M,'Failed to match body of: "'+g+'"');let E=p.save(),B=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(B)?B:(M=p.offset-E.offset,p.restore(E),p.skip(M,'Failed to match body of: "'+g+'"'))},c.prototype._skipUntilEnd=function(p,g){for(;;){let y=f(p,g);if(p.isError(y))return y;let m=l(p,y.primitive,g);if(p.isError(m))return m;let M;if(y.primitive||m!==null?M=p.skip(m):M=this._skipUntilEnd(p,g),p.isError(M))return M;if(y.tagStr==="end")break}},c.prototype._decodeList=function(p,g,y,m){let M=[];for(;!p.isEmpty();){let E=this._peekTag(p,"end");if(p.isError(E))return E;let B=y.decode(p,"der",m);if(p.isError(B)&&E)break;M.push(B)}return M},c.prototype._decodeStr=function(p,g){if(g==="bitstr"){let y=p.readUInt8();return p.isError(y)?y:{unused:y,data:p.raw()}}else if(g==="bmpstr"){let y=p.raw();if(y.length%2===1)return p.error("Decoding of string type: bmpstr length mismatch");let m="";for(let M=0;M<y.length/2;M++)m+=String.fromCharCode(y.readUInt16BE(M*2));return m}else if(g==="numstr"){let y=p.raw().toString("ascii");return this._isNumstr(y)?y:p.error("Decoding of string type: numstr unsupported characters")}else{if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){let y=p.raw().toString("ascii");return this._isPrintstr(y)?y:p.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")}},c.prototype._decodeObjid=function(p,g,y){let m,M=[],E=0,B=0;for(;!p.isEmpty();)B=p.readUInt8(),E<<=7,E|=B&127,!(B&128)&&(M.push(E),E=0);B&128&&M.push(E);let x=M[0]/40|0,C=M[0]%40;if(y?m=M:m=[x,C].concat(M.slice(1)),g){let N=g[m.join(" ")];N===void 0&&(N=g[m.join(".")]),N!==void 0&&(m=N)}return m},c.prototype._decodeTime=function(p,g){let y=p.raw().toString(),m,M,E,B,x,C;if(g==="gentime")m=y.slice(0,4)|0,M=y.slice(4,6)|0,E=y.slice(6,8)|0,B=y.slice(8,10)|0,x=y.slice(10,12)|0,C=y.slice(12,14)|0;else if(g==="utctime")m=y.slice(0,2)|0,M=y.slice(2,4)|0,E=y.slice(4,6)|0,B=y.slice(6,8)|0,x=y.slice(8,10)|0,C=y.slice(10,12)|0,m<70?m=2e3+m:m=1900+m;else return p.error("Decoding "+g+" time is not supported yet");return Date.UTC(m,M-1,E,B,x,C,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(p){let g=p.readUInt8();return p.isError(g)?g:g!==0},c.prototype._decodeInt=function(p,g){let y=p.raw(),m=new u(y);return g&&(m=g[m.toString(10)]||m),m},c.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree};function f(p,g){let y=p.readUInt8(g);if(p.isError(y))return y;let m=e.tagClass[y>>6],M=(y&32)===0;if((y&31)===31){let B=y;for(y=0;(B&128)===128;){if(B=p.readUInt8(g),p.isError(B))return B;y<<=7,y|=B&127}}else y&=31;let E=e.tag[y];return{cls:m,primitive:M,tag:y,tagStr:E}}function l(p,g,y){let m=p.readUInt8(y);if(p.isError(m))return m;if(!g&&m===128)return null;if(!(m&128))return m;let M=m&127;if(M>4)return p.error("length octect is too long");m=0;for(let E=0;E<M;E++){m<<=8;let B=p.readUInt8(y);if(p.isError(B))return B;m|=B}return m}}),ty=gt((t,i)=>{lt();var r=pe(),u=eh().Buffer,a=W0();function s(e){a.call(this,e),this.enc="pem"}r(s,a),i.exports=s,s.prototype.decode=function(e,o){let c=e.toString().split(/[\r\n]+/g),f=o.label.toUpperCase(),l=/^-----(BEGIN|END) ([^-]+)-----$/,p=-1,g=-1;for(let M=0;M<c.length;M++){let E=c[M].match(l);if(E!==null&&E[2]===f)if(p===-1){if(E[1]!=="BEGIN")break;p=M}else{if(E[1]!=="END")break;g=M;break}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+f);let y=c.slice(p+1,g).join("");y.replace(/[^a-z0-9+/=]+/gi,"");let m=u.from(y,"base64");return a.prototype.decode.call(this,m,o)}}),q0=gt(t=>{lt();var i=t;i.der=W0(),i.pem=ty()}),$0=gt(t=>{lt();var i=z0(),r=q0(),u=pe(),a=t;a.define=function(e,o){return new s(e,o)};function s(e,o){this.name=e,this.body=o,this.decoders={},this.encoders={}}s.prototype._createNamed=function(e){let o=this.name;function c(f){this._initNamed(f,o)}return u(c,e),c.prototype._initNamed=function(f,l){e.call(this,f,l)},new c(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r[e])),this.decoders[e]},s.prototype.decode=function(e,o,c){return this._getDecoder(o).decode(e,c)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i[e])),this.encoders[e]},s.prototype.encode=function(e,o,c){return this._getEncoder(o).encode(e,c)}}),ey=gt(t=>{lt();var i=t;i.Reporter=rh().Reporter,i.DecoderBuffer=ua().DecoderBuffer,i.EncoderBuffer=ua().EncoderBuffer,i.Node=nh()}),ry=gt(t=>{lt();var i=t;i._reverse=function(r){let u={};return Object.keys(r).forEach(function(a){(a|0)==a&&(a=a|0);let s=r[a];u[s]=a}),u},i.der=ih()}),H0=gt(t=>{lt();var i=t;i.bignum=sr(),i.define=$0().define,i.base=ey(),i.constants=ry(),i.decoders=q0(),i.encoders=z0()}),ny=gt((t,i)=>{lt();var r=H0(),u=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),e=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),o=r.define("RelativeDistinguishedName",function(){this.setof(a)}),c=r.define("RDNSequence",function(){this.seqof(o)}),f=r.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),l=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(u),this.key("notAfter").use(u))}),p=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(f),this.key("validity").use(l),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),y=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});i.exports=y}),iy=gt(t=>{lt();var i=H0();t.certificate=ny();var r=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=r;var u=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=u;var a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),e=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=e;var o=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=o;var c=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=c,t.DSAparam=i.define("DSAparam",function(){this.int()});var f=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=f;var l=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),ay=gt((t,i)=>{i.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),oy=gt((t,i)=>{lt();var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=ts(),e=Xu(),o=Ee().Buffer;i.exports=function(c,f){var l=c.toString(),p=l.match(r),g;if(p){var y="aes"+p[1],m=o.from(p[2],"hex"),M=o.from(p[3].replace(/[\r\n]/g,""),"base64"),E=s(f,m.slice(0,8),parseInt(p[1],10)).key,B=[],x=e.createDecipheriv(y,E,m);B.push(x.update(M)),B.push(x.final()),g=o.concat(B)}else{var C=l.match(a);g=o.from(C[2].replace(/[\r\n]/g,""),"base64")}var N=l.match(u)[1];return{tag:N,data:g}}}),ns=gt((t,i)=>{lt();var r=iy(),u=ay(),a=oy(),s=Xu(),e=M0(),o=Ee().Buffer;i.exports=c;function c(l){var p;typeof l=="object"&&!o.isBuffer(l)&&(p=l.passphrase,l=l.key),typeof l=="string"&&(l=o.from(l));var g=a(l,p),y=g.tag,m=g.data,M,E;switch(y){case"CERTIFICATE":E=r.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(E||(E=r.PublicKey.decode(m,"der")),M=E.algorithm.algorithm.join("."),M){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(E.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return E.subjectPrivateKey=E.subjectPublicKey,{type:"ec",data:E};case"1.2.840.10040.4.1":return E.algorithm.params.pub_key=r.DSAparam.decode(E.subjectPublicKey.data,"der"),{type:"dsa",data:E.algorithm.params};default:throw new Error("unknown key id "+M)}case"ENCRYPTED PRIVATE KEY":m=r.EncryptedPrivateKey.decode(m,"der"),m=f(m,p);case"PRIVATE KEY":switch(E=r.PrivateKey.decode(m,"der"),M=E.algorithm.algorithm.join("."),M){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(E.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:E.algorithm.curve,privateKey:r.ECPrivateKey.decode(E.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return E.algorithm.params.priv_key=r.DSAparam.decode(E.subjectPrivateKey,"der"),{type:"dsa",params:E.algorithm.params};default:throw new Error("unknown key id "+M)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return m=r.ECPrivateKey.decode(m,"der"),{curve:m.parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+y)}}c.signature=r.signature;function f(l,p){var g=l.algorithm.decrypt.kde.kdeparams.salt,y=parseInt(l.algorithm.decrypt.kde.kdeparams.iters.toString(),10),m=u[l.algorithm.decrypt.cipher.algo.join(".")],M=l.algorithm.decrypt.cipher.iv,E=l.subjectPrivateKey,B=parseInt(m.split("-")[1],10)/8,x=e.pbkdf2Sync(p,g,y,B,"sha1"),C=s.createDecipheriv(m,x,M),N=[];return N.push(C.update(E)),N.push(C.final()),o.concat(N)}}),G0=gt((t,i)=>{i.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),sy=gt((t,i)=>{lt();var r=Ee().Buffer,u=w0(),a=Qu(),s=rs().ec,e=F0(),o=ns(),c=G0(),f=1;function l(C,N,F,I,U){var P=o(N);if(P.curve){if(I!=="ecdsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");return p(C,P)}else if(P.type==="dsa"){if(I!=="dsa")throw new Error("wrong private key type");return g(C,P,F)}if(I!=="rsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");if(N.padding!==void 0&&N.padding!==f)throw new Error("illegal or unsupported padding mode");C=r.concat([U,C]);for(var D=P.modulus.byteLength(),W=[0,1];C.length+W.length+1<D;)W.push(255);W.push(0);for(var q=-1;++q<C.length;)W.push(C[q]);var O=a(W,P);return O}function p(C,N){var F=c[N.curve.join(".")];if(!F)throw new Error("unknown curve "+N.curve.join("."));var I=new s(F),U=I.keyFromPrivate(N.privateKey),P=U.sign(C);return r.from(P.toDER())}function g(C,N,F){for(var I=N.params.priv_key,U=N.params.p,P=N.params.q,D=N.params.g,W=new e(0),q,O=M(C,P).mod(P),L=!1,n=m(I,P,C,F);L===!1;)q=B(P,n,F),W=x(D,q,U,P),L=q.invm(P).imul(O.add(I.mul(W))).mod(P),L.cmpn(0)===0&&(L=!1,W=new e(0));return y(W,L)}function y(C,N){C=C.toArray(),N=N.toArray(),C[0]&128&&(C=[0].concat(C)),N[0]&128&&(N=[0].concat(N));var F=C.length+N.length+4,I=[48,F,2,C.length];return I=I.concat(C,[2,N.length],N),r.from(I)}function m(C,N,F,I){if(C=r.from(C.toArray()),C.length<N.byteLength()){var U=r.alloc(N.byteLength()-C.length);C=r.concat([U,C])}var P=F.length,D=E(F,N),W=r.alloc(P);W.fill(1);var q=r.alloc(P);return q=u(I,q).update(W).update(r.from([0])).update(C).update(D).digest(),W=u(I,q).update(W).digest(),q=u(I,q).update(W).update(r.from([1])).update(C).update(D).digest(),W=u(I,q).update(W).digest(),{k:q,v:W}}function M(C,N){var F=new e(C),I=(C.length<<3)-N.bitLength();return I>0&&F.ishrn(I),F}function E(C,N){C=M(C,N),C=C.mod(N);var F=r.from(C.toArray());if(F.length<N.byteLength()){var I=r.alloc(N.byteLength()-F.length);F=r.concat([I,F])}return F}function B(C,N,F){var I,U;do{for(I=r.alloc(0);I.length*8<C.bitLength();)N.v=u(F,N.k).update(N.v).digest(),I=r.concat([I,N.v]);U=M(I,C),N.k=u(F,N.k).update(N.v).update(r.from([0])).digest(),N.v=u(F,N.k).update(N.v).digest()}while(U.cmp(C)!==-1);return U}function x(C,N,F,I){return C.toRed(e.mont(F)).redPow(N).fromRed().mod(I)}i.exports=l,i.exports.getKey=m,i.exports.makeKey=B}),uy=gt((t,i)=>{lt();var r=Ee().Buffer,u=F0(),a=rs().ec,s=ns(),e=G0();function o(p,g,y,m,M){var E=s(y);if(E.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return c(p,g,E)}else if(E.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return f(p,g,E)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");g=r.concat([M,g]);for(var B=E.modulus.byteLength(),x=[1],C=0;g.length+x.length+2<B;)x.push(255),C+=1;x.push(0);for(var N=-1;++N<g.length;)x.push(g[N]);x=r.from(x);var F=u.mont(E.modulus);p=new u(p).toRed(F),p=p.redPow(new u(E.publicExponent)),p=r.from(p.fromRed().toArray());var I=C<8?1:0;for(B=Math.min(p.length,x.length),p.length!==x.length&&(I=1),N=-1;++N<B;)I|=p[N]^x[N];return I===0}function c(p,g,y){var m=e[y.data.algorithm.curve.join(".")];if(!m)throw new Error("unknown curve "+y.data.algorithm.curve.join("."));var M=new a(m),E=y.data.subjectPrivateKey.data;return M.verify(g,p,E)}function f(p,g,y){var m=y.data.p,M=y.data.q,E=y.data.g,B=y.data.pub_key,x=s.signature.decode(p,"der"),C=x.s,N=x.r;l(C,M),l(N,M);var F=u.mont(m),I=C.invm(M),U=E.toRed(F).redPow(new u(g).mul(I).mod(M)).fromRed().mul(B.toRed(F).redPow(N.mul(I).mod(M)).fromRed()).mod(m).mod(M);return U.cmp(N)===0}function l(p,g){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(g)>=0)throw new Error("invalid sig")}i.exports=o}),hy=gt((t,i)=>{lt();var r=Ee().Buffer,u=Ea(),a=kr(),s=pe(),e=sy(),o=uy(),c=_0();Object.keys(c).forEach(function(y){c[y].id=r.from(c[y].id,"hex"),c[y.toLowerCase()]=c[y]});function f(y){a.Writable.call(this);var m=c[y];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=u(m.hash),this._tag=m.id,this._signType=m.sign}s(f,a.Writable),f.prototype._write=function(y,m,M){this._hash.update(y),M()},f.prototype.update=function(y,m){return this._hash.update(typeof y=="string"?r.from(y,m):y),this},f.prototype.sign=function(y,m){this.end();var M=this._hash.digest(),E=e(M,y,this._hashType,this._signType,this._tag);return m?E.toString(m):E};function l(y){a.Writable.call(this);var m=c[y];if(!m)throw new Error("Unknown message digest");this._hash=u(m.hash),this._tag=m.id,this._signType=m.sign}s(l,a.Writable),l.prototype._write=function(y,m,M){this._hash.update(y),M()},l.prototype.update=function(y,m){return this._hash.update(typeof y=="string"?r.from(y,m):y),this},l.prototype.verify=function(y,m,M){var E=typeof m=="string"?r.from(m,M):m;this.end();var B=this._hash.digest();return o(E,B,y,this._signType,this._tag)};function p(y){return new f(y)}function g(y){return new l(y)}i.exports={Sign:p,Verify:g,createSign:p,createVerify:g}}),ly=gt((t,i)=>{lt();var r=rs(),u=sr();i.exports=function(o){return new s(o)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1;function s(o){this.curveType=a[o],this.curveType||(this.curveType={name:o}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}s.prototype.generateKeys=function(o,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(o,c)},s.prototype.computeSecret=function(o,c,f){c=c||"utf8",Ut.Buffer.isBuffer(o)||(o=new Ut.Buffer(o,c));var l=this.curve.keyFromPublic(o).getPublic(),p=l.mul(this.keys.getPrivate()).getX();return e(p,f,this.curveType.byteLength)},s.prototype.getPublicKey=function(o,c){var f=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),e(f,o)},s.prototype.getPrivateKey=function(o){return e(this.keys.getPrivate(),o)},s.prototype.setPublicKey=function(o,c){return c=c||"utf8",Ut.Buffer.isBuffer(o)||(o=new Ut.Buffer(o,c)),this.keys._importPublic(o),this},s.prototype.setPrivateKey=function(o,c){c=c||"utf8",Ut.Buffer.isBuffer(o)||(o=new Ut.Buffer(o,c));var f=new u(o);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this};function e(o,c,f){Array.isArray(o)||(o=o.toArray());var l=new Ut.Buffer(o);if(f&&l.length<f){var p=new Ut.Buffer(f-l.length);p.fill(0),l=Ut.Buffer.concat([p,l])}return c?l.toString(c):l}}),V0=gt((t,i)=>{lt();var r=Ea(),u=Ee().Buffer;i.exports=function(s,e){for(var o=u.alloc(0),c=0,f;o.length<e;)f=a(c++),o=u.concat([o,r("sha1").update(s).update(f).digest()]);return o.slice(0,e)};function a(s){var e=u.allocUnsafe(4);return e.writeUInt32BE(s,0),e}}),Z0=gt((t,i)=>{lt(),i.exports=function(r,u){for(var a=r.length,s=-1;++s<a;)r[s]^=u[s];return r}}),J0=gt((t,i)=>{lt();var r=sr(),u=Ee().Buffer;function a(s,e){return u.from(s.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed().toArray())}i.exports=a}),fy=gt((t,i)=>{lt();var r=ns(),u=Fi(),a=Ea(),s=V0(),e=Z0(),o=sr(),c=J0(),f=Qu(),l=Ee().Buffer;i.exports=function(m,M,E){var B;m.padding?B=m.padding:E?B=1:B=4;var x=r(m),C;if(B===4)C=p(x,M);else if(B===1)C=g(x,M,E);else if(B===3){if(C=new o(M),C.cmp(x.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return E?f(C,x):c(C,x)};function p(m,M){var E=m.modulus.byteLength(),B=M.length,x=a("sha1").update(l.alloc(0)).digest(),C=x.length,N=2*C;if(B>E-N-2)throw new Error("message too long");var F=l.alloc(E-B-N-2),I=E-C-1,U=u(C),P=e(l.concat([x,F,l.alloc(1,1),M],I),s(U,I)),D=e(U,s(P,C));return new o(l.concat([l.alloc(1),D,P],E))}function g(m,M,E){var B=M.length,x=m.modulus.byteLength();if(B>x-11)throw new Error("message too long");var C;return E?C=l.alloc(x-B-3,255):C=y(x-B-3),new o(l.concat([l.from([0,E?1:2]),C,l.alloc(1),M],x))}function y(m){for(var M=l.allocUnsafe(m),E=0,B=u(m*2),x=0,C;E<m;)x===B.length&&(B=u(m*2),x=0),C=B[x++],C&&(M[E++]=C);return M}}),cy=gt((t,i)=>{lt();var r=ns(),u=V0(),a=Z0(),s=sr(),e=Qu(),o=Ea(),c=J0(),f=Ee().Buffer;i.exports=function(y,m,M){var E;y.padding?E=y.padding:M?E=1:E=4;var B=r(y),x=B.modulus.byteLength();if(m.length>x||new s(m).cmp(B.modulus)>=0)throw new Error("decryption error");var C;M?C=c(new s(m),B):C=e(m,B);var N=f.alloc(x-C.length);if(C=f.concat([N,C],x),E===4)return l(B,C);if(E===1)return p(B,C,M);if(E===3)return C;throw new Error("unknown padding")};function l(y,m){var M=y.modulus.byteLength(),E=o("sha1").update(f.alloc(0)).digest(),B=E.length;if(m[0]!==0)throw new Error("decryption error");var x=m.slice(1,B+1),C=m.slice(B+1),N=a(x,u(C,B)),F=a(C,u(N,M-B-1));if(g(E,F.slice(0,B)))throw new Error("decryption error");for(var I=B;F[I]===0;)I++;if(F[I++]!==1)throw new Error("decryption error");return F.slice(I)}function p(y,m,M){for(var E=m.slice(0,2),B=2,x=0;m[B++]!==0;)if(B>=m.length){x++;break}var C=m.slice(2,B-1);if((E.toString("hex")!=="0002"&&!M||E.toString("hex")!=="0001"&&M)&&x++,C.length<8&&x++,x)throw new Error("decryption error");return m.slice(B)}function g(y,m){y=f.from(y),m=f.from(m);var M=0,E=y.length;y.length!==m.length&&(M++,E=Math.min(y.length,m.length));for(var B=-1;++B<E;)M+=y[B]^m[B];return M}}),dy=gt(t=>{lt(),t.publicEncrypt=fy(),t.privateDecrypt=cy(),t.privateEncrypt=function(i,r){return t.publicEncrypt(i,r,!0)},t.publicDecrypt=function(i,r){return t.privateDecrypt(i,r,!0)}}),py=gt(t=>{lt();function i(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var r=Ee(),u=Fi(),a=r.Buffer,s=r.kMaxLength,e=le.crypto||le.msCrypto,o=Math.pow(2,32)-1;function c(y,m){if(typeof y!="number"||y!==y)throw new TypeError("offset must be a number");if(y>o||y<0)throw new TypeError("offset must be a uint32");if(y>s||y>m)throw new RangeError("offset out of range")}function f(y,m,M){if(typeof y!="number"||y!==y)throw new TypeError("size must be a number");if(y>o||y<0)throw new TypeError("size must be a uint32");if(y+m>M||y>s)throw new RangeError("buffer too small")}e&&e.getRandomValues||!Jt.default.browser?(t.randomFill=l,t.randomFillSync=g):(t.randomFill=i,t.randomFillSync=i);function l(y,m,M,E){if(!a.isBuffer(y)&&!(y instanceof le.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")E=m,m=0,M=y.length;else if(typeof M=="function")E=M,M=y.length-m;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return c(m,y.length),f(M,m,y.length),p(y,m,M,E)}function p(y,m,M,E){if(Jt.default.browser){var B=y.buffer,x=new Uint8Array(B,m,M);if(e.getRandomValues(x),E){Jt.default.nextTick(function(){E(null,y)});return}return y}if(E){u(M,function(N,F){if(N)return E(N);F.copy(y,m),E(null,y)});return}var C=u(M);return C.copy(y,m),y}function g(y,m,M){if(typeof m>"u"&&(m=0),!a.isBuffer(y)&&!(y instanceof le.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return c(m,y.length),M===void 0&&(M=y.length-m),f(M,m,y.length),p(y,m,M)}}),gi=gt(t=>{lt(),t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=Fi(),t.createHash=t.Hash=Ea(),t.createHmac=t.Hmac=w0();var i=pm(),r=Object.keys(i),u=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);t.getHashes=function(){return u};var a=M0();t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=Im();t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var e=Pm();t.DiffieHellmanGroup=e.DiffieHellmanGroup,t.createDiffieHellmanGroup=e.createDiffieHellmanGroup,t.getDiffieHellman=e.getDiffieHellman,t.createDiffieHellman=e.createDiffieHellman,t.DiffieHellman=e.DiffieHellman;var o=hy();t.createSign=o.createSign,t.Sign=o.Sign,t.createVerify=o.createVerify,t.Verify=o.Verify,t.createECDH=ly();var c=dy();t.publicEncrypt=c.publicEncrypt,t.privateEncrypt=c.privateEncrypt,t.publicDecrypt=c.publicDecrypt,t.privateDecrypt=c.privateDecrypt;var f=py();t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),gy=gt((t,i)=>{lt();function r(u,a){typeof a=="boolean"&&(a={forever:a}),this._originalTimeouts=JSON.parse(JSON.stringify(u)),this._timeouts=u,this._options=a||{},this._maxRetryTime=a&&a.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}i.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(u){if(this._timeout&&clearTimeout(this._timeout),!u)return!1;var a=new Date().getTime();if(u&&a-this._operationStart>=this._maxRetryTime)return this._errors.push(u),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(u);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var e=this;return this._timer=setTimeout(function(){e._attempts++,e._operationTimeoutCb&&(e._timeout=setTimeout(function(){e._operationTimeoutCb(e._attempts)},e._operationTimeout),e._options.unref&&e._timeout.unref()),e._fn(e._attempts)},s),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(u,a){this._fn=u,a&&(a.timeout&&(this._operationTimeout=a.timeout),a.cb&&(this._operationTimeoutCb=a.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},r.prototype.try=function(u){console.log("Using RetryOperation.try() is deprecated"),this.attempt(u)},r.prototype.start=function(u){console.log("Using RetryOperation.start() is deprecated"),this.attempt(u)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(this._errors.length===0)return null;for(var u={},a=null,s=0,e=0;e<this._errors.length;e++){var o=this._errors[e],c=o.message,f=(u[c]||0)+1;u[c]=f,f>=s&&(a=o,s=f)}return a}}),my=gt(t=>{lt();var i=gy();t.operation=function(r){var u=t.timeouts(r);return new i(u,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var u={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in r)u[a]=r[a];if(u.minTimeout>u.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],e=0;e<u.retries;e++)s.push(this.createTimeout(e,u));return r&&r.forever&&!s.length&&s.push(this.createTimeout(e,u)),s.sort(function(o,c){return o-c}),s},t.createTimeout=function(r,u){var a=u.randomize?Math.random()+1:1,s=Math.round(a*Math.max(u.minTimeout,1)*Math.pow(u.factor,r));return s=Math.min(s,u.maxTimeout),s},t.wrap=function(r,u,a){if(u instanceof Array&&(a=u,u=null),!a){a=[];for(var s in r)typeof r[s]=="function"&&a.push(s)}for(var e=0;e<a.length;e++){var o=a[e],c=r[o];r[o]=(function(f){var l=t.operation(u),p=Array.prototype.slice.call(arguments,1),g=p.pop();p.push(function(y){l.retry(y)||(y&&(arguments[0]=l.mainError()),g.apply(this,arguments))}),l.attempt(function(){f.apply(r,p)})}).bind(r,c),r[o].options=u}}}),yy=gt((t,i)=>{lt(),i.exports=my()}),by=gt((t,i)=>{lt();var r=yy();function u(a,s){function e(o,c){var f=s||{},l;"randomize"in f||(f.randomize=!0),l=r.operation(f);function p(m){c(m||new Error("Aborted"))}function g(m,M){if(m.bail){p(m);return}l.retry(m)?f.onRetry&&f.onRetry(m,M):c(l.mainError())}function y(m){var M;try{M=a(p,m)}catch(E){g(E,m);return}Promise.resolve(M).then(o).catch(function(E){g(E,m)})}l.attempt(y)}return new Promise(e)}i.exports=u}),vy=gt((t,i)=>{lt(),function(){var r="input is invalid type",u="finalize already called",a=typeof window=="object",s=a?window:{};s.JS_SHA3_NO_WINDOW&&(a=!1);var e=!a&&typeof self=="object",o=!s.JS_SHA3_NO_NODE_JS&&typeof Jt.default=="object"&&Jt.default.versions&&Jt.default.versions.node;o?s=le:e&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&typeof i=="object"&&i.exports,f=typeof define=="function"&&define.amd,l=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),g=[31,7936,2031616,520093696],y=[4,1024,262144,67108864],m=[1,256,65536,16777216],M=[6,1536,393216,100663296],E=[0,8,16,24],B=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],x=[224,256,384,512],C=[128,256],N=["hex","buffer","arrayBuffer","array","digest"],F={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(et){return Object.prototype.toString.call(et)==="[object Array]"}),l&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(et){return typeof et=="object"&&et.buffer&&et.buffer.constructor===ArrayBuffer});for(var I=function(et,at,$){return function(J){return new tt(et,at,et).update(J)[$]()}},U=function(et,at,$){return function(J,R){return new tt(et,at,R).update(J)[$]()}},P=function(et,at,$){return function(J,R,j,z){return v["cshake"+et].update(J,R,j,z)[$]()}},D=function(et,at,$){return function(J,R,j,z){return v["kmac"+et].update(J,R,j,z)[$]()}},W=function(et,at,$,J){for(var R=0;R<N.length;++R){var j=N[R];et[j]=at($,J,j)}return et},q=function(et,at){var $=I(et,at,"hex");return $.create=function(){return new tt(et,at,et)},$.update=function(J){return $.create().update(J)},W($,I,et,at)},O=function(et,at){var $=U(et,at,"hex");return $.create=function(J){return new tt(et,at,J)},$.update=function(J,R){return $.create(R).update(J)},W($,U,et,at)},L=function(et,at){var $=F[et],J=P(et,at,"hex");return J.create=function(R,j,z){return!j&&!z?v["shake"+et].create(R):new tt(et,at,R).bytepad([j,z],$)},J.update=function(R,j,z,Z){return J.create(j,z,Z).update(R)},W(J,P,et,at)},n=function(et,at){var $=F[et],J=D(et,at,"hex");return J.create=function(R,j,z){return new X(et,at,j).bytepad(["KMAC",z],$).bytepad([R],$)},J.update=function(R,j,z,Z){return J.create(R,z,Z).update(j)},W(J,D,et,at)},d=[{name:"keccak",padding:m,bits:x,createMethod:q},{name:"sha3",padding:M,bits:x,createMethod:q},{name:"shake",padding:g,bits:C,createMethod:O},{name:"cshake",padding:y,bits:C,createMethod:L},{name:"kmac",padding:y,bits:C,createMethod:n}],v={},A=[],T=0;T<d.length;++T)for(var S=d[T],w=S.bits,b=0;b<w.length;++b){var h=S.name+"_"+w[b];if(A.push(h),v[h]=S.createMethod(w[b],S.padding),S.name!=="sha3"){var k=S.name+w[b];A.push(k),v[k]=v[h]}}function tt(et,at,$){this.blocks=[],this.s=[],this.padding=at,this.outputBits=$,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(et<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=$>>5,this.extraBytes=($&31)>>3;for(var J=0;J<50;++J)this.s[J]=0}tt.prototype.update=function(et){if(this.finalized)throw new Error(u);var at,$=typeof et;if($!=="string"){if($==="object"){if(et===null)throw new Error(r);if(l&&et.constructor===ArrayBuffer)et=new Uint8Array(et);else if(!Array.isArray(et)&&(!l||!ArrayBuffer.isView(et)))throw new Error(r)}else throw new Error(r);at=!0}for(var J=this.blocks,R=this.byteCount,j=et.length,z=this.blockCount,Z=0,Q=this.s,K,G;Z<j;){if(this.reset)for(this.reset=!1,J[0]=this.block,K=1;K<z+1;++K)J[K]=0;if(at)for(K=this.start;Z<j&&K<R;++Z)J[K>>2]|=et[Z]<<E[K++&3];else for(K=this.start;Z<j&&K<R;++Z)G=et.charCodeAt(Z),G<128?J[K>>2]|=G<<E[K++&3]:G<2048?(J[K>>2]|=(192|G>>6)<<E[K++&3],J[K>>2]|=(128|G&63)<<E[K++&3]):G<55296||G>=57344?(J[K>>2]|=(224|G>>12)<<E[K++&3],J[K>>2]|=(128|G>>6&63)<<E[K++&3],J[K>>2]|=(128|G&63)<<E[K++&3]):(G=65536+((G&1023)<<10|et.charCodeAt(++Z)&1023),J[K>>2]|=(240|G>>18)<<E[K++&3],J[K>>2]|=(128|G>>12&63)<<E[K++&3],J[K>>2]|=(128|G>>6&63)<<E[K++&3],J[K>>2]|=(128|G&63)<<E[K++&3]);if(this.lastByteIndex=K,K>=R){for(this.start=K-R,this.block=J[z],K=0;K<z;++K)Q[K]^=J[K];ft(Q),this.reset=!0}else this.start=K}return this},tt.prototype.encode=function(et,at){var $=et&255,J=1,R=[$];for(et=et>>8,$=et&255;$>0;)R.unshift($),et=et>>8,$=et&255,++J;return at?R.push(J):R.unshift(J),this.update(R),R.length},tt.prototype.encodeString=function(et){var at,$=typeof et;if($!=="string"){if($==="object"){if(et===null)throw new Error(r);if(l&&et.constructor===ArrayBuffer)et=new Uint8Array(et);else if(!Array.isArray(et)&&(!l||!ArrayBuffer.isView(et)))throw new Error(r)}else throw new Error(r);at=!0}var J=0,R=et.length;if(at)J=R;else for(var j=0;j<et.length;++j){var z=et.charCodeAt(j);z<128?J+=1:z<2048?J+=2:z<55296||z>=57344?J+=3:(z=65536+((z&1023)<<10|et.charCodeAt(++j)&1023),J+=4)}return J+=this.encode(J*8),this.update(et),J},tt.prototype.bytepad=function(et,at){for(var $=this.encode(at),J=0;J<et.length;++J)$+=this.encodeString(et[J]);var R=at-$%at,j=[];return j.length=R,this.update(j),this},tt.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var et=this.blocks,at=this.lastByteIndex,$=this.blockCount,J=this.s;if(et[at>>2]|=this.padding[at&3],this.lastByteIndex===this.byteCount)for(et[0]=et[$],at=1;at<$+1;++at)et[at]=0;for(et[$-1]|=2147483648,at=0;at<$;++at)J[at]^=et[at];ft(J)}},tt.prototype.toString=tt.prototype.hex=function(){this.finalize();for(var et=this.blockCount,at=this.s,$=this.outputBlocks,J=this.extraBytes,R=0,j=0,z="",Z;j<$;){for(R=0;R<et&&j<$;++R,++j)Z=at[R],z+=p[Z>>4&15]+p[Z&15]+p[Z>>12&15]+p[Z>>8&15]+p[Z>>20&15]+p[Z>>16&15]+p[Z>>28&15]+p[Z>>24&15];j%et===0&&(ft(at),R=0)}return J&&(Z=at[R],z+=p[Z>>4&15]+p[Z&15],J>1&&(z+=p[Z>>12&15]+p[Z>>8&15]),J>2&&(z+=p[Z>>20&15]+p[Z>>16&15])),z},tt.prototype.arrayBuffer=function(){this.finalize();var et=this.blockCount,at=this.s,$=this.outputBlocks,J=this.extraBytes,R=0,j=0,z=this.outputBits>>3,Z;J?Z=new ArrayBuffer($+1<<2):Z=new ArrayBuffer(z);for(var Q=new Uint32Array(Z);j<$;){for(R=0;R<et&&j<$;++R,++j)Q[j]=at[R];j%et===0&&ft(at)}return J&&(Q[R]=at[R],Z=Z.slice(0,z)),Z},tt.prototype.buffer=tt.prototype.arrayBuffer,tt.prototype.digest=tt.prototype.array=function(){this.finalize();for(var et=this.blockCount,at=this.s,$=this.outputBlocks,J=this.extraBytes,R=0,j=0,z=[],Z,Q;j<$;){for(R=0;R<et&&j<$;++R,++j)Z=j<<2,Q=at[R],z[Z]=Q&255,z[Z+1]=Q>>8&255,z[Z+2]=Q>>16&255,z[Z+3]=Q>>24&255;j%et===0&&ft(at)}return J&&(Z=j<<2,Q=at[R],z[Z]=Q&255,J>1&&(z[Z+1]=Q>>8&255),J>2&&(z[Z+2]=Q>>16&255)),z};function X(et,at,$){tt.call(this,et,at,$)}X.prototype=new tt,X.prototype.finalize=function(){return this.encode(this.outputBits,!0),tt.prototype.finalize.call(this)};var ft=function(et){var at,$,J,R,j,z,Z,Q,K,G,H,Y,it,ot,mt,_t,ht,vt,pt,V,rt,st,yt,Ct,dt,Mt,Lt,wt,ct,Et,ut,Ot,qt,nt,Rt,Dt,bt,Tt,jt,St,kt,Kt,At,Nt,$t,Ft,Wt,ae,Xt,Gt,he,Qt,Zt,se,te,re,Se,Be,Re,Te,xe,Ce,Ue;for(J=0;J<48;J+=2)R=et[0]^et[10]^et[20]^et[30]^et[40],j=et[1]^et[11]^et[21]^et[31]^et[41],z=et[2]^et[12]^et[22]^et[32]^et[42],Z=et[3]^et[13]^et[23]^et[33]^et[43],Q=et[4]^et[14]^et[24]^et[34]^et[44],K=et[5]^et[15]^et[25]^et[35]^et[45],G=et[6]^et[16]^et[26]^et[36]^et[46],H=et[7]^et[17]^et[27]^et[37]^et[47],Y=et[8]^et[18]^et[28]^et[38]^et[48],it=et[9]^et[19]^et[29]^et[39]^et[49],at=Y^(z<<1|Z>>>31),$=it^(Z<<1|z>>>31),et[0]^=at,et[1]^=$,et[10]^=at,et[11]^=$,et[20]^=at,et[21]^=$,et[30]^=at,et[31]^=$,et[40]^=at,et[41]^=$,at=R^(Q<<1|K>>>31),$=j^(K<<1|Q>>>31),et[2]^=at,et[3]^=$,et[12]^=at,et[13]^=$,et[22]^=at,et[23]^=$,et[32]^=at,et[33]^=$,et[42]^=at,et[43]^=$,at=z^(G<<1|H>>>31),$=Z^(H<<1|G>>>31),et[4]^=at,et[5]^=$,et[14]^=at,et[15]^=$,et[24]^=at,et[25]^=$,et[34]^=at,et[35]^=$,et[44]^=at,et[45]^=$,at=Q^(Y<<1|it>>>31),$=K^(it<<1|Y>>>31),et[6]^=at,et[7]^=$,et[16]^=at,et[17]^=$,et[26]^=at,et[27]^=$,et[36]^=at,et[37]^=$,et[46]^=at,et[47]^=$,at=G^(R<<1|j>>>31),$=H^(j<<1|R>>>31),et[8]^=at,et[9]^=$,et[18]^=at,et[19]^=$,et[28]^=at,et[29]^=$,et[38]^=at,et[39]^=$,et[48]^=at,et[49]^=$,ot=et[0],mt=et[1],Ft=et[11]<<4|et[10]>>>28,Wt=et[10]<<4|et[11]>>>28,wt=et[20]<<3|et[21]>>>29,ct=et[21]<<3|et[20]>>>29,Te=et[31]<<9|et[30]>>>23,xe=et[30]<<9|et[31]>>>23,Kt=et[40]<<18|et[41]>>>14,At=et[41]<<18|et[40]>>>14,nt=et[2]<<1|et[3]>>>31,Rt=et[3]<<1|et[2]>>>31,_t=et[13]<<12|et[12]>>>20,ht=et[12]<<12|et[13]>>>20,ae=et[22]<<10|et[23]>>>22,Xt=et[23]<<10|et[22]>>>22,Et=et[33]<<13|et[32]>>>19,ut=et[32]<<13|et[33]>>>19,Ce=et[42]<<2|et[43]>>>30,Ue=et[43]<<2|et[42]>>>30,se=et[5]<<30|et[4]>>>2,te=et[4]<<30|et[5]>>>2,Dt=et[14]<<6|et[15]>>>26,bt=et[15]<<6|et[14]>>>26,vt=et[25]<<11|et[24]>>>21,pt=et[24]<<11|et[25]>>>21,Gt=et[34]<<15|et[35]>>>17,he=et[35]<<15|et[34]>>>17,Ot=et[45]<<29|et[44]>>>3,qt=et[44]<<29|et[45]>>>3,Ct=et[6]<<28|et[7]>>>4,dt=et[7]<<28|et[6]>>>4,re=et[17]<<23|et[16]>>>9,Se=et[16]<<23|et[17]>>>9,Tt=et[26]<<25|et[27]>>>7,jt=et[27]<<25|et[26]>>>7,V=et[36]<<21|et[37]>>>11,rt=et[37]<<21|et[36]>>>11,Qt=et[47]<<24|et[46]>>>8,Zt=et[46]<<24|et[47]>>>8,Nt=et[8]<<27|et[9]>>>5,$t=et[9]<<27|et[8]>>>5,Mt=et[18]<<20|et[19]>>>12,Lt=et[19]<<20|et[18]>>>12,Be=et[29]<<7|et[28]>>>25,Re=et[28]<<7|et[29]>>>25,St=et[38]<<8|et[39]>>>24,kt=et[39]<<8|et[38]>>>24,st=et[48]<<14|et[49]>>>18,yt=et[49]<<14|et[48]>>>18,et[0]=ot^~_t&vt,et[1]=mt^~ht&pt,et[10]=Ct^~Mt&wt,et[11]=dt^~Lt&ct,et[20]=nt^~Dt&Tt,et[21]=Rt^~bt&jt,et[30]=Nt^~Ft&ae,et[31]=$t^~Wt&Xt,et[40]=se^~re&Be,et[41]=te^~Se&Re,et[2]=_t^~vt&V,et[3]=ht^~pt&rt,et[12]=Mt^~wt&Et,et[13]=Lt^~ct&ut,et[22]=Dt^~Tt&St,et[23]=bt^~jt&kt,et[32]=Ft^~ae&Gt,et[33]=Wt^~Xt&he,et[42]=re^~Be&Te,et[43]=Se^~Re&xe,et[4]=vt^~V&st,et[5]=pt^~rt&yt,et[14]=wt^~Et&Ot,et[15]=ct^~ut&qt,et[24]=Tt^~St&Kt,et[25]=jt^~kt&At,et[34]=ae^~Gt&Qt,et[35]=Xt^~he&Zt,et[44]=Be^~Te&Ce,et[45]=Re^~xe&Ue,et[6]=V^~st&ot,et[7]=rt^~yt&mt,et[16]=Et^~Ot&Ct,et[17]=ut^~qt&dt,et[26]=St^~Kt&nt,et[27]=kt^~At&Rt,et[36]=Gt^~Qt&Nt,et[37]=he^~Zt&$t,et[46]=Te^~Ce&se,et[47]=xe^~Ue&te,et[8]=st^~ot&_t,et[9]=yt^~mt&ht,et[18]=Ot^~Ct&Mt,et[19]=qt^~dt&Lt,et[28]=Kt^~nt&Dt,et[29]=At^~Rt&bt,et[38]=Qt^~Nt&Ft,et[39]=Zt^~$t&Wt,et[48]=Ce^~se&re,et[49]=Ue^~te&Se,et[0]^=B[J],et[1]^=B[J+1]};if(c)i.exports=v;else{for(T=0;T<A.length;++T)s[A[T]]=v[A[T]];f&&define(function(){return v})}}()}),wy=gt((t,i)=>{lt(),function(r,u){function a(n,d){if(!n)throw new Error(d||"Assertion failed")}function s(n,d){n.super_=d;var v=function(){};v.prototype=d.prototype,n.prototype=new v,n.prototype.constructor=n}function e(n,d,v){if(e.isBN(n))return n;this.negative=0,this.words=null,this.length=0,this.red=null,n!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(n||0,d||10,v||"be"))}typeof r=="object"?r.exports=e:u.BN=e,e.BN=e,e.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$e().Buffer}catch{}e.isBN=function(n){return n instanceof e?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===e.wordSize&&Array.isArray(n.words)},e.max=function(n,d){return n.cmp(d)>0?n:d},e.min=function(n,d){return n.cmp(d)<0?n:d},e.prototype._init=function(n,d,v){if(typeof n=="number")return this._initNumber(n,d,v);if(typeof n=="object")return this._initArray(n,d,v);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),n=n.toString().replace(/\s+/g,"");var A=0;n[0]==="-"&&(A++,this.negative=1),A<n.length&&(d===16?this._parseHex(n,A,v):(this._parseBase(n,d,A),v==="le"&&this._initArray(this.toArray(),d,v)))},e.prototype._initNumber=function(n,d,v){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(a(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},e.prototype._initArray=function(n,d,v){if(a(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T,S,w=0;if(v==="be")for(A=n.length-1,T=0;A>=0;A-=3)S=n[A]|n[A-1]<<8|n[A-2]<<16,this.words[T]|=S<<w&67108863,this.words[T+1]=S>>>26-w&67108863,w+=24,w>=26&&(w-=26,T++);else if(v==="le")for(A=0,T=0;A<n.length;A+=3)S=n[A]|n[A+1]<<8|n[A+2]<<16,this.words[T]|=S<<w&67108863,this.words[T+1]=S>>>26-w&67108863,w+=24,w>=26&&(w-=26,T++);return this._strip()};function c(n,d){var v=n.charCodeAt(d);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;a(!1,"Invalid character in "+n)}function f(n,d,v){var A=c(n,v);return v-1>=d&&(A|=c(n,v-1)<<4),A}e.prototype._parseHex=function(n,d,v){this.length=Math.ceil((n.length-d)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T=0,S=0,w;if(v==="be")for(A=n.length-1;A>=d;A-=2)w=f(n,d,A)<<T,this.words[S]|=w&67108863,T>=18?(T-=18,S+=1,this.words[S]|=w>>>26):T+=8;else{var b=n.length-d;for(A=b%2===0?d+1:d;A<n.length;A+=2)w=f(n,d,A)<<T,this.words[S]|=w&67108863,T>=18?(T-=18,S+=1,this.words[S]|=w>>>26):T+=8}this._strip()};function l(n,d,v,A){for(var T=0,S=0,w=Math.min(n.length,v),b=d;b<w;b++){var h=n.charCodeAt(b)-48;T*=A,h>=49?S=h-49+10:h>=17?S=h-17+10:S=h,a(h>=0&&S<A,"Invalid character"),T+=S}return T}e.prototype._parseBase=function(n,d,v){this.words=[0],this.length=1;for(var A=0,T=1;T<=67108863;T*=d)A++;A--,T=T/d|0;for(var S=n.length-v,w=S%A,b=Math.min(S,S-w)+v,h=0,k=v;k<b;k+=A)h=l(n,k,k+A,d),this.imuln(T),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(w!==0){var tt=1;for(h=l(n,k,n.length,d),k=0;k<w;k++)tt*=d;this.imuln(tt),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},e.prototype.copy=function(n){n.words=new Array(this.length);for(var d=0;d<this.length;d++)n.words[d]=this.words[d];n.length=this.length,n.negative=this.negative,n.red=this.red};function p(n,d){n.words=d.words,n.length=d.length,n.negative=d.negative,n.red=d.red}if(e.prototype._move=function(n){p(n,this)},e.prototype.clone=function(){var n=new e(null);return this.copy(n),n},e.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{e.prototype.inspect=g}else e.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(n,d){n=n||10,d=d|0||1;var v;if(n===16||n==="hex"){v="";for(var A=0,T=0,S=0;S<this.length;S++){var w=this.words[S],b=((w<<A|T)&16777215).toString(16);T=w>>>24-A&16777215,A+=2,A>=26&&(A-=26,S--),T!==0||S!==this.length-1?v=y[6-b.length]+b+v:v=b+v}for(T!==0&&(v=T.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(n===(n|0)&&n>=2&&n<=36){var h=m[n],k=M[n];v="";var tt=this.clone();for(tt.negative=0;!tt.isZero();){var X=tt.modrn(k).toString(n);tt=tt.idivn(k),tt.isZero()?v=X+v:v=y[h-X.length]+X+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}a(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},e.prototype.toJSON=function(){return this.toString(16,2)},o&&(e.prototype.toBuffer=function(n,d){return this.toArrayLike(o,n,d)}),e.prototype.toArray=function(n,d){return this.toArrayLike(Array,n,d)};var E=function(n,d){return n.allocUnsafe?n.allocUnsafe(d):new n(d)};e.prototype.toArrayLike=function(n,d,v){this._strip();var A=this.byteLength(),T=v||Math.max(1,A);a(A<=T,"byte array longer than desired length"),a(T>0,"Requested array length <= 0");var S=E(n,T),w=d==="le"?"LE":"BE";return this["_toArrayLike"+w](S,A),S},e.prototype._toArrayLikeLE=function(n,d){for(var v=0,A=0,T=0,S=0;T<this.length;T++){var w=this.words[T]<<S|A;n[v++]=w&255,v<n.length&&(n[v++]=w>>8&255),v<n.length&&(n[v++]=w>>16&255),S===6?(v<n.length&&(n[v++]=w>>24&255),A=0,S=0):(A=w>>>24,S+=2)}if(v<n.length)for(n[v++]=A;v<n.length;)n[v++]=0},e.prototype._toArrayLikeBE=function(n,d){for(var v=n.length-1,A=0,T=0,S=0;T<this.length;T++){var w=this.words[T]<<S|A;n[v--]=w&255,v>=0&&(n[v--]=w>>8&255),v>=0&&(n[v--]=w>>16&255),S===6?(v>=0&&(n[v--]=w>>24&255),A=0,S=0):(A=w>>>24,S+=2)}if(v>=0)for(n[v--]=A;v>=0;)n[v--]=0},Math.clz32?e.prototype._countBits=function(n){return 32-Math.clz32(n)}:e.prototype._countBits=function(n){var d=n,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},e.prototype._zeroBits=function(n){if(n===0)return 26;var d=n,v=0;return!(d&8191)&&(v+=13,d>>>=13),!(d&127)&&(v+=7,d>>>=7),!(d&15)&&(v+=4,d>>>=4),!(d&3)&&(v+=2,d>>>=2),!(d&1)&&v++,v},e.prototype.bitLength=function(){var n=this.words[this.length-1],d=this._countBits(n);return(this.length-1)*26+d};function B(n){for(var d=new Array(n.bitLength()),v=0;v<d.length;v++){var A=v/26|0,T=v%26;d[v]=n.words[A]>>>T&1}return d}e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(n+=v,v!==26)break}return n},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},e.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var d=0;d<n.length;d++)this.words[d]=this.words[d]|n.words[d];return this._strip()},e.prototype.ior=function(n){return a((this.negative|n.negative)===0),this.iuor(n)},e.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},e.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},e.prototype.iuand=function(n){var d;this.length>n.length?d=n:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&n.words[v];return this.length=d.length,this._strip()},e.prototype.iand=function(n){return a((this.negative|n.negative)===0),this.iuand(n)},e.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},e.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},e.prototype.iuxor=function(n){var d,v;this.length>n.length?(d=this,v=n):(d=n,v=this);for(var A=0;A<v.length;A++)this.words[A]=d.words[A]^v.words[A];if(this!==d)for(;A<d.length;A++)this.words[A]=d.words[A];return this.length=d.length,this._strip()},e.prototype.ixor=function(n){return a((this.negative|n.negative)===0),this.iuxor(n)},e.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},e.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},e.prototype.inotn=function(n){a(typeof n=="number"&&n>=0);var d=Math.ceil(n/26)|0,v=n%26;this._expand(d),v>0&&d--;for(var A=0;A<d;A++)this.words[A]=~this.words[A]&67108863;return v>0&&(this.words[A]=~this.words[A]&67108863>>26-v),this._strip()},e.prototype.notn=function(n){return this.clone().inotn(n)},e.prototype.setn=function(n,d){a(typeof n=="number"&&n>=0);var v=n/26|0,A=n%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<A:this.words[v]=this.words[v]&~(1<<A),this._strip()},e.prototype.iadd=function(n){var d;if(this.negative!==0&&n.negative===0)return this.negative=0,d=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,d=this.isub(n),n.negative=1,d._normSign();var v,A;this.length>n.length?(v=this,A=n):(v=n,A=this);for(var T=0,S=0;S<A.length;S++)d=(v.words[S]|0)+(A.words[S]|0)+T,this.words[S]=d&67108863,T=d>>>26;for(;T!==0&&S<v.length;S++)d=(v.words[S]|0)+T,this.words[S]=d&67108863,T=d>>>26;if(this.length=v.length,T!==0)this.words[this.length]=T,this.length++;else if(v!==this)for(;S<v.length;S++)this.words[S]=v.words[S];return this},e.prototype.add=function(n){var d;return n.negative!==0&&this.negative===0?(n.negative=0,d=this.sub(n),n.negative^=1,d):n.negative===0&&this.negative!==0?(this.negative=0,d=n.sub(this),this.negative=1,d):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},e.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var d=this.iadd(n);return n.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var v=this.cmp(n);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,T;v>0?(A=this,T=n):(A=n,T=this);for(var S=0,w=0;w<T.length;w++)d=(A.words[w]|0)-(T.words[w]|0)+S,S=d>>26,this.words[w]=d&67108863;for(;S!==0&&w<A.length;w++)d=(A.words[w]|0)+S,S=d>>26,this.words[w]=d&67108863;if(S===0&&w<A.length&&A!==this)for(;w<A.length;w++)this.words[w]=A.words[w];return this.length=Math.max(this.length,w),A!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(n){return this.clone().isub(n)};function x(n,d,v){v.negative=d.negative^n.negative;var A=n.length+d.length|0;v.length=A,A=A-1|0;var T=n.words[0]|0,S=d.words[0]|0,w=T*S,b=w&67108863,h=w/67108864|0;v.words[0]=b;for(var k=1;k<A;k++){for(var tt=h>>>26,X=h&67108863,ft=Math.min(k,d.length-1),et=Math.max(0,k-n.length+1);et<=ft;et++){var at=k-et|0;T=n.words[at]|0,S=d.words[et]|0,w=T*S+X,tt+=w/67108864|0,X=w&67108863}v.words[k]=X|0,h=tt|0}return h!==0?v.words[k]=h|0:v.length--,v._strip()}var C=function(n,d,v){var A=n.words,T=d.words,S=v.words,w=0,b,h,k,tt=A[0]|0,X=tt&8191,ft=tt>>>13,et=A[1]|0,at=et&8191,$=et>>>13,J=A[2]|0,R=J&8191,j=J>>>13,z=A[3]|0,Z=z&8191,Q=z>>>13,K=A[4]|0,G=K&8191,H=K>>>13,Y=A[5]|0,it=Y&8191,ot=Y>>>13,mt=A[6]|0,_t=mt&8191,ht=mt>>>13,vt=A[7]|0,pt=vt&8191,V=vt>>>13,rt=A[8]|0,st=rt&8191,yt=rt>>>13,Ct=A[9]|0,dt=Ct&8191,Mt=Ct>>>13,Lt=T[0]|0,wt=Lt&8191,ct=Lt>>>13,Et=T[1]|0,ut=Et&8191,Ot=Et>>>13,qt=T[2]|0,nt=qt&8191,Rt=qt>>>13,Dt=T[3]|0,bt=Dt&8191,Tt=Dt>>>13,jt=T[4]|0,St=jt&8191,kt=jt>>>13,Kt=T[5]|0,At=Kt&8191,Nt=Kt>>>13,$t=T[6]|0,Ft=$t&8191,Wt=$t>>>13,ae=T[7]|0,Xt=ae&8191,Gt=ae>>>13,he=T[8]|0,Qt=he&8191,Zt=he>>>13,se=T[9]|0,te=se&8191,re=se>>>13;v.negative=n.negative^d.negative,v.length=19,b=Math.imul(X,wt),h=Math.imul(X,ct),h=h+Math.imul(ft,wt)|0,k=Math.imul(ft,ct);var Se=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Se>>>26)|0,Se&=67108863,b=Math.imul(at,wt),h=Math.imul(at,ct),h=h+Math.imul($,wt)|0,k=Math.imul($,ct),b=b+Math.imul(X,ut)|0,h=h+Math.imul(X,Ot)|0,h=h+Math.imul(ft,ut)|0,k=k+Math.imul(ft,Ot)|0;var Be=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Be>>>26)|0,Be&=67108863,b=Math.imul(R,wt),h=Math.imul(R,ct),h=h+Math.imul(j,wt)|0,k=Math.imul(j,ct),b=b+Math.imul(at,ut)|0,h=h+Math.imul(at,Ot)|0,h=h+Math.imul($,ut)|0,k=k+Math.imul($,Ot)|0,b=b+Math.imul(X,nt)|0,h=h+Math.imul(X,Rt)|0,h=h+Math.imul(ft,nt)|0,k=k+Math.imul(ft,Rt)|0;var Re=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,b=Math.imul(Z,wt),h=Math.imul(Z,ct),h=h+Math.imul(Q,wt)|0,k=Math.imul(Q,ct),b=b+Math.imul(R,ut)|0,h=h+Math.imul(R,Ot)|0,h=h+Math.imul(j,ut)|0,k=k+Math.imul(j,Ot)|0,b=b+Math.imul(at,nt)|0,h=h+Math.imul(at,Rt)|0,h=h+Math.imul($,nt)|0,k=k+Math.imul($,Rt)|0,b=b+Math.imul(X,bt)|0,h=h+Math.imul(X,Tt)|0,h=h+Math.imul(ft,bt)|0,k=k+Math.imul(ft,Tt)|0;var Te=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Te>>>26)|0,Te&=67108863,b=Math.imul(G,wt),h=Math.imul(G,ct),h=h+Math.imul(H,wt)|0,k=Math.imul(H,ct),b=b+Math.imul(Z,ut)|0,h=h+Math.imul(Z,Ot)|0,h=h+Math.imul(Q,ut)|0,k=k+Math.imul(Q,Ot)|0,b=b+Math.imul(R,nt)|0,h=h+Math.imul(R,Rt)|0,h=h+Math.imul(j,nt)|0,k=k+Math.imul(j,Rt)|0,b=b+Math.imul(at,bt)|0,h=h+Math.imul(at,Tt)|0,h=h+Math.imul($,bt)|0,k=k+Math.imul($,Tt)|0,b=b+Math.imul(X,St)|0,h=h+Math.imul(X,kt)|0,h=h+Math.imul(ft,St)|0,k=k+Math.imul(ft,kt)|0;var xe=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,b=Math.imul(it,wt),h=Math.imul(it,ct),h=h+Math.imul(ot,wt)|0,k=Math.imul(ot,ct),b=b+Math.imul(G,ut)|0,h=h+Math.imul(G,Ot)|0,h=h+Math.imul(H,ut)|0,k=k+Math.imul(H,Ot)|0,b=b+Math.imul(Z,nt)|0,h=h+Math.imul(Z,Rt)|0,h=h+Math.imul(Q,nt)|0,k=k+Math.imul(Q,Rt)|0,b=b+Math.imul(R,bt)|0,h=h+Math.imul(R,Tt)|0,h=h+Math.imul(j,bt)|0,k=k+Math.imul(j,Tt)|0,b=b+Math.imul(at,St)|0,h=h+Math.imul(at,kt)|0,h=h+Math.imul($,St)|0,k=k+Math.imul($,kt)|0,b=b+Math.imul(X,At)|0,h=h+Math.imul(X,Nt)|0,h=h+Math.imul(ft,At)|0,k=k+Math.imul(ft,Nt)|0;var Ce=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,b=Math.imul(_t,wt),h=Math.imul(_t,ct),h=h+Math.imul(ht,wt)|0,k=Math.imul(ht,ct),b=b+Math.imul(it,ut)|0,h=h+Math.imul(it,Ot)|0,h=h+Math.imul(ot,ut)|0,k=k+Math.imul(ot,Ot)|0,b=b+Math.imul(G,nt)|0,h=h+Math.imul(G,Rt)|0,h=h+Math.imul(H,nt)|0,k=k+Math.imul(H,Rt)|0,b=b+Math.imul(Z,bt)|0,h=h+Math.imul(Z,Tt)|0,h=h+Math.imul(Q,bt)|0,k=k+Math.imul(Q,Tt)|0,b=b+Math.imul(R,St)|0,h=h+Math.imul(R,kt)|0,h=h+Math.imul(j,St)|0,k=k+Math.imul(j,kt)|0,b=b+Math.imul(at,At)|0,h=h+Math.imul(at,Nt)|0,h=h+Math.imul($,At)|0,k=k+Math.imul($,Nt)|0,b=b+Math.imul(X,Ft)|0,h=h+Math.imul(X,Wt)|0,h=h+Math.imul(ft,Ft)|0,k=k+Math.imul(ft,Wt)|0;var Ue=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,b=Math.imul(pt,wt),h=Math.imul(pt,ct),h=h+Math.imul(V,wt)|0,k=Math.imul(V,ct),b=b+Math.imul(_t,ut)|0,h=h+Math.imul(_t,Ot)|0,h=h+Math.imul(ht,ut)|0,k=k+Math.imul(ht,Ot)|0,b=b+Math.imul(it,nt)|0,h=h+Math.imul(it,Rt)|0,h=h+Math.imul(ot,nt)|0,k=k+Math.imul(ot,Rt)|0,b=b+Math.imul(G,bt)|0,h=h+Math.imul(G,Tt)|0,h=h+Math.imul(H,bt)|0,k=k+Math.imul(H,Tt)|0,b=b+Math.imul(Z,St)|0,h=h+Math.imul(Z,kt)|0,h=h+Math.imul(Q,St)|0,k=k+Math.imul(Q,kt)|0,b=b+Math.imul(R,At)|0,h=h+Math.imul(R,Nt)|0,h=h+Math.imul(j,At)|0,k=k+Math.imul(j,Nt)|0,b=b+Math.imul(at,Ft)|0,h=h+Math.imul(at,Wt)|0,h=h+Math.imul($,Ft)|0,k=k+Math.imul($,Wt)|0,b=b+Math.imul(X,Xt)|0,h=h+Math.imul(X,Gt)|0,h=h+Math.imul(ft,Xt)|0,k=k+Math.imul(ft,Gt)|0;var Ke=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,b=Math.imul(st,wt),h=Math.imul(st,ct),h=h+Math.imul(yt,wt)|0,k=Math.imul(yt,ct),b=b+Math.imul(pt,ut)|0,h=h+Math.imul(pt,Ot)|0,h=h+Math.imul(V,ut)|0,k=k+Math.imul(V,Ot)|0,b=b+Math.imul(_t,nt)|0,h=h+Math.imul(_t,Rt)|0,h=h+Math.imul(ht,nt)|0,k=k+Math.imul(ht,Rt)|0,b=b+Math.imul(it,bt)|0,h=h+Math.imul(it,Tt)|0,h=h+Math.imul(ot,bt)|0,k=k+Math.imul(ot,Tt)|0,b=b+Math.imul(G,St)|0,h=h+Math.imul(G,kt)|0,h=h+Math.imul(H,St)|0,k=k+Math.imul(H,kt)|0,b=b+Math.imul(Z,At)|0,h=h+Math.imul(Z,Nt)|0,h=h+Math.imul(Q,At)|0,k=k+Math.imul(Q,Nt)|0,b=b+Math.imul(R,Ft)|0,h=h+Math.imul(R,Wt)|0,h=h+Math.imul(j,Ft)|0,k=k+Math.imul(j,Wt)|0,b=b+Math.imul(at,Xt)|0,h=h+Math.imul(at,Gt)|0,h=h+Math.imul($,Xt)|0,k=k+Math.imul($,Gt)|0,b=b+Math.imul(X,Qt)|0,h=h+Math.imul(X,Zt)|0,h=h+Math.imul(ft,Qt)|0,k=k+Math.imul(ft,Zt)|0;var Je=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(dt,wt),h=Math.imul(dt,ct),h=h+Math.imul(Mt,wt)|0,k=Math.imul(Mt,ct),b=b+Math.imul(st,ut)|0,h=h+Math.imul(st,Ot)|0,h=h+Math.imul(yt,ut)|0,k=k+Math.imul(yt,Ot)|0,b=b+Math.imul(pt,nt)|0,h=h+Math.imul(pt,Rt)|0,h=h+Math.imul(V,nt)|0,k=k+Math.imul(V,Rt)|0,b=b+Math.imul(_t,bt)|0,h=h+Math.imul(_t,Tt)|0,h=h+Math.imul(ht,bt)|0,k=k+Math.imul(ht,Tt)|0,b=b+Math.imul(it,St)|0,h=h+Math.imul(it,kt)|0,h=h+Math.imul(ot,St)|0,k=k+Math.imul(ot,kt)|0,b=b+Math.imul(G,At)|0,h=h+Math.imul(G,Nt)|0,h=h+Math.imul(H,At)|0,k=k+Math.imul(H,Nt)|0,b=b+Math.imul(Z,Ft)|0,h=h+Math.imul(Z,Wt)|0,h=h+Math.imul(Q,Ft)|0,k=k+Math.imul(Q,Wt)|0,b=b+Math.imul(R,Xt)|0,h=h+Math.imul(R,Gt)|0,h=h+Math.imul(j,Xt)|0,k=k+Math.imul(j,Gt)|0,b=b+Math.imul(at,Qt)|0,h=h+Math.imul(at,Zt)|0,h=h+Math.imul($,Qt)|0,k=k+Math.imul($,Zt)|0,b=b+Math.imul(X,te)|0,h=h+Math.imul(X,re)|0,h=h+Math.imul(ft,te)|0,k=k+Math.imul(ft,re)|0;var ze=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(ze>>>26)|0,ze&=67108863,b=Math.imul(dt,ut),h=Math.imul(dt,Ot),h=h+Math.imul(Mt,ut)|0,k=Math.imul(Mt,Ot),b=b+Math.imul(st,nt)|0,h=h+Math.imul(st,Rt)|0,h=h+Math.imul(yt,nt)|0,k=k+Math.imul(yt,Rt)|0,b=b+Math.imul(pt,bt)|0,h=h+Math.imul(pt,Tt)|0,h=h+Math.imul(V,bt)|0,k=k+Math.imul(V,Tt)|0,b=b+Math.imul(_t,St)|0,h=h+Math.imul(_t,kt)|0,h=h+Math.imul(ht,St)|0,k=k+Math.imul(ht,kt)|0,b=b+Math.imul(it,At)|0,h=h+Math.imul(it,Nt)|0,h=h+Math.imul(ot,At)|0,k=k+Math.imul(ot,Nt)|0,b=b+Math.imul(G,Ft)|0,h=h+Math.imul(G,Wt)|0,h=h+Math.imul(H,Ft)|0,k=k+Math.imul(H,Wt)|0,b=b+Math.imul(Z,Xt)|0,h=h+Math.imul(Z,Gt)|0,h=h+Math.imul(Q,Xt)|0,k=k+Math.imul(Q,Gt)|0,b=b+Math.imul(R,Qt)|0,h=h+Math.imul(R,Zt)|0,h=h+Math.imul(j,Qt)|0,k=k+Math.imul(j,Zt)|0,b=b+Math.imul(at,te)|0,h=h+Math.imul(at,re)|0,h=h+Math.imul($,te)|0,k=k+Math.imul($,re)|0;var Xe=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(dt,nt),h=Math.imul(dt,Rt),h=h+Math.imul(Mt,nt)|0,k=Math.imul(Mt,Rt),b=b+Math.imul(st,bt)|0,h=h+Math.imul(st,Tt)|0,h=h+Math.imul(yt,bt)|0,k=k+Math.imul(yt,Tt)|0,b=b+Math.imul(pt,St)|0,h=h+Math.imul(pt,kt)|0,h=h+Math.imul(V,St)|0,k=k+Math.imul(V,kt)|0,b=b+Math.imul(_t,At)|0,h=h+Math.imul(_t,Nt)|0,h=h+Math.imul(ht,At)|0,k=k+Math.imul(ht,Nt)|0,b=b+Math.imul(it,Ft)|0,h=h+Math.imul(it,Wt)|0,h=h+Math.imul(ot,Ft)|0,k=k+Math.imul(ot,Wt)|0,b=b+Math.imul(G,Xt)|0,h=h+Math.imul(G,Gt)|0,h=h+Math.imul(H,Xt)|0,k=k+Math.imul(H,Gt)|0,b=b+Math.imul(Z,Qt)|0,h=h+Math.imul(Z,Zt)|0,h=h+Math.imul(Q,Qt)|0,k=k+Math.imul(Q,Zt)|0,b=b+Math.imul(R,te)|0,h=h+Math.imul(R,re)|0,h=h+Math.imul(j,te)|0,k=k+Math.imul(j,re)|0;var Ge=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,b=Math.imul(dt,bt),h=Math.imul(dt,Tt),h=h+Math.imul(Mt,bt)|0,k=Math.imul(Mt,Tt),b=b+Math.imul(st,St)|0,h=h+Math.imul(st,kt)|0,h=h+Math.imul(yt,St)|0,k=k+Math.imul(yt,kt)|0,b=b+Math.imul(pt,At)|0,h=h+Math.imul(pt,Nt)|0,h=h+Math.imul(V,At)|0,k=k+Math.imul(V,Nt)|0,b=b+Math.imul(_t,Ft)|0,h=h+Math.imul(_t,Wt)|0,h=h+Math.imul(ht,Ft)|0,k=k+Math.imul(ht,Wt)|0,b=b+Math.imul(it,Xt)|0,h=h+Math.imul(it,Gt)|0,h=h+Math.imul(ot,Xt)|0,k=k+Math.imul(ot,Gt)|0,b=b+Math.imul(G,Qt)|0,h=h+Math.imul(G,Zt)|0,h=h+Math.imul(H,Qt)|0,k=k+Math.imul(H,Zt)|0,b=b+Math.imul(Z,te)|0,h=h+Math.imul(Z,re)|0,h=h+Math.imul(Q,te)|0,k=k+Math.imul(Q,re)|0;var Ye=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,b=Math.imul(dt,St),h=Math.imul(dt,kt),h=h+Math.imul(Mt,St)|0,k=Math.imul(Mt,kt),b=b+Math.imul(st,At)|0,h=h+Math.imul(st,Nt)|0,h=h+Math.imul(yt,At)|0,k=k+Math.imul(yt,Nt)|0,b=b+Math.imul(pt,Ft)|0,h=h+Math.imul(pt,Wt)|0,h=h+Math.imul(V,Ft)|0,k=k+Math.imul(V,Wt)|0,b=b+Math.imul(_t,Xt)|0,h=h+Math.imul(_t,Gt)|0,h=h+Math.imul(ht,Xt)|0,k=k+Math.imul(ht,Gt)|0,b=b+Math.imul(it,Qt)|0,h=h+Math.imul(it,Zt)|0,h=h+Math.imul(ot,Qt)|0,k=k+Math.imul(ot,Zt)|0,b=b+Math.imul(G,te)|0,h=h+Math.imul(G,re)|0,h=h+Math.imul(H,te)|0,k=k+Math.imul(H,re)|0;var We=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(We>>>26)|0,We&=67108863,b=Math.imul(dt,At),h=Math.imul(dt,Nt),h=h+Math.imul(Mt,At)|0,k=Math.imul(Mt,Nt),b=b+Math.imul(st,Ft)|0,h=h+Math.imul(st,Wt)|0,h=h+Math.imul(yt,Ft)|0,k=k+Math.imul(yt,Wt)|0,b=b+Math.imul(pt,Xt)|0,h=h+Math.imul(pt,Gt)|0,h=h+Math.imul(V,Xt)|0,k=k+Math.imul(V,Gt)|0,b=b+Math.imul(_t,Qt)|0,h=h+Math.imul(_t,Zt)|0,h=h+Math.imul(ht,Qt)|0,k=k+Math.imul(ht,Zt)|0,b=b+Math.imul(it,te)|0,h=h+Math.imul(it,re)|0,h=h+Math.imul(ot,te)|0,k=k+Math.imul(ot,re)|0;var Ve=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,b=Math.imul(dt,Ft),h=Math.imul(dt,Wt),h=h+Math.imul(Mt,Ft)|0,k=Math.imul(Mt,Wt),b=b+Math.imul(st,Xt)|0,h=h+Math.imul(st,Gt)|0,h=h+Math.imul(yt,Xt)|0,k=k+Math.imul(yt,Gt)|0,b=b+Math.imul(pt,Qt)|0,h=h+Math.imul(pt,Zt)|0,h=h+Math.imul(V,Qt)|0,k=k+Math.imul(V,Zt)|0,b=b+Math.imul(_t,te)|0,h=h+Math.imul(_t,re)|0,h=h+Math.imul(ht,te)|0,k=k+Math.imul(ht,re)|0;var Ze=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(dt,Xt),h=Math.imul(dt,Gt),h=h+Math.imul(Mt,Xt)|0,k=Math.imul(Mt,Gt),b=b+Math.imul(st,Qt)|0,h=h+Math.imul(st,Zt)|0,h=h+Math.imul(yt,Qt)|0,k=k+Math.imul(yt,Zt)|0,b=b+Math.imul(pt,te)|0,h=h+Math.imul(pt,re)|0,h=h+Math.imul(V,te)|0,k=k+Math.imul(V,re)|0;var ar=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,b=Math.imul(dt,Qt),h=Math.imul(dt,Zt),h=h+Math.imul(Mt,Qt)|0,k=Math.imul(Mt,Zt),b=b+Math.imul(st,te)|0,h=h+Math.imul(st,re)|0,h=h+Math.imul(yt,te)|0,k=k+Math.imul(yt,re)|0;var br=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(br>>>26)|0,br&=67108863,b=Math.imul(dt,te),h=Math.imul(dt,re),h=h+Math.imul(Mt,te)|0,k=Math.imul(Mt,re);var cr=(w+b|0)+((h&8191)<<13)|0;return w=(k+(h>>>13)|0)+(cr>>>26)|0,cr&=67108863,S[0]=Se,S[1]=Be,S[2]=Re,S[3]=Te,S[4]=xe,S[5]=Ce,S[6]=Ue,S[7]=Ke,S[8]=Je,S[9]=ze,S[10]=Xe,S[11]=Ge,S[12]=Ye,S[13]=We,S[14]=Ve,S[15]=Ze,S[16]=ar,S[17]=br,S[18]=cr,w!==0&&(S[19]=w,v.length++),v};Math.imul||(C=x);function N(n,d,v){v.negative=d.negative^n.negative,v.length=n.length+d.length;for(var A=0,T=0,S=0;S<v.length-1;S++){var w=T;T=0;for(var b=A&67108863,h=Math.min(S,d.length-1),k=Math.max(0,S-n.length+1);k<=h;k++){var tt=S-k,X=n.words[tt]|0,ft=d.words[k]|0,et=X*ft,at=et&67108863;w=w+(et/67108864|0)|0,at=at+b|0,b=at&67108863,w=w+(at>>>26)|0,T+=w>>>26,w&=67108863}v.words[S]=b,A=w,w=T}return A!==0?v.words[S]=A:v.length--,v._strip()}function F(n,d,v){return N(n,d,v)}e.prototype.mulTo=function(n,d){var v,A=this.length+n.length;return this.length===10&&n.length===10?v=C(this,n,d):A<63?v=x(this,n,d):A<1024?v=N(this,n,d):v=F(this,n,d),v},e.prototype.mul=function(n){var d=new e(null);return d.words=new Array(this.length+n.length),this.mulTo(n,d)},e.prototype.mulf=function(n){var d=new e(null);return d.words=new Array(this.length+n.length),F(this,n,d)},e.prototype.imul=function(n){return this.clone().mulTo(n,this)},e.prototype.imuln=function(n){var d=n<0;d&&(n=-n),a(typeof n=="number"),a(n<67108864);for(var v=0,A=0;A<this.length;A++){var T=(this.words[A]|0)*n,S=(T&67108863)+(v&67108863);v>>=26,v+=T/67108864|0,v+=S>>>26,this.words[A]=S&67108863}return v!==0&&(this.words[A]=v,this.length++),d?this.ineg():this},e.prototype.muln=function(n){return this.clone().imuln(n)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(n){var d=B(n);if(d.length===0)return new e(1);for(var v=this,A=0;A<d.length&&d[A]===0;A++,v=v.sqr());if(++A<d.length)for(var T=v.sqr();A<d.length;A++,T=T.sqr())d[A]!==0&&(v=v.mul(T));return v},e.prototype.iushln=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26,A=67108863>>>26-d<<26-d,T;if(d!==0){var S=0;for(T=0;T<this.length;T++){var w=this.words[T]&A,b=(this.words[T]|0)-w<<d;this.words[T]=b|S,S=w>>>26-d}S&&(this.words[T]=S,this.length++)}if(v!==0){for(T=this.length-1;T>=0;T--)this.words[T+v]=this.words[T];for(T=0;T<v;T++)this.words[T]=0;this.length+=v}return this._strip()},e.prototype.ishln=function(n){return a(this.negative===0),this.iushln(n)},e.prototype.iushrn=function(n,d,v){a(typeof n=="number"&&n>=0);var A;d?A=(d-d%26)/26:A=0;var T=n%26,S=Math.min((n-T)/26,this.length),w=67108863^67108863>>>T<<T,b=v;if(A-=S,A=Math.max(0,A),b){for(var h=0;h<S;h++)b.words[h]=this.words[h];b.length=S}if(S!==0)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(k!==0||h>=A);h--){var tt=this.words[h]|0;this.words[h]=k<<26-T|tt>>>T,k=tt&w}return b&&k!==0&&(b.words[b.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(n,d,v){return a(this.negative===0),this.iushrn(n,d,v)},e.prototype.shln=function(n){return this.clone().ishln(n)},e.prototype.ushln=function(n){return this.clone().iushln(n)},e.prototype.shrn=function(n){return this.clone().ishrn(n)},e.prototype.ushrn=function(n){return this.clone().iushrn(n)},e.prototype.testn=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26,A=1<<d;if(this.length<=v)return!1;var T=this.words[v];return!!(T&A)},e.prototype.imaskn=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var A=67108863^67108863>>>d<<d;this.words[this.length-1]&=A}return this._strip()},e.prototype.maskn=function(n){return this.clone().imaskn(n)},e.prototype.iaddn=function(n){return a(typeof n=="number"),a(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},e.prototype._iaddn=function(n){this.words[0]+=n;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},e.prototype.isubn=function(n){if(a(typeof n=="number"),a(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},e.prototype.addn=function(n){return this.clone().iaddn(n)},e.prototype.subn=function(n){return this.clone().isubn(n)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(n,d,v){var A=n.length+v,T;this._expand(A);var S,w=0;for(T=0;T<n.length;T++){S=(this.words[T+v]|0)+w;var b=(n.words[T]|0)*d;S-=b&67108863,w=(S>>26)-(b/67108864|0),this.words[T+v]=S&67108863}for(;T<this.length-v;T++)S=(this.words[T+v]|0)+w,w=S>>26,this.words[T+v]=S&67108863;if(w===0)return this._strip();for(a(w===-1),w=0,T=0;T<this.length;T++)S=-(this.words[T]|0)+w,w=S>>26,this.words[T]=S&67108863;return this.negative=1,this._strip()},e.prototype._wordDiv=function(n,d){var v=this.length-n.length,A=this.clone(),T=n,S=T.words[T.length-1]|0,w=this._countBits(S);v=26-w,v!==0&&(T=T.ushln(v),A.iushln(v),S=T.words[T.length-1]|0);var b=A.length-T.length,h;if(d!=="mod"){h=new e(null),h.length=b+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var tt=A.clone()._ishlnsubmul(T,1,b);tt.negative===0&&(A=tt,h&&(h.words[b]=1));for(var X=b-1;X>=0;X--){var ft=(A.words[T.length+X]|0)*67108864+(A.words[T.length+X-1]|0);for(ft=Math.min(ft/S|0,67108863),A._ishlnsubmul(T,ft,X);A.negative!==0;)ft--,A.negative=0,A._ishlnsubmul(T,1,X),A.isZero()||(A.negative^=1);h&&(h.words[X]=ft)}return h&&h._strip(),A._strip(),d!=="div"&&v!==0&&A.iushrn(v),{div:h||null,mod:A}},e.prototype.divmod=function(n,d,v){if(a(!n.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var A,T,S;return this.negative!==0&&n.negative===0?(S=this.neg().divmod(n,d),d!=="mod"&&(A=S.div.neg()),d!=="div"&&(T=S.mod.neg(),v&&T.negative!==0&&T.iadd(n)),{div:A,mod:T}):this.negative===0&&n.negative!==0?(S=this.divmod(n.neg(),d),d!=="mod"&&(A=S.div.neg()),{div:A,mod:S.mod}):this.negative&n.negative?(S=this.neg().divmod(n.neg(),d),d!=="div"&&(T=S.mod.neg(),v&&T.negative!==0&&T.isub(n)),{div:S.div,mod:T}):n.length>this.length||this.cmp(n)<0?{div:new e(0),mod:this}:n.length===1?d==="div"?{div:this.divn(n.words[0]),mod:null}:d==="mod"?{div:null,mod:new e(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new e(this.modrn(n.words[0]))}:this._wordDiv(n,d)},e.prototype.div=function(n){return this.divmod(n,"div",!1).div},e.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},e.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},e.prototype.divRound=function(n){var d=this.divmod(n);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(n):d.mod,A=n.ushrn(1),T=n.andln(1),S=v.cmp(A);return S<0||T===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},e.prototype.modrn=function(n){var d=n<0;d&&(n=-n),a(n<=67108863);for(var v=(1<<26)%n,A=0,T=this.length-1;T>=0;T--)A=(v*A+(this.words[T]|0))%n;return d?-A:A},e.prototype.modn=function(n){return this.modrn(n)},e.prototype.idivn=function(n){var d=n<0;d&&(n=-n),a(n<=67108863);for(var v=0,A=this.length-1;A>=0;A--){var T=(this.words[A]|0)+v*67108864;this.words[A]=T/n|0,v=T%n}return this._strip(),d?this.ineg():this},e.prototype.divn=function(n){return this.clone().idivn(n)},e.prototype.egcd=function(n){a(n.negative===0),a(!n.isZero());var d=this,v=n.clone();d.negative!==0?d=d.umod(n):d=d.clone();for(var A=new e(1),T=new e(0),S=new e(0),w=new e(1),b=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++b;for(var h=v.clone(),k=d.clone();!d.isZero();){for(var tt=0,X=1;!(d.words[0]&X)&&tt<26;++tt,X<<=1);if(tt>0)for(d.iushrn(tt);tt-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(h),T.isub(k)),A.iushrn(1),T.iushrn(1);for(var ft=0,et=1;!(v.words[0]&et)&&ft<26;++ft,et<<=1);if(ft>0)for(v.iushrn(ft);ft-- >0;)(S.isOdd()||w.isOdd())&&(S.iadd(h),w.isub(k)),S.iushrn(1),w.iushrn(1);d.cmp(v)>=0?(d.isub(v),A.isub(S),T.isub(w)):(v.isub(d),S.isub(A),w.isub(T))}return{a:S,b:w,gcd:v.iushln(b)}},e.prototype._invmp=function(n){a(n.negative===0),a(!n.isZero());var d=this,v=n.clone();d.negative!==0?d=d.umod(n):d=d.clone();for(var A=new e(1),T=new e(0),S=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var w=0,b=1;!(d.words[0]&b)&&w<26;++w,b<<=1);if(w>0)for(d.iushrn(w);w-- >0;)A.isOdd()&&A.iadd(S),A.iushrn(1);for(var h=0,k=1;!(v.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(v.iushrn(h);h-- >0;)T.isOdd()&&T.iadd(S),T.iushrn(1);d.cmp(v)>=0?(d.isub(v),A.isub(T)):(v.isub(d),T.isub(A))}var tt;return d.cmpn(1)===0?tt=A:tt=T,tt.cmpn(0)<0&&tt.iadd(n),tt},e.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var d=this.clone(),v=n.clone();d.negative=0,v.negative=0;for(var A=0;d.isEven()&&v.isEven();A++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var T=d.cmp(v);if(T<0){var S=d;d=v,v=S}else if(T===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(A)},e.prototype.invm=function(n){return this.egcd(n).a.umod(n)},e.prototype.isEven=function(){return(this.words[0]&1)===0},e.prototype.isOdd=function(){return(this.words[0]&1)===1},e.prototype.andln=function(n){return this.words[0]&n},e.prototype.bincn=function(n){a(typeof n=="number");var d=n%26,v=(n-d)/26,A=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=A,this;for(var T=A,S=v;T!==0&&S<this.length;S++){var w=this.words[S]|0;w+=T,T=w>>>26,w&=67108863,this.words[S]=w}return T!==0&&(this.words[S]=T,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(n){var d=n<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(n=-n),a(n<=67108863,"Number is too big");var A=this.words[0]|0;v=A===n?0:A<n?-1:1}return this.negative!==0?-v|0:v},e.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var d=this.ucmp(n);return this.negative!==0?-d|0:d},e.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var A=this.words[v]|0,T=n.words[v]|0;if(A!==T){A<T?d=-1:A>T&&(d=1);break}}return d},e.prototype.gtn=function(n){return this.cmpn(n)===1},e.prototype.gt=function(n){return this.cmp(n)===1},e.prototype.gten=function(n){return this.cmpn(n)>=0},e.prototype.gte=function(n){return this.cmp(n)>=0},e.prototype.ltn=function(n){return this.cmpn(n)===-1},e.prototype.lt=function(n){return this.cmp(n)===-1},e.prototype.lten=function(n){return this.cmpn(n)<=0},e.prototype.lte=function(n){return this.cmp(n)<=0},e.prototype.eqn=function(n){return this.cmpn(n)===0},e.prototype.eq=function(n){return this.cmp(n)===0},e.red=function(n){return new O(n)},e.prototype.toRed=function(n){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},e.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(n){return this.red=n,this},e.prototype.forceRed=function(n){return a(!this.red,"Already a number in reduction context"),this._forceRed(n)},e.prototype.redAdd=function(n){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},e.prototype.redIAdd=function(n){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},e.prototype.redSub=function(n){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},e.prototype.redISub=function(n){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},e.prototype.redShl=function(n){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},e.prototype.redMul=function(n){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},e.prototype.redIMul=function(n){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},e.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(n){return a(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var I={k256:null,p224:null,p192:null,p25519:null};function U(n,d){this.name=n,this.p=new e(d,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var n=new e(null);return n.words=new Array(Math.ceil(this.n/13)),n},U.prototype.ireduce=function(n){var d=n,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var A=v<this.n?-1:d.ucmp(this.p);return A===0?(d.words[0]=0,d.length=1):A>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(n,d){n.iushrn(this.n,0,d)},U.prototype.imulK=function(n){return n.imul(this.k)};function P(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(P,U),P.prototype.split=function(n,d){for(var v=4194303,A=Math.min(n.length,9),T=0;T<A;T++)d.words[T]=n.words[T];if(d.length=A,n.length<=9){n.words[0]=0,n.length=1;return}var S=n.words[9];for(d.words[d.length++]=S&v,T=10;T<n.length;T++){var w=n.words[T]|0;n.words[T-10]=(w&v)<<4|S>>>22,S=w}S>>>=22,n.words[T-10]=S,S===0&&n.length>10?n.length-=10:n.length-=9},P.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var d=0,v=0;v<n.length;v++){var A=n.words[v]|0;d+=A*977,n.words[v]=d&67108863,d=A*64+(d/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function D(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,U);function q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,U),q.prototype.imulK=function(n){for(var d=0,v=0;v<n.length;v++){var A=(n.words[v]|0)*19+d,T=A&67108863;A>>>=26,n.words[v]=T,d=A}return d!==0&&(n.words[n.length++]=d),n},e._prime=function(n){if(I[n])return I[n];var d;if(n==="k256")d=new P;else if(n==="p224")d=new D;else if(n==="p192")d=new W;else if(n==="p25519")d=new q;else throw new Error("Unknown prime "+n);return I[n]=d,d};function O(n){if(typeof n=="string"){var d=e._prime(n);this.m=d.p,this.prime=d}else a(n.gtn(1),"modulus must be greater than 1"),this.m=n,this.prime=null}O.prototype._verify1=function(n){a(n.negative===0,"red works only with positives"),a(n.red,"red works only with red numbers")},O.prototype._verify2=function(n,d){a((n.negative|d.negative)===0,"red works only with positives"),a(n.red&&n.red===d.red,"red works only with red numbers")},O.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(p(n,n.umod(this.m)._forceRed(this)),n)},O.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},O.prototype.add=function(n,d){this._verify2(n,d);var v=n.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},O.prototype.iadd=function(n,d){this._verify2(n,d);var v=n.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},O.prototype.sub=function(n,d){this._verify2(n,d);var v=n.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},O.prototype.isub=function(n,d){this._verify2(n,d);var v=n.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},O.prototype.shl=function(n,d){return this._verify1(n),this.imod(n.ushln(d))},O.prototype.imul=function(n,d){return this._verify2(n,d),this.imod(n.imul(d))},O.prototype.mul=function(n,d){return this._verify2(n,d),this.imod(n.mul(d))},O.prototype.isqr=function(n){return this.imul(n,n.clone())},O.prototype.sqr=function(n){return this.mul(n,n)},O.prototype.sqrt=function(n){if(n.isZero())return n.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var v=this.m.add(new e(1)).iushrn(2);return this.pow(n,v)}for(var A=this.m.subn(1),T=0;!A.isZero()&&A.andln(1)===0;)T++,A.iushrn(1);a(!A.isZero());var S=new e(1).toRed(this),w=S.redNeg(),b=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new e(2*h*h).toRed(this);this.pow(h,b).cmp(w)!==0;)h.redIAdd(w);for(var k=this.pow(h,A),tt=this.pow(n,A.addn(1).iushrn(1)),X=this.pow(n,A),ft=T;X.cmp(S)!==0;){for(var et=X,at=0;et.cmp(S)!==0;at++)et=et.redSqr();a(at<ft);var $=this.pow(k,new e(1).iushln(ft-at-1));tt=tt.redMul($),k=$.redSqr(),X=X.redMul(k),ft=at}return tt},O.prototype.invm=function(n){var d=n._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},O.prototype.pow=function(n,d){if(d.isZero())return new e(1).toRed(this);if(d.cmpn(1)===0)return n.clone();var v=4,A=new Array(1<<v);A[0]=new e(1).toRed(this),A[1]=n;for(var T=2;T<A.length;T++)A[T]=this.mul(A[T-1],n);var S=A[0],w=0,b=0,h=d.bitLength()%26;for(h===0&&(h=26),T=d.length-1;T>=0;T--){for(var k=d.words[T],tt=h-1;tt>=0;tt--){var X=k>>tt&1;if(S!==A[0]&&(S=this.sqr(S)),X===0&&w===0){b=0;continue}w<<=1,w|=X,b++,!(b!==v&&(T!==0||tt!==0))&&(S=this.mul(S,A[w]),b=0,w=0)}h=26}return S},O.prototype.convertTo=function(n){var d=n.umod(this.m);return d===n?d.clone():d},O.prototype.convertFrom=function(n){var d=n.clone();return d.red=null,d},e.mont=function(n){return new L(n)};function L(n){O.call(this,n),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(L,O),L.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},L.prototype.convertFrom=function(n){var d=this.imod(n.mul(this.rinv));return d.red=null,d},L.prototype.imul=function(n,d){if(n.isZero()||d.isZero())return n.words[0]=0,n.length=1,n;var v=n.imul(d),A=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(A).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},L.prototype.mul=function(n,d){if(n.isZero()||d.isZero())return new e(0)._forceRed(this);var v=n.mul(d),A=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(A).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},L.prototype.invm=function(n){var d=this.imod(n._invmp(this.m).mul(this.r2));return d._forceRed(this)}}(typeof i>"u"||i,t)}),_y=gt((t,i)=>{lt(),function(r,u){function a(n,d){if(!n)throw new Error(d||"Assertion failed")}function s(n,d){n.super_=d;var v=function(){};v.prototype=d.prototype,n.prototype=new v,n.prototype.constructor=n}function e(n,d,v){if(e.isBN(n))return n;this.negative=0,this.words=null,this.length=0,this.red=null,n!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(n||0,d||10,v||"be"))}typeof r=="object"?r.exports=e:u.BN=e,e.BN=e,e.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$e().Buffer}catch{}e.isBN=function(n){return n instanceof e?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===e.wordSize&&Array.isArray(n.words)},e.max=function(n,d){return n.cmp(d)>0?n:d},e.min=function(n,d){return n.cmp(d)<0?n:d},e.prototype._init=function(n,d,v){if(typeof n=="number")return this._initNumber(n,d,v);if(typeof n=="object")return this._initArray(n,d,v);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),n=n.toString().replace(/\s+/g,"");var A=0;n[0]==="-"&&(A++,this.negative=1),A<n.length&&(d===16?this._parseHex(n,A,v):(this._parseBase(n,d,A),v==="le"&&this._initArray(this.toArray(),d,v)))},e.prototype._initNumber=function(n,d,v){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(a(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),d,v)},e.prototype._initArray=function(n,d,v){if(a(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T,S,w=0;if(v==="be")for(A=n.length-1,T=0;A>=0;A-=3)S=n[A]|n[A-1]<<8|n[A-2]<<16,this.words[T]|=S<<w&67108863,this.words[T+1]=S>>>26-w&67108863,w+=24,w>=26&&(w-=26,T++);else if(v==="le")for(A=0,T=0;A<n.length;A+=3)S=n[A]|n[A+1]<<8|n[A+2]<<16,this.words[T]|=S<<w&67108863,this.words[T+1]=S>>>26-w&67108863,w+=24,w>=26&&(w-=26,T++);return this._strip()};function c(n,d){var v=n.charCodeAt(d);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;a(!1,"Invalid character in "+n)}function f(n,d,v){var A=c(n,v);return v-1>=d&&(A|=c(n,v-1)<<4),A}e.prototype._parseHex=function(n,d,v){this.length=Math.ceil((n.length-d)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T=0,S=0,w;if(v==="be")for(A=n.length-1;A>=d;A-=2)w=f(n,d,A)<<T,this.words[S]|=w&67108863,T>=18?(T-=18,S+=1,this.words[S]|=w>>>26):T+=8;else{var b=n.length-d;for(A=b%2===0?d+1:d;A<n.length;A+=2)w=f(n,d,A)<<T,this.words[S]|=w&67108863,T>=18?(T-=18,S+=1,this.words[S]|=w>>>26):T+=8}this._strip()};function l(n,d,v,A){for(var T=0,S=0,w=Math.min(n.length,v),b=d;b<w;b++){var h=n.charCodeAt(b)-48;T*=A,h>=49?S=h-49+10:h>=17?S=h-17+10:S=h,a(h>=0&&S<A,"Invalid character"),T+=S}return T}e.prototype._parseBase=function(n,d,v){this.words=[0],this.length=1;for(var A=0,T=1;T<=67108863;T*=d)A++;A--,T=T/d|0;for(var S=n.length-v,w=S%A,b=Math.min(S,S-w)+v,h=0,k=v;k<b;k+=A)h=l(n,k,k+A,d),this.imuln(T),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(w!==0){var tt=1;for(h=l(n,k,n.length,d),k=0;k<w;k++)tt*=d;this.imuln(tt),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},e.prototype.copy=function(n){n.words=new Array(this.length);for(var d=0;d<this.length;d++)n.words[d]=this.words[d];n.length=this.length,n.negative=this.negative,n.red=this.red};function p(n,d){n.words=d.words,n.length=d.length,n.negative=d.negative,n.red=d.red}if(e.prototype._move=function(n){p(n,this)},e.prototype.clone=function(){var n=new e(null);return this.copy(n),n},e.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{e.prototype.inspect=g}else e.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(n,d){n=n||10,d=d|0||1;var v;if(n===16||n==="hex"){v="";for(var A=0,T=0,S=0;S<this.length;S++){var w=this.words[S],b=((w<<A|T)&16777215).toString(16);T=w>>>24-A&16777215,A+=2,A>=26&&(A-=26,S--),T!==0||S!==this.length-1?v=y[6-b.length]+b+v:v=b+v}for(T!==0&&(v=T.toString(16)+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(n===(n|0)&&n>=2&&n<=36){var h=m[n],k=M[n];v="";var tt=this.clone();for(tt.negative=0;!tt.isZero();){var X=tt.modrn(k).toString(n);tt=tt.idivn(k),tt.isZero()?v=X+v:v=y[h-X.length]+X+v}for(this.isZero()&&(v="0"+v);v.length%d!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}a(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},e.prototype.toJSON=function(){return this.toString(16,2)},o&&(e.prototype.toBuffer=function(n,d){return this.toArrayLike(o,n,d)}),e.prototype.toArray=function(n,d){return this.toArrayLike(Array,n,d)};var E=function(n,d){return n.allocUnsafe?n.allocUnsafe(d):new n(d)};e.prototype.toArrayLike=function(n,d,v){this._strip();var A=this.byteLength(),T=v||Math.max(1,A);a(A<=T,"byte array longer than desired length"),a(T>0,"Requested array length <= 0");var S=E(n,T),w=d==="le"?"LE":"BE";return this["_toArrayLike"+w](S,A),S},e.prototype._toArrayLikeLE=function(n,d){for(var v=0,A=0,T=0,S=0;T<this.length;T++){var w=this.words[T]<<S|A;n[v++]=w&255,v<n.length&&(n[v++]=w>>8&255),v<n.length&&(n[v++]=w>>16&255),S===6?(v<n.length&&(n[v++]=w>>24&255),A=0,S=0):(A=w>>>24,S+=2)}if(v<n.length)for(n[v++]=A;v<n.length;)n[v++]=0},e.prototype._toArrayLikeBE=function(n,d){for(var v=n.length-1,A=0,T=0,S=0;T<this.length;T++){var w=this.words[T]<<S|A;n[v--]=w&255,v>=0&&(n[v--]=w>>8&255),v>=0&&(n[v--]=w>>16&255),S===6?(v>=0&&(n[v--]=w>>24&255),A=0,S=0):(A=w>>>24,S+=2)}if(v>=0)for(n[v--]=A;v>=0;)n[v--]=0},Math.clz32?e.prototype._countBits=function(n){return 32-Math.clz32(n)}:e.prototype._countBits=function(n){var d=n,v=0;return d>=4096&&(v+=13,d>>>=13),d>=64&&(v+=7,d>>>=7),d>=8&&(v+=4,d>>>=4),d>=2&&(v+=2,d>>>=2),v+d},e.prototype._zeroBits=function(n){if(n===0)return 26;var d=n,v=0;return!(d&8191)&&(v+=13,d>>>=13),!(d&127)&&(v+=7,d>>>=7),!(d&15)&&(v+=4,d>>>=4),!(d&3)&&(v+=2,d>>>=2),!(d&1)&&v++,v},e.prototype.bitLength=function(){var n=this.words[this.length-1],d=this._countBits(n);return(this.length-1)*26+d};function B(n){for(var d=new Array(n.bitLength()),v=0;v<d.length;v++){var A=v/26|0,T=v%26;d[v]=n.words[A]>>>T&1}return d}e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,d=0;d<this.length;d++){var v=this._zeroBits(this.words[d]);if(n+=v,v!==26)break}return n},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},e.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var d=0;d<n.length;d++)this.words[d]=this.words[d]|n.words[d];return this._strip()},e.prototype.ior=function(n){return a((this.negative|n.negative)===0),this.iuor(n)},e.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},e.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},e.prototype.iuand=function(n){var d;this.length>n.length?d=n:d=this;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]&n.words[v];return this.length=d.length,this._strip()},e.prototype.iand=function(n){return a((this.negative|n.negative)===0),this.iuand(n)},e.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},e.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},e.prototype.iuxor=function(n){var d,v;this.length>n.length?(d=this,v=n):(d=n,v=this);for(var A=0;A<v.length;A++)this.words[A]=d.words[A]^v.words[A];if(this!==d)for(;A<d.length;A++)this.words[A]=d.words[A];return this.length=d.length,this._strip()},e.prototype.ixor=function(n){return a((this.negative|n.negative)===0),this.iuxor(n)},e.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},e.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},e.prototype.inotn=function(n){a(typeof n=="number"&&n>=0);var d=Math.ceil(n/26)|0,v=n%26;this._expand(d),v>0&&d--;for(var A=0;A<d;A++)this.words[A]=~this.words[A]&67108863;return v>0&&(this.words[A]=~this.words[A]&67108863>>26-v),this._strip()},e.prototype.notn=function(n){return this.clone().inotn(n)},e.prototype.setn=function(n,d){a(typeof n=="number"&&n>=0);var v=n/26|0,A=n%26;return this._expand(v+1),d?this.words[v]=this.words[v]|1<<A:this.words[v]=this.words[v]&~(1<<A),this._strip()},e.prototype.iadd=function(n){var d;if(this.negative!==0&&n.negative===0)return this.negative=0,d=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,d=this.isub(n),n.negative=1,d._normSign();var v,A;this.length>n.length?(v=this,A=n):(v=n,A=this);for(var T=0,S=0;S<A.length;S++)d=(v.words[S]|0)+(A.words[S]|0)+T,this.words[S]=d&67108863,T=d>>>26;for(;T!==0&&S<v.length;S++)d=(v.words[S]|0)+T,this.words[S]=d&67108863,T=d>>>26;if(this.length=v.length,T!==0)this.words[this.length]=T,this.length++;else if(v!==this)for(;S<v.length;S++)this.words[S]=v.words[S];return this},e.prototype.add=function(n){var d;return n.negative!==0&&this.negative===0?(n.negative=0,d=this.sub(n),n.negative^=1,d):n.negative===0&&this.negative!==0?(this.negative=0,d=n.sub(this),this.negative=1,d):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},e.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var d=this.iadd(n);return n.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var v=this.cmp(n);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,T;v>0?(A=this,T=n):(A=n,T=this);for(var S=0,w=0;w<T.length;w++)d=(A.words[w]|0)-(T.words[w]|0)+S,S=d>>26,this.words[w]=d&67108863;for(;S!==0&&w<A.length;w++)d=(A.words[w]|0)+S,S=d>>26,this.words[w]=d&67108863;if(S===0&&w<A.length&&A!==this)for(;w<A.length;w++)this.words[w]=A.words[w];return this.length=Math.max(this.length,w),A!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(n){return this.clone().isub(n)};function x(n,d,v){v.negative=d.negative^n.negative;var A=n.length+d.length|0;v.length=A,A=A-1|0;var T=n.words[0]|0,S=d.words[0]|0,w=T*S,b=w&67108863,h=w/67108864|0;v.words[0]=b;for(var k=1;k<A;k++){for(var tt=h>>>26,X=h&67108863,ft=Math.min(k,d.length-1),et=Math.max(0,k-n.length+1);et<=ft;et++){var at=k-et|0;T=n.words[at]|0,S=d.words[et]|0,w=T*S+X,tt+=w/67108864|0,X=w&67108863}v.words[k]=X|0,h=tt|0}return h!==0?v.words[k]=h|0:v.length--,v._strip()}var C=function(n,d,v){var A=n.words,T=d.words,S=v.words,w=0,b,h,k,tt=A[0]|0,X=tt&8191,ft=tt>>>13,et=A[1]|0,at=et&8191,$=et>>>13,J=A[2]|0,R=J&8191,j=J>>>13,z=A[3]|0,Z=z&8191,Q=z>>>13,K=A[4]|0,G=K&8191,H=K>>>13,Y=A[5]|0,it=Y&8191,ot=Y>>>13,mt=A[6]|0,_t=mt&8191,ht=mt>>>13,vt=A[7]|0,pt=vt&8191,V=vt>>>13,rt=A[8]|0,st=rt&8191,yt=rt>>>13,Ct=A[9]|0,dt=Ct&8191,Mt=Ct>>>13,Lt=T[0]|0,wt=Lt&8191,ct=Lt>>>13,Et=T[1]|0,ut=Et&8191,Ot=Et>>>13,qt=T[2]|0,nt=qt&8191,Rt=qt>>>13,Dt=T[3]|0,bt=Dt&8191,Tt=Dt>>>13,jt=T[4]|0,St=jt&8191,kt=jt>>>13,Kt=T[5]|0,At=Kt&8191,Nt=Kt>>>13,$t=T[6]|0,Ft=$t&8191,Wt=$t>>>13,ae=T[7]|0,Xt=ae&8191,Gt=ae>>>13,he=T[8]|0,Qt=he&8191,Zt=he>>>13,se=T[9]|0,te=se&8191,re=se>>>13;v.negative=n.negative^d.negative,v.length=19,b=Math.imul(X,wt),h=Math.imul(X,ct),h=h+Math.imul(ft,wt)|0,k=Math.imul(ft,ct);var Se=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Se>>>26)|0,Se&=67108863,b=Math.imul(at,wt),h=Math.imul(at,ct),h=h+Math.imul($,wt)|0,k=Math.imul($,ct),b=b+Math.imul(X,ut)|0,h=h+Math.imul(X,Ot)|0,h=h+Math.imul(ft,ut)|0,k=k+Math.imul(ft,Ot)|0;var Be=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Be>>>26)|0,Be&=67108863,b=Math.imul(R,wt),h=Math.imul(R,ct),h=h+Math.imul(j,wt)|0,k=Math.imul(j,ct),b=b+Math.imul(at,ut)|0,h=h+Math.imul(at,Ot)|0,h=h+Math.imul($,ut)|0,k=k+Math.imul($,Ot)|0,b=b+Math.imul(X,nt)|0,h=h+Math.imul(X,Rt)|0,h=h+Math.imul(ft,nt)|0,k=k+Math.imul(ft,Rt)|0;var Re=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,b=Math.imul(Z,wt),h=Math.imul(Z,ct),h=h+Math.imul(Q,wt)|0,k=Math.imul(Q,ct),b=b+Math.imul(R,ut)|0,h=h+Math.imul(R,Ot)|0,h=h+Math.imul(j,ut)|0,k=k+Math.imul(j,Ot)|0,b=b+Math.imul(at,nt)|0,h=h+Math.imul(at,Rt)|0,h=h+Math.imul($,nt)|0,k=k+Math.imul($,Rt)|0,b=b+Math.imul(X,bt)|0,h=h+Math.imul(X,Tt)|0,h=h+Math.imul(ft,bt)|0,k=k+Math.imul(ft,Tt)|0;var Te=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Te>>>26)|0,Te&=67108863,b=Math.imul(G,wt),h=Math.imul(G,ct),h=h+Math.imul(H,wt)|0,k=Math.imul(H,ct),b=b+Math.imul(Z,ut)|0,h=h+Math.imul(Z,Ot)|0,h=h+Math.imul(Q,ut)|0,k=k+Math.imul(Q,Ot)|0,b=b+Math.imul(R,nt)|0,h=h+Math.imul(R,Rt)|0,h=h+Math.imul(j,nt)|0,k=k+Math.imul(j,Rt)|0,b=b+Math.imul(at,bt)|0,h=h+Math.imul(at,Tt)|0,h=h+Math.imul($,bt)|0,k=k+Math.imul($,Tt)|0,b=b+Math.imul(X,St)|0,h=h+Math.imul(X,kt)|0,h=h+Math.imul(ft,St)|0,k=k+Math.imul(ft,kt)|0;var xe=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,b=Math.imul(it,wt),h=Math.imul(it,ct),h=h+Math.imul(ot,wt)|0,k=Math.imul(ot,ct),b=b+Math.imul(G,ut)|0,h=h+Math.imul(G,Ot)|0,h=h+Math.imul(H,ut)|0,k=k+Math.imul(H,Ot)|0,b=b+Math.imul(Z,nt)|0,h=h+Math.imul(Z,Rt)|0,h=h+Math.imul(Q,nt)|0,k=k+Math.imul(Q,Rt)|0,b=b+Math.imul(R,bt)|0,h=h+Math.imul(R,Tt)|0,h=h+Math.imul(j,bt)|0,k=k+Math.imul(j,Tt)|0,b=b+Math.imul(at,St)|0,h=h+Math.imul(at,kt)|0,h=h+Math.imul($,St)|0,k=k+Math.imul($,kt)|0,b=b+Math.imul(X,At)|0,h=h+Math.imul(X,Nt)|0,h=h+Math.imul(ft,At)|0,k=k+Math.imul(ft,Nt)|0;var Ce=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,b=Math.imul(_t,wt),h=Math.imul(_t,ct),h=h+Math.imul(ht,wt)|0,k=Math.imul(ht,ct),b=b+Math.imul(it,ut)|0,h=h+Math.imul(it,Ot)|0,h=h+Math.imul(ot,ut)|0,k=k+Math.imul(ot,Ot)|0,b=b+Math.imul(G,nt)|0,h=h+Math.imul(G,Rt)|0,h=h+Math.imul(H,nt)|0,k=k+Math.imul(H,Rt)|0,b=b+Math.imul(Z,bt)|0,h=h+Math.imul(Z,Tt)|0,h=h+Math.imul(Q,bt)|0,k=k+Math.imul(Q,Tt)|0,b=b+Math.imul(R,St)|0,h=h+Math.imul(R,kt)|0,h=h+Math.imul(j,St)|0,k=k+Math.imul(j,kt)|0,b=b+Math.imul(at,At)|0,h=h+Math.imul(at,Nt)|0,h=h+Math.imul($,At)|0,k=k+Math.imul($,Nt)|0,b=b+Math.imul(X,Ft)|0,h=h+Math.imul(X,Wt)|0,h=h+Math.imul(ft,Ft)|0,k=k+Math.imul(ft,Wt)|0;var Ue=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,b=Math.imul(pt,wt),h=Math.imul(pt,ct),h=h+Math.imul(V,wt)|0,k=Math.imul(V,ct),b=b+Math.imul(_t,ut)|0,h=h+Math.imul(_t,Ot)|0,h=h+Math.imul(ht,ut)|0,k=k+Math.imul(ht,Ot)|0,b=b+Math.imul(it,nt)|0,h=h+Math.imul(it,Rt)|0,h=h+Math.imul(ot,nt)|0,k=k+Math.imul(ot,Rt)|0,b=b+Math.imul(G,bt)|0,h=h+Math.imul(G,Tt)|0,h=h+Math.imul(H,bt)|0,k=k+Math.imul(H,Tt)|0,b=b+Math.imul(Z,St)|0,h=h+Math.imul(Z,kt)|0,h=h+Math.imul(Q,St)|0,k=k+Math.imul(Q,kt)|0,b=b+Math.imul(R,At)|0,h=h+Math.imul(R,Nt)|0,h=h+Math.imul(j,At)|0,k=k+Math.imul(j,Nt)|0,b=b+Math.imul(at,Ft)|0,h=h+Math.imul(at,Wt)|0,h=h+Math.imul($,Ft)|0,k=k+Math.imul($,Wt)|0,b=b+Math.imul(X,Xt)|0,h=h+Math.imul(X,Gt)|0,h=h+Math.imul(ft,Xt)|0,k=k+Math.imul(ft,Gt)|0;var Ke=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,b=Math.imul(st,wt),h=Math.imul(st,ct),h=h+Math.imul(yt,wt)|0,k=Math.imul(yt,ct),b=b+Math.imul(pt,ut)|0,h=h+Math.imul(pt,Ot)|0,h=h+Math.imul(V,ut)|0,k=k+Math.imul(V,Ot)|0,b=b+Math.imul(_t,nt)|0,h=h+Math.imul(_t,Rt)|0,h=h+Math.imul(ht,nt)|0,k=k+Math.imul(ht,Rt)|0,b=b+Math.imul(it,bt)|0,h=h+Math.imul(it,Tt)|0,h=h+Math.imul(ot,bt)|0,k=k+Math.imul(ot,Tt)|0,b=b+Math.imul(G,St)|0,h=h+Math.imul(G,kt)|0,h=h+Math.imul(H,St)|0,k=k+Math.imul(H,kt)|0,b=b+Math.imul(Z,At)|0,h=h+Math.imul(Z,Nt)|0,h=h+Math.imul(Q,At)|0,k=k+Math.imul(Q,Nt)|0,b=b+Math.imul(R,Ft)|0,h=h+Math.imul(R,Wt)|0,h=h+Math.imul(j,Ft)|0,k=k+Math.imul(j,Wt)|0,b=b+Math.imul(at,Xt)|0,h=h+Math.imul(at,Gt)|0,h=h+Math.imul($,Xt)|0,k=k+Math.imul($,Gt)|0,b=b+Math.imul(X,Qt)|0,h=h+Math.imul(X,Zt)|0,h=h+Math.imul(ft,Qt)|0,k=k+Math.imul(ft,Zt)|0;var Je=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,b=Math.imul(dt,wt),h=Math.imul(dt,ct),h=h+Math.imul(Mt,wt)|0,k=Math.imul(Mt,ct),b=b+Math.imul(st,ut)|0,h=h+Math.imul(st,Ot)|0,h=h+Math.imul(yt,ut)|0,k=k+Math.imul(yt,Ot)|0,b=b+Math.imul(pt,nt)|0,h=h+Math.imul(pt,Rt)|0,h=h+Math.imul(V,nt)|0,k=k+Math.imul(V,Rt)|0,b=b+Math.imul(_t,bt)|0,h=h+Math.imul(_t,Tt)|0,h=h+Math.imul(ht,bt)|0,k=k+Math.imul(ht,Tt)|0,b=b+Math.imul(it,St)|0,h=h+Math.imul(it,kt)|0,h=h+Math.imul(ot,St)|0,k=k+Math.imul(ot,kt)|0,b=b+Math.imul(G,At)|0,h=h+Math.imul(G,Nt)|0,h=h+Math.imul(H,At)|0,k=k+Math.imul(H,Nt)|0,b=b+Math.imul(Z,Ft)|0,h=h+Math.imul(Z,Wt)|0,h=h+Math.imul(Q,Ft)|0,k=k+Math.imul(Q,Wt)|0,b=b+Math.imul(R,Xt)|0,h=h+Math.imul(R,Gt)|0,h=h+Math.imul(j,Xt)|0,k=k+Math.imul(j,Gt)|0,b=b+Math.imul(at,Qt)|0,h=h+Math.imul(at,Zt)|0,h=h+Math.imul($,Qt)|0,k=k+Math.imul($,Zt)|0,b=b+Math.imul(X,te)|0,h=h+Math.imul(X,re)|0,h=h+Math.imul(ft,te)|0,k=k+Math.imul(ft,re)|0;var ze=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(ze>>>26)|0,ze&=67108863,b=Math.imul(dt,ut),h=Math.imul(dt,Ot),h=h+Math.imul(Mt,ut)|0,k=Math.imul(Mt,Ot),b=b+Math.imul(st,nt)|0,h=h+Math.imul(st,Rt)|0,h=h+Math.imul(yt,nt)|0,k=k+Math.imul(yt,Rt)|0,b=b+Math.imul(pt,bt)|0,h=h+Math.imul(pt,Tt)|0,h=h+Math.imul(V,bt)|0,k=k+Math.imul(V,Tt)|0,b=b+Math.imul(_t,St)|0,h=h+Math.imul(_t,kt)|0,h=h+Math.imul(ht,St)|0,k=k+Math.imul(ht,kt)|0,b=b+Math.imul(it,At)|0,h=h+Math.imul(it,Nt)|0,h=h+Math.imul(ot,At)|0,k=k+Math.imul(ot,Nt)|0,b=b+Math.imul(G,Ft)|0,h=h+Math.imul(G,Wt)|0,h=h+Math.imul(H,Ft)|0,k=k+Math.imul(H,Wt)|0,b=b+Math.imul(Z,Xt)|0,h=h+Math.imul(Z,Gt)|0,h=h+Math.imul(Q,Xt)|0,k=k+Math.imul(Q,Gt)|0,b=b+Math.imul(R,Qt)|0,h=h+Math.imul(R,Zt)|0,h=h+Math.imul(j,Qt)|0,k=k+Math.imul(j,Zt)|0,b=b+Math.imul(at,te)|0,h=h+Math.imul(at,re)|0,h=h+Math.imul($,te)|0,k=k+Math.imul($,re)|0;var Xe=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(dt,nt),h=Math.imul(dt,Rt),h=h+Math.imul(Mt,nt)|0,k=Math.imul(Mt,Rt),b=b+Math.imul(st,bt)|0,h=h+Math.imul(st,Tt)|0,h=h+Math.imul(yt,bt)|0,k=k+Math.imul(yt,Tt)|0,b=b+Math.imul(pt,St)|0,h=h+Math.imul(pt,kt)|0,h=h+Math.imul(V,St)|0,k=k+Math.imul(V,kt)|0,b=b+Math.imul(_t,At)|0,h=h+Math.imul(_t,Nt)|0,h=h+Math.imul(ht,At)|0,k=k+Math.imul(ht,Nt)|0,b=b+Math.imul(it,Ft)|0,h=h+Math.imul(it,Wt)|0,h=h+Math.imul(ot,Ft)|0,k=k+Math.imul(ot,Wt)|0,b=b+Math.imul(G,Xt)|0,h=h+Math.imul(G,Gt)|0,h=h+Math.imul(H,Xt)|0,k=k+Math.imul(H,Gt)|0,b=b+Math.imul(Z,Qt)|0,h=h+Math.imul(Z,Zt)|0,h=h+Math.imul(Q,Qt)|0,k=k+Math.imul(Q,Zt)|0,b=b+Math.imul(R,te)|0,h=h+Math.imul(R,re)|0,h=h+Math.imul(j,te)|0,k=k+Math.imul(j,re)|0;var Ge=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,b=Math.imul(dt,bt),h=Math.imul(dt,Tt),h=h+Math.imul(Mt,bt)|0,k=Math.imul(Mt,Tt),b=b+Math.imul(st,St)|0,h=h+Math.imul(st,kt)|0,h=h+Math.imul(yt,St)|0,k=k+Math.imul(yt,kt)|0,b=b+Math.imul(pt,At)|0,h=h+Math.imul(pt,Nt)|0,h=h+Math.imul(V,At)|0,k=k+Math.imul(V,Nt)|0,b=b+Math.imul(_t,Ft)|0,h=h+Math.imul(_t,Wt)|0,h=h+Math.imul(ht,Ft)|0,k=k+Math.imul(ht,Wt)|0,b=b+Math.imul(it,Xt)|0,h=h+Math.imul(it,Gt)|0,h=h+Math.imul(ot,Xt)|0,k=k+Math.imul(ot,Gt)|0,b=b+Math.imul(G,Qt)|0,h=h+Math.imul(G,Zt)|0,h=h+Math.imul(H,Qt)|0,k=k+Math.imul(H,Zt)|0,b=b+Math.imul(Z,te)|0,h=h+Math.imul(Z,re)|0,h=h+Math.imul(Q,te)|0,k=k+Math.imul(Q,re)|0;var Ye=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,b=Math.imul(dt,St),h=Math.imul(dt,kt),h=h+Math.imul(Mt,St)|0,k=Math.imul(Mt,kt),b=b+Math.imul(st,At)|0,h=h+Math.imul(st,Nt)|0,h=h+Math.imul(yt,At)|0,k=k+Math.imul(yt,Nt)|0,b=b+Math.imul(pt,Ft)|0,h=h+Math.imul(pt,Wt)|0,h=h+Math.imul(V,Ft)|0,k=k+Math.imul(V,Wt)|0,b=b+Math.imul(_t,Xt)|0,h=h+Math.imul(_t,Gt)|0,h=h+Math.imul(ht,Xt)|0,k=k+Math.imul(ht,Gt)|0,b=b+Math.imul(it,Qt)|0,h=h+Math.imul(it,Zt)|0,h=h+Math.imul(ot,Qt)|0,k=k+Math.imul(ot,Zt)|0,b=b+Math.imul(G,te)|0,h=h+Math.imul(G,re)|0,h=h+Math.imul(H,te)|0,k=k+Math.imul(H,re)|0;var We=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(We>>>26)|0,We&=67108863,b=Math.imul(dt,At),h=Math.imul(dt,Nt),h=h+Math.imul(Mt,At)|0,k=Math.imul(Mt,Nt),b=b+Math.imul(st,Ft)|0,h=h+Math.imul(st,Wt)|0,h=h+Math.imul(yt,Ft)|0,k=k+Math.imul(yt,Wt)|0,b=b+Math.imul(pt,Xt)|0,h=h+Math.imul(pt,Gt)|0,h=h+Math.imul(V,Xt)|0,k=k+Math.imul(V,Gt)|0,b=b+Math.imul(_t,Qt)|0,h=h+Math.imul(_t,Zt)|0,h=h+Math.imul(ht,Qt)|0,k=k+Math.imul(ht,Zt)|0,b=b+Math.imul(it,te)|0,h=h+Math.imul(it,re)|0,h=h+Math.imul(ot,te)|0,k=k+Math.imul(ot,re)|0;var Ve=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,b=Math.imul(dt,Ft),h=Math.imul(dt,Wt),h=h+Math.imul(Mt,Ft)|0,k=Math.imul(Mt,Wt),b=b+Math.imul(st,Xt)|0,h=h+Math.imul(st,Gt)|0,h=h+Math.imul(yt,Xt)|0,k=k+Math.imul(yt,Gt)|0,b=b+Math.imul(pt,Qt)|0,h=h+Math.imul(pt,Zt)|0,h=h+Math.imul(V,Qt)|0,k=k+Math.imul(V,Zt)|0,b=b+Math.imul(_t,te)|0,h=h+Math.imul(_t,re)|0,h=h+Math.imul(ht,te)|0,k=k+Math.imul(ht,re)|0;var Ze=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,b=Math.imul(dt,Xt),h=Math.imul(dt,Gt),h=h+Math.imul(Mt,Xt)|0,k=Math.imul(Mt,Gt),b=b+Math.imul(st,Qt)|0,h=h+Math.imul(st,Zt)|0,h=h+Math.imul(yt,Qt)|0,k=k+Math.imul(yt,Zt)|0,b=b+Math.imul(pt,te)|0,h=h+Math.imul(pt,re)|0,h=h+Math.imul(V,te)|0,k=k+Math.imul(V,re)|0;var ar=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,b=Math.imul(dt,Qt),h=Math.imul(dt,Zt),h=h+Math.imul(Mt,Qt)|0,k=Math.imul(Mt,Zt),b=b+Math.imul(st,te)|0,h=h+Math.imul(st,re)|0,h=h+Math.imul(yt,te)|0,k=k+Math.imul(yt,re)|0;var br=(w+b|0)+((h&8191)<<13)|0;w=(k+(h>>>13)|0)+(br>>>26)|0,br&=67108863,b=Math.imul(dt,te),h=Math.imul(dt,re),h=h+Math.imul(Mt,te)|0,k=Math.imul(Mt,re);var cr=(w+b|0)+((h&8191)<<13)|0;return w=(k+(h>>>13)|0)+(cr>>>26)|0,cr&=67108863,S[0]=Se,S[1]=Be,S[2]=Re,S[3]=Te,S[4]=xe,S[5]=Ce,S[6]=Ue,S[7]=Ke,S[8]=Je,S[9]=ze,S[10]=Xe,S[11]=Ge,S[12]=Ye,S[13]=We,S[14]=Ve,S[15]=Ze,S[16]=ar,S[17]=br,S[18]=cr,w!==0&&(S[19]=w,v.length++),v};Math.imul||(C=x);function N(n,d,v){v.negative=d.negative^n.negative,v.length=n.length+d.length;for(var A=0,T=0,S=0;S<v.length-1;S++){var w=T;T=0;for(var b=A&67108863,h=Math.min(S,d.length-1),k=Math.max(0,S-n.length+1);k<=h;k++){var tt=S-k,X=n.words[tt]|0,ft=d.words[k]|0,et=X*ft,at=et&67108863;w=w+(et/67108864|0)|0,at=at+b|0,b=at&67108863,w=w+(at>>>26)|0,T+=w>>>26,w&=67108863}v.words[S]=b,A=w,w=T}return A!==0?v.words[S]=A:v.length--,v._strip()}function F(n,d,v){return N(n,d,v)}e.prototype.mulTo=function(n,d){var v,A=this.length+n.length;return this.length===10&&n.length===10?v=C(this,n,d):A<63?v=x(this,n,d):A<1024?v=N(this,n,d):v=F(this,n,d),v},e.prototype.mul=function(n){var d=new e(null);return d.words=new Array(this.length+n.length),this.mulTo(n,d)},e.prototype.mulf=function(n){var d=new e(null);return d.words=new Array(this.length+n.length),F(this,n,d)},e.prototype.imul=function(n){return this.clone().mulTo(n,this)},e.prototype.imuln=function(n){var d=n<0;d&&(n=-n),a(typeof n=="number"),a(n<67108864);for(var v=0,A=0;A<this.length;A++){var T=(this.words[A]|0)*n,S=(T&67108863)+(v&67108863);v>>=26,v+=T/67108864|0,v+=S>>>26,this.words[A]=S&67108863}return v!==0&&(this.words[A]=v,this.length++),d?this.ineg():this},e.prototype.muln=function(n){return this.clone().imuln(n)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(n){var d=B(n);if(d.length===0)return new e(1);for(var v=this,A=0;A<d.length&&d[A]===0;A++,v=v.sqr());if(++A<d.length)for(var T=v.sqr();A<d.length;A++,T=T.sqr())d[A]!==0&&(v=v.mul(T));return v},e.prototype.iushln=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26,A=67108863>>>26-d<<26-d,T;if(d!==0){var S=0;for(T=0;T<this.length;T++){var w=this.words[T]&A,b=(this.words[T]|0)-w<<d;this.words[T]=b|S,S=w>>>26-d}S&&(this.words[T]=S,this.length++)}if(v!==0){for(T=this.length-1;T>=0;T--)this.words[T+v]=this.words[T];for(T=0;T<v;T++)this.words[T]=0;this.length+=v}return this._strip()},e.prototype.ishln=function(n){return a(this.negative===0),this.iushln(n)},e.prototype.iushrn=function(n,d,v){a(typeof n=="number"&&n>=0);var A;d?A=(d-d%26)/26:A=0;var T=n%26,S=Math.min((n-T)/26,this.length),w=67108863^67108863>>>T<<T,b=v;if(A-=S,A=Math.max(0,A),b){for(var h=0;h<S;h++)b.words[h]=this.words[h];b.length=S}if(S!==0)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(k!==0||h>=A);h--){var tt=this.words[h]|0;this.words[h]=k<<26-T|tt>>>T,k=tt&w}return b&&k!==0&&(b.words[b.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(n,d,v){return a(this.negative===0),this.iushrn(n,d,v)},e.prototype.shln=function(n){return this.clone().ishln(n)},e.prototype.ushln=function(n){return this.clone().iushln(n)},e.prototype.shrn=function(n){return this.clone().ishrn(n)},e.prototype.ushrn=function(n){return this.clone().iushrn(n)},e.prototype.testn=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26,A=1<<d;if(this.length<=v)return!1;var T=this.words[v];return!!(T&A)},e.prototype.imaskn=function(n){a(typeof n=="number"&&n>=0);var d=n%26,v=(n-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(d!==0&&v++,this.length=Math.min(v,this.length),d!==0){var A=67108863^67108863>>>d<<d;this.words[this.length-1]&=A}return this._strip()},e.prototype.maskn=function(n){return this.clone().imaskn(n)},e.prototype.iaddn=function(n){return a(typeof n=="number"),a(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},e.prototype._iaddn=function(n){this.words[0]+=n;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},e.prototype.isubn=function(n){if(a(typeof n=="number"),a(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},e.prototype.addn=function(n){return this.clone().iaddn(n)},e.prototype.subn=function(n){return this.clone().isubn(n)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(n,d,v){var A=n.length+v,T;this._expand(A);var S,w=0;for(T=0;T<n.length;T++){S=(this.words[T+v]|0)+w;var b=(n.words[T]|0)*d;S-=b&67108863,w=(S>>26)-(b/67108864|0),this.words[T+v]=S&67108863}for(;T<this.length-v;T++)S=(this.words[T+v]|0)+w,w=S>>26,this.words[T+v]=S&67108863;if(w===0)return this._strip();for(a(w===-1),w=0,T=0;T<this.length;T++)S=-(this.words[T]|0)+w,w=S>>26,this.words[T]=S&67108863;return this.negative=1,this._strip()},e.prototype._wordDiv=function(n,d){var v=this.length-n.length,A=this.clone(),T=n,S=T.words[T.length-1]|0,w=this._countBits(S);v=26-w,v!==0&&(T=T.ushln(v),A.iushln(v),S=T.words[T.length-1]|0);var b=A.length-T.length,h;if(d!=="mod"){h=new e(null),h.length=b+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var tt=A.clone()._ishlnsubmul(T,1,b);tt.negative===0&&(A=tt,h&&(h.words[b]=1));for(var X=b-1;X>=0;X--){var ft=(A.words[T.length+X]|0)*67108864+(A.words[T.length+X-1]|0);for(ft=Math.min(ft/S|0,67108863),A._ishlnsubmul(T,ft,X);A.negative!==0;)ft--,A.negative=0,A._ishlnsubmul(T,1,X),A.isZero()||(A.negative^=1);h&&(h.words[X]=ft)}return h&&h._strip(),A._strip(),d!=="div"&&v!==0&&A.iushrn(v),{div:h||null,mod:A}},e.prototype.divmod=function(n,d,v){if(a(!n.isZero()),this.isZero())return{div:new e(0),mod:new e(0)};var A,T,S;return this.negative!==0&&n.negative===0?(S=this.neg().divmod(n,d),d!=="mod"&&(A=S.div.neg()),d!=="div"&&(T=S.mod.neg(),v&&T.negative!==0&&T.iadd(n)),{div:A,mod:T}):this.negative===0&&n.negative!==0?(S=this.divmod(n.neg(),d),d!=="mod"&&(A=S.div.neg()),{div:A,mod:S.mod}):this.negative&n.negative?(S=this.neg().divmod(n.neg(),d),d!=="div"&&(T=S.mod.neg(),v&&T.negative!==0&&T.isub(n)),{div:S.div,mod:T}):n.length>this.length||this.cmp(n)<0?{div:new e(0),mod:this}:n.length===1?d==="div"?{div:this.divn(n.words[0]),mod:null}:d==="mod"?{div:null,mod:new e(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new e(this.modrn(n.words[0]))}:this._wordDiv(n,d)},e.prototype.div=function(n){return this.divmod(n,"div",!1).div},e.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},e.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},e.prototype.divRound=function(n){var d=this.divmod(n);if(d.mod.isZero())return d.div;var v=d.div.negative!==0?d.mod.isub(n):d.mod,A=n.ushrn(1),T=n.andln(1),S=v.cmp(A);return S<0||T===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},e.prototype.modrn=function(n){var d=n<0;d&&(n=-n),a(n<=67108863);for(var v=(1<<26)%n,A=0,T=this.length-1;T>=0;T--)A=(v*A+(this.words[T]|0))%n;return d?-A:A},e.prototype.modn=function(n){return this.modrn(n)},e.prototype.idivn=function(n){var d=n<0;d&&(n=-n),a(n<=67108863);for(var v=0,A=this.length-1;A>=0;A--){var T=(this.words[A]|0)+v*67108864;this.words[A]=T/n|0,v=T%n}return this._strip(),d?this.ineg():this},e.prototype.divn=function(n){return this.clone().idivn(n)},e.prototype.egcd=function(n){a(n.negative===0),a(!n.isZero());var d=this,v=n.clone();d.negative!==0?d=d.umod(n):d=d.clone();for(var A=new e(1),T=new e(0),S=new e(0),w=new e(1),b=0;d.isEven()&&v.isEven();)d.iushrn(1),v.iushrn(1),++b;for(var h=v.clone(),k=d.clone();!d.isZero();){for(var tt=0,X=1;!(d.words[0]&X)&&tt<26;++tt,X<<=1);if(tt>0)for(d.iushrn(tt);tt-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(h),T.isub(k)),A.iushrn(1),T.iushrn(1);for(var ft=0,et=1;!(v.words[0]&et)&&ft<26;++ft,et<<=1);if(ft>0)for(v.iushrn(ft);ft-- >0;)(S.isOdd()||w.isOdd())&&(S.iadd(h),w.isub(k)),S.iushrn(1),w.iushrn(1);d.cmp(v)>=0?(d.isub(v),A.isub(S),T.isub(w)):(v.isub(d),S.isub(A),w.isub(T))}return{a:S,b:w,gcd:v.iushln(b)}},e.prototype._invmp=function(n){a(n.negative===0),a(!n.isZero());var d=this,v=n.clone();d.negative!==0?d=d.umod(n):d=d.clone();for(var A=new e(1),T=new e(0),S=v.clone();d.cmpn(1)>0&&v.cmpn(1)>0;){for(var w=0,b=1;!(d.words[0]&b)&&w<26;++w,b<<=1);if(w>0)for(d.iushrn(w);w-- >0;)A.isOdd()&&A.iadd(S),A.iushrn(1);for(var h=0,k=1;!(v.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(v.iushrn(h);h-- >0;)T.isOdd()&&T.iadd(S),T.iushrn(1);d.cmp(v)>=0?(d.isub(v),A.isub(T)):(v.isub(d),T.isub(A))}var tt;return d.cmpn(1)===0?tt=A:tt=T,tt.cmpn(0)<0&&tt.iadd(n),tt},e.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var d=this.clone(),v=n.clone();d.negative=0,v.negative=0;for(var A=0;d.isEven()&&v.isEven();A++)d.iushrn(1),v.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;v.isEven();)v.iushrn(1);var T=d.cmp(v);if(T<0){var S=d;d=v,v=S}else if(T===0||v.cmpn(1)===0)break;d.isub(v)}while(!0);return v.iushln(A)},e.prototype.invm=function(n){return this.egcd(n).a.umod(n)},e.prototype.isEven=function(){return(this.words[0]&1)===0},e.prototype.isOdd=function(){return(this.words[0]&1)===1},e.prototype.andln=function(n){return this.words[0]&n},e.prototype.bincn=function(n){a(typeof n=="number");var d=n%26,v=(n-d)/26,A=1<<d;if(this.length<=v)return this._expand(v+1),this.words[v]|=A,this;for(var T=A,S=v;T!==0&&S<this.length;S++){var w=this.words[S]|0;w+=T,T=w>>>26,w&=67108863,this.words[S]=w}return T!==0&&(this.words[S]=T,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(n){var d=n<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var v;if(this.length>1)v=1;else{d&&(n=-n),a(n<=67108863,"Number is too big");var A=this.words[0]|0;v=A===n?0:A<n?-1:1}return this.negative!==0?-v|0:v},e.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var d=this.ucmp(n);return this.negative!==0?-d|0:d},e.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var d=0,v=this.length-1;v>=0;v--){var A=this.words[v]|0,T=n.words[v]|0;if(A!==T){A<T?d=-1:A>T&&(d=1);break}}return d},e.prototype.gtn=function(n){return this.cmpn(n)===1},e.prototype.gt=function(n){return this.cmp(n)===1},e.prototype.gten=function(n){return this.cmpn(n)>=0},e.prototype.gte=function(n){return this.cmp(n)>=0},e.prototype.ltn=function(n){return this.cmpn(n)===-1},e.prototype.lt=function(n){return this.cmp(n)===-1},e.prototype.lten=function(n){return this.cmpn(n)<=0},e.prototype.lte=function(n){return this.cmp(n)<=0},e.prototype.eqn=function(n){return this.cmpn(n)===0},e.prototype.eq=function(n){return this.cmp(n)===0},e.red=function(n){return new O(n)},e.prototype.toRed=function(n){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},e.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(n){return this.red=n,this},e.prototype.forceRed=function(n){return a(!this.red,"Already a number in reduction context"),this._forceRed(n)},e.prototype.redAdd=function(n){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},e.prototype.redIAdd=function(n){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},e.prototype.redSub=function(n){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},e.prototype.redISub=function(n){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},e.prototype.redShl=function(n){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},e.prototype.redMul=function(n){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},e.prototype.redIMul=function(n){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},e.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(n){return a(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var I={k256:null,p224:null,p192:null,p25519:null};function U(n,d){this.name=n,this.p=new e(d,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var n=new e(null);return n.words=new Array(Math.ceil(this.n/13)),n},U.prototype.ireduce=function(n){var d=n,v;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),v=d.bitLength();while(v>this.n);var A=v<this.n?-1:d.ucmp(this.p);return A===0?(d.words[0]=0,d.length=1):A>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},U.prototype.split=function(n,d){n.iushrn(this.n,0,d)},U.prototype.imulK=function(n){return n.imul(this.k)};function P(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(P,U),P.prototype.split=function(n,d){for(var v=4194303,A=Math.min(n.length,9),T=0;T<A;T++)d.words[T]=n.words[T];if(d.length=A,n.length<=9){n.words[0]=0,n.length=1;return}var S=n.words[9];for(d.words[d.length++]=S&v,T=10;T<n.length;T++){var w=n.words[T]|0;n.words[T-10]=(w&v)<<4|S>>>22,S=w}S>>>=22,n.words[T-10]=S,S===0&&n.length>10?n.length-=10:n.length-=9},P.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var d=0,v=0;v<n.length;v++){var A=n.words[v]|0;d+=A*977,n.words[v]=d&67108863,d=A*64+(d/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function D(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(D,U);function W(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,U);function q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,U),q.prototype.imulK=function(n){for(var d=0,v=0;v<n.length;v++){var A=(n.words[v]|0)*19+d,T=A&67108863;A>>>=26,n.words[v]=T,d=A}return d!==0&&(n.words[n.length++]=d),n},e._prime=function(n){if(I[n])return I[n];var d;if(n==="k256")d=new P;else if(n==="p224")d=new D;else if(n==="p192")d=new W;else if(n==="p25519")d=new q;else throw new Error("Unknown prime "+n);return I[n]=d,d};function O(n){if(typeof n=="string"){var d=e._prime(n);this.m=d.p,this.prime=d}else a(n.gtn(1),"modulus must be greater than 1"),this.m=n,this.prime=null}O.prototype._verify1=function(n){a(n.negative===0,"red works only with positives"),a(n.red,"red works only with red numbers")},O.prototype._verify2=function(n,d){a((n.negative|d.negative)===0,"red works only with positives"),a(n.red&&n.red===d.red,"red works only with red numbers")},O.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(p(n,n.umod(this.m)._forceRed(this)),n)},O.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},O.prototype.add=function(n,d){this._verify2(n,d);var v=n.add(d);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},O.prototype.iadd=function(n,d){this._verify2(n,d);var v=n.iadd(d);return v.cmp(this.m)>=0&&v.isub(this.m),v},O.prototype.sub=function(n,d){this._verify2(n,d);var v=n.sub(d);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},O.prototype.isub=function(n,d){this._verify2(n,d);var v=n.isub(d);return v.cmpn(0)<0&&v.iadd(this.m),v},O.prototype.shl=function(n,d){return this._verify1(n),this.imod(n.ushln(d))},O.prototype.imul=function(n,d){return this._verify2(n,d),this.imod(n.imul(d))},O.prototype.mul=function(n,d){return this._verify2(n,d),this.imod(n.mul(d))},O.prototype.isqr=function(n){return this.imul(n,n.clone())},O.prototype.sqr=function(n){return this.mul(n,n)},O.prototype.sqrt=function(n){if(n.isZero())return n.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var v=this.m.add(new e(1)).iushrn(2);return this.pow(n,v)}for(var A=this.m.subn(1),T=0;!A.isZero()&&A.andln(1)===0;)T++,A.iushrn(1);a(!A.isZero());var S=new e(1).toRed(this),w=S.redNeg(),b=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new e(2*h*h).toRed(this);this.pow(h,b).cmp(w)!==0;)h.redIAdd(w);for(var k=this.pow(h,A),tt=this.pow(n,A.addn(1).iushrn(1)),X=this.pow(n,A),ft=T;X.cmp(S)!==0;){for(var et=X,at=0;et.cmp(S)!==0;at++)et=et.redSqr();a(at<ft);var $=this.pow(k,new e(1).iushln(ft-at-1));tt=tt.redMul($),k=$.redSqr(),X=X.redMul(k),ft=at}return tt},O.prototype.invm=function(n){var d=n._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},O.prototype.pow=function(n,d){if(d.isZero())return new e(1).toRed(this);if(d.cmpn(1)===0)return n.clone();var v=4,A=new Array(1<<v);A[0]=new e(1).toRed(this),A[1]=n;for(var T=2;T<A.length;T++)A[T]=this.mul(A[T-1],n);var S=A[0],w=0,b=0,h=d.bitLength()%26;for(h===0&&(h=26),T=d.length-1;T>=0;T--){for(var k=d.words[T],tt=h-1;tt>=0;tt--){var X=k>>tt&1;if(S!==A[0]&&(S=this.sqr(S)),X===0&&w===0){b=0;continue}w<<=1,w|=X,b++,!(b!==v&&(T!==0||tt!==0))&&(S=this.mul(S,A[w]),b=0,w=0)}h=26}return S},O.prototype.convertTo=function(n){var d=n.umod(this.m);return d===n?d.clone():d},O.prototype.convertFrom=function(n){var d=n.clone();return d.red=null,d},e.mont=function(n){return new L(n)};function L(n){O.call(this,n),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(L,O),L.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},L.prototype.convertFrom=function(n){var d=this.imod(n.mul(this.rinv));return d.red=null,d},L.prototype.imul=function(n,d){if(n.isZero()||d.isZero())return n.words[0]=0,n.length=1,n;var v=n.imul(d),A=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(A).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},L.prototype.mul=function(n,d){if(n.isZero()||d.isZero())return new e(0)._forceRed(this);var v=n.mul(d),A=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(A).iushrn(this.shift),S=T;return T.cmp(this.m)>=0?S=T.isub(this.m):T.cmpn(0)<0&&(S=T.iadd(this.m)),S._forceRed(this)},L.prototype.invm=function(n){var d=this.imod(n._invmp(this.m).mul(this.r2));return d._forceRed(this)}}(typeof i>"u"||i,t)}),X0=gt((t,i)=>{lt(),function(r){function u(b){return parseInt(b)===b}function a(b){if(!u(b.length))return!1;for(var h=0;h<b.length;h++)if(!u(b[h])||b[h]<0||b[h]>255)return!1;return!0}function s(b,h){if(b.buffer&&ArrayBuffer.isView(b)&&b.name==="Uint8Array")return h&&(b.slice?b=b.slice():b=Array.prototype.slice.call(b)),b;if(Array.isArray(b)){if(!a(b))throw new Error("Array contains invalid value: "+b);return new Uint8Array(b)}if(u(b.length)&&a(b))return new Uint8Array(b);throw new Error("unsupported array-like object")}function e(b){return new Uint8Array(b)}function o(b,h,k,tt,X){(tt!=null||X!=null)&&(b.slice?b=b.slice(tt,X):b=Array.prototype.slice.call(b,tt,X)),h.set(b,k)}var c=function(){function b(k){var tt=[],X=0;for(k=encodeURI(k);X<k.length;){var ft=k.charCodeAt(X++);ft===37?(tt.push(parseInt(k.substr(X,2),16)),X+=2):tt.push(ft)}return s(tt)}function h(k){for(var tt=[],X=0;X<k.length;){var ft=k[X];ft<128?(tt.push(String.fromCharCode(ft)),X++):ft>191&&ft<224?(tt.push(String.fromCharCode((ft&31)<<6|k[X+1]&63)),X+=2):(tt.push(String.fromCharCode((ft&15)<<12|(k[X+1]&63)<<6|k[X+2]&63)),X+=3)}return tt.join("")}return{toBytes:b,fromBytes:h}}(),f=function(){function b(tt){for(var X=[],ft=0;ft<tt.length;ft+=2)X.push(parseInt(tt.substr(ft,2),16));return X}var h="0123456789abcdef";function k(tt){for(var X=[],ft=0;ft<tt.length;ft++){var et=tt[ft];X.push(h[(et&240)>>4]+h[et&15])}return X.join("")}return{toBytes:b,fromBytes:k}}(),l={16:10,24:12,32:14},p=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],g=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],y=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],M=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],E=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],B=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],x=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],C=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],N=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],F=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],I=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],U=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],P=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],D=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function W(b){for(var h=[],k=0;k<b.length;k+=4)h.push(b[k]<<24|b[k+1]<<16|b[k+2]<<8|b[k+3]);return h}var q=function(b){if(!(this instanceof q))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(b,!0)}),this._prepare()};q.prototype._prepare=function(){var b=l[this.key.length];if(b==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var h=0;h<=b;h++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var k=(b+1)*4,tt=this.key.length/4,X=W(this.key),ft,h=0;h<tt;h++)ft=h>>2,this._Ke[ft][h%4]=X[h],this._Kd[b-ft][h%4]=X[h];for(var et=0,at=tt,$;at<k;){if($=X[tt-1],X[0]^=g[$>>16&255]<<24^g[$>>8&255]<<16^g[$&255]<<8^g[$>>24&255]^p[et]<<24,et+=1,tt!=8)for(var h=1;h<tt;h++)X[h]^=X[h-1];else{for(var h=1;h<tt/2;h++)X[h]^=X[h-1];$=X[tt/2-1],X[tt/2]^=g[$&255]^g[$>>8&255]<<8^g[$>>16&255]<<16^g[$>>24&255]<<24;for(var h=tt/2+1;h<tt;h++)X[h]^=X[h-1]}for(var h=0,J,R;h<tt&&at<k;)J=at>>2,R=at%4,this._Ke[J][R]=X[h],this._Kd[b-J][R]=X[h++],at++}for(var J=1;J<b;J++)for(var R=0;R<4;R++)$=this._Kd[J][R],this._Kd[J][R]=I[$>>24&255]^U[$>>16&255]^P[$>>8&255]^D[$&255]},q.prototype.encrypt=function(b){if(b.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var h=this._Ke.length-1,k=[0,0,0,0],tt=W(b),X=0;X<4;X++)tt[X]^=this._Ke[0][X];for(var ft=1;ft<h;ft++){for(var X=0;X<4;X++)k[X]=m[tt[X]>>24&255]^M[tt[(X+1)%4]>>16&255]^E[tt[(X+2)%4]>>8&255]^B[tt[(X+3)%4]&255]^this._Ke[ft][X];tt=k.slice()}for(var et=e(16),at,X=0;X<4;X++)at=this._Ke[h][X],et[4*X]=(g[tt[X]>>24&255]^at>>24)&255,et[4*X+1]=(g[tt[(X+1)%4]>>16&255]^at>>16)&255,et[4*X+2]=(g[tt[(X+2)%4]>>8&255]^at>>8)&255,et[4*X+3]=(g[tt[(X+3)%4]&255]^at)&255;return et},q.prototype.decrypt=function(b){if(b.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var h=this._Kd.length-1,k=[0,0,0,0],tt=W(b),X=0;X<4;X++)tt[X]^=this._Kd[0][X];for(var ft=1;ft<h;ft++){for(var X=0;X<4;X++)k[X]=x[tt[X]>>24&255]^C[tt[(X+3)%4]>>16&255]^N[tt[(X+2)%4]>>8&255]^F[tt[(X+1)%4]&255]^this._Kd[ft][X];tt=k.slice()}for(var et=e(16),at,X=0;X<4;X++)at=this._Kd[h][X],et[4*X]=(y[tt[X]>>24&255]^at>>24)&255,et[4*X+1]=(y[tt[(X+3)%4]>>16&255]^at>>16)&255,et[4*X+2]=(y[tt[(X+2)%4]>>8&255]^at>>8)&255,et[4*X+3]=(y[tt[(X+1)%4]&255]^at)&255;return et};var O=function(b){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new q(b)};O.prototype.encrypt=function(b){if(b=s(b),b.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var h=e(b.length),k=e(16),tt=0;tt<b.length;tt+=16)o(b,k,0,tt,tt+16),k=this._aes.encrypt(k),o(k,h,tt);return h},O.prototype.decrypt=function(b){if(b=s(b),b.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var h=e(b.length),k=e(16),tt=0;tt<b.length;tt+=16)o(b,k,0,tt,tt+16),k=this._aes.decrypt(k),o(k,h,tt);return h};var L=function(b,h){if(!(this instanceof L))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!h)h=e(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(h,!0),this._aes=new q(b)};L.prototype.encrypt=function(b){if(b=s(b),b.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var h=e(b.length),k=e(16),tt=0;tt<b.length;tt+=16){o(b,k,0,tt,tt+16);for(var X=0;X<16;X++)k[X]^=this._lastCipherblock[X];this._lastCipherblock=this._aes.encrypt(k),o(this._lastCipherblock,h,tt)}return h},L.prototype.decrypt=function(b){if(b=s(b),b.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var h=e(b.length),k=e(16),tt=0;tt<b.length;tt+=16){o(b,k,0,tt,tt+16),k=this._aes.decrypt(k);for(var X=0;X<16;X++)h[tt+X]=k[X]^this._lastCipherblock[X];o(b,this._lastCipherblock,0,tt,tt+16)}return h};var n=function(b,h,k){if(!(this instanceof n))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!h)h=e(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");k||(k=1),this.segmentSize=k,this._shiftRegister=s(h,!0),this._aes=new q(b)};n.prototype.encrypt=function(b){if(b.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var h=s(b,!0),k,tt=0;tt<h.length;tt+=this.segmentSize){k=this._aes.encrypt(this._shiftRegister);for(var X=0;X<this.segmentSize;X++)h[tt+X]^=k[X];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(h,this._shiftRegister,16-this.segmentSize,tt,tt+this.segmentSize)}return h},n.prototype.decrypt=function(b){if(b.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var h=s(b,!0),k,tt=0;tt<h.length;tt+=this.segmentSize){k=this._aes.encrypt(this._shiftRegister);for(var X=0;X<this.segmentSize;X++)h[tt+X]^=k[X];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(b,this._shiftRegister,16-this.segmentSize,tt,tt+this.segmentSize)}return h};var d=function(b,h){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!h)h=e(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(h,!0),this._lastPrecipherIndex=16,this._aes=new q(b)};d.prototype.encrypt=function(b){for(var h=s(b,!0),k=0;k<h.length;k++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),h[k]^=this._lastPrecipher[this._lastPrecipherIndex++];return h},d.prototype.decrypt=d.prototype.encrypt;var v=function(b){if(!(this instanceof v))throw Error("Counter must be instanitated with `new`");b!==0&&!b&&(b=1),typeof b=="number"?(this._counter=e(16),this.setValue(b)):this.setBytes(b)};v.prototype.setValue=function(b){if(typeof b!="number"||parseInt(b)!=b)throw new Error("invalid counter value (must be an integer)");for(var h=15;h>=0;--h)this._counter[h]=b%256,b=b>>8},v.prototype.setBytes=function(b){if(b=s(b,!0),b.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=b},v.prototype.increment=function(){for(var b=15;b>=0;b--)if(this._counter[b]===255)this._counter[b]=0;else{this._counter[b]++;break}};var A=function(b,h){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",h instanceof v||(h=new v(h)),this._counter=h,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new q(b)};A.prototype.encrypt=function(b){for(var h=s(b,!0),k=0;k<h.length;k++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),h[k]^=this._remainingCounter[this._remainingCounterIndex++];return h},A.prototype.decrypt=A.prototype.encrypt;function T(b){b=s(b,!0);var h=16-b.length%16,k=e(b.length+h);o(b,k);for(var tt=b.length;tt<k.length;tt++)k[tt]=h;return k}function S(b){if(b=s(b,!0),b.length<16)throw new Error("PKCS#7 invalid length");var h=b[b.length-1];if(h>16)throw new Error("PKCS#7 padding byte out of range");for(var k=b.length-h,tt=0;tt<h;tt++)if(b[k+tt]!==h)throw new Error("PKCS#7 invalid padding byte");var X=e(k);return o(b,X,0,0,k),X}var w={AES:q,Counter:v,ModeOfOperation:{ecb:O,cbc:L,cfb:n,ofb:d,ctr:A},utils:{hex:f,utf8:c},padding:{pkcs7:{pad:T,strip:S}},_arrayTest:{coerceArray:s,createArray:e,copyArray:o}};typeof t<"u"?i.exports=w:typeof define=="function"&&define.amd?define(w):(r.aesjs&&(w._aesjs=r.aesjs),r.aesjs=w)}(t)}),Ey=gt((t,i)=>{lt(),function(r){function u(m){let M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),E=1779033703,B=3144134277,x=1013904242,C=2773480762,N=1359893119,F=2600822924,I=528734635,U=1541459225,P=new Uint32Array(64);function D(v){let A=0,T=v.length;for(;T>=64;){let S=E,w=B,b=x,h=C,k=N,tt=F,X=I,ft=U,et,at,$,J,R;for(at=0;at<16;at++)$=A+at*4,P[at]=(v[$]&255)<<24|(v[$+1]&255)<<16|(v[$+2]&255)<<8|v[$+3]&255;for(at=16;at<64;at++)et=P[at-2],J=(et>>>17|et<<15)^(et>>>19|et<<13)^et>>>10,et=P[at-15],R=(et>>>7|et<<25)^(et>>>18|et<<14)^et>>>3,P[at]=(J+P[at-7]|0)+(R+P[at-16]|0)|0;for(at=0;at<64;at++)J=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&tt^~k&X)|0)+(ft+(M[at]+P[at]|0)|0)|0,R=((S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10))+(S&w^S&b^w&b)|0,ft=X,X=tt,tt=k,k=h+J|0,h=b,b=w,w=S,S=J+R|0;E=E+S|0,B=B+w|0,x=x+b|0,C=C+h|0,N=N+k|0,F=F+tt|0,I=I+X|0,U=U+ft|0,A+=64,T-=64}}D(m);let W,q=m.length%64,O=m.length/536870912|0,L=m.length<<3,n=q<56?56:120,d=m.slice(m.length-q,m.length);for(d.push(128),W=q+1;W<n;W++)d.push(0);return d.push(O>>>24&255),d.push(O>>>16&255),d.push(O>>>8&255),d.push(O>>>0&255),d.push(L>>>24&255),d.push(L>>>16&255),d.push(L>>>8&255),d.push(L>>>0&255),D(d),[E>>>24&255,E>>>16&255,E>>>8&255,E>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,x>>>24&255,x>>>16&255,x>>>8&255,x>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255]}function a(m,M,E){m=m.length<=64?m:u(m);let B=64+M.length+4,x=new Array(B),C=new Array(64),N,F=[];for(N=0;N<64;N++)x[N]=54;for(N=0;N<m.length;N++)x[N]^=m[N];for(N=0;N<M.length;N++)x[64+N]=M[N];for(N=B-4;N<B;N++)x[N]=0;for(N=0;N<64;N++)C[N]=92;for(N=0;N<m.length;N++)C[N]^=m[N];function I(){for(let U=B-1;U>=B-4;U--){if(x[U]++,x[U]<=255)return;x[U]=0}}for(;E>=32;)I(),F=F.concat(u(C.concat(u(x)))),E-=32;return E>0&&(I(),F=F.concat(u(C.concat(u(x))).slice(0,E))),F}function s(m,M,E,B,x){let C;for(f(m,(2*E-1)*16,x,0,16),C=0;C<2*E;C++)c(m,C*16,x,16),o(x,B),f(x,0,m,M+C*16,16);for(C=0;C<E;C++)f(m,M+C*2*16,m,C*16,16);for(C=0;C<E;C++)f(m,M+(C*2+1)*16,m,(C+E)*16,16)}function e(m,M){return m<<M|m>>>32-M}function o(m,M){f(m,0,M,0,16);for(let E=8;E>0;E-=2)M[4]^=e(M[0]+M[12],7),M[8]^=e(M[4]+M[0],9),M[12]^=e(M[8]+M[4],13),M[0]^=e(M[12]+M[8],18),M[9]^=e(M[5]+M[1],7),M[13]^=e(M[9]+M[5],9),M[1]^=e(M[13]+M[9],13),M[5]^=e(M[1]+M[13],18),M[14]^=e(M[10]+M[6],7),M[2]^=e(M[14]+M[10],9),M[6]^=e(M[2]+M[14],13),M[10]^=e(M[6]+M[2],18),M[3]^=e(M[15]+M[11],7),M[7]^=e(M[3]+M[15],9),M[11]^=e(M[7]+M[3],13),M[15]^=e(M[11]+M[7],18),M[1]^=e(M[0]+M[3],7),M[2]^=e(M[1]+M[0],9),M[3]^=e(M[2]+M[1],13),M[0]^=e(M[3]+M[2],18),M[6]^=e(M[5]+M[4],7),M[7]^=e(M[6]+M[5],9),M[4]^=e(M[7]+M[6],13),M[5]^=e(M[4]+M[7],18),M[11]^=e(M[10]+M[9],7),M[8]^=e(M[11]+M[10],9),M[9]^=e(M[8]+M[11],13),M[10]^=e(M[9]+M[8],18),M[12]^=e(M[15]+M[14],7),M[13]^=e(M[12]+M[15],9),M[14]^=e(M[13]+M[12],13),M[15]^=e(M[14]+M[13],18);for(let E=0;E<16;++E)m[E]+=M[E]}function c(m,M,E,B){for(let x=0;x<B;x++)E[x]^=m[M+x]}function f(m,M,E,B,x){for(;x--;)E[B++]=m[M++]}function l(m){if(!m||typeof m.length!="number")return!1;for(let M=0;M<m.length;M++){let E=m[M];if(typeof E!="number"||E%1||E<0||E>=256)return!1}return!0}function p(m,M){if(typeof m!="number"||m%1)throw new Error("invalid "+M);return m}function g(m,M,E,B,x,C,N){if(E=p(E,"N"),B=p(B,"r"),x=p(x,"p"),C=p(C,"dkLen"),E===0||(E&E-1)!==0)throw new Error("N must be power of 2");if(E>2147483647/128/B)throw new Error("N too large");if(B>2147483647/128/x)throw new Error("r too large");if(!l(m))throw new Error("password must be an array or buffer");if(m=Array.prototype.slice.call(m),!l(M))throw new Error("salt must be an array or buffer");M=Array.prototype.slice.call(M);let F=a(m,M,x*128*B),I=new Uint32Array(x*32*B);for(let k=0;k<I.length;k++){let tt=k*4;I[k]=(F[tt+3]&255)<<24|(F[tt+2]&255)<<16|(F[tt+1]&255)<<8|(F[tt+0]&255)<<0}let U=new Uint32Array(64*B),P=new Uint32Array(32*B*E),D=32*B,W=new Uint32Array(16),q=new Uint32Array(16),O=x*E*2,L=0,n=null,d=!1,v=0,A=0,T,S,w=N?parseInt(1e3/B):4294967295,b=typeof setImmediate<"u"?setImmediate:setTimeout,h=function(){if(d)return N(new Error("cancelled"),L/O);let k;switch(v){case 0:S=A*32*B,f(I,S,U,0,D),v=1,T=0;case 1:k=E-T,k>w&&(k=w);for(let X=0;X<k;X++)f(U,0,P,(T+X)*D,D),s(U,D,B,W,q);if(T+=k,L+=k,N){let X=parseInt(1e3*L/O);if(X!==n){if(d=N(null,L/O),d)break;n=X}}if(T<E)break;T=0,v=2;case 2:k=E-T,k>w&&(k=w);for(let X=0;X<k;X++){let ft=(2*B-1)*16,et=U[ft]&E-1;c(P,et*D,U,D),s(U,D,B,W,q)}if(T+=k,L+=k,N){let X=parseInt(1e3*L/O);if(X!==n){if(d=N(null,L/O),d)break;n=X}}if(T<E)break;if(f(U,0,I,S,D),A++,A<x){v=0;break}F=[];for(let X=0;X<I.length;X++)F.push(I[X]>>0&255),F.push(I[X]>>8&255),F.push(I[X]>>16&255),F.push(I[X]>>24&255);let tt=a(m,F,C);return N&&N(null,1,tt),tt}N&&b(h)};if(!N)for(;;){let k=h();if(k!=null)return k}h()}let y={scrypt:function(m,M,E,B,x,C,N){return new Promise(function(F,I){let U=0;N&&N(0),g(m,M,E,B,x,C,function(P,D,W){if(P)I(P);else if(W)N&&U!==1&&N(1),F(new Uint8Array(W));else if(N&&D!==U)return U=D,N(D)})})},syncScrypt:function(m,M,E,B,x,C){return new Uint8Array(g(m,M,E,B,x,C))}};typeof t<"u"?i.exports=y:typeof define=="function"&&define.amd?define(y):r&&(r.scrypt&&(r._scrypt=r.scrypt),r.scrypt=y)}(t)}),Sy=gt((t,i)=>{lt();var r=Ee().Buffer;function u(a){if(a.length>=255)throw new TypeError("Alphabet too long");for(var s=new Uint8Array(256),e=0;e<s.length;e++)s[e]=255;for(var o=0;o<a.length;o++){var c=a.charAt(o),f=c.charCodeAt(0);if(s[f]!==255)throw new TypeError(c+" is ambiguous");s[f]=o}var l=a.length,p=a.charAt(0),g=Math.log(l)/Math.log(256),y=Math.log(256)/Math.log(l);function m(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=r.from(B)),!r.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var x=0,C=0,N=0,F=B.length;N!==F&&B[N]===0;)N++,x++;for(var I=(F-N)*y+1>>>0,U=new Uint8Array(I);N!==F;){for(var P=B[N],D=0,W=I-1;(P!==0||D<C)&&W!==-1;W--,D++)P+=256*U[W]>>>0,U[W]=P%l>>>0,P=P/l>>>0;if(P!==0)throw new Error("Non-zero carry");C=D,N++}for(var q=I-C;q!==I&&U[q]===0;)q++;for(var O=p.repeat(x);q<I;++q)O+=a.charAt(U[q]);return O}function M(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return r.alloc(0);for(var x=0,C=0,N=0;B[x]===p;)C++,x++;for(var F=(B.length-x)*g+1>>>0,I=new Uint8Array(F);B[x];){var U=s[B.charCodeAt(x)];if(U===255)return;for(var P=0,D=F-1;(U!==0||P<N)&&D!==-1;D--,P++)U+=l*I[D]>>>0,I[D]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");N=P,x++}for(var W=F-N;W!==F&&I[W]===0;)W++;var q=r.allocUnsafe(C+(F-W));q.fill(0,0,C);for(var O=C;W!==F;)q[O++]=I[W++];return q}function E(B){var x=M(B);if(x)return x;throw new Error("Non-base"+l+" character")}return{encode:m,decodeUnsafe:M,decode:E}}i.exports=u}),Ay=gt((t,i)=>{lt();var r=Sy(),u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i.exports=r(u)}),Ty=gt((t,i)=>{lt();var r={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function u(c,f){if(!c)throw new Error(f)}function a(c,f,l){if(u(f instanceof Uint8Array,`Expected ${c} to be an Uint8Array`),l!==void 0)if(Array.isArray(l)){let p=l.join(", "),g=`Expected ${c} to be an Uint8Array with length [${p}]`;u(l.includes(f.length),g)}else{let p=`Expected ${c} to be an Uint8Array with length ${l}`;u(f.length===l,p)}}function s(c){u(o(c)==="Boolean","Expected compressed to be a Boolean")}function e(c=l=>new Uint8Array(l),f){return typeof c=="function"&&(c=c(f)),a("output",c,f),c}function o(c){return Object.prototype.toString.call(c).slice(8,-1)}i.exports=c=>({contextRandomize(f){switch(u(f===null||f instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),f!==null&&a("seed",f,32),c.contextRandomize(f)){case 1:throw new Error(r.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(f){return a("private key",f,32),c.privateKeyVerify(f)===0},privateKeyNegate(f){switch(a("private key",f,32),c.privateKeyNegate(f)){case 0:return f;case 1:throw new Error(r.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(f,l){switch(a("private key",f,32),a("tweak",l,32),c.privateKeyTweakAdd(f,l)){case 0:return f;case 1:throw new Error(r.TWEAK_ADD)}},privateKeyTweakMul(f,l){switch(a("private key",f,32),a("tweak",l,32),c.privateKeyTweakMul(f,l)){case 0:return f;case 1:throw new Error(r.TWEAK_MUL)}},publicKeyVerify(f){return a("public key",f,[33,65]),c.publicKeyVerify(f)===0},publicKeyCreate(f,l=!0,p){switch(a("private key",f,32),s(l),p=e(p,l?33:65),c.publicKeyCreate(p,f)){case 0:return p;case 1:throw new Error(r.SECKEY_INVALID);case 2:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyConvert(f,l=!0,p){switch(a("public key",f,[33,65]),s(l),p=e(p,l?33:65),c.publicKeyConvert(p,f)){case 0:return p;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyNegate(f,l=!0,p){switch(a("public key",f,[33,65]),s(l),p=e(p,l?33:65),c.publicKeyNegate(p,f)){case 0:return p;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE);case 3:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyCombine(f,l=!0,p){u(Array.isArray(f),"Expected public keys to be an Array"),u(f.length>0,"Expected public keys array will have more than zero items");for(let g of f)a("public key",g,[33,65]);switch(s(l),p=e(p,l?33:65),c.publicKeyCombine(p,f)){case 0:return p;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.PUBKEY_COMBINE);case 3:throw new Error(r.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(f,l,p=!0,g){switch(a("public key",f,[33,65]),a("tweak",l,32),s(p),g=e(g,p?33:65),c.publicKeyTweakAdd(g,f,l)){case 0:return g;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.TWEAK_ADD)}},publicKeyTweakMul(f,l,p=!0,g){switch(a("public key",f,[33,65]),a("tweak",l,32),s(p),g=e(g,p?33:65),c.publicKeyTweakMul(g,f,l)){case 0:return g;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.TWEAK_MUL)}},signatureNormalize(f){switch(a("signature",f,64),c.signatureNormalize(f)){case 0:return f;case 1:throw new Error(r.SIG_PARSE)}},signatureExport(f,l){a("signature",f,64),l=e(l,72);let p={output:l,outputlen:72};switch(c.signatureExport(p,f)){case 0:return l.slice(0,p.outputlen);case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},signatureImport(f,l){switch(a("signature",f),l=e(l,64),c.signatureImport(l,f)){case 0:return l;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},ecdsaSign(f,l,p={},g){a("message",f,32),a("private key",l,32),u(o(p)==="Object","Expected options to be an Object"),p.data!==void 0&&a("options.data",p.data),p.noncefn!==void 0&&u(o(p.noncefn)==="Function","Expected options.noncefn to be a Function"),g=e(g,64);let y={signature:g,recid:null};switch(c.ecdsaSign(y,f,l,p.data,p.noncefn)){case 0:return y;case 1:throw new Error(r.SIGN);case 2:throw new Error(r.IMPOSSIBLE_CASE)}},ecdsaVerify(f,l,p){switch(a("signature",f,64),a("message",l,32),a("public key",p,[33,65]),c.ecdsaVerify(f,l,p)){case 0:return!0;case 3:return!1;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.PUBKEY_PARSE)}},ecdsaRecover(f,l,p,g=!0,y){switch(a("signature",f,64),u(o(l)==="Number"&&l>=0&&l<=3,"Expected recovery id to be a Number within interval [0, 3]"),a("message",p,32),s(g),y=e(y,g?33:65),c.ecdsaRecover(y,f,l,p)){case 0:return y;case 1:throw new Error(r.SIG_PARSE);case 2:throw new Error(r.RECOVER);case 3:throw new Error(r.IMPOSSIBLE_CASE)}},ecdh(f,l,p={},g){switch(a("public key",f,[33,65]),a("private key",l,32),u(o(p)==="Object","Expected options to be an Object"),p.data!==void 0&&a("options.data",p.data),p.hashfn!==void 0?(u(o(p.hashfn)==="Function","Expected options.hashfn to be a Function"),p.xbuf!==void 0&&a("options.xbuf",p.xbuf,32),p.ybuf!==void 0&&a("options.ybuf",p.ybuf,32),a("output",g)):g=e(g,32),c.ecdh(g,f,l,p.data,p.hashfn,p.xbuf,p.ybuf)){case 0:return g;case 1:throw new Error(r.PUBKEY_PARSE);case 2:throw new Error(r.ECDH)}}})}),My=gt((t,i)=>{lt();var r=rs().ec,u=new r("secp256k1"),a=u.curve,s=a.n.constructor;function e(l,p){let g=new s(p);if(g.cmp(a.p)>=0)return null;g=g.toRed(a.red);let y=g.redSqr().redIMul(g).redIAdd(a.b).redSqrt();return l===3!==y.isOdd()&&(y=y.redNeg()),u.keyPair({pub:{x:g,y}})}function o(l,p,g){let y=new s(p),m=new s(g);if(y.cmp(a.p)>=0||m.cmp(a.p)>=0||(y=y.toRed(a.red),m=m.toRed(a.red),(l===6||l===7)&&m.isOdd()!==(l===7)))return null;let M=y.redSqr().redIMul(y);return m.redSqr().redISub(M.redIAdd(a.b)).isZero()?u.keyPair({pub:{x:y,y:m}}):null}function c(l){let p=l[0];switch(p){case 2:case 3:return l.length!==33?null:e(p,l.subarray(1,33));case 4:case 6:case 7:return l.length!==65?null:o(p,l.subarray(1,33),l.subarray(33,65));default:return null}}function f(l,p){let g=p.encode(null,l.length===33);for(let y=0;y<l.length;++y)l[y]=g[y]}i.exports={contextRandomize(){return 0},privateKeyVerify(l){let p=new s(l);return p.cmp(a.n)<0&&!p.isZero()?0:1},privateKeyNegate(l){let p=new s(l),g=a.n.sub(p).umod(a.n).toArrayLike(Uint8Array,"be",32);return l.set(g),0},privateKeyTweakAdd(l,p){let g=new s(p);if(g.cmp(a.n)>=0||(g.iadd(new s(l)),g.cmp(a.n)>=0&&g.isub(a.n),g.isZero()))return 1;let y=g.toArrayLike(Uint8Array,"be",32);return l.set(y),0},privateKeyTweakMul(l,p){let g=new s(p);if(g.cmp(a.n)>=0||g.isZero())return 1;g.imul(new s(l)),g.cmp(a.n)>=0&&(g=g.umod(a.n));let y=g.toArrayLike(Uint8Array,"be",32);return l.set(y),0},publicKeyVerify(l){return c(l)===null?1:0},publicKeyCreate(l,p){let g=new s(p);if(g.cmp(a.n)>=0||g.isZero())return 1;let y=u.keyFromPrivate(p).getPublic();return f(l,y),0},publicKeyConvert(l,p){let g=c(p);if(g===null)return 1;let y=g.getPublic();return f(l,y),0},publicKeyNegate(l,p){let g=c(p);if(g===null)return 1;let y=g.getPublic();return y.y=y.y.redNeg(),f(l,y),0},publicKeyCombine(l,p){let g=new Array(p.length);for(let m=0;m<p.length;++m)if(g[m]=c(p[m]),g[m]===null)return 1;let y=g[0].getPublic();for(let m=1;m<g.length;++m)y=y.add(g[m].pub);return y.isInfinity()?2:(f(l,y),0)},publicKeyTweakAdd(l,p,g){let y=c(p);if(y===null)return 1;if(g=new s(g),g.cmp(a.n)>=0)return 2;let m=y.getPublic().add(a.g.mul(g));return m.isInfinity()?2:(f(l,m),0)},publicKeyTweakMul(l,p,g){let y=c(p);if(y===null)return 1;if(g=new s(g),g.cmp(a.n)>=0||g.isZero())return 2;let m=y.getPublic().mul(g);return f(l,m),0},signatureNormalize(l){let p=new s(l.subarray(0,32)),g=new s(l.subarray(32,64));return p.cmp(a.n)>=0||g.cmp(a.n)>=0?1:(g.cmp(u.nh)===1&&l.set(a.n.sub(g).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(l,p){let g=p.subarray(0,32),y=p.subarray(32,64);if(new s(g).cmp(a.n)>=0||new s(y).cmp(a.n)>=0)return 1;let{output:m}=l,M=m.subarray(4,37);M[0]=0,M.set(g,1);let E=33,B=0;for(;E>1&&M[B]===0&&!(M[B+1]&128);--E,++B);if(M=M.subarray(B),M[0]&128||E>1&&M[0]===0&&!(M[1]&128))return 1;let x=m.subarray(39,72);x[0]=0,x.set(y,1);let C=33,N=0;for(;C>1&&x[N]===0&&!(x[N+1]&128);--C,++N);return x=x.subarray(N),x[0]&128||C>1&&x[0]===0&&!(x[1]&128)?1:(l.outputlen=6+E+C,m[0]=48,m[1]=l.outputlen-2,m[2]=2,m[3]=M.length,m.set(M,4),m[4+E]=2,m[5+E]=x.length,m.set(x,6+E),0)},signatureImport(l,p){if(p.length<8||p.length>72||p[0]!==48||p[1]!==p.length-2||p[2]!==2)return 1;let g=p[3];if(g===0||5+g>=p.length||p[4+g]!==2)return 1;let y=p[5+g];if(y===0||6+g+y!==p.length||p[4]&128||g>1&&p[4]===0&&!(p[5]&128)||p[g+6]&128||y>1&&p[g+6]===0&&!(p[g+7]&128))return 1;let m=p.subarray(4,4+g);if(m.length===33&&m[0]===0&&(m=m.subarray(1)),m.length>32)return 1;let M=p.subarray(6+g);if(M.length===33&&M[0]===0&&(M=M.slice(1)),M.length>32)throw new Error("S length is too long");let E=new s(m);E.cmp(a.n)>=0&&(E=new s(0));let B=new s(p.subarray(6+g));return B.cmp(a.n)>=0&&(B=new s(0)),l.set(E.toArrayLike(Uint8Array,"be",32),0),l.set(B.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(l,p,g,y,m){if(m){let B=m;m=x=>{let C=B(p,g,null,y,x);if(!(C instanceof Uint8Array&&C.length===32))throw new Error("This is the way");return new s(C)}}let M=new s(g);if(M.cmp(a.n)>=0||M.isZero())return 1;let E;try{E=u.sign(p,g,{canonical:!0,k:m,pers:y})}catch{return 1}return l.signature.set(E.r.toArrayLike(Uint8Array,"be",32),0),l.signature.set(E.s.toArrayLike(Uint8Array,"be",32),32),l.recid=E.recoveryParam,0},ecdsaVerify(l,p,g){let y={r:l.subarray(0,32),s:l.subarray(32,64)},m=new s(y.r),M=new s(y.s);if(m.cmp(a.n)>=0||M.cmp(a.n)>=0)return 1;if(M.cmp(u.nh)===1||m.isZero()||M.isZero())return 3;let E=c(g);if(E===null)return 2;let B=E.getPublic();return u.verify(p,y,B)?0:3},ecdsaRecover(l,p,g,y){let m={r:p.slice(0,32),s:p.slice(32,64)},M=new s(m.r),E=new s(m.s);if(M.cmp(a.n)>=0||E.cmp(a.n)>=0)return 1;if(M.isZero()||E.isZero())return 2;let B;try{B=u.recoverPubKey(y,m,g)}catch{return 2}return f(l,B),0},ecdh(l,p,g,y,m,M,E){let B=c(p);if(B===null)return 1;let x=new s(g);if(x.cmp(a.n)>=0||x.isZero())return 2;let C=B.getPublic().mul(x);if(m===void 0){let N=C.encode(null,!0),F=u.hash().update(N).digest();for(let I=0;I<32;++I)l[I]=F[I]}else{M||(M=new Uint8Array(32));let N=C.getX().toArray("be",32);for(let U=0;U<32;++U)M[U]=N[U];E||(E=new Uint8Array(32));let F=C.getY().toArray("be",32);for(let U=0;U<32;++U)E[U]=F[U];let I=m(M,E,y);if(!(I instanceof Uint8Array&&I.length===l.length))return 2;l.set(I)}return 0}}}),Y0=gt((t,i)=>{lt(),i.exports=Ty()(My())}),xy=gt((t,i)=>{lt();var{Transform:r}=kr();i.exports=u=>class Q0 extends r{constructor(s,e,o,c,f){super(f),this._rate=s,this._capacity=e,this._delimitedSuffix=o,this._hashBitLength=c,this._options=f,this._state=new u,this._state.initialize(s,e),this._finalized=!1}_transform(s,e,o){let c=null;try{this.update(s,e)}catch(f){c=f}o(c)}_flush(s){let e=null;try{this.push(this.digest())}catch(o){e=o}s(e)}update(s,e){if(!Ut.Buffer.isBuffer(s)&&typeof s!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Ut.Buffer.isBuffer(s)||(s=Ut.Buffer.from(s,e)),this._state.absorb(s),this}digest(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let e=this._state.squeeze(this._hashBitLength/8);return s!==void 0&&(e=e.toString(s)),this._resetState(),e}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let s=new Q0(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(s._state),s._finalized=this._finalized,s}}}),ky=gt((t,i)=>{lt();var{Transform:r}=kr();i.exports=u=>class td extends r{constructor(s,e,o,c){super(c),this._rate=s,this._capacity=e,this._delimitedSuffix=o,this._options=c,this._state=new u,this._state.initialize(s,e),this._finalized=!1}_transform(s,e,o){let c=null;try{this.update(s,e)}catch(f){c=f}o(c)}_flush(){}_read(s){this.push(this.squeeze(s))}update(s,e){if(!Ut.Buffer.isBuffer(s)&&typeof s!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Ut.Buffer.isBuffer(s)||(s=Ut.Buffer.from(s,e)),this._state.absorb(s),this}squeeze(s,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let o=this._state.squeeze(s);return e!==void 0&&(o=o.toString(e)),o}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let s=new td(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(s._state),s._finalized=this._finalized,s}}}),Oy=gt((t,i)=>{lt();var r=xy(),u=ky();i.exports=function(a){let s=r(a),e=u(a);return function(o,c){switch(typeof o=="string"?o.toLowerCase():o){case"keccak224":return new s(1152,448,null,224,c);case"keccak256":return new s(1088,512,null,256,c);case"keccak384":return new s(832,768,null,384,c);case"keccak512":return new s(576,1024,null,512,c);case"sha3-224":return new s(1152,448,6,224,c);case"sha3-256":return new s(1088,512,6,256,c);case"sha3-384":return new s(832,768,6,384,c);case"sha3-512":return new s(576,1024,6,512,c);case"shake128":return new e(1344,256,31,c);case"shake256":return new e(1088,512,31,c);default:throw new Error("Invald algorithm: "+o)}}}}),Iy=gt(t=>{lt();var i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(r){for(let u=0;u<24;++u){let a=r[0]^r[10]^r[20]^r[30]^r[40],s=r[1]^r[11]^r[21]^r[31]^r[41],e=r[2]^r[12]^r[22]^r[32]^r[42],o=r[3]^r[13]^r[23]^r[33]^r[43],c=r[4]^r[14]^r[24]^r[34]^r[44],f=r[5]^r[15]^r[25]^r[35]^r[45],l=r[6]^r[16]^r[26]^r[36]^r[46],p=r[7]^r[17]^r[27]^r[37]^r[47],g=r[8]^r[18]^r[28]^r[38]^r[48],y=r[9]^r[19]^r[29]^r[39]^r[49],m=g^(e<<1|o>>>31),M=y^(o<<1|e>>>31),E=r[0]^m,B=r[1]^M,x=r[10]^m,C=r[11]^M,N=r[20]^m,F=r[21]^M,I=r[30]^m,U=r[31]^M,P=r[40]^m,D=r[41]^M;m=a^(c<<1|f>>>31),M=s^(f<<1|c>>>31);let W=r[2]^m,q=r[3]^M,O=r[12]^m,L=r[13]^M,n=r[22]^m,d=r[23]^M,v=r[32]^m,A=r[33]^M,T=r[42]^m,S=r[43]^M;m=e^(l<<1|p>>>31),M=o^(p<<1|l>>>31);let w=r[4]^m,b=r[5]^M,h=r[14]^m,k=r[15]^M,tt=r[24]^m,X=r[25]^M,ft=r[34]^m,et=r[35]^M,at=r[44]^m,$=r[45]^M;m=c^(g<<1|y>>>31),M=f^(y<<1|g>>>31);let J=r[6]^m,R=r[7]^M,j=r[16]^m,z=r[17]^M,Z=r[26]^m,Q=r[27]^M,K=r[36]^m,G=r[37]^M,H=r[46]^m,Y=r[47]^M;m=l^(a<<1|s>>>31),M=p^(s<<1|a>>>31);let it=r[8]^m,ot=r[9]^M,mt=r[18]^m,_t=r[19]^M,ht=r[28]^m,vt=r[29]^M,pt=r[38]^m,V=r[39]^M,rt=r[48]^m,st=r[49]^M,yt=E,Ct=B,dt=C<<4|x>>>28,Mt=x<<4|C>>>28,Lt=N<<3|F>>>29,wt=F<<3|N>>>29,ct=U<<9|I>>>23,Et=I<<9|U>>>23,ut=P<<18|D>>>14,Ot=D<<18|P>>>14,qt=W<<1|q>>>31,nt=q<<1|W>>>31,Rt=L<<12|O>>>20,Dt=O<<12|L>>>20,bt=n<<10|d>>>22,Tt=d<<10|n>>>22,jt=A<<13|v>>>19,St=v<<13|A>>>19,kt=T<<2|S>>>30,Kt=S<<2|T>>>30,At=b<<30|w>>>2,Nt=w<<30|b>>>2,$t=h<<6|k>>>26,Ft=k<<6|h>>>26,Wt=X<<11|tt>>>21,ae=tt<<11|X>>>21,Xt=ft<<15|et>>>17,Gt=et<<15|ft>>>17,he=$<<29|at>>>3,Qt=at<<29|$>>>3,Zt=J<<28|R>>>4,se=R<<28|J>>>4,te=z<<23|j>>>9,re=j<<23|z>>>9,Se=Z<<25|Q>>>7,Be=Q<<25|Z>>>7,Re=K<<21|G>>>11,Te=G<<21|K>>>11,xe=Y<<24|H>>>8,Ce=H<<24|Y>>>8,Ue=it<<27|ot>>>5,Ke=ot<<27|it>>>5,Je=mt<<20|_t>>>12,ze=_t<<20|mt>>>12,Xe=vt<<7|ht>>>25,Ge=ht<<7|vt>>>25,Ye=pt<<8|V>>>24,We=V<<8|pt>>>24,Ve=rt<<14|st>>>18,Ze=st<<14|rt>>>18;r[0]=yt^~Rt&Wt,r[1]=Ct^~Dt&ae,r[10]=Zt^~Je&Lt,r[11]=se^~ze&wt,r[20]=qt^~$t&Se,r[21]=nt^~Ft&Be,r[30]=Ue^~dt&bt,r[31]=Ke^~Mt&Tt,r[40]=At^~te&Xe,r[41]=Nt^~re&Ge,r[2]=Rt^~Wt&Re,r[3]=Dt^~ae&Te,r[12]=Je^~Lt&jt,r[13]=ze^~wt&St,r[22]=$t^~Se&Ye,r[23]=Ft^~Be&We,r[32]=dt^~bt&Xt,r[33]=Mt^~Tt&Gt,r[42]=te^~Xe&ct,r[43]=re^~Ge&Et,r[4]=Wt^~Re&Ve,r[5]=ae^~Te&Ze,r[14]=Lt^~jt&he,r[15]=wt^~St&Qt,r[24]=Se^~Ye&ut,r[25]=Be^~We&Ot,r[34]=bt^~Xt&xe,r[35]=Tt^~Gt&Ce,r[44]=Xe^~ct&kt,r[45]=Ge^~Et&Kt,r[6]=Re^~Ve&yt,r[7]=Te^~Ze&Ct,r[16]=jt^~he&Zt,r[17]=St^~Qt&se,r[26]=Ye^~ut&qt,r[27]=We^~Ot&nt,r[36]=Xt^~xe&Ue,r[37]=Gt^~Ce&Ke,r[46]=ct^~kt&At,r[47]=Et^~Kt&Nt,r[8]=Ve^~yt&Rt,r[9]=Ze^~Ct&Dt,r[18]=he^~Zt&Je,r[19]=Qt^~se&ze,r[28]=ut^~qt&$t,r[29]=Ot^~nt&Ft,r[38]=xe^~Ue&dt,r[39]=Ce^~Ke&Mt,r[48]=kt^~At&te,r[49]=Kt^~Nt&re,r[0]^=i[u*2],r[1]^=i[u*2+1]}}}),By=gt((t,i)=>{lt();var r=Iy();function u(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}u.prototype.initialize=function(a,s){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=a/8,this.count=0,this.squeezing=!1},u.prototype.absorb=function(a){for(let s=0;s<a.length;++s)this.state[~~(this.count/4)]^=a[s]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(r.p1600(this.state),this.count=0)},u.prototype.absorbLastFewBits=function(a){this.state[~~(this.count/4)]^=a<<8*(this.count%4),a&128&&this.count===this.blockSize-1&&r.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),r.p1600(this.state),this.count=0,this.squeezing=!0},u.prototype.squeeze=function(a){this.squeezing||this.absorbLastFewBits(1);let s=Ut.Buffer.alloc(a);for(let e=0;e<a;++e)s[e]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(r.p1600(this.state),this.count=0);return s},u.prototype.copy=function(a){for(let s=0;s<50;++s)a.state[s]=this.state[s];a.blockSize=this.blockSize,a.count=this.count,a.squeezing=this.squeezing},i.exports=u}),Cy=gt((t,i)=>{lt(),i.exports=Oy()(By())}),Py=gt((t,i)=>{lt(),function(r){var u,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,e=Math.floor,o="[BigNumber Error] ",c=o+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,p=9007199254740991,g=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,m=1e9;function M(U){var P,D,W,q=X.prototype={constructor:X,toString:null,valueOf:null},O=new X(1),L=20,n=4,d=-7,v=21,A=-1e7,T=1e7,S=!1,w=1,b=0,h={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",tt=!0;function X(R,j){var z,Z,Q,K,G,H,Y,it,ot=this;if(!(ot instanceof X))return new X(R,j);if(j==null){if(R&&R._isBigNumber===!0){ot.s=R.s,!R.c||R.e>T?ot.c=ot.e=null:R.e<A?ot.c=[ot.e=0]:(ot.e=R.e,ot.c=R.c.slice());return}if((H=typeof R=="number")&&R*0==0){if(ot.s=1/R<0?(R=-R,-1):1,R===~~R){for(K=0,G=R;G>=10;G/=10,K++);K>T?ot.c=ot.e=null:(ot.e=K,ot.c=[R]);return}it=String(R)}else{if(!a.test(it=String(R)))return W(ot,it,H);ot.s=it.charCodeAt(0)==45?(it=it.slice(1),-1):1}(K=it.indexOf("."))>-1&&(it=it.replace(".","")),(G=it.search(/e/i))>0?(K<0&&(K=G),K+=+it.slice(G+1),it=it.substring(0,G)):K<0&&(K=it.length)}else{if(C(j,2,k.length,"Base"),j==10&&tt)return ot=new X(R),$(ot,L+ot.e+1,n);if(it=String(R),H=typeof R=="number"){if(R*0!=0)return W(ot,it,H,j);if(ot.s=1/R<0?(it=it.slice(1),-1):1,X.DEBUG&&it.replace(/^0\.0*|\./,"").length>15)throw Error(c+R)}else ot.s=it.charCodeAt(0)===45?(it=it.slice(1),-1):1;for(z=k.slice(0,j),K=G=0,Y=it.length;G<Y;G++)if(z.indexOf(Z=it.charAt(G))<0){if(Z=="."){if(G>K){K=Y;continue}}else if(!Q&&(it==it.toUpperCase()&&(it=it.toLowerCase())||it==it.toLowerCase()&&(it=it.toUpperCase()))){Q=!0,G=-1,K=0;continue}return W(ot,String(R),H,j)}H=!1,it=D(it,j,10,ot.s),(K=it.indexOf("."))>-1?it=it.replace(".",""):K=it.length}for(G=0;it.charCodeAt(G)===48;G++);for(Y=it.length;it.charCodeAt(--Y)===48;);if(it=it.slice(G,++Y)){if(Y-=G,H&&X.DEBUG&&Y>15&&(R>p||R!==e(R)))throw Error(c+ot.s*R);if((K=K-G-1)>T)ot.c=ot.e=null;else if(K<A)ot.c=[ot.e=0];else{if(ot.e=K,ot.c=[],G=(K+1)%l,K<0&&(G+=l),G<Y){for(G&&ot.c.push(+it.slice(0,G)),Y-=l;G<Y;)ot.c.push(+it.slice(G,G+=l));G=l-(it=it.slice(G)).length}else G-=Y;for(;G--;it+="0");ot.c.push(+it)}}else ot.c=[ot.e=0]}X.clone=M,X.ROUND_UP=0,X.ROUND_DOWN=1,X.ROUND_CEIL=2,X.ROUND_FLOOR=3,X.ROUND_HALF_UP=4,X.ROUND_HALF_DOWN=5,X.ROUND_HALF_EVEN=6,X.ROUND_HALF_CEIL=7,X.ROUND_HALF_FLOOR=8,X.EUCLID=9,X.config=X.set=function(R){var j,z;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(j="DECIMAL_PLACES")&&(z=R[j],C(z,0,m,j),L=z),R.hasOwnProperty(j="ROUNDING_MODE")&&(z=R[j],C(z,0,8,j),n=z),R.hasOwnProperty(j="EXPONENTIAL_AT")&&(z=R[j],z&&z.pop?(C(z[0],-m,0,j),C(z[1],0,m,j),d=z[0],v=z[1]):(C(z,-m,m,j),d=-(v=z<0?-z:z))),R.hasOwnProperty(j="RANGE"))if(z=R[j],z&&z.pop)C(z[0],-m,-1,j),C(z[1],1,m,j),A=z[0],T=z[1];else if(C(z,-m,m,j),z)A=-(T=z<0?-z:z);else throw Error(o+j+" cannot be zero: "+z);if(R.hasOwnProperty(j="CRYPTO"))if(z=R[j],z===!!z)if(z)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))S=z;else throw S=!z,Error(o+"crypto unavailable");else S=z;else throw Error(o+j+" not true or false: "+z);if(R.hasOwnProperty(j="MODULO_MODE")&&(z=R[j],C(z,0,9,j),w=z),R.hasOwnProperty(j="POW_PRECISION")&&(z=R[j],C(z,0,m,j),b=z),R.hasOwnProperty(j="FORMAT"))if(z=R[j],typeof z=="object")h=z;else throw Error(o+j+" not an object: "+z);if(R.hasOwnProperty(j="ALPHABET"))if(z=R[j],typeof z=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(z))tt=z.slice(0,10)=="0123456789",k=z;else throw Error(o+j+" invalid: "+z)}else throw Error(o+"Object expected: "+R);return{DECIMAL_PLACES:L,ROUNDING_MODE:n,EXPONENTIAL_AT:[d,v],RANGE:[A,T],CRYPTO:S,MODULO_MODE:w,POW_PRECISION:b,FORMAT:h,ALPHABET:k}},X.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!X.DEBUG)return!0;var j,z,Z=R.c,Q=R.e,K=R.s;t:if({}.toString.call(Z)=="[object Array]"){if((K===1||K===-1)&&Q>=-m&&Q<=m&&Q===e(Q)){if(Z[0]===0){if(Q===0&&Z.length===1)return!0;break t}if(j=(Q+1)%l,j<1&&(j+=l),String(Z[0]).length==j){for(j=0;j<Z.length;j++)if(z=Z[j],z<0||z>=f||z!==e(z))break t;if(z!==0)return!0}}}else if(Z===null&&Q===null&&(K===null||K===1||K===-1))return!0;throw Error(o+"Invalid BigNumber: "+R)},X.maximum=X.max=function(){return et(arguments,-1)},X.minimum=X.min=function(){return et(arguments,1)},X.random=function(){var R=9007199254740992,j=Math.random()*R&2097151?function(){return e(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(z){var Z,Q,K,G,H,Y=0,it=[],ot=new X(O);if(z==null?z=L:C(z,0,m),G=s(z/l),S)if(crypto.getRandomValues){for(Z=crypto.getRandomValues(new Uint32Array(G*=2));Y<G;)H=Z[Y]*131072+(Z[Y+1]>>>11),H>=9e15?(Q=crypto.getRandomValues(new Uint32Array(2)),Z[Y]=Q[0],Z[Y+1]=Q[1]):(it.push(H%1e14),Y+=2);Y=G/2}else if(crypto.randomBytes){for(Z=crypto.randomBytes(G*=7);Y<G;)H=(Z[Y]&31)*281474976710656+Z[Y+1]*1099511627776+Z[Y+2]*4294967296+Z[Y+3]*16777216+(Z[Y+4]<<16)+(Z[Y+5]<<8)+Z[Y+6],H>=9e15?crypto.randomBytes(7).copy(Z,Y):(it.push(H%1e14),Y+=7);Y=G/7}else throw S=!1,Error(o+"crypto unavailable");if(!S)for(;Y<G;)H=j(),H<9e15&&(it[Y++]=H%1e14);for(G=it[--Y],z%=l,G&&z&&(H=g[l-z],it[Y]=e(G/H)*H);it[Y]===0;it.pop(),Y--);if(Y<0)it=[K=0];else{for(K=-1;it[0]===0;it.splice(0,1),K-=l);for(Y=1,H=it[0];H>=10;H/=10,Y++);Y<l&&(K-=l-Y)}return ot.e=K,ot.c=it,ot}}(),X.sum=function(){for(var R=1,j=arguments,z=new X(j[0]);R<j.length;)z=z.plus(j[R++]);return z},D=function(){var R="0123456789";function j(z,Z,Q,K){for(var G,H=[0],Y,it=0,ot=z.length;it<ot;){for(Y=H.length;Y--;H[Y]*=Z);for(H[0]+=K.indexOf(z.charAt(it++)),G=0;G<H.length;G++)H[G]>Q-1&&(H[G+1]==null&&(H[G+1]=0),H[G+1]+=H[G]/Q|0,H[G]%=Q)}return H.reverse()}return function(z,Z,Q,K,G){var H,Y,it,ot,mt,_t,ht,vt,pt=z.indexOf("."),V=L,rt=n;for(pt>=0&&(ot=b,b=0,z=z.replace(".",""),vt=new X(Z),_t=vt.pow(z.length-pt),b=ot,vt.c=j(I(B(_t.c),_t.e,"0"),10,Q,R),vt.e=vt.c.length),ht=j(z,Z,Q,G?(H=k,R):(H=R,k)),it=ot=ht.length;ht[--ot]==0;ht.pop());if(!ht[0])return H.charAt(0);if(pt<0?--it:(_t.c=ht,_t.e=it,_t.s=K,_t=P(_t,vt,V,rt,Q),ht=_t.c,mt=_t.r,it=_t.e),Y=it+V+1,pt=ht[Y],ot=Q/2,mt=mt||Y<0||ht[Y+1]!=null,mt=rt<4?(pt!=null||mt)&&(rt==0||rt==(_t.s<0?3:2)):pt>ot||pt==ot&&(rt==4||mt||rt==6&&ht[Y-1]&1||rt==(_t.s<0?8:7)),Y<1||!ht[0])z=mt?I(H.charAt(1),-V,H.charAt(0)):H.charAt(0);else{if(ht.length=Y,mt)for(--Q;++ht[--Y]>Q;)ht[Y]=0,Y||(++it,ht=[1].concat(ht));for(ot=ht.length;!ht[--ot];);for(pt=0,z="";pt<=ot;z+=H.charAt(ht[pt++]));z=I(z,it,H.charAt(0))}return z}}(),P=function(){function R(Z,Q,K){var G,H,Y,it,ot=0,mt=Z.length,_t=Q%y,ht=Q/y|0;for(Z=Z.slice();mt--;)Y=Z[mt]%y,it=Z[mt]/y|0,G=ht*Y+it*_t,H=_t*Y+G%y*y+ot,ot=(H/K|0)+(G/y|0)+ht*it,Z[mt]=H%K;return ot&&(Z=[ot].concat(Z)),Z}function j(Z,Q,K,G){var H,Y;if(K!=G)Y=K>G?1:-1;else for(H=Y=0;H<K;H++)if(Z[H]!=Q[H]){Y=Z[H]>Q[H]?1:-1;break}return Y}function z(Z,Q,K,G){for(var H=0;K--;)Z[K]-=H,H=Z[K]<Q[K]?1:0,Z[K]=H*G+Z[K]-Q[K];for(;!Z[0]&&Z.length>1;Z.splice(0,1));}return function(Z,Q,K,G,H){var Y,it,ot,mt,_t,ht,vt,pt,V,rt,st,yt,Ct,dt,Mt,Lt,wt,ct=Z.s==Q.s?1:-1,Et=Z.c,ut=Q.c;if(!Et||!Et[0]||!ut||!ut[0])return new X(!Z.s||!Q.s||(Et?ut&&Et[0]==ut[0]:!ut)?NaN:Et&&Et[0]==0||!ut?ct*0:ct/0);for(pt=new X(ct),V=pt.c=[],it=Z.e-Q.e,ct=K+it+1,H||(H=f,it=E(Z.e/l)-E(Q.e/l),ct=ct/l|0),ot=0;ut[ot]==(Et[ot]||0);ot++);if(ut[ot]>(Et[ot]||0)&&it--,ct<0)V.push(1),mt=!0;else{for(dt=Et.length,Lt=ut.length,ot=0,ct+=2,_t=e(H/(ut[0]+1)),_t>1&&(ut=R(ut,_t,H),Et=R(Et,_t,H),Lt=ut.length,dt=Et.length),Ct=Lt,rt=Et.slice(0,Lt),st=rt.length;st<Lt;rt[st++]=0);wt=ut.slice(),wt=[0].concat(wt),Mt=ut[0],ut[1]>=H/2&&Mt++;do{if(_t=0,Y=j(ut,rt,Lt,st),Y<0){if(yt=rt[0],Lt!=st&&(yt=yt*H+(rt[1]||0)),_t=e(yt/Mt),_t>1)for(_t>=H&&(_t=H-1),ht=R(ut,_t,H),vt=ht.length,st=rt.length;j(ht,rt,vt,st)==1;)_t--,z(ht,Lt<vt?wt:ut,vt,H),vt=ht.length,Y=1;else _t==0&&(Y=_t=1),ht=ut.slice(),vt=ht.length;if(vt<st&&(ht=[0].concat(ht)),z(rt,ht,st,H),st=rt.length,Y==-1)for(;j(ut,rt,Lt,st)<1;)_t++,z(rt,Lt<st?wt:ut,st,H),st=rt.length}else Y===0&&(_t++,rt=[0]);V[ot++]=_t,rt[0]?rt[st++]=Et[Ct]||0:(rt=[Et[Ct]],st=1)}while((Ct++<dt||rt[0]!=null)&&ct--);mt=rt[0]!=null,V[0]||V.splice(0,1)}if(H==f){for(ot=1,ct=V[0];ct>=10;ct/=10,ot++);$(pt,K+(pt.e=ot+it*l-1)+1,G,mt)}else pt.e=it,pt.r=+mt;return pt}}();function ft(R,j,z,Z){var Q,K,G,H,Y;if(z==null?z=n:C(z,0,8),!R.c)return R.toString();if(Q=R.c[0],G=R.e,j==null)Y=B(R.c),Y=Z==1||Z==2&&(G<=d||G>=v)?F(Y,G):I(Y,G,"0");else if(R=$(new X(R),j,z),K=R.e,Y=B(R.c),H=Y.length,Z==1||Z==2&&(j<=K||K<=d)){for(;H<j;Y+="0",H++);Y=F(Y,K)}else if(j-=G,Y=I(Y,K,"0"),K+1>H){if(--j>0)for(Y+=".";j--;Y+="0");}else if(j+=K-H,j>0)for(K+1==H&&(Y+=".");j--;Y+="0");return R.s<0&&Q?"-"+Y:Y}function et(R,j){for(var z,Z,Q=1,K=new X(R[0]);Q<R.length;Q++)Z=new X(R[Q]),(!Z.s||(z=x(K,Z))===j||z===0&&K.s===j)&&(K=Z);return K}function at(R,j,z){for(var Z=1,Q=j.length;!j[--Q];j.pop());for(Q=j[0];Q>=10;Q/=10,Z++);return(z=Z+z*l-1)>T?R.c=R.e=null:z<A?R.c=[R.e=0]:(R.e=z,R.c=j),R}W=function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,z=/^\.([^.]+)$/,Z=/^-?(Infinity|NaN)$/,Q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(K,G,H,Y){var it,ot=H?G:G.replace(Q,"");if(Z.test(ot))K.s=isNaN(ot)?null:ot<0?-1:1;else{if(!H&&(ot=ot.replace(R,function(mt,_t,ht){return it=(ht=ht.toLowerCase())=="x"?16:ht=="b"?2:8,!Y||Y==it?_t:mt}),Y&&(it=Y,ot=ot.replace(j,"$1").replace(z,"0.$1")),G!=ot))return new X(ot,it);if(X.DEBUG)throw Error(o+"Not a"+(Y?" base "+Y:"")+" number: "+G);K.s=null}K.c=K.e=null}}();function $(R,j,z,Z){var Q,K,G,H,Y,it,ot,mt=R.c,_t=g;if(mt){t:{for(Q=1,H=mt[0];H>=10;H/=10,Q++);if(K=j-Q,K<0)K+=l,G=j,Y=mt[it=0],ot=e(Y/_t[Q-G-1]%10);else if(it=s((K+1)/l),it>=mt.length)if(Z){for(;mt.length<=it;mt.push(0));Y=ot=0,Q=1,K%=l,G=K-l+1}else break t;else{for(Y=H=mt[it],Q=1;H>=10;H/=10,Q++);K%=l,G=K-l+Q,ot=G<0?0:e(Y/_t[Q-G-1]%10)}if(Z=Z||j<0||mt[it+1]!=null||(G<0?Y:Y%_t[Q-G-1]),Z=z<4?(ot||Z)&&(z==0||z==(R.s<0?3:2)):ot>5||ot==5&&(z==4||Z||z==6&&(K>0?G>0?Y/_t[Q-G]:0:mt[it-1])%10&1||z==(R.s<0?8:7)),j<1||!mt[0])return mt.length=0,Z?(j-=R.e+1,mt[0]=_t[(l-j%l)%l],R.e=-j||0):mt[0]=R.e=0,R;if(K==0?(mt.length=it,H=1,it--):(mt.length=it+1,H=_t[l-K],mt[it]=G>0?e(Y/_t[Q-G]%_t[G])*H:0),Z)for(;;)if(it==0){for(K=1,G=mt[0];G>=10;G/=10,K++);for(G=mt[0]+=H,H=1;G>=10;G/=10,H++);K!=H&&(R.e++,mt[0]==f&&(mt[0]=1));break}else{if(mt[it]+=H,mt[it]!=f)break;mt[it--]=0,H=1}for(K=mt.length;mt[--K]===0;mt.pop());}R.e>T?R.c=R.e=null:R.e<A&&(R.c=[R.e=0])}return R}function J(R){var j,z=R.e;return z===null?R.toString():(j=B(R.c),j=z<=d||z>=v?F(j,z):I(j,z,"0"),R.s<0?"-"+j:j)}return q.absoluteValue=q.abs=function(){var R=new X(this);return R.s<0&&(R.s=1),R},q.comparedTo=function(R,j){return x(this,new X(R,j))},q.decimalPlaces=q.dp=function(R,j){var z,Z,Q,K=this;if(R!=null)return C(R,0,m),j==null?j=n:C(j,0,8),$(new X(K),R+K.e+1,j);if(!(z=K.c))return null;if(Z=((Q=z.length-1)-E(this.e/l))*l,Q=z[Q])for(;Q%10==0;Q/=10,Z--);return Z<0&&(Z=0),Z},q.dividedBy=q.div=function(R,j){return P(this,new X(R,j),L,n)},q.dividedToIntegerBy=q.idiv=function(R,j){return P(this,new X(R,j),0,1)},q.exponentiatedBy=q.pow=function(R,j){var z,Z,Q,K,G,H,Y,it,ot,mt=this;if(R=new X(R),R.c&&!R.isInteger())throw Error(o+"Exponent not an integer: "+J(R));if(j!=null&&(j=new X(j)),H=R.e>14,!mt.c||!mt.c[0]||mt.c[0]==1&&!mt.e&&mt.c.length==1||!R.c||!R.c[0])return ot=new X(Math.pow(+J(mt),H?R.s*(2-N(R)):+J(R))),j?ot.mod(j):ot;if(Y=R.s<0,j){if(j.c?!j.c[0]:!j.s)return new X(NaN);Z=!Y&&mt.isInteger()&&j.isInteger(),Z&&(mt=mt.mod(j))}else{if(R.e>9&&(mt.e>0||mt.e<-1||(mt.e==0?mt.c[0]>1||H&&mt.c[1]>=24e7:mt.c[0]<8e13||H&&mt.c[0]<=9999975e7)))return K=mt.s<0&&N(R)?-0:0,mt.e>-1&&(K=1/K),new X(Y?1/K:K);b&&(K=s(b/l+2))}for(H?(z=new X(.5),Y&&(R.s=1),it=N(R)):(Q=Math.abs(+J(R)),it=Q%2),ot=new X(O);;){if(it){if(ot=ot.times(mt),!ot.c)break;K?ot.c.length>K&&(ot.c.length=K):Z&&(ot=ot.mod(j))}if(Q){if(Q=e(Q/2),Q===0)break;it=Q%2}else if(R=R.times(z),$(R,R.e+1,1),R.e>14)it=N(R);else{if(Q=+J(R),Q===0)break;it=Q%2}mt=mt.times(mt),K?mt.c&&mt.c.length>K&&(mt.c.length=K):Z&&(mt=mt.mod(j))}return Z?ot:(Y&&(ot=O.div(ot)),j?ot.mod(j):K?$(ot,b,n,G):ot)},q.integerValue=function(R){var j=new X(this);return R==null?R=n:C(R,0,8),$(j,j.e+1,R)},q.isEqualTo=q.eq=function(R,j){return x(this,new X(R,j))===0},q.isFinite=function(){return!!this.c},q.isGreaterThan=q.gt=function(R,j){return x(this,new X(R,j))>0},q.isGreaterThanOrEqualTo=q.gte=function(R,j){return(j=x(this,new X(R,j)))===1||j===0},q.isInteger=function(){return!!this.c&&E(this.e/l)>this.c.length-2},q.isLessThan=q.lt=function(R,j){return x(this,new X(R,j))<0},q.isLessThanOrEqualTo=q.lte=function(R,j){return(j=x(this,new X(R,j)))===-1||j===0},q.isNaN=function(){return!this.s},q.isNegative=function(){return this.s<0},q.isPositive=function(){return this.s>0},q.isZero=function(){return!!this.c&&this.c[0]==0},q.minus=function(R,j){var z,Z,Q,K,G=this,H=G.s;if(R=new X(R,j),j=R.s,!H||!j)return new X(NaN);if(H!=j)return R.s=-j,G.plus(R);var Y=G.e/l,it=R.e/l,ot=G.c,mt=R.c;if(!Y||!it){if(!ot||!mt)return ot?(R.s=-j,R):new X(mt?G:NaN);if(!ot[0]||!mt[0])return mt[0]?(R.s=-j,R):new X(ot[0]?G:n==3?-0:0)}if(Y=E(Y),it=E(it),ot=ot.slice(),H=Y-it){for((K=H<0)?(H=-H,Q=ot):(it=Y,Q=mt),Q.reverse(),j=H;j--;Q.push(0));Q.reverse()}else for(Z=(K=(H=ot.length)<(j=mt.length))?H:j,H=j=0;j<Z;j++)if(ot[j]!=mt[j]){K=ot[j]<mt[j];break}if(K&&(Q=ot,ot=mt,mt=Q,R.s=-R.s),j=(Z=mt.length)-(z=ot.length),j>0)for(;j--;ot[z++]=0);for(j=f-1;Z>H;){if(ot[--Z]<mt[Z]){for(z=Z;z&&!ot[--z];ot[z]=j);--ot[z],ot[Z]+=f}ot[Z]-=mt[Z]}for(;ot[0]==0;ot.splice(0,1),--it);return ot[0]?at(R,ot,it):(R.s=n==3?-1:1,R.c=[R.e=0],R)},q.modulo=q.mod=function(R,j){var z,Z,Q=this;return R=new X(R,j),!Q.c||!R.s||R.c&&!R.c[0]?new X(NaN):!R.c||Q.c&&!Q.c[0]?new X(Q):(w==9?(Z=R.s,R.s=1,z=P(Q,R,0,3),R.s=Z,z.s*=Z):z=P(Q,R,0,w),R=Q.minus(z.times(R)),!R.c[0]&&w==1&&(R.s=Q.s),R)},q.multipliedBy=q.times=function(R,j){var z,Z,Q,K,G,H,Y,it,ot,mt,_t,ht,vt,pt,V,rt=this,st=rt.c,yt=(R=new X(R,j)).c;if(!st||!yt||!st[0]||!yt[0])return!rt.s||!R.s||st&&!st[0]&&!yt||yt&&!yt[0]&&!st?R.c=R.e=R.s=null:(R.s*=rt.s,!st||!yt?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(Z=E(rt.e/l)+E(R.e/l),R.s*=rt.s,Y=st.length,mt=yt.length,Y<mt&&(vt=st,st=yt,yt=vt,Q=Y,Y=mt,mt=Q),Q=Y+mt,vt=[];Q--;vt.push(0));for(pt=f,V=y,Q=mt;--Q>=0;){for(z=0,_t=yt[Q]%V,ht=yt[Q]/V|0,G=Y,K=Q+G;K>Q;)it=st[--G]%V,ot=st[G]/V|0,H=ht*it+ot*_t,it=_t*it+H%V*V+vt[K]+z,z=(it/pt|0)+(H/V|0)+ht*ot,vt[K--]=it%pt;vt[K]=z}return z?++Z:vt.splice(0,1),at(R,vt,Z)},q.negated=function(){var R=new X(this);return R.s=-R.s||null,R},q.plus=function(R,j){var z,Z=this,Q=Z.s;if(R=new X(R,j),j=R.s,!Q||!j)return new X(NaN);if(Q!=j)return R.s=-j,Z.minus(R);var K=Z.e/l,G=R.e/l,H=Z.c,Y=R.c;if(!K||!G){if(!H||!Y)return new X(Q/0);if(!H[0]||!Y[0])return Y[0]?R:new X(H[0]?Z:Q*0)}if(K=E(K),G=E(G),H=H.slice(),Q=K-G){for(Q>0?(G=K,z=Y):(Q=-Q,z=H),z.reverse();Q--;z.push(0));z.reverse()}for(Q=H.length,j=Y.length,Q-j<0&&(z=Y,Y=H,H=z,j=Q),Q=0;j;)Q=(H[--j]=H[j]+Y[j]+Q)/f|0,H[j]=f===H[j]?0:H[j]%f;return Q&&(H=[Q].concat(H),++G),at(R,H,G)},q.precision=q.sd=function(R,j){var z,Z,Q,K=this;if(R!=null&&R!==!!R)return C(R,1,m),j==null?j=n:C(j,0,8),$(new X(K),R,j);if(!(z=K.c))return null;if(Q=z.length-1,Z=Q*l+1,Q=z[Q]){for(;Q%10==0;Q/=10,Z--);for(Q=z[0];Q>=10;Q/=10,Z++);}return R&&K.e+1>Z&&(Z=K.e+1),Z},q.shiftedBy=function(R){return C(R,-p,p),this.times("1e"+R)},q.squareRoot=q.sqrt=function(){var R,j,z,Z,Q,K=this,G=K.c,H=K.s,Y=K.e,it=L+4,ot=new X("0.5");if(H!==1||!G||!G[0])return new X(!H||H<0&&(!G||G[0])?NaN:G?K:1/0);if(H=Math.sqrt(+J(K)),H==0||H==1/0?(j=B(G),(j.length+Y)%2==0&&(j+="0"),H=Math.sqrt(+j),Y=E((Y+1)/2)-(Y<0||Y%2),H==1/0?j="5e"+Y:(j=H.toExponential(),j=j.slice(0,j.indexOf("e")+1)+Y),z=new X(j)):z=new X(H+""),z.c[0]){for(Y=z.e,H=Y+it,H<3&&(H=0);;)if(Q=z,z=ot.times(Q.plus(P(K,Q,it,1))),B(Q.c).slice(0,H)===(j=B(z.c)).slice(0,H))if(z.e<Y&&--H,j=j.slice(H-3,H+1),j=="9999"||!Z&&j=="4999"){if(!Z&&($(Q,Q.e+L+2,0),Q.times(Q).eq(K))){z=Q;break}it+=4,H+=4,Z=1}else{(!+j||!+j.slice(1)&&j.charAt(0)=="5")&&($(z,z.e+L+2,1),R=!z.times(z).eq(K));break}}return $(z,z.e+L+1,n,R)},q.toExponential=function(R,j){return R!=null&&(C(R,0,m),R++),ft(this,R,j,1)},q.toFixed=function(R,j){return R!=null&&(C(R,0,m),R=R+this.e+1),ft(this,R,j)},q.toFormat=function(R,j,z){var Z,Q=this;if(z==null)R!=null&&j&&typeof j=="object"?(z=j,j=null):R&&typeof R=="object"?(z=R,R=j=null):z=h;else if(typeof z!="object")throw Error(o+"Argument not an object: "+z);if(Z=Q.toFixed(R,j),Q.c){var K,G=Z.split("."),H=+z.groupSize,Y=+z.secondaryGroupSize,it=z.groupSeparator||"",ot=G[0],mt=G[1],_t=Q.s<0,ht=_t?ot.slice(1):ot,vt=ht.length;if(Y&&(K=H,H=Y,Y=K,vt-=K),H>0&&vt>0){for(K=vt%H||H,ot=ht.substr(0,K);K<vt;K+=H)ot+=it+ht.substr(K,H);Y>0&&(ot+=it+ht.slice(K)),_t&&(ot="-"+ot)}Z=mt?ot+(z.decimalSeparator||"")+((Y=+z.fractionGroupSize)?mt.replace(new RegExp("\\d{"+Y+"}\\B","g"),"$&"+(z.fractionGroupSeparator||"")):mt):ot}return(z.prefix||"")+Z+(z.suffix||"")},q.toFraction=function(R){var j,z,Z,Q,K,G,H,Y,it,ot,mt,_t,ht=this,vt=ht.c;if(R!=null&&(H=new X(R),!H.isInteger()&&(H.c||H.s!==1)||H.lt(O)))throw Error(o+"Argument "+(H.isInteger()?"out of range: ":"not an integer: ")+J(H));if(!vt)return new X(ht);for(j=new X(O),it=z=new X(O),Z=Y=new X(O),_t=B(vt),K=j.e=_t.length-ht.e-1,j.c[0]=g[(G=K%l)<0?l+G:G],R=!R||H.comparedTo(j)>0?K>0?j:it:H,G=T,T=1/0,H=new X(_t),Y.c[0]=0;ot=P(H,j,0,1),Q=z.plus(ot.times(Z)),Q.comparedTo(R)!=1;)z=Z,Z=Q,it=Y.plus(ot.times(Q=it)),Y=Q,j=H.minus(ot.times(Q=j)),H=Q;return Q=P(R.minus(z),Z,0,1),Y=Y.plus(Q.times(it)),z=z.plus(Q.times(Z)),Y.s=it.s=ht.s,K=K*2,mt=P(it,Z,K,n).minus(ht).abs().comparedTo(P(Y,z,K,n).minus(ht).abs())<1?[it,Z]:[Y,z],T=G,mt},q.toNumber=function(){return+J(this)},q.toPrecision=function(R,j){return R!=null&&C(R,1,m),ft(this,R,j,2)},q.toString=function(R){var j,z=this,Z=z.s,Q=z.e;return Q===null?Z?(j="Infinity",Z<0&&(j="-"+j)):j="NaN":(R==null?j=Q<=d||Q>=v?F(B(z.c),Q):I(B(z.c),Q,"0"):R===10&&tt?(z=$(new X(z),L+Q+1,n),j=I(B(z.c),z.e,"0")):(C(R,2,k.length,"Base"),j=D(I(B(z.c),Q,"0"),10,R,Z,!0)),Z<0&&z.c[0]&&(j="-"+j)),j},q.valueOf=q.toJSON=function(){return J(this)},q._isBigNumber=!0,U!=null&&X.set(U),X}function E(U){var P=U|0;return U>0||U===P?P:P-1}function B(U){for(var P,D,W=1,q=U.length,O=U[0]+"";W<q;){for(P=U[W++]+"",D=l-P.length;D--;P="0"+P);O+=P}for(q=O.length;O.charCodeAt(--q)===48;);return O.slice(0,q+1||1)}function x(U,P){var D,W,q=U.c,O=P.c,L=U.s,n=P.s,d=U.e,v=P.e;if(!L||!n)return null;if(D=q&&!q[0],W=O&&!O[0],D||W)return D?W?0:-n:L;if(L!=n)return L;if(D=L<0,W=d==v,!q||!O)return W?0:!q^D?1:-1;if(!W)return d>v^D?1:-1;for(n=(d=q.length)<(v=O.length)?d:v,L=0;L<n;L++)if(q[L]!=O[L])return q[L]>O[L]^D?1:-1;return d==v?0:d>v^D?1:-1}function C(U,P,D,W){if(U<P||U>D||U!==e(U))throw Error(o+(W||"Argument")+(typeof U=="number"?U<P||U>D?" out of range: ":" not an integer: ":" not a primitive number: ")+String(U))}function N(U){var P=U.c.length-1;return E(U.e/l)==P&&U.c[P]%2!=0}function F(U,P){return(U.length>1?U.charAt(0)+"."+U.slice(1):U)+(P<0?"e":"e+")+P}function I(U,P,D){var W,q;if(P<0){for(q=D+".";++P;q+=D);U=q+U}else if(W=U.length,++P>W){for(q=D,P-=W;--P;q+=D);U+=q}else P<W&&(U=U.slice(0,P)+"."+U.slice(P));return U}u=M(),u.default=u.BigNumber=u,typeof define=="function"&&define.amd?define(function(){return u}):typeof i<"u"&&i.exports?i.exports=u:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=u)}(t)}),Ry=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=Py(),r=class{constructor(){Pt(this,"BigNum");this.BigNum=(u,a)=>{let s=i.BigNumber.clone({DECIMAL_PLACES:a});return new s(u)}}winstonToAr(u,{formatted:a=!1,decimals:s=12,trim:e=!0}={}){let o=this.stringToBigNum(u,s).shiftedBy(-12);return a?o.toFormat(s):o.toFixed(s)}arToWinston(u,{formatted:a=!1}={}){let s=this.stringToBigNum(u).shiftedBy(12);return a?s.toFormat():s.toFixed(0)}compare(u,a){let s=this.stringToBigNum(u),e=this.stringToBigNum(a);return s.comparedTo(e)}isEqual(u,a){return this.compare(u,a)===0}isLessThan(u,a){let s=this.stringToBigNum(u),e=this.stringToBigNum(a);return s.isLessThan(e)}isGreaterThan(u,a){let s=this.stringToBigNum(u),e=this.stringToBigNum(a);return s.isGreaterThan(e)}add(u,a){let s=this.stringToBigNum(u);return this.stringToBigNum(a),s.plus(a).toFixed(0)}sub(u,a){let s=this.stringToBigNum(u);return this.stringToBigNum(a),s.minus(a).toFixed(0)}stringToBigNum(u,a=12){return this.BigNum(u,a)}};t.default=r}),Ny=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=class{constructor(a){Pt(this,"METHOD_GET","GET");Pt(this,"METHOD_POST","POST");Pt(this,"config");this.applyConfig(a)}applyConfig(a){this.config=this.mergeDefaults(a)}getConfig(){return this.config}mergeDefaults(a){let s=a.protocol||"http",e=a.port||(s==="https"?443:80);return{host:a.host||"127.0.0.1",protocol:s,port:e,timeout:a.timeout||2e4,logging:a.logging||!1,logger:a.logger||console.log,network:a.network}}async get(a,s){return await this.request(a,{...s,method:this.METHOD_GET})}async post(a,s,e){var c;let o=new Headers((e==null?void 0:e.headers)||{});return(c=o.get("content-type"))!=null&&c.includes("application/json")||o.append("content-type","application/json"),o.append("accept","application/json, text/plain, */*"),await this.request(a,{...e,method:this.METHOD_POST,body:typeof s!="string"?JSON.stringify(s):s,headers:o})}async request(a,s){var y,m;let e=new Headers((s==null?void 0:s.headers)||{}),o=`${this.config.protocol}://${this.config.host}:${this.config.port}`,c=s==null?void 0:s.responseType;s==null||delete s.responseType,a.startsWith("/")&&(a=a.slice(1)),this.config.network&&e.append("x-network",this.config.network),this.config.logging&&this.config.logger(`Requesting: ${o}/${a}`);let f=await fetch(`${o}/${a}`,{...s||{},headers:e});this.config.logging&&this.config.logger(`Response:   ${f.url} - ${f.status}`);let l=(m=(y=f.headers.get("content-type"))==null?void 0:y.match(/charset=([^()<>@,;:\"/[\]?.=\s]*)/i))==null?void 0:m[1],p=f,g=async()=>{if(l)try{p.data=new TextDecoder(l).decode(await f.arrayBuffer())}catch{p.data=await f.text()}else p.data=await f.text()};if(c==="arraybuffer")p.data=await f.arrayBuffer();else if(c==="text")await g();else if(c==="webstream")p.data=r(f.body);else try{let M=await f.clone().json();typeof M!="object"?await g():p.data=await f.json(),M=null}catch{await g()}return p}};t.default=i;var r=a=>{let s=a;return typeof s[Symbol.asyncIterator]>"u"?(s[Symbol.asyncIterator]=u(a),s):a},u=function(a){return async function*(){let s=a.getReader();try{for(;;){let{done:e,value:o}=await s.read();if(e)return;yield o}}finally{s.releaseLock()}}}}),Pn=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var i=Co();function r(g){let y=0;for(let E=0;E<g.length;E++)y+=g[E].byteLength;let m=new Uint8Array(y),M=0;m.set(new Uint8Array(g[0]),M),M+=g[0].byteLength;for(let E=1;E<g.length;E++)m.set(new Uint8Array(g[E]),M),M+=g[E].byteLength;return m}t.concatBuffers=r;function u(g){let y=o(g);return a(y)}t.b64UrlToString=u;function a(g){return new TextDecoder("utf-8",{fatal:!0}).decode(g)}t.bufferToString=a;function s(g){return new TextEncoder().encode(g)}t.stringToBuffer=s;function e(g){return f(s(g))}t.stringToB64Url=e;function o(g){return new Uint8Array(i.toByteArray(p(g)))}t.b64UrlToBuffer=o;function c(g){return i.fromByteArray(new Uint8Array(g))}t.bufferTob64=c;function f(g){return l(c(g))}t.bufferTob64Url=f;function l(g){return g.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}t.b64UrlEncode=l;function p(g){g=g.replace(/\-/g,"+").replace(/\_/g,"/");let y;return g.length%4==0?y=0:y=4-g.length%4,g.concat("=".repeat(y))}t.b64UrlDecode=p}),Ly=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=Pn(),r=class{constructor(){Pt(this,"keyLength",4096);Pt(this,"publicExponent",65537);Pt(this,"hashAlgorithm","sha256");Pt(this,"driver");if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let u=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),a=await this.driver.exportKey("jwk",u.privateKey);return{kty:a.kty,e:a.e,n:a.n,d:a.d,p:a.p,q:a.q,dp:a.dp,dq:a.dq,qi:a.qi}}async sign(u,a,{saltLength:s}={}){let e=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(u),a);return new Uint8Array(e)}async hash(u,a="SHA-256"){let s=await this.driver.digest(a,u);return new Uint8Array(s)}async verify(u,a,s){let e={kty:"RSA",e:"AQAB",n:u},o=await this.jwkToPublicCryptoKey(e),c=await this.driver.digest("SHA-256",a),f=await this.driver.verify({name:"RSA-PSS",saltLength:0},o,s,a),l=await this.driver.verify({name:"RSA-PSS",saltLength:32},o,s,a),p=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((o.algorithm.modulusLength-1)/8)-c.byteLength-2},o,s,a);return f||l||p}async jwkToCryptoKey(u){return this.driver.importKey("jwk",u,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(u){return this.driver.importKey("jwk",u,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let u=crypto==null?void 0:crypto.subtle;return u===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(a=>typeof u[a]=="function")}async encrypt(u,a,s){let e=await this.driver.importKey("raw",typeof a=="string"?i.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),o=await this.driver.deriveKey({name:"PBKDF2",salt:s?i.stringToBuffer(s):i.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},e,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),c=new Uint8Array(16);crypto.getRandomValues(c);let f=await this.driver.encrypt({name:"AES-CBC",iv:c},o,u);return i.concatBuffers([c,f])}async decrypt(u,a,s){let e=await this.driver.importKey("raw",typeof a=="string"?i.stringToBuffer(a):a,{name:"PBKDF2",length:32},!1,["deriveKey"]),o=await this.driver.deriveKey({name:"PBKDF2",salt:s?i.stringToBuffer(s):i.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},e,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),c=u.slice(0,16),f=await this.driver.decrypt({name:"AES-CBC",iv:c},o,u.slice(16));return i.concatBuffers([f])}};t.default=r}),Dy=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=class{constructor(r){Pt(this,"api");this.api=r}getInfo(){return this.api.get("info").then(r=>r.data)}getPeers(){return this.api.get("peers").then(r=>r.data)}};t.default=i}),is=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.getError=void 0;var i=class extends Error{constructor(s,e={}){var a=(...u)=>{super(...u);Pt(this,"type");Pt(this,"response")};e.message?a(e.message):a(),this.type=s,this.response=e.response}getType(){return this.type}};t.default=i;function r(a){let s=a.data;if(typeof a.data=="string")try{s=JSON.parse(a.data)}catch{}if(a.data instanceof ArrayBuffer||a.data instanceof Uint8Array)try{s=JSON.parse(s.toString())}catch{}return s?s.error||s:a.statusText||"unknown"}t.getError=r}),jy=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=po();async function r(a){if(Array.isArray(a)){let o=i.default.utils.concatBuffers([i.default.utils.stringToBuffer("list"),i.default.utils.stringToBuffer(a.length.toString())]);return await u(a,await i.default.crypto.hash(o,"SHA-384"))}let s=i.default.utils.concatBuffers([i.default.utils.stringToBuffer("blob"),i.default.utils.stringToBuffer(a.byteLength.toString())]),e=i.default.utils.concatBuffers([await i.default.crypto.hash(s,"SHA-384"),await i.default.crypto.hash(a,"SHA-384")]);return await i.default.crypto.hash(e,"SHA-384")}t.default=r;async function u(a,s){if(a.length<1)return s;let e=i.default.utils.concatBuffers([s,await r(a[0])]),o=await i.default.crypto.hash(e,"SHA-384");return await u(a.slice(1),o)}}),ed=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.validatePath=t.arrayCompare=t.bufferToInt=t.intToBuffer=t.arrayFlatten=t.generateProofs=t.buildLayers=t.generateTransactionChunks=t.generateTree=t.computeRootHash=t.generateLeaves=t.chunkData=t.MIN_CHUNK_SIZE=t.MAX_CHUNK_SIZE=void 0;var i=po(),r=Pn();t.MAX_CHUNK_SIZE=256*1024,t.MIN_CHUNK_SIZE=32*1024;var u=32,a=32;async function s(F){let I=[],U=F,P=0;for(;U.byteLength>=t.MAX_CHUNK_SIZE;){let D=t.MAX_CHUNK_SIZE,W=U.byteLength-t.MAX_CHUNK_SIZE;W>0&&W<t.MIN_CHUNK_SIZE&&(D=Math.ceil(U.byteLength/2));let q=U.slice(0,D),O=await i.default.crypto.hash(q);P+=q.byteLength,I.push({dataHash:O,minByteRange:P-q.byteLength,maxByteRange:P}),U=U.slice(D)}return I.push({dataHash:await i.default.crypto.hash(U),minByteRange:P,maxByteRange:P+U.byteLength}),I}t.chunkData=s;async function e(F){return Promise.all(F.map(async({dataHash:I,minByteRange:U,maxByteRange:P})=>({type:"leaf",id:await M(await Promise.all([M(I),M(E(P))])),dataHash:I,minByteRange:U,maxByteRange:P})))}t.generateLeaves=e;async function o(F){return(await c(F)).id}t.computeRootHash=o;async function c(F){return await l(await e(await s(F)))}t.generateTree=c;async function f(F){let I=await s(F),U=await e(I),P=await l(U),D=await p(P),W=I.slice(-1)[0];return W.maxByteRange-W.minByteRange===0&&(I.splice(I.length-1,1),D.splice(D.length-1,1)),{data_root:P.id,chunks:I,proofs:D}}t.generateTransactionChunks=f;async function l(F,I=0){if(F.length<2)return F[0];let U=[];for(let P=0;P<F.length;P+=2)U.push(await m(F[P],F[P+1]));return l(U,I+1)}t.buildLayers=l;function p(F){let I=g(F);return Array.isArray(I)?y(I):[I]}t.generateProofs=p;function g(F,I=new Uint8Array,U=0){if(F.type=="leaf")return{offset:F.maxByteRange-1,proof:(0,r.concatBuffers)([I,F.dataHash,E(F.maxByteRange)])};if(F.type=="branch"){let P=(0,r.concatBuffers)([I,F.leftChild.id,F.rightChild.id,E(F.byteRange)]);return[g(F.leftChild,P,U+1),g(F.rightChild,P,U+1)]}throw new Error("Unexpected node type")}function y(F){let I=[];return F.forEach(U=>{Array.isArray(U)?I.push(...y(U)):I.push(U)}),I}t.arrayFlatten=y;async function m(F,I){return I?{type:"branch",id:await M([await M(F.id),await M(I.id),await M(E(F.maxByteRange))]),byteRange:F.maxByteRange,maxByteRange:I.maxByteRange,leftChild:F,rightChild:I}:F}async function M(F){return Array.isArray(F)&&(F=i.default.utils.concatBuffers(F)),new Uint8Array(await i.default.crypto.hash(F))}function E(F){let I=new Uint8Array(u);for(var U=I.length-1;U>=0;U--){var P=F%256;I[U]=P,F=(F-P)/256}return I}t.intToBuffer=E;function B(F){let I=0;for(var U=0;U<F.length;U++)I*=256,I+=F[U];return I}t.bufferToInt=B;var x=(F,I)=>F.every((U,P)=>I[P]===U);t.arrayCompare=x;async function C(F,I,U,P,D){if(P<=0)return!1;if(I>=P)return C(F,0,P-1,P,D);if(I<0)return C(F,0,0,P,D);if(D.length==a+u){let v=D.slice(0,a),A=D.slice(v.length,v.length+u),T=await M([await M(v),await M(A)]);return(0,t.arrayCompare)(F,T)?{offset:P-1,leftBound:U,rightBound:P,chunkSize:P-U}:!1}let W=D.slice(0,a),q=D.slice(W.length,W.length+a),O=D.slice(W.length+q.length,W.length+q.length+u),L=B(O),n=D.slice(W.length+q.length+O.length),d=await M([await M(W),await M(q),await M(O)]);return(0,t.arrayCompare)(F,d)?I<L?await C(W,I,U,Math.min(P,L),n):await C(q,I,Math.max(U,L),P,n):!1}t.validatePath=C;async function N(F,I=""){if(F.byteLength<1)return I;let U=F.slice(0,a),P=F.slice(U.length,U.length+a),D=F.slice(U.length+P.length,U.length+P.length+u),W=B(D),q=F.slice(U.length+P.length+D.length),O=await M([await M(U),await M(P),await M(D)]),L=`${I}
${JSON.stringify(Ut.Buffer.from(U))},${JSON.stringify(Ut.Buffer.from(P))},${W} => ${JSON.stringify(O)}`;return N(q,L)}t.debug=N}),ah=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=void 0;var i=Pn(),r=jy(),u=ed(),a=class{get(o,c){if(!Object.getOwnPropertyNames(this).includes(o))throw new Error(`Field "${o}" is not a property of the Arweave Transaction class.`);if(this[o]instanceof Uint8Array)return c&&c.decode&&c.string?i.bufferToString(this[o]):c&&c.decode&&!c.string?this[o]:i.bufferTob64Url(this[o]);if(this[o]instanceof Array){if((c==null?void 0:c.decode)!==void 0||(c==null?void 0:c.string)!==void 0)throw o==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[o]}return c&&c.decode==!0?c&&c.string?i.b64UrlToString(this[o]):i.b64UrlToBuffer(this[o]):this[o]}},s=class extends a{constructor(c,f,l=!1){super();Pt(this,"name");Pt(this,"value");this.name=c,this.value=f}};t.Tag=s;var e=class extends a{constructor(c={}){super();Pt(this,"format",2);Pt(this,"id","");Pt(this,"last_tx","");Pt(this,"owner","");Pt(this,"tags",[]);Pt(this,"target","");Pt(this,"quantity","0");Pt(this,"data_size","0");Pt(this,"data",new Uint8Array);Pt(this,"data_root","");Pt(this,"reward","0");Pt(this,"signature","");Pt(this,"chunks");Object.assign(this,c),typeof this.data=="string"&&(this.data=i.b64UrlToBuffer(this.data)),c.tags&&(this.tags=c.tags.map(f=>new s(f.name,f.value)))}addTag(c,f){this.tags.push(new s(i.stringToB64Url(c),i.stringToB64Url(f)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:i.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(c){this.owner=c}setSignature({id:c,owner:f,reward:l,tags:p,signature:g}){this.id=c,this.owner=f,l&&(this.reward=l),p&&(this.tags=p),this.signature=g}async prepareChunks(c){!this.chunks&&c.byteLength>0&&(this.chunks=await(0,u.generateTransactionChunks)(c),this.data_root=i.bufferTob64Url(this.chunks.data_root)),!this.chunks&&c.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(c,f){if(!this.chunks)throw new Error("Chunks have not been prepared");let l=this.chunks.proofs[c],p=this.chunks.chunks[c];return{data_root:this.data_root,data_size:this.data_size,data_path:i.bufferTob64Url(l.proof),offset:l.offset.toString(),chunk:i.bufferTob64Url(f.slice(p.minByteRange,p.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let c=this.tags.reduce((l,p)=>i.concatBuffers([l,p.get("name",{decode:!0,string:!1}),p.get("value",{decode:!0,string:!1})]),new Uint8Array);return i.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),i.stringToBuffer(this.quantity),i.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),c]);case 2:this.data_root||await this.prepareChunks(this.data);let f=this.tags.map(l=>[l.get("name",{decode:!0,string:!1}),l.get("value",{decode:!0,string:!1})]);return await(0,r.default)([i.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),i.stringToBuffer(this.quantity),i.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),f,i.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};t.default=e}),Uy=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionUploader=void 0;var i=ah(),r=Pn(),u=is(),a=ed(),s=1,e=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],o=1e3*40,c=class{constructor(f,l){Pt(this,"api");Pt(this,"chunkIndex",0);Pt(this,"txPosted",!1);Pt(this,"transaction");Pt(this,"lastRequestTimeEnd",0);Pt(this,"totalErrors",0);Pt(this,"data");Pt(this,"lastResponseStatus",0);Pt(this,"lastResponseError","");if(this.api=f,!l.id)throw new Error("Transaction is not signed");if(!l.chunks)throw new Error("Transaction chunks not prepared");this.data=l.data,this.transaction=new i.default(Object.assign({},l,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(f){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let l=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+o-Date.now(),o);if(l>0&&(l=l-l*Math.random()*.3,await new Promise(y=>setTimeout(y,l))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}f&&(this.chunkIndex=f);let p=this.transaction.getChunk(f||this.chunkIndex,this.data);if(!await(0,a.validatePath)(this.transaction.chunks.data_root,parseInt(p.offset),0,parseInt(p.data_size),r.b64UrlToBuffer(p.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let g=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(y=>(console.error(y.message),{status:-1,data:{error:y.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=g.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,u.getError)(g),e.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(f,l,p){if(!l||typeof l.chunkIndex!="number"||typeof l.transaction!="object")throw new Error("Serialized object does not match expected format.");var g=new i.default(l.transaction);g.chunks||await g.prepareChunks(p);let y=new c(f,g);if(y.chunkIndex=l.chunkIndex,y.lastRequestTimeEnd=l.lastRequestTimeEnd,y.lastResponseError=l.lastResponseError,y.lastResponseStatus=l.lastResponseStatus,y.txPosted=l.txPosted,y.data=p,y.transaction.data_root!==l.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return y}static async fromTransactionId(f,l){let p=await f.get(`tx/${l}`);if(p.status!==200)throw new Error(`Tx ${l} not found: ${p.status}`);let g=p.data;return g.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:g}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=s){this.transaction.data=this.data;let l=await this.api.post("tx",this.transaction).catch(p=>(console.error(p),{status:-1,data:{error:p.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=l.status,this.transaction.data=new Uint8Array(0),l.status>=200&&l.status<300){this.txPosted=!0,this.chunkIndex=s;return}throw this.lastResponseError=(0,u.getError)(l),new Error(`Unable to upload transaction: ${l.status}, ${this.lastResponseError}`)}let f=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=f.status,!(f.status>=200&&f.status<300))throw this.lastResponseError=(0,u.getError)(f),new Error(`Unable to upload transaction: ${f.status}, ${this.lastResponseError}`);this.txPosted=!0}};t.TransactionUploader=c}),Fy=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=is(),r=ah(),u=Pn(),a=Uy();Di();var s=class{constructor(e,o,c){Pt(this,"api");Pt(this,"crypto");Pt(this,"chunks");this.api=e,this.crypto=o,this.chunks=c}async getTransactionAnchor(){let e=await this.api.get("tx_anchor");if(!e.data.match(/^[a-z0-9_-]{43,}/i)||!e.ok)throw new Error(`Could not getTransactionAnchor. Received: ${e.data}. Status: ${e.status}, ${e.statusText}`);return e.data}async getPrice(e,o){let c=o?`price/${e}/${o}`:`price/${e}`,f=await this.api.get(c);if(!/^\d+$/.test(f.data)||!f.ok)throw new Error(`Could not getPrice. Received: ${f.data}. Status: ${f.status}, ${f.statusText}`);return f.data}async get(e){let o=await this.api.get(`tx/${e}`);if(o.status==200){let c=parseInt(o.data.data_size);if(o.data.format>=2&&c>0&&c<=1024*1024*12){let f=await this.getData(e);return new r.default({...o.data,data:f})}return new r.default({...o.data,format:o.data.format||1})}throw o.status==404?new i.default("TX_NOT_FOUND"):o.status==410?new i.default("TX_FAILED"):new i.default("TX_INVALID")}fromRaw(e){return new r.default(e)}async search(e,o){return this.api.post("arql",{op:"equals",expr1:e,expr2:o}).then(c=>c.data?c.data:[])}getStatus(e){return this.api.get(`tx/${e}/status`).then(o=>o.status==200?{status:200,confirmed:o.data}:{status:o.status,confirmed:null})}async getData(e,o){let c;try{c=await this.chunks.downloadChunkedData(e)}catch(f){console.error(`Error while trying to download chunked data for ${e}`),console.error(f)}if(!c){console.warn(`Falling back to gateway cache for ${e}`);try{let{data:f,ok:l,status:p,statusText:g}=await this.api.get(`/${e}`,{responseType:"arraybuffer"});if(!l)throw new Error("Bad http status code",{cause:{status:p,statusText:g}});c=f}catch(f){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(f)}}if(!c)throw new Error(`${e} data was not found!`);return o&&o.decode&&!o.string?c:o&&o.decode&&o.string?u.bufferToString(c):u.bufferTob64Url(c)}async sign(e,o,c){let f=typeof o=="object"&&(p=>{let g=!0;return["n","e","d","p","q","dp","dq","qi"].map(y=>!(y in p)&&(g=!1)),g})(o),l=typeof arweaveWallet=="object";if(!f&&!l)throw new Error("No valid JWK or external wallet found to sign transaction.");if(f){e.setOwner(o.n);let p=await e.getSignatureData(),g=await this.crypto.sign(o,p,c),y=await this.crypto.hash(g);e.setSignature({id:u.bufferTob64Url(y),owner:o.n,signature:u.bufferTob64Url(g)})}else if(l){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}let p=await arweaveWallet.sign(e,c);e.setSignature({id:p.id,owner:p.owner,reward:p.reward,tags:p.tags,signature:p.signature})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){let o=await e.getSignatureData(),c=e.get("signature",{decode:!0,string:!1}),f=u.bufferTob64Url(await this.crypto.hash(c));if(e.id!==f)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,o,c)}async post(e){if(typeof e=="string"?e=new r.default(JSON.parse(e)):typeof e.readInt32BE=="function"?e=new r.default(JSON.parse(e.toString())):typeof e=="object"&&!(e instanceof r.default)&&(e=new r.default(e)),!(e instanceof r.default))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);let o=await this.getUploader(e,e.data);try{for(;!o.isComplete;)await o.uploadChunk()}catch(c){if(o.lastResponseStatus>0)return{status:o.lastResponseStatus,statusText:o.lastResponseError,data:{error:o.lastResponseError}};throw c}return{status:200,statusText:"OK",data:{}}}async getUploader(e,o){let c;if(o instanceof ArrayBuffer&&(o=new Uint8Array(o)),e instanceof r.default){if(o||(o=e.data),!(o instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(o),c=new a.TransactionUploader(this.api,e),(!c.data||c.data.length===0)&&(c.data=o)}else{if(typeof e=="string"&&(e=await a.TransactionUploader.fromTransactionId(this.api,e)),!o||!(o instanceof Uint8Array))throw new Error("Must provide data when resuming upload");c=await a.TransactionUploader.fromSerialized(this.api,e,o)}return c}async*upload(e,o){let c=await this.getUploader(e,o);for(;!c.isComplete;)await c.uploadChunk(),yield c;return c}};t.default=s}),Ky=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=Pn();Di();var r=class{constructor(u,a){Pt(this,"api");Pt(this,"crypto");this.api=u,this.crypto=a}getBalance(u){return this.api.get(`wallet/${u}/balance`).then(a=>a.data)}getLastTransactionID(u){return this.api.get(`wallet/${u}/last_tx`).then(a=>a.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(u){return!u||u==="use_wallet"?this.getAddress():this.getAddress(u)}async getAddress(u){if(!u||u==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(u.n)}async ownerToAddress(u){return i.bufferTob64Url(await this.crypto.hash(i.b64UrlToBuffer(u)))}};t.default=r}),zy=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.SiloResource=void 0;var i=Pn(),r=class{constructor(a,s,e){Pt(this,"api");Pt(this,"crypto");Pt(this,"transactions");this.api=a,this.crypto=s,this.transactions=e}async get(a){if(!a)throw new Error("No Silo URI specified");let s=await this.parseUri(a),e=await this.transactions.search("Silo-Name",s.getAccessKey());if(e.length==0)throw new Error(`No data could be found for the Silo URI: ${a}`);let o=await this.transactions.get(e[0]);if(!o)throw new Error(`No data could be found for the Silo URI: ${a}`);let c=o.get("data",{decode:!0,string:!1});return this.crypto.decrypt(c,s.getEncryptionKey())}async readTransactionData(a,s){if(!s)throw new Error("No Silo URI specified");let e=await this.parseUri(s),o=a.get("data",{decode:!0,string:!1});return this.crypto.decrypt(o,e.getEncryptionKey())}async parseUri(a){let s=a.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!s)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");let e=s[1],o=Math.pow(2,parseInt(s[2])),c=await this.hash(i.stringToBuffer(e),o),f=i.bufferTob64(c.slice(0,15)),l=await this.hash(c.slice(16,31),1);return new u(a,f,l)}async hash(a,s){let e=await this.crypto.hash(a);for(let o=0;o<s-1;o++)e=await this.crypto.hash(e);return e}};t.default=r;var u=class{constructor(a,s,e){Pt(this,"uri");Pt(this,"accessKey");Pt(this,"encryptionKey");this.uri=a,this.accessKey=s,this.encryptionKey=e}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}};t.SiloResource=u}),Wy=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=is(),r=Pn(),u=class{constructor(a){Pt(this,"api");this.api=a}async getTransactionOffset(a){let s=await this.api.get(`tx/${a}/offset`);if(s.status===200)return s.data;throw new Error(`Unable to get transaction offset: ${(0,i.getError)(s)}`)}async getChunk(a){let s=await this.api.get(`chunk/${a}`);if(s.status===200)return s.data;throw new Error(`Unable to get chunk: ${(0,i.getError)(s)}`)}async getChunkData(a){let s=await this.getChunk(a);return r.b64UrlToBuffer(s.chunk)}firstChunkOffset(a){return parseInt(a.offset)-parseInt(a.size)+1}async downloadChunkedData(a){let s=await this.getTransactionOffset(a),e=parseInt(s.size),o=parseInt(s.offset)-e+1,c=new Uint8Array(e),f=0;for(;f<e;){this.api.config.logging&&console.log(`[chunk] ${f}/${e}`);let l;try{l=await this.getChunkData(o+f)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${o+f}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(l)c.set(l,f),f+=l.length;else throw new Error(`Couldn't complete data download at ${f}/${e}`)}return c}};t.default=u}),qy=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=is();Di();var r=class{constructor(a,s){Pt(this,"api");Pt(this,"network");this.api=a,this.network=s}async get(a){let s=await this.api.get(`${r.HASH_ENDPOINT}${a}`);if(s.status===200)return s.data;throw s.status===404?new i.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${s}`)}async getByHeight(a){let s=await this.api.get(`${r.HEIGHT_ENDPOINT}${a}`);if(s.status===200)return s.data;throw s.status===404?new i.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${s}`)}async getCurrent(){let{current:a}=await this.network.getInfo();return await this.get(a)}},u=r;Wr(u,"HASH_ENDPOINT","block/hash/"),Wr(u,"HEIGHT_ENDPOINT","block/height/"),t.default=u}),po=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0});var i=Ry(),r=Ny(),u=Ly(),a=Dy(),s=Fy(),e=Ky(),o=ah(),c=Pn(),f=zy(),l=Wy(),p=qy(),g=class{constructor(m){Pt(this,"api");Pt(this,"wallets");Pt(this,"transactions");Pt(this,"network");Pt(this,"blocks");Pt(this,"ar");Pt(this,"silo");Pt(this,"chunks");this.api=new r.default(m),this.wallets=new e.default(this.api,g.crypto),this.chunks=new l.default(this.api),this.transactions=new s.default(this.api,g.crypto,this.chunks),this.silo=new f.default(this.api,this.crypto,this.transactions),this.network=new a.default(this.api),this.blocks=new p.default(this.api,this.network),this.ar=new i.default}get crypto(){return g.crypto}get utils(){return g.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(m,M){let E={};if(Object.assign(E,m),!m.data&&!(m.target&&m.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(m.owner==null&&M&&M!=="use_wallet"&&(E.owner=M.n),m.last_tx==null&&(E.last_tx=await this.transactions.getTransactionAnchor()),typeof m.data=="string"&&(m.data=c.stringToBuffer(m.data)),m.data instanceof ArrayBuffer&&(m.data=new Uint8Array(m.data)),m.data&&!(m.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(m.reward==null){let x=m.data?m.data.byteLength:0;E.reward=await this.transactions.getPrice(x,E.target)}E.data_root="",E.data_size=m.data?m.data.byteLength.toString():"0",E.data=m.data||new Uint8Array(0);let B=new o.default(E);return await B.getSignatureData(),B}async createSiloTransaction(m,M,E){let B={};if(Object.assign(B,m),!m.data)throw new Error("Silo transactions must have a 'data' value");if(!E)throw new Error("No Silo URI specified.");if(m.target||m.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(m.owner==null){if(!M||!M.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");B.owner=M.n}m.last_tx==null&&(B.last_tx=await this.transactions.getTransactionAnchor());let x=await this.silo.parseUri(E);if(typeof m.data=="string"){let N=await this.crypto.encrypt(c.stringToBuffer(m.data),x.getEncryptionKey());B.reward=await this.transactions.getPrice(N.byteLength),B.data=c.bufferTob64Url(N)}if(m.data instanceof Uint8Array){let N=await this.crypto.encrypt(m.data,x.getEncryptionKey());B.reward=await this.transactions.getPrice(N.byteLength),B.data=c.bufferTob64Url(N)}let C=new o.default(B);return C.addTag("Silo-Name",x.getAccessKey()),C.addTag("Silo-Version","0.1.0"),C}arql(m){return this.api.post("/arql",m).then(M=>M.data||[])}},y=g;Wr(y,"init"),Wr(y,"crypto",new u.default),Wr(y,"utils",c),t.default=y}),$y=gt(t=>{lt(),Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultConfig=void 0;var i=(a,s)=>{let e=/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,o=s.split("."),c=o[o.length-1],f=["localhost","[::1]"];return f.includes(s)||a=="file"||f.includes(c)||!!s.match(e)||!!c.match(e)},r=a=>{let s=a.charAt(0)==="[",e=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;return!!a.match(e)||s},u=(a,s)=>{if(i(a,s))return{protocol:"https",host:"arweave.net",port:443};if(!r(s)){let e=s.split(".");if(e.length>=3){e.shift();let o=e.join(".");return{protocol:a,host:o}}}return{protocol:a,host:s}};t.getDefaultConfig=u}),Hy=gt(t=>{lt();var i=t&&t.__createBinding||(Object.create?function(s,e,o,c){c===void 0&&(c=o);var f=Object.getOwnPropertyDescriptor(e,o);(!f||("get"in f?!e.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(s,c,f)}:function(s,e,o,c){c===void 0&&(c=o),s[c]=e[o]}),r=t&&t.__exportStar||function(s,e){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(e,o)&&i(e,s,o)};Object.defineProperty(t,"__esModule",{value:!0});var u=po(),a=$y();u.default.init=function(s={}){let e={host:"arweave.net",port:443,protocol:"https"};if(typeof location!="object"||!location.protocol||!location.hostname)return new u.default({...s,...e});let o=location.protocol.replace(":",""),c=location.hostname,f=location.port?parseInt(location.port):o=="https"?443:80,l=(0,a.getDefaultConfig)(o,c),p=s.protocol||l.protocol,g=s.host||l.host,y=s.port||l.port||f;return new u.default({...s,host:g,protocol:p,port:y})},typeof globalThis=="object"?globalThis.Arweave=u.default:typeof self=="object"&&(self.Arweave=u.default),r(po(),t),t.default=u.default});lt();lt();lt();var Gy=ye(Jn()),ur=ye(Au());Ko();lt();function Ti(t){return t.signatureLength!==void 0}function kl(t){return t.signatureLength!==void 0}lt();var Vy=ye(Lg()),Zy=ye(pi()),$a=ye(Au()),Ol=new Map([[2,"rust"]]),Jy=class{constructor(t,i,r){Pt(this,"src");Pt(this,"wasmSrcCodeDir");Pt(this,"wasmGlueCode");this.src=t,this.wasmSrcCodeDir=i,this.wasmGlueCode=r}async createWasmSrc(){let t=[],i,r={};Vy.default.meterWASM(this.src,{meterType:"i32"}),t.push(this.src);let u=await WebAssembly.compile(this.src),a=WebAssembly.Module.imports(u),s,e=await WebAssembly.instantiate(this.src,Xy(a));if(!e.instance.exports.lang)throw new Error('No info about source type in wasm binary. Did you forget to export "lang" function?');if(s=e.instance.exports.lang(),i=e.instance.exports.version(),!Ol.has(s))throw new Error(`Unknown wasm source type ${s}`);let o=Ol.get(s);if(this.wasmSrcCodeDir==null)throw new Error("No path to original wasm contract source code");let c=await this.zipContents(this.wasmSrcCodeDir);if(t.push(c),o=="rust"){if(!this.wasmGlueCode)throw new Error("No path to generated wasm-bindgen js code");let p=Zy.default.readFileSync(this.wasmGlueCode,"utf-8"),g=(0,$a.matchMutClosureDtor)(p);r.dtor=parseInt(g),t.push(Ut.Buffer.from(p))}let f=this.joinBuffers(t),l=[{name:$a.WARP_TAGS.WASM_LANG,value:o},{name:$a.WARP_TAGS.WASM_LANG_VERSION,value:i.toString()},{name:$a.WARP_TAGS.WASM_META,value:JSON.stringify(r)}];return{wasmData:f,srcWasmTags:l}}joinBuffers(t){let i=t.length,r=[];return r.push(Ut.Buffer.from(i.toString())),r.push(Ut.Buffer.from("|")),t.forEach(u=>{r.push(Ut.Buffer.from(u.length.toString())),r.push(Ut.Buffer.from("|"))}),r.push(...t),r.reduce((u,a)=>Ut.Buffer.concat([u,a]))}async zipContents(t){let i=nm(),r=om(),u=new r.WritableStreamBuffer({initialSize:1e3*1024,incrementAmount:1e3*1024}),a=i("zip",{zlib:{level:9}});return a.on("error",function(s){throw s}),a.pipe(u),a.directory(t.toString(),t.toString()),await a.finalize(),u.end(),u.getContents()}};function Xy(t){let i={};return t.forEach(r=>{Object.prototype.hasOwnProperty.call(i,r.module)||(i[r.module]={}),i[r.module][r.name]=function(){}}),i}var Yy=class{constructor(t){Pt(this,"logger",ur.LoggerFactory.INST.create("Source"));Pt(this,"signature");this.warp=t}async createSource(t,i,r=!1){this.logger.debug("Creating new contract source");let{src:u,wasmSrcCodeDir:a,wasmGlueCode:s,tags:e}=t,o=e||[];this.warp.environment=="local"&&(r=!0);let c=r==null?this.warp.definitionLoader.type()=="warp":!r;if(!c&&Ti(i))throw new Error("Only ArWallet | CustomSignature wallet type are allowed when bundling is disabled.");if(c&&!Ti(i))throw new Error("Only Signer wallet type is allowed when bundling is enabled.");let f=u instanceof Gy.Buffer?"wasm":"js";if(f=="js"&&!(0,ur.checkJsSrc)(t.src,this.logger))throw new Error('JS contract source does not contain properly exported "handle" function');let l=null,p=[];f=="wasm"&&({wasmData:l,srcWasmTags:p}=await new Jy(u,a,s).createWasmSrc());let g=f=="wasm"?l:u,y=o.concat([new ur.Tag(ur.SMART_WEAVE_TAGS.APP_NAME,"SmartWeaveContractSource"),new ur.Tag(ur.SMART_WEAVE_TAGS.APP_VERSION,"0.3.0"),new ur.Tag(ur.SMART_WEAVE_TAGS.SDK,"Warp"),new ur.Tag(ur.WARP_TAGS.NONCE,Date.now().toString()),new ur.Tag(ur.SMART_WEAVE_TAGS.CONTENT_TYPE,f=="js"?"application/javascript":"application/wasm")]);return r?this.createSourceArweave(i,g,y,p,f):await this.createSourceBundlr(i,y,p,f,g)}async saveSource(t,i){this.logger.debug("Saving contract source",t.id),this.warp.environment=="local"&&(i=!0);let r=i==null?this.warp.definitionLoader.type()=="warp":!i;if(kl(t)&&!r)throw new Error("Unable to save data item when bundling is disabled.");if(!kl(t)){let s=new ur.TagsParser().getTag(t,ur.WARP_TAGS.SIGNATURE_TYPE);if(s&&s!="arweave"&&!r)throw new Error(`Unable to save source with signature type: ${s} when bundling is disabled.`)}let u,a;if(r){let s=await this.postSource(t.getRaw());this.logger.debug(s),u=!0}else a=await this.warp.arweave.transactions.post(t),u=a.status===200||a.status===208;if(u)return t.id;throw new Error(`Unable to write Contract Source. Arweave responded with status ${a.status}: ${a.statusText}`)}async postSource(t){return await(0,ur.getJsonResponse)(fetch(`${this.warp.gwUrl()}/gateway/v2/sources/deploy`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},body:t}))}async createSourceArweave(t,i,r,u,a){if(this.signature=new ur.Signature(this.warp,t),this.signature.type!=="arweave")throw new Error(`Unable to use signing function of type: ${this.signature.type}.`);let s=this.signature.signer,e=await this.warp.arweave.createTransaction({data:i});return r.forEach(o=>e.addTag(o.name,o.value)),a=="wasm"&&u.forEach(o=>e.addTag(o.name,o.value)),this.warp.environment==="testnet"&&e.addTag(ur.WARP_TAGS.WARP_TESTNET,"1.0.0"),await s(e),this.logger.debug("Posting transaction with source"),e}async createSourceBundlr(t,i,r,u,a){let s=[...i];u=="wasm"&&r.forEach(o=>s.push(new ur.Tag(o.name,o.value))),this.warp.environment==="testnet"&&s.push(new ur.Tag(ur.WARP_TAGS.WARP_TESTNET,"1.0.0"));let e;return(0,ur.isBrowser)()&&t.signer&&t.signer.signDataItem?e=await t.signDataItem(a,s):(e=Fo(a,t,{tags:s}),await e.sign(t)),this.logger.debug("Posting transaction with source"),e}},rr=ye(Au());Ko();var Qy=class{constructor(t){Pt(this,"logger",rr.LoggerFactory.INST.create("DefaultCreateContract"));Pt(this,"source");Pt(this,"signature");Pt(this,"warpFetchWrapper");this.warp=t,this.deployFromSourceTx=this.deployFromSourceTx.bind(this),this.source=new Yy(this.warp),this.warpFetchWrapper=new rr.WarpFetchWrapper(this.warp)}async deploy(t,i){let{wallet:r,initState:u,tags:a,transfer:s,data:e,evaluationManifest:o}=t,c,f=i==null?this.warp.definitionLoader.type()=="warp":!i;c=await this.source.createSource(t,r,!f),f||await this.source.saveSource(c,!0),this.logger.debug("Creating new contract");let l=await c.id;return await this.deployFromSourceTx({srcTxId:l,wallet:r,initState:u,tags:a,transfer:s,data:e,evaluationManifest:o},!f,c)}async deployFromSourceTx(t,i,r=null){this.logger.debug("Creating new contract from src tx");let{wallet:u,srcTxId:a,initState:s,data:e}=t,o,c,f,l=i==null?this.warp.definitionLoader.type()=="warp":!i;if(!l&&Ti(u))throw new Error("Only ArWallet | CustomSignature wallet type are allowed when bundling is disabled.");if(l&&!Ti(u))throw new Error("Only Signer wallet type is allowed when bundling is enabled.");let p={contract:[{name:rr.SMART_WEAVE_TAGS.APP_NAME,value:"SmartWeaveContract"},{name:rr.SMART_WEAVE_TAGS.APP_VERSION,value:"0.3.0"},{name:rr.SMART_WEAVE_TAGS.CONTRACT_SRC_TX_ID,value:a},{name:rr.SMART_WEAVE_TAGS.SDK,value:"Warp"},{name:rr.WARP_TAGS.NONCE,value:Date.now().toString()}],contractData:[{name:rr.SMART_WEAVE_TAGS.CONTENT_TYPE,value:e&&e["Content-Type"]},{name:rr.WARP_TAGS.INIT_STATE,value:s}],contractNonData:[{name:rr.SMART_WEAVE_TAGS.CONTENT_TYPE,value:"application/json"}],contractTestnet:[{name:rr.WARP_TAGS.WARP_TESTNET,value:"1.0.0"}],contractEvaluationManifest:[{name:rr.WARP_TAGS.MANIFEST,value:JSON.stringify(t.evaluationManifest)}]};l?{contract:o,responseOk:c}=await this.deployContractBundlr(t,p,r):{contract:o,responseOk:c}=await this.deployContractArweave(l,t,p);let g=await o.id;if(c)return{contractTxId:g,srcTxId:a};throw new Error(`Unable to write Contract. Arweave responded with status ${f.status}: ${f.statusText}`)}async deployBundled(t){return await(0,rr.getJsonResponse)(fetch(`${this.warp.gwUrl()}/gateway/contracts/deploy-bundled`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json"},body:t}))}async register(t,i){return await(0,rr.getJsonResponse)(fetch(`${this.warp.gwUrl()}/gateway/contracts/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:t,registerProvider:i})}))}async createSource(t,i,r=!1){return this.source.createSource(t,i,r)}async saveSource(t,i){return this.source.saveSource(t,i)}async postContract(t,i=null){let r={contract:t};return i&&(r={...r,src:i}),await(0,rr.getJsonResponse)(this.warpFetchWrapper.fetch(`${this.warp.gwUrl()}/gateway/v2/contracts/deploy`,{method:"POST",body:JSON.stringify(r),headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Accept:"application/json"}}))}async deployContractArweave(t,i,r){let{wallet:u,initState:a,transfer:s,data:e,tags:o}=i;this.signature=new rr.Signature(this.warp,u),!Ti(u)&&this.signature.checkNonArweaveSigningAvailability(t);let c=this.signature.signer;!Ti(u)&&this.signature.checkNonArweaveSigningAvailability(t);let f=await this.warp.arweave.createTransaction({data:(e==null?void 0:e.body)||a});if(+(s==null?void 0:s.winstonQty)>0&&s.target.length&&(this.logger.debug("Creating additional transaction with AR transfer",s),f=await this.warp.arweave.createTransaction({data:(e==null?void 0:e.body)||a,target:s.target,quantity:s.winstonQty})),o==null?void 0:o.length)for(let p of o)f.addTag(p.name.toString(),p.value.toString());r.contract.forEach(p=>f.addTag(p.name,p.value)),e?r.contractData.forEach(p=>f.addTag(p.name,p.value)):r.contractNonData.forEach(p=>f.addTag(p.name,p.value)),this.warp.environment==="testnet"&&r.contractTestnet.forEach(p=>f.addTag(p.name,p.value)),i.evaluationManifest&&r.contractEvaluationManifest.forEach(p=>f.addTag(p.name,p.value)),await c(f);let l=await this.warp.arweave.transactions.post(f);return{contract:f,responseOk:l.status===200||l.status===208}}async deployContractBundlr(t,i,r=null){let{wallet:u,initState:a,data:s,tags:e}=t,o=[...i.contract];if(e!=null&&e.length)for(let f of e)o.push(new rr.Tag(f.name.toString(),f.value.toString()));s?i.contractData.forEach(f=>o.push(new rr.Tag(f.name,f.value))):i.contractNonData.forEach(f=>o.push(new rr.Tag(f.name,f.value))),this.warp.environment==="testnet"&&i.contractTestnet.forEach(f=>o.push(new rr.Tag(f.name,f.value))),t.evaluationManifest&&i.contractEvaluationManifest.forEach(f=>o.push(new rr.Tag(f.name,f.value)));let c;return(0,rr.isBrowser)()&&u.signer&&u.signer.signDataItem?c=await u.signDataItem((s==null?void 0:s.body)||a,o):(c=Fo((s==null?void 0:s.body)||a,u,{tags:o}),await c.sign(u)),await this.postContract(c.getRaw(),r==null?void 0:r.getRaw()),{contract:c,responseOk:!0}}isRegisterProviderType(t){return rr.REGISTER_PROVIDER.includes(t)}};lt();var Aw=class{process(t){return new Qy(t)}type(){return"deploy"}};lt();lt();var rd={};ba(rd,{AVSCTap:()=>Oh,AlgorandSigner:()=>nw,AptosSigner:()=>aw,ArconnectSigner:()=>uw,Arweave:()=>Wd,ArweaveSigner:()=>Zd,Bundle:()=>F1,BundleItem:()=>mw,CryptoDriver:()=>qd,Curve25519:()=>ka,DataItem:()=>ma,EthereumSigner:()=>bs,HexInjectedSolanaSigner:()=>R1,HexSolanaSigner:()=>iw,InjectedAptosSigner:()=>N1,InjectedEthereumSigner:()=>Z6,InjectedSolanaSigner:()=>Jd,InjectedTypedEthereumSigner:()=>ow,MAX_TAG_BYTES:()=>Bh,MIN_BINARY_SIZE:()=>Ih,MultiSignatureAptosSigner:()=>L1,NearSigner:()=>rw,PolygonSigner:()=>ew,Rsa4096:()=>$d,SIG_CONFIG:()=>qe,SignatureConfig:()=>Ae,Signer:()=>tb,SolanaSigner:()=>Th,TypedEthereumSigner:()=>D1,bundleAndSignData:()=>pw,byteArrayToLong:()=>pr,concatBuffers:()=>Tr,createData:()=>W1,deepHash:()=>Oa,deserializeTags:()=>Bo,exportForTesting:()=>Q6,getCryptoDriver:()=>Ar,getSignatureAndId:()=>z1,indexToType:()=>kh,keccak256:()=>Mh,longTo16ByteArray:()=>lw,longTo32ByteArray:()=>fu,longTo8ByteArray:()=>lu,longToNByteArray:()=>Ba,secp256k1:()=>P1,serializeTags:()=>U1,shortTo2ByteArray:()=>j1,sign:()=>Ch,stringToBuffer:()=>je,unbundleData:()=>dw});lt();lt();lt();var tb=class{constructor(){Pt(this,"publicKey");Pt(this,"signatureType");Pt(this,"signatureLength");Pt(this,"ownerLength");Pt(this,"pem")}static verify(t,i,r,u){throw new Error("You must implement verify method on child")}};lt();lt();var eb=ye(Gr(),1);lt();var Ae;(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(Ae||(Ae={}));var qe={[Ae.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[Ae.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[Ae.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[Ae.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[Ae.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[Ae.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[Ae.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};lt();var rb=ye(gi(),1),vr=BigInt(0),Pe=BigInt(1),zn=BigInt(2),nb=BigInt(8),Il=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),tr=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Il,n:Il,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),nd=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),na=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");var ib=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),ab=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ob=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),sb=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),De=class{constructor(t,i,r,u){this.x=t,this.y=i,this.z=r,this.t=u}static fromAffine(t){if(!(t instanceof fr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(fr.ZERO)?De.ZERO:new De(t.x,t.y,Pe,ie(t.x*t.y))}static toAffineBatch(t){let i=lb(t.map(r=>r.z));return t.map((r,u)=>r.toAffine(i[u]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Cl(t);let{x:i,y:r,z:u}=this,{x:a,y:s,z:e}=t,o=ie(i*e),c=ie(a*u),f=ie(r*e),l=ie(s*u);return o===c&&f===l}negate(){return new De(ie(-this.x),this.y,this.z,ie(-this.t))}double(){let{x:t,y:i,z:r}=this,{a:u}=tr,a=ie(t*t),s=ie(i*i),e=ie(zn*ie(r*r)),o=ie(u*a),c=t+i,f=ie(ie(c*c)-a-s),l=o+s,p=l-e,g=o-s,y=ie(f*p),m=ie(l*g),M=ie(f*g),E=ie(p*l);return new De(y,m,E,M)}add(t){Cl(t);let{x:i,y:r,z:u,t:a}=this,{x:s,y:e,z:o,t:c}=t,f=ie((r-i)*(e+s)),l=ie((r+i)*(e-s)),p=ie(l-f);if(p===vr)return this.double();let g=ie(u*zn*c),y=ie(a*zn*o),m=y+g,M=l+f,E=y-g,B=ie(m*p),x=ie(M*E),C=ie(m*E),N=ie(p*M);return new De(B,x,N,C)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let i=1+256/t,r=[],u=this,a=u;for(let s=0;s<i;s++){a=u,r.push(a);for(let e=1;e<2**(t-1);e++)a=a.add(u),r.push(a);u=a.double()}return r}wNAF(t,i){!i&&this.equals(De.BASE)&&(i=fr.BASE);let r=i&&i._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let u=i&&Zs.get(i);u||(u=this.precomputeWindow(r),i&&r!==1&&(u=De.normalizeZ(u),Zs.set(i,u)));let a=De.ZERO,s=De.BASE,e=1+256/r,o=2**(r-1),c=BigInt(2**r-1),f=2**r,l=BigInt(r);for(let p=0;p<e;p++){let g=p*o,y=Number(t&c);t>>=l,y>o&&(y-=f,t+=Pe);let m=g,M=g+Math.abs(y)-1,E=p%2!==0,B=y<0;y===0?s=s.add(Bl(E,u[m])):a=a.add(Bl(B,u[M]))}return De.normalizeZ([a,s])[0]}multiply(t,i){return this.wNAF(yo(t,tr.l),i)}multiplyUnsafe(t){let i=yo(t,tr.l,!1),r=De.BASE,u=De.ZERO;if(i===vr)return u;if(this.equals(u)||i===Pe)return this;if(this.equals(r))return this.wNAF(i);let a=u,s=this;for(;i>vr;)i&Pe&&(a=a.add(s)),s=s.double(),i>>=Pe;return a}isSmallOrder(){return this.multiplyUnsafe(tr.h).equals(De.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(tr.l/zn).double();return tr.l%zn&&(t=t.add(this)),t.equals(De.ZERO)}toAffine(t){let{x:i,y:r,z:u}=this,a=this.equals(De.ZERO);t==null&&(t=a?nb:as(u));let s=ie(i*t),e=ie(r*t),o=ie(u*t);if(a)return fr.ZERO;if(o!==Pe)throw new Error("invZ was invalid");return new fr(s,e)}fromRistrettoBytes(){ks()}toRistrettoBytes(){ks()}fromRistrettoHash(){ks()}};De.BASE=new De(tr.Gx,tr.Gy,Pe,ie(tr.Gx*tr.Gy));De.ZERO=new De(vr,Pe,Pe,vr);function Bl(t,i){let r=i.negate();return t?r:i}function Cl(t){if(!(t instanceof De))throw new TypeError("ExtendedPoint expected")}function xs(t){if(!(t instanceof an))throw new TypeError("RistrettoPoint expected")}function ks(){throw new Error("Legacy method: switch to RistrettoPoint")}var an=class{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:i}=tr,r=ie(na*t*t),u=ie((r+Pe)*ob),a=BigInt(-1),s=ie((a-i*r)*ie(r+i)),{isValid:e,value:o}=sh(u,s),c=ie(o*t);Fn(c)||(c=ie(-c)),e||(o=c),e||(a=r);let f=ie(a*(r-Pe)*sb-s),l=o*o,p=ie((o+o)*s),g=ie(f*ib),y=ie(Pe-l),m=ie(Pe+l);return new De(ie(p*m),ie(y*g),ie(g*m),ie(p*y))}static hashToCurve(t){t=Gn(t,64);let i=Os(t.slice(0,32)),r=this.calcElligatorRistrettoMap(i),u=Os(t.slice(32,64)),a=this.calcElligatorRistrettoMap(u);return new an(r.add(a))}static fromHex(t){t=Gn(t,32);let{a:i,d:r}=tr,u="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=Os(t);if(!cb(ha(a),t)||Fn(a))throw new Error(u);let s=ie(a*a),e=ie(Pe+i*s),o=ie(Pe-i*s),c=ie(e*e),f=ie(o*o),l=ie(i*r*c-f),{isValid:p,value:g}=Rl(ie(l*f)),y=ie(g*o),m=ie(g*y*l),M=ie((a+a)*y);Fn(M)&&(M=ie(-M));let E=ie(e*m),B=ie(M*E);if(!p||Fn(B)||E===vr)throw new Error(u);return new an(new De(M,E,Pe,B))}toRawBytes(){let{x:t,y:i,z:r,t:u}=this.ep,a=ie(ie(r+i)*ie(r-i)),s=ie(t*i),e=ie(s*s),{value:o}=Rl(ie(a*e)),c=ie(o*a),f=ie(o*s),l=ie(c*f*u),p;if(Fn(u*l)){let y=ie(i*na),m=ie(t*na);t=y,i=m,p=ie(c*ab)}else p=f;Fn(t*l)&&(i=ie(-i));let g=ie((r-i)*p);return Fn(g)&&(g=ie(-g)),ha(g)}toHex(){return Ma(this.toRawBytes())}toString(){return this.toHex()}equals(t){xs(t);let i=this.ep,r=t.ep,u=ie(i.x*r.y)===ie(i.y*r.x),a=ie(i.y*r.y)===ie(i.x*r.x);return u||a}add(t){return xs(t),new an(this.ep.add(t.ep))}subtract(t){return xs(t),new an(this.ep.subtract(t.ep))}multiply(t){return new an(this.ep.multiply(t))}multiplyUnsafe(t){return new an(this.ep.multiplyUnsafe(t))}};an.BASE=new an(De.BASE);an.ZERO=new an(De.ZERO);var Zs=new WeakMap,fr=class{constructor(t,i){this.x=t,this.y=i}_setWindowSize(t){this._WINDOW_SIZE=t,Zs.delete(this)}static fromHex(t,i=!0){let{d:r,P:u}=tr;t=Gn(t,32);let a=t.slice();a[31]=t[31]&-129;let s=xa(a);if(i&&s>=u)throw new Error("Expected 0 < hex < P");if(!i&&s>=nd)throw new Error("Expected 0 < hex < 2**256");let e=ie(s*s),o=ie(e-Pe),c=ie(r*e+Pe),{isValid:f,value:l}=sh(o,c);if(!f)throw new Error("Point.fromHex: invalid y coordinate");let p=(l&Pe)===Pe;return(t[31]&128)!==0!==p&&(l=ie(-l)),new fr(l,s)}static async fromPrivateKey(t){return(await uh(t)).point}toRawBytes(){let t=ha(this.y);return t[31]|=this.x&Pe?128:0,t}toHex(){return Ma(this.toRawBytes())}toX25519(){let{y:t}=this,i=ie((Pe+t)*as(Pe-t));return ha(i)}isTorsionFree(){return De.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new fr(ie(-this.x),this.y)}add(t){return De.fromAffine(this).add(De.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return De.fromAffine(this).multiply(t,this).toAffine()}};fr.BASE=new fr(tr.Gx,tr.Gy);fr.ZERO=new fr(vr,Pe);var go=class{constructor(t,i){this.r=t,this.s=i,this.assertValidity()}static fromHex(t){let i=Gn(t,64),r=fr.fromHex(i.slice(0,32),!1),u=xa(i.slice(32,64));return new go(r,u)}assertValidity(){let{r:t,s:i}=this;if(!(t instanceof fr))throw new Error("Expected Point instance");return yo(i,tr.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(ha(this.s),32),t}toHex(){return Ma(this.toRawBytes())}};function Pl(...t){if(!t.every(u=>u instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let i=t.reduce((u,a)=>u+a.length,0),r=new Uint8Array(i);for(let u=0,a=0;u<t.length;u++){let s=t[u];r.set(s,a),a+=s.length}return r}var ub=Array.from({length:256},(t,i)=>i.toString(16).padStart(2,"0"));function Ma(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let i="";for(let r=0;r<t.length;r++)i+=ub[t[r]];return i}function oh(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let i=new Uint8Array(t.length/2);for(let r=0;r<i.length;r++){let u=r*2,a=t.slice(u,u+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");i[r]=s}return i}function id(t){let i=t.toString(16).padStart(64,"0");return oh(i)}function ha(t){return id(t).reverse()}function Fn(t){return(ie(t)&Pe)===Pe}function xa(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Ma(Uint8Array.from(t).reverse()))}var hb=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Os(t){return ie(xa(t)&hb)}function ie(t,i=tr.P){let r=t%i;return r>=vr?r:i+r}function as(t,i=tr.P){if(t===vr||i<=vr)throw new Error(`invert: expected positive integers, got n=${t} mod=${i}`);let r=ie(t,i),u=i,a=vr,s=Pe;for(;r!==vr;){let e=u/r,o=u%r,c=a-s*e;u=r,r=o,a=s,s=c}if(u!==Pe)throw new Error("invert: does not exist");return ie(a,i)}function lb(t,i=tr.P){let r=new Array(t.length),u=t.reduce((s,e,o)=>e===vr?s:(r[o]=s,ie(s*e,i)),Pe),a=as(u,i);return t.reduceRight((s,e,o)=>e===vr?s:(r[o]=ie(s*r[o],i),ie(s*e,i)),a),r}function gn(t,i){let{P:r}=tr,u=t;for(;i-- >vr;)u*=u,u%=r;return u}function fb(t){let{P:i}=tr,r=BigInt(5),u=BigInt(10),a=BigInt(20),s=BigInt(40),e=BigInt(80),o=t*t%i*t%i,c=gn(o,zn)*o%i,f=gn(c,Pe)*t%i,l=gn(f,r)*f%i,p=gn(l,u)*l%i,g=gn(p,a)*p%i,y=gn(g,s)*g%i,m=gn(y,e)*y%i,M=gn(m,e)*y%i,E=gn(M,u)*l%i;return{pow_p_5_8:gn(E,zn)*t%i,b2:o}}function sh(t,i){let r=ie(i*i*i),u=ie(r*r*i),a=fb(t*u).pow_p_5_8,s=ie(t*r*a),e=ie(i*s*s),o=s,c=ie(s*na),f=e===t,l=e===ie(-t),p=e===ie(-t*na);return f&&(s=o),(l||p)&&(s=c),Fn(s)&&(s=ie(-s)),{isValid:f||l,value:s}}function Rl(t){return sh(Pe,t)}function mo(t){return ie(xa(t),tr.l)}function cb(t,i){if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==i[r])return!1;return!0}function Gn(t,i){let r=t instanceof Uint8Array?Uint8Array.from(t):oh(t);if(typeof i=="number"&&r.length!==i)throw new Error(`Expected ${i} bytes`);return r}function yo(t,i,r=!0){if(!i)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<i){if(r){if(vr<t)return t}else if(vr<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function db(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function pb(t){if(t=typeof t=="bigint"||typeof t=="number"?id(yo(t,nd)):Gn(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function gb(t){let i=db(t.slice(0,32)),r=t.slice(32,64),u=mo(i),a=fr.BASE.multiply(u),s=a.toRawBytes();return{head:i,prefix:r,scalar:u,point:a,pointBytes:s}}var Is;async function uh(t){return gb(await Pi.sha512(pb(t)))}async function mb(t,i){t=Gn(t);let{prefix:r,scalar:u,pointBytes:a}=await uh(i),s=mo(await Pi.sha512(r,t)),e=fr.BASE.multiply(s),o=mo(await Pi.sha512(e.toRawBytes(),a,t)),c=ie(s+o*u,tr.l);return new go(e,c).toRawBytes()}function yb(t,i,r){i=Gn(i),r instanceof fr||(r=fr.fromHex(r,!1));let{r:u,s:a}=t instanceof go?t.assertValidity():go.fromHex(t),s=De.BASE.multiplyUnsafe(a);return{r:u,s:a,SB:s,pub:r,msg:i}}function bb(t,i,r,u){let a=mo(u),s=De.fromAffine(t).multiplyUnsafe(a);return De.fromAffine(i).add(s).subtract(r).multiplyUnsafe(tr.h).equals(De.ZERO)}async function os(t,i,r){let{r:u,SB:a,msg:s,pub:e}=yb(t,i,r),o=await Pi.sha512(u.toRawBytes(),e.toRawBytes(),s);return bb(e,u,a,o)}fr.BASE._setWindowSize(8);var Ln={node:rb,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Pi={bytesToHex:Ma,hexToBytes:oh,concatBytes:Pl,getExtendedPublicKey:uh,mod:ie,invert:as,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Gn(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return ie(xa(t),tr.l-Pe)+Pe},randomBytes:(t=32)=>{if(Ln.web)return Ln.web.getRandomValues(new Uint8Array(t));if(Ln.node){let{randomBytes:i}=Ln.node;return new Uint8Array(i(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Pi.randomBytes(32),sha512:async(...t)=>{let i=Pl(...t);if(Ln.web){let r=await Ln.web.subtle.digest("SHA-512",i.buffer);return new Uint8Array(r)}else{if(Ln.node)return Uint8Array.from(Ln.node.createHash("sha512").update(i).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,i=fr.BASE){let r=i.equals(fr.BASE)?i:new fr(i.x,i.y);return r._setWindowSize(t),r.multiply(zn),r},sha512Sync:void 0};Object.defineProperties(Pi,{sha512Sync:{configurable:!1,get(){return Is},set(t){Is||(Is=t)}}});var ka=class{constructor(t,i){Pt(this,"_key");Pt(this,"pk");Pt(this,"ownerLength",qe[2].pubLength);Pt(this,"signatureLength",qe[2].sigLength);Pt(this,"_publicKey");Pt(this,"signatureType",2);this._key=t,this.pk=i}get publicKey(){return this._publicKey}get key(){throw new Error("You must implement `key`")}sign(t){return mb(Ut.Buffer.from(t),Ut.Buffer.from(this.key))}static async verify(t,i,r){let u=t;return typeof t=="string"&&(u=eb.default.toBuffer(t)),os(Ut.Buffer.from(r),Ut.Buffer.from(i),Ut.Buffer.from(u))}};lt();lt();lt();lt();lt();var ad={};ba(ad,{arToWinston:()=>Eb,b64UrlDecode:()=>fd,b64UrlEncode:()=>ld,b64UrlToBuffer:()=>on,b64UrlToString:()=>ud,bufferToString:()=>hh,bufferTob64:()=>hd,bufferTob64Url:()=>un,concatBuffers:()=>Tr,stringToB64Url:()=>Js,stringToBuffer:()=>je,winstonToAr:()=>_b});lt();var od=ye(Co(),1);lt();var vb=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Bs=Math.ceil,Ur=Math.floor,Br="[BigNumber Error] ",Nl=Br+"Number primitive has more than 15 significant digits: ",Qr=1e14,ve=14,Cs=9007199254740991,Ps=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Dn=1e7,mr=1e9;function sd(t){var i,r,u,a=x.prototype={constructor:x,toString:null,valueOf:null},s=new x(1),e=20,o=4,c=-7,f=21,l=-1e7,p=1e7,g=!1,y=1,m=0,M={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},E="0123456789abcdefghijklmnopqrstuvwxyz",B=!0;function x(P,D){var W,q,O,L,n,d,v,A,T=this;if(!(T instanceof x))return new x(P,D);if(D==null){if(P&&P._isBigNumber===!0){T.s=P.s,!P.c||P.e>p?T.c=T.e=null:P.e<l?T.c=[T.e=0]:(T.e=P.e,T.c=P.c.slice());return}if((d=typeof P=="number")&&P*0==0){if(T.s=1/P<0?(P=-P,-1):1,P===~~P){for(L=0,n=P;n>=10;n/=10,L++);L>p?T.c=T.e=null:(T.e=L,T.c=[P]);return}A=String(P)}else{if(!vb.test(A=String(P)))return u(T,A,d);T.s=A.charCodeAt(0)==45?(A=A.slice(1),-1):1}(L=A.indexOf("."))>-1&&(A=A.replace(".","")),(n=A.search(/e/i))>0?(L<0&&(L=n),L+=+A.slice(n+1),A=A.substring(0,n)):L<0&&(L=A.length)}else{if(nr(D,2,E.length,"Base"),D==10&&B)return T=new x(P),I(T,e+T.e+1,o);if(A=String(P),d=typeof P=="number"){if(P*0!=0)return u(T,A,d,D);if(T.s=1/P<0?(A=A.slice(1),-1):1,x.DEBUG&&A.replace(/^0\.0*|\./,"").length>15)throw Error(Nl+P)}else T.s=A.charCodeAt(0)===45?(A=A.slice(1),-1):1;for(W=E.slice(0,D),L=n=0,v=A.length;n<v;n++)if(W.indexOf(q=A.charAt(n))<0){if(q=="."){if(n>L){L=v;continue}}else if(!O&&(A==A.toUpperCase()&&(A=A.toLowerCase())||A==A.toLowerCase()&&(A=A.toUpperCase()))){O=!0,n=-1,L=0;continue}return u(T,String(P),d,D)}d=!1,A=r(A,D,10,T.s),(L=A.indexOf("."))>-1?A=A.replace(".",""):L=A.length}for(n=0;A.charCodeAt(n)===48;n++);for(v=A.length;A.charCodeAt(--v)===48;);if(A=A.slice(n,++v)){if(v-=n,d&&x.DEBUG&&v>15&&(P>Cs||P!==Ur(P)))throw Error(Nl+T.s*P);if((L=L-n-1)>p)T.c=T.e=null;else if(L<l)T.c=[T.e=0];else{if(T.e=L,T.c=[],n=(L+1)%ve,L<0&&(n+=ve),n<v){for(n&&T.c.push(+A.slice(0,n)),v-=ve;n<v;)T.c.push(+A.slice(n,n+=ve));n=ve-(A=A.slice(n)).length}else n-=v;for(;n--;A+="0");T.c.push(+A)}}else T.c=[T.e=0]}x.clone=sd,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(P){var D,W;if(P!=null)if(typeof P=="object"){if(P.hasOwnProperty(D="DECIMAL_PLACES")&&(W=P[D],nr(W,0,mr,D),e=W),P.hasOwnProperty(D="ROUNDING_MODE")&&(W=P[D],nr(W,0,8,D),o=W),P.hasOwnProperty(D="EXPONENTIAL_AT")&&(W=P[D],W&&W.pop?(nr(W[0],-mr,0,D),nr(W[1],0,mr,D),c=W[0],f=W[1]):(nr(W,-mr,mr,D),c=-(f=W<0?-W:W))),P.hasOwnProperty(D="RANGE"))if(W=P[D],W&&W.pop)nr(W[0],-mr,-1,D),nr(W[1],1,mr,D),l=W[0],p=W[1];else if(nr(W,-mr,mr,D),W)l=-(p=W<0?-W:W);else throw Error(Br+D+" cannot be zero: "+W);if(P.hasOwnProperty(D="CRYPTO"))if(W=P[D],W===!!W)if(W)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))g=W;else throw g=!W,Error(Br+"crypto unavailable");else g=W;else throw Error(Br+D+" not true or false: "+W);if(P.hasOwnProperty(D="MODULO_MODE")&&(W=P[D],nr(W,0,9,D),y=W),P.hasOwnProperty(D="POW_PRECISION")&&(W=P[D],nr(W,0,mr,D),m=W),P.hasOwnProperty(D="FORMAT"))if(W=P[D],typeof W=="object")M=W;else throw Error(Br+D+" not an object: "+W);if(P.hasOwnProperty(D="ALPHABET"))if(W=P[D],typeof W=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(W))B=W.slice(0,10)=="0123456789",E=W;else throw Error(Br+D+" invalid: "+W)}else throw Error(Br+"Object expected: "+P);return{DECIMAL_PLACES:e,ROUNDING_MODE:o,EXPONENTIAL_AT:[c,f],RANGE:[l,p],CRYPTO:g,MODULO_MODE:y,POW_PRECISION:m,FORMAT:M,ALPHABET:E}},x.isBigNumber=function(P){if(!P||P._isBigNumber!==!0)return!1;if(!x.DEBUG)return!0;var D,W,q=P.c,O=P.e,L=P.s;t:if({}.toString.call(q)=="[object Array]"){if((L===1||L===-1)&&O>=-mr&&O<=mr&&O===Ur(O)){if(q[0]===0){if(O===0&&q.length===1)return!0;break t}if(D=(O+1)%ve,D<1&&(D+=ve),String(q[0]).length==D){for(D=0;D<q.length;D++)if(W=q[D],W<0||W>=Qr||W!==Ur(W))break t;if(W!==0)return!0}}}else if(q===null&&O===null&&(L===null||L===1||L===-1))return!0;throw Error(Br+"Invalid BigNumber: "+P)},x.maximum=x.max=function(){return N(arguments,-1)},x.minimum=x.min=function(){return N(arguments,1)},x.random=function(){var P=9007199254740992,D=Math.random()*P&2097151?function(){return Ur(Math.random()*P)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(W){var q,O,L,n,d,v=0,A=[],T=new x(s);if(W==null?W=e:nr(W,0,mr),n=Bs(W/ve),g)if(crypto.getRandomValues){for(q=crypto.getRandomValues(new Uint32Array(n*=2));v<n;)d=q[v]*131072+(q[v+1]>>>11),d>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),q[v]=O[0],q[v+1]=O[1]):(A.push(d%1e14),v+=2);v=n/2}else if(crypto.randomBytes){for(q=crypto.randomBytes(n*=7);v<n;)d=(q[v]&31)*281474976710656+q[v+1]*1099511627776+q[v+2]*4294967296+q[v+3]*16777216+(q[v+4]<<16)+(q[v+5]<<8)+q[v+6],d>=9e15?crypto.randomBytes(7).copy(q,v):(A.push(d%1e14),v+=7);v=n/7}else throw g=!1,Error(Br+"crypto unavailable");if(!g)for(;v<n;)d=D(),d<9e15&&(A[v++]=d%1e14);for(n=A[--v],W%=ve,n&&W&&(d=Ps[ve-W],A[v]=Ur(n/d)*d);A[v]===0;A.pop(),v--);if(v<0)A=[L=0];else{for(L=-1;A[0]===0;A.splice(0,1),L-=ve);for(v=1,d=A[0];d>=10;d/=10,v++);v<ve&&(L-=ve-v)}return T.e=L,T.c=A,T}}(),x.sum=function(){for(var P=1,D=arguments,W=new x(D[0]);P<D.length;)W=W.plus(D[P++]);return W},r=function(){var P="0123456789";function D(W,q,O,L){for(var n,d=[0],v,A=0,T=W.length;A<T;){for(v=d.length;v--;d[v]*=q);for(d[0]+=L.indexOf(W.charAt(A++)),n=0;n<d.length;n++)d[n]>O-1&&(d[n+1]==null&&(d[n+1]=0),d[n+1]+=d[n]/O|0,d[n]%=O)}return d.reverse()}return function(W,q,O,L,n){var d,v,A,T,S,w,b,h,k=W.indexOf("."),tt=e,X=o;for(k>=0&&(T=m,m=0,W=W.replace(".",""),h=new x(q),w=h.pow(W.length-k),m=T,h.c=D(Mn(Dr(w.c),w.e,"0"),10,O,P),h.e=h.c.length),b=D(W,q,O,n?(d=E,P):(d=P,E)),A=T=b.length;b[--T]==0;b.pop());if(!b[0])return d.charAt(0);if(k<0?--A:(w.c=b,w.e=A,w.s=L,w=i(w,h,tt,X,O),b=w.c,S=w.r,A=w.e),v=A+tt+1,k=b[v],T=O/2,S=S||v<0||b[v+1]!=null,S=X<4?(k!=null||S)&&(X==0||X==(w.s<0?3:2)):k>T||k==T&&(X==4||S||X==6&&b[v-1]&1||X==(w.s<0?8:7)),v<1||!b[0])W=S?Mn(d.charAt(1),-tt,d.charAt(0)):d.charAt(0);else{if(b.length=v,S)for(--O;++b[--v]>O;)b[v]=0,v||(++A,b=[1].concat(b));for(T=b.length;!b[--T];);for(k=0,W="";k<=T;W+=d.charAt(b[k++]));W=Mn(W,A,d.charAt(0))}return W}}(),i=function(){function P(q,O,L){var n,d,v,A,T=0,S=q.length,w=O%Dn,b=O/Dn|0;for(q=q.slice();S--;)v=q[S]%Dn,A=q[S]/Dn|0,n=b*v+A*w,d=w*v+n%Dn*Dn+T,T=(d/L|0)+(n/Dn|0)+b*A,q[S]=d%L;return T&&(q=[T].concat(q)),q}function D(q,O,L,n){var d,v;if(L!=n)v=L>n?1:-1;else for(d=v=0;d<L;d++)if(q[d]!=O[d]){v=q[d]>O[d]?1:-1;break}return v}function W(q,O,L,n){for(var d=0;L--;)q[L]-=d,d=q[L]<O[L]?1:0,q[L]=d*n+q[L]-O[L];for(;!q[0]&&q.length>1;q.splice(0,1));}return function(q,O,L,n,d){var v,A,T,S,w,b,h,k,tt,X,ft,et,at,$,J,R,j,z=q.s==O.s?1:-1,Z=q.c,Q=O.c;if(!Z||!Z[0]||!Q||!Q[0])return new x(!q.s||!O.s||(Z?Q&&Z[0]==Q[0]:!Q)?NaN:Z&&Z[0]==0||!Q?z*0:z/0);for(k=new x(z),tt=k.c=[],A=q.e-O.e,z=L+A+1,d||(d=Qr,A=Fr(q.e/ve)-Fr(O.e/ve),z=z/ve|0),T=0;Q[T]==(Z[T]||0);T++);if(Q[T]>(Z[T]||0)&&A--,z<0)tt.push(1),S=!0;else{for($=Z.length,R=Q.length,T=0,z+=2,w=Ur(d/(Q[0]+1)),w>1&&(Q=P(Q,w,d),Z=P(Z,w,d),R=Q.length,$=Z.length),at=R,X=Z.slice(0,R),ft=X.length;ft<R;X[ft++]=0);j=Q.slice(),j=[0].concat(j),J=Q[0],Q[1]>=d/2&&J++;do{if(w=0,v=D(Q,X,R,ft),v<0){if(et=X[0],R!=ft&&(et=et*d+(X[1]||0)),w=Ur(et/J),w>1)for(w>=d&&(w=d-1),b=P(Q,w,d),h=b.length,ft=X.length;D(b,X,h,ft)==1;)w--,W(b,R<h?j:Q,h,d),h=b.length,v=1;else w==0&&(v=w=1),b=Q.slice(),h=b.length;if(h<ft&&(b=[0].concat(b)),W(X,b,ft,d),ft=X.length,v==-1)for(;D(Q,X,R,ft)<1;)w++,W(X,R<ft?j:Q,ft,d),ft=X.length}else v===0&&(w++,X=[0]);tt[T++]=w,X[0]?X[ft++]=Z[at]||0:(X=[Z[at]],ft=1)}while((at++<$||X[0]!=null)&&z--);S=X[0]!=null,tt[0]||tt.splice(0,1)}if(d==Qr){for(T=1,z=tt[0];z>=10;z/=10,T++);I(k,L+(k.e=T+A*ve-1)+1,n,S)}else k.e=A,k.r=+S;return k}}();function C(P,D,W,q){var O,L,n,d,v;if(W==null?W=o:nr(W,0,8),!P.c)return P.toString();if(O=P.c[0],n=P.e,D==null)v=Dr(P.c),v=q==1||q==2&&(n<=c||n>=f)?Ga(v,n):Mn(v,n,"0");else if(P=I(new x(P),D,W),L=P.e,v=Dr(P.c),d=v.length,q==1||q==2&&(D<=L||L<=c)){for(;d<D;v+="0",d++);v=Ga(v,L)}else if(D-=n,v=Mn(v,L,"0"),L+1>d){if(--D>0)for(v+=".";D--;v+="0");}else if(D+=L-d,D>0)for(L+1==d&&(v+=".");D--;v+="0");return P.s<0&&O?"-"+v:v}function N(P,D){for(var W,q,O=1,L=new x(P[0]);O<P.length;O++)q=new x(P[O]),(!q.s||(W=ii(L,q))===D||W===0&&L.s===D)&&(L=q);return L}function F(P,D,W){for(var q=1,O=D.length;!D[--O];D.pop());for(O=D[0];O>=10;O/=10,q++);return(W=q+W*ve-1)>p?P.c=P.e=null:W<l?P.c=[P.e=0]:(P.e=W,P.c=D),P}u=function(){var P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,D=/^([^.]+)\.$/,W=/^\.([^.]+)$/,q=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(L,n,d,v){var A,T=d?n:n.replace(O,"");if(q.test(T))L.s=isNaN(T)?null:T<0?-1:1;else{if(!d&&(T=T.replace(P,function(S,w,b){return A=(b=b.toLowerCase())=="x"?16:b=="b"?2:8,!v||v==A?w:S}),v&&(A=v,T=T.replace(D,"$1").replace(W,"0.$1")),n!=T))return new x(T,A);if(x.DEBUG)throw Error(Br+"Not a"+(v?" base "+v:"")+" number: "+n);L.s=null}L.c=L.e=null}}();function I(P,D,W,q){var O,L,n,d,v,A,T,S=P.c,w=Ps;if(S){t:{for(O=1,d=S[0];d>=10;d/=10,O++);if(L=D-O,L<0)L+=ve,n=D,v=S[A=0],T=Ur(v/w[O-n-1]%10);else if(A=Bs((L+1)/ve),A>=S.length)if(q){for(;S.length<=A;S.push(0));v=T=0,O=1,L%=ve,n=L-ve+1}else break t;else{for(v=d=S[A],O=1;d>=10;d/=10,O++);L%=ve,n=L-ve+O,T=n<0?0:Ur(v/w[O-n-1]%10)}if(q=q||D<0||S[A+1]!=null||(n<0?v:v%w[O-n-1]),q=W<4?(T||q)&&(W==0||W==(P.s<0?3:2)):T>5||T==5&&(W==4||q||W==6&&(L>0?n>0?v/w[O-n]:0:S[A-1])%10&1||W==(P.s<0?8:7)),D<1||!S[0])return S.length=0,q?(D-=P.e+1,S[0]=w[(ve-D%ve)%ve],P.e=-D||0):S[0]=P.e=0,P;if(L==0?(S.length=A,d=1,A--):(S.length=A+1,d=w[ve-L],S[A]=n>0?Ur(v/w[O-n]%w[n])*d:0),q)for(;;)if(A==0){for(L=1,n=S[0];n>=10;n/=10,L++);for(n=S[0]+=d,d=1;n>=10;n/=10,d++);L!=d&&(P.e++,S[0]==Qr&&(S[0]=1));break}else{if(S[A]+=d,S[A]!=Qr)break;S[A--]=0,d=1}for(L=S.length;S[--L]===0;S.pop());}P.e>p?P.c=P.e=null:P.e<l&&(P.c=[P.e=0])}return P}function U(P){var D,W=P.e;return W===null?P.toString():(D=Dr(P.c),D=W<=c||W>=f?Ga(D,W):Mn(D,W,"0"),P.s<0?"-"+D:D)}return a.absoluteValue=a.abs=function(){var P=new x(this);return P.s<0&&(P.s=1),P},a.comparedTo=function(P,D){return ii(this,new x(P,D))},a.decimalPlaces=a.dp=function(P,D){var W,q,O,L=this;if(P!=null)return nr(P,0,mr),D==null?D=o:nr(D,0,8),I(new x(L),P+L.e+1,D);if(!(W=L.c))return null;if(q=((O=W.length-1)-Fr(this.e/ve))*ve,O=W[O])for(;O%10==0;O/=10,q--);return q<0&&(q=0),q},a.dividedBy=a.div=function(P,D){return i(this,new x(P,D),e,o)},a.dividedToIntegerBy=a.idiv=function(P,D){return i(this,new x(P,D),0,1)},a.exponentiatedBy=a.pow=function(P,D){var W,q,O,L,n,d,v,A,T,S=this;if(P=new x(P),P.c&&!P.isInteger())throw Error(Br+"Exponent not an integer: "+U(P));if(D!=null&&(D=new x(D)),d=P.e>14,!S.c||!S.c[0]||S.c[0]==1&&!S.e&&S.c.length==1||!P.c||!P.c[0])return T=new x(Math.pow(+U(S),d?P.s*(2-Ha(P)):+U(P))),D?T.mod(D):T;if(v=P.s<0,D){if(D.c?!D.c[0]:!D.s)return new x(NaN);q=!v&&S.isInteger()&&D.isInteger(),q&&(S=S.mod(D))}else{if(P.e>9&&(S.e>0||S.e<-1||(S.e==0?S.c[0]>1||d&&S.c[1]>=24e7:S.c[0]<8e13||d&&S.c[0]<=9999975e7)))return L=S.s<0&&Ha(P)?-0:0,S.e>-1&&(L=1/L),new x(v?1/L:L);m&&(L=Bs(m/ve+2))}for(d?(W=new x(.5),v&&(P.s=1),A=Ha(P)):(O=Math.abs(+U(P)),A=O%2),T=new x(s);;){if(A){if(T=T.times(S),!T.c)break;L?T.c.length>L&&(T.c.length=L):q&&(T=T.mod(D))}if(O){if(O=Ur(O/2),O===0)break;A=O%2}else if(P=P.times(W),I(P,P.e+1,1),P.e>14)A=Ha(P);else{if(O=+U(P),O===0)break;A=O%2}S=S.times(S),L?S.c&&S.c.length>L&&(S.c.length=L):q&&(S=S.mod(D))}return q?T:(v&&(T=s.div(T)),D?T.mod(D):L?I(T,m,o,n):T)},a.integerValue=function(P){var D=new x(this);return P==null?P=o:nr(P,0,8),I(D,D.e+1,P)},a.isEqualTo=a.eq=function(P,D){return ii(this,new x(P,D))===0},a.isFinite=function(){return!!this.c},a.isGreaterThan=a.gt=function(P,D){return ii(this,new x(P,D))>0},a.isGreaterThanOrEqualTo=a.gte=function(P,D){return(D=ii(this,new x(P,D)))===1||D===0},a.isInteger=function(){return!!this.c&&Fr(this.e/ve)>this.c.length-2},a.isLessThan=a.lt=function(P,D){return ii(this,new x(P,D))<0},a.isLessThanOrEqualTo=a.lte=function(P,D){return(D=ii(this,new x(P,D)))===-1||D===0},a.isNaN=function(){return!this.s},a.isNegative=function(){return this.s<0},a.isPositive=function(){return this.s>0},a.isZero=function(){return!!this.c&&this.c[0]==0},a.minus=function(P,D){var W,q,O,L,n=this,d=n.s;if(P=new x(P,D),D=P.s,!d||!D)return new x(NaN);if(d!=D)return P.s=-D,n.plus(P);var v=n.e/ve,A=P.e/ve,T=n.c,S=P.c;if(!v||!A){if(!T||!S)return T?(P.s=-D,P):new x(S?n:NaN);if(!T[0]||!S[0])return S[0]?(P.s=-D,P):new x(T[0]?n:o==3?-0:0)}if(v=Fr(v),A=Fr(A),T=T.slice(),d=v-A){for((L=d<0)?(d=-d,O=T):(A=v,O=S),O.reverse(),D=d;D--;O.push(0));O.reverse()}else for(q=(L=(d=T.length)<(D=S.length))?d:D,d=D=0;D<q;D++)if(T[D]!=S[D]){L=T[D]<S[D];break}if(L&&(O=T,T=S,S=O,P.s=-P.s),D=(q=S.length)-(W=T.length),D>0)for(;D--;T[W++]=0);for(D=Qr-1;q>d;){if(T[--q]<S[q]){for(W=q;W&&!T[--W];T[W]=D);--T[W],T[q]+=Qr}T[q]-=S[q]}for(;T[0]==0;T.splice(0,1),--A);return T[0]?F(P,T,A):(P.s=o==3?-1:1,P.c=[P.e=0],P)},a.modulo=a.mod=function(P,D){var W,q,O=this;return P=new x(P,D),!O.c||!P.s||P.c&&!P.c[0]?new x(NaN):!P.c||O.c&&!O.c[0]?new x(O):(y==9?(q=P.s,P.s=1,W=i(O,P,0,3),P.s=q,W.s*=q):W=i(O,P,0,y),P=O.minus(W.times(P)),!P.c[0]&&y==1&&(P.s=O.s),P)},a.multipliedBy=a.times=function(P,D){var W,q,O,L,n,d,v,A,T,S,w,b,h,k,tt,X=this,ft=X.c,et=(P=new x(P,D)).c;if(!ft||!et||!ft[0]||!et[0])return!X.s||!P.s||ft&&!ft[0]&&!et||et&&!et[0]&&!ft?P.c=P.e=P.s=null:(P.s*=X.s,!ft||!et?P.c=P.e=null:(P.c=[0],P.e=0)),P;for(q=Fr(X.e/ve)+Fr(P.e/ve),P.s*=X.s,v=ft.length,S=et.length,v<S&&(h=ft,ft=et,et=h,O=v,v=S,S=O),O=v+S,h=[];O--;h.push(0));for(k=Qr,tt=Dn,O=S;--O>=0;){for(W=0,w=et[O]%tt,b=et[O]/tt|0,n=v,L=O+n;L>O;)A=ft[--n]%tt,T=ft[n]/tt|0,d=b*A+T*w,A=w*A+d%tt*tt+h[L]+W,W=(A/k|0)+(d/tt|0)+b*T,h[L--]=A%k;h[L]=W}return W?++q:h.splice(0,1),F(P,h,q)},a.negated=function(){var P=new x(this);return P.s=-P.s||null,P},a.plus=function(P,D){var W,q=this,O=q.s;if(P=new x(P,D),D=P.s,!O||!D)return new x(NaN);if(O!=D)return P.s=-D,q.minus(P);var L=q.e/ve,n=P.e/ve,d=q.c,v=P.c;if(!L||!n){if(!d||!v)return new x(O/0);if(!d[0]||!v[0])return v[0]?P:new x(d[0]?q:O*0)}if(L=Fr(L),n=Fr(n),d=d.slice(),O=L-n){for(O>0?(n=L,W=v):(O=-O,W=d),W.reverse();O--;W.push(0));W.reverse()}for(O=d.length,D=v.length,O-D<0&&(W=v,v=d,d=W,D=O),O=0;D;)O=(d[--D]=d[D]+v[D]+O)/Qr|0,d[D]=Qr===d[D]?0:d[D]%Qr;return O&&(d=[O].concat(d),++n),F(P,d,n)},a.precision=a.sd=function(P,D){var W,q,O,L=this;if(P!=null&&P!==!!P)return nr(P,1,mr),D==null?D=o:nr(D,0,8),I(new x(L),P,D);if(!(W=L.c))return null;if(O=W.length-1,q=O*ve+1,O=W[O]){for(;O%10==0;O/=10,q--);for(O=W[0];O>=10;O/=10,q++);}return P&&L.e+1>q&&(q=L.e+1),q},a.shiftedBy=function(P){return nr(P,-Cs,Cs),this.times("1e"+P)},a.squareRoot=a.sqrt=function(){var P,D,W,q,O,L=this,n=L.c,d=L.s,v=L.e,A=e+4,T=new x("0.5");if(d!==1||!n||!n[0])return new x(!d||d<0&&(!n||n[0])?NaN:n?L:1/0);if(d=Math.sqrt(+U(L)),d==0||d==1/0?(D=Dr(n),(D.length+v)%2==0&&(D+="0"),d=Math.sqrt(+D),v=Fr((v+1)/2)-(v<0||v%2),d==1/0?D="5e"+v:(D=d.toExponential(),D=D.slice(0,D.indexOf("e")+1)+v),W=new x(D)):W=new x(d+""),W.c[0]){for(v=W.e,d=v+A,d<3&&(d=0);;)if(O=W,W=T.times(O.plus(i(L,O,A,1))),Dr(O.c).slice(0,d)===(D=Dr(W.c)).slice(0,d))if(W.e<v&&--d,D=D.slice(d-3,d+1),D=="9999"||!q&&D=="4999"){if(!q&&(I(O,O.e+e+2,0),O.times(O).eq(L))){W=O;break}A+=4,d+=4,q=1}else{(!+D||!+D.slice(1)&&D.charAt(0)=="5")&&(I(W,W.e+e+2,1),P=!W.times(W).eq(L));break}}return I(W,W.e+e+1,o,P)},a.toExponential=function(P,D){return P!=null&&(nr(P,0,mr),P++),C(this,P,D,1)},a.toFixed=function(P,D){return P!=null&&(nr(P,0,mr),P=P+this.e+1),C(this,P,D)},a.toFormat=function(P,D,W){var q,O=this;if(W==null)P!=null&&D&&typeof D=="object"?(W=D,D=null):P&&typeof P=="object"?(W=P,P=D=null):W=M;else if(typeof W!="object")throw Error(Br+"Argument not an object: "+W);if(q=O.toFixed(P,D),O.c){var L,n=q.split("."),d=+W.groupSize,v=+W.secondaryGroupSize,A=W.groupSeparator||"",T=n[0],S=n[1],w=O.s<0,b=w?T.slice(1):T,h=b.length;if(v&&(L=d,d=v,v=L,h-=L),d>0&&h>0){for(L=h%d||d,T=b.substr(0,L);L<h;L+=d)T+=A+b.substr(L,d);v>0&&(T+=A+b.slice(L)),w&&(T="-"+T)}q=S?T+(W.decimalSeparator||"")+((v=+W.fractionGroupSize)?S.replace(new RegExp("\\d{"+v+"}\\B","g"),"$&"+(W.fractionGroupSeparator||"")):S):T}return(W.prefix||"")+q+(W.suffix||"")},a.toFraction=function(P){var D,W,q,O,L,n,d,v,A,T,S,w,b=this,h=b.c;if(P!=null&&(d=new x(P),!d.isInteger()&&(d.c||d.s!==1)||d.lt(s)))throw Error(Br+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+U(d));if(!h)return new x(b);for(D=new x(s),A=W=new x(s),q=v=new x(s),w=Dr(h),L=D.e=w.length-b.e-1,D.c[0]=Ps[(n=L%ve)<0?ve+n:n],P=!P||d.comparedTo(D)>0?L>0?D:A:d,n=p,p=1/0,d=new x(w),v.c[0]=0;T=i(d,D,0,1),O=W.plus(T.times(q)),O.comparedTo(P)!=1;)W=q,q=O,A=v.plus(T.times(O=A)),v=O,D=d.minus(T.times(O=D)),d=O;return O=i(P.minus(W),q,0,1),v=v.plus(O.times(A)),W=W.plus(O.times(q)),v.s=A.s=b.s,L=L*2,S=i(A,q,L,o).minus(b).abs().comparedTo(i(v,W,L,o).minus(b).abs())<1?[A,q]:[v,W],p=n,S},a.toNumber=function(){return+U(this)},a.toPrecision=function(P,D){return P!=null&&nr(P,1,mr),C(this,P,D,2)},a.toString=function(P){var D,W=this,q=W.s,O=W.e;return O===null?q?(D="Infinity",q<0&&(D="-"+D)):D="NaN":(P==null?D=O<=c||O>=f?Ga(Dr(W.c),O):Mn(Dr(W.c),O,"0"):P===10&&B?(W=I(new x(W),e+O+1,o),D=Mn(Dr(W.c),W.e,"0")):(nr(P,2,E.length,"Base"),D=r(Mn(Dr(W.c),O,"0"),10,P,q,!0)),q<0&&W.c[0]&&(D="-"+D)),D},a.valueOf=a.toJSON=function(){return U(this)},a._isBigNumber=!0,a[Symbol.toStringTag]="BigNumber",a[Symbol.for("nodejs.util.inspect.custom")]=a.valueOf,t!=null&&x.set(t),x}function Fr(t){var i=t|0;return t>0||t===i?i:i-1}function Dr(t){for(var i,r,u=1,a=t.length,s=t[0]+"";u<a;){for(i=t[u++]+"",r=ve-i.length;r--;i="0"+i);s+=i}for(a=s.length;s.charCodeAt(--a)===48;);return s.slice(0,a+1||1)}function ii(t,i){var r,u,a=t.c,s=i.c,e=t.s,o=i.s,c=t.e,f=i.e;if(!e||!o)return null;if(r=a&&!a[0],u=s&&!s[0],r||u)return r?u?0:-o:e;if(e!=o)return e;if(r=e<0,u=c==f,!a||!s)return u?0:!a^r?1:-1;if(!u)return c>f^r?1:-1;for(o=(c=a.length)<(f=s.length)?c:f,e=0;e<o;e++)if(a[e]!=s[e])return a[e]>s[e]^r?1:-1;return c==f?0:c>f^r?1:-1}function nr(t,i,r,u){if(t<i||t>r||t!==Ur(t))throw Error(Br+(u||"Argument")+(typeof t=="number"?t<i||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Ha(t){var i=t.c.length-1;return Fr(t.e/ve)==i&&t.c[i]%2!=0}function Ga(t,i){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(i<0?"e":"e+")+i}function Mn(t,i,r){var u,a;if(i<0){for(a=r+".";++i;a+=r);t=a+t}else if(u=t.length,++i>u){for(a=r,i-=u;--i;a+=r);t+=a}else i<u&&(t=t.slice(0,i)+"."+t.slice(i));return t}var wb=sd(),bo=wb;function Tr(t){let i=0;for(let a of t)i+=a.byteLength;let r=new Uint8Array(i),u=0;r.set(new Uint8Array(t[0]),u),u+=t[0].byteLength;for(let a=1;a<t.length;a++)r.set(new Uint8Array(t[a]),u),u+=t[a].byteLength;return r}function ud(t){let i=on(t);return hh(i)}function hh(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function je(t){return new TextEncoder().encode(t)}function Js(t){return un(je(t))}function on(t){return new Uint8Array((0,od.toByteArray)(fd(t)))}function hd(t){return(0,od.fromByteArray)(new Uint8Array(t))}function un(t){return ld(hd(t))}function ld(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function fd(t){t=t.replace(/\-/g,"+").replace(/\_/g,"/");let i;return t.length%4==0?i=0:i=4-t.length%4,t.concat("=".repeat(i))}function _b(t){return new bo(t).shiftedBy(-12)}function Eb(t){return new bo(t).shiftedBy(12)}var eo=class{constructor(){Pt(this,"keyLength",4096);Pt(this,"publicExponent",65537);Pt(this,"hashAlgorithm","sha256");Pt(this,"driver");this.driver=crypto==null?void 0:crypto.subtle}async generateJWK(){let t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),i=await this.driver.exportKey("jwk",t.privateKey);return{kty:i.kty,e:i.e,n:i.n,d:i.d,p:i.p,q:i.q,dp:i.dp,dq:i.dq,qi:i.qi}}async sign(t,i,{saltLength:r}={saltLength:32}){let u=await this.driver.sign({name:"RSA-PSS",saltLength:r},await this.jwkToCryptoKey(t),i);return new Uint8Array(u)}async hash(t,i="SHA-256"){let r=await this.driver.digest(i,t);return new Uint8Array(r)}async verify(t,i,r){let u={kty:"RSA",e:"AQAB",n:t},a=await this.jwkToPublicCryptoKey(u),s=await this.driver.digest("SHA-256",i),e=await this.driver.verify({name:"RSA-PSS",saltLength:0},a,r,i),o=await this.driver.verify({name:"RSA-PSS",saltLength:32},a,r,i),c=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((a.algorithm.modulusLength-1)/8)-s.byteLength-2},a,r,i);return e||o||c}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(t,i,r){let u=await this.driver.importKey("raw",typeof i=="string"?je(i):i,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:je(r||"salt"),iterations:1e5,hash:"SHA-256"},u,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);crypto.getRandomValues(s);let e=await this.driver.encrypt({name:"AES-CBC",iv:s},a,t);return Tr([s,e])}async decrypt(t,i,r){let u=await this.driver.importKey("raw",typeof i=="string"?je(i):i,{name:"PBKDF2",length:32},!1,["deriveKey"]),a=await this.driver.deriveKey({name:"PBKDF2",salt:je(r||"salt"),iterations:1e5,hash:"SHA-256"},u,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=t.slice(0,16),e=await this.driver.decrypt({name:"AES-CBC",iv:s},a,t.slice(16));return Tr([e])}};lt();var Sb=ye(gi(),1);async function Oa(t){if(typeof t[Symbol.asyncIterator]=="function"){let a=t,s=(0,Sb.createHash)("sha384"),e=0;for await(let f of a)e+=f.byteLength,s.update(f);let o=Tr([je("blob"),je(e.toString())]),c=Tr([await Ar().hash(o,"SHA-384"),s.digest()]);return await Ar().hash(c,"SHA-384")}else if(Array.isArray(t)){let a=Tr([je("list"),je(t.length.toString())]);return await cd(t,await Ar().hash(a,"SHA-384"))}let i=t,r=Tr([je("blob"),je(i.byteLength.toString())]),u=Tr([await Ar().hash(r,"SHA-384"),await Ar().hash(i,"SHA-384")]);return await Ar().hash(u,"SHA-384")}async function cd(t,i){if(t.length<1)return i;let r=Tr([i,await Oa(t[0])]),u=await Ar().hash(r,"SHA-384");return await cd(t.slice(1),u)}lt();lt();lt();lt();lt();var ia=class extends Error{constructor(i,r={}){var t=(...args)=>{super(...args);Pt(this,"type");Pt(this,"response")};r.message?t(r.message):t(),this.type=i,this.response=r.response}getType(){return this.type}};function aa(t){let i=t.data;if(typeof t.data=="string")try{i=JSON.parse(t.data)}catch{}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{i=JSON.parse(i.toString())}catch{}return i?i.error||i:t.statusText||"unknown"}var Ab=class{constructor(t,i){Pt(this,"api");Pt(this,"network");this.api=t,this.network=i}async getByHash(t){let i=await this.api.get(`block/hash/${t}`);if(i.status===200)return i.data;throw i.status===404?new ia("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${i}`)}async getByHeight(t){let i=await this.api.get(`block/height/${t}`);if(i.status===200)return i.data;throw i.status===404?new ia("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${i}`)}async getCurrent(){let{current:t}=await this.network.getInfo();return await this.getByHash(t)}};lt();lt();var Wn=256*1024,Tb=32*1024,ta=32,wi=32,Mb=class{constructor(t){Pt(this,"crypto");this.crypto=t.deps.crypto}async chunkData(t){let i=[],r=t,u=0;for(;r.byteLength>=Wn;){let a=Wn,s=r.byteLength-Wn;s>0&&s<Tb&&(a=Math.ceil(r.byteLength/2));let e=r.slice(0,a),o=await this.crypto.hash(e);u+=e.byteLength,i.push({dataHash:o,minByteRange:u-e.byteLength,maxByteRange:u}),r=r.slice(a)}return i.push({dataHash:await this.crypto.hash(r),minByteRange:u,maxByteRange:u+r.byteLength}),i}async generateLeaves(t){return Promise.all(t.map(async({dataHash:i,minByteRange:r,maxByteRange:u})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(i),this.hash(Va(u))])),dataHash:i,minByteRange:r,maxByteRange:u})))}async computeRootHash(t){return(await this.generateTree(t)).id}async generateTree(t){return await this.buildLayers(await this.generateLeaves(await this.chunkData(t)))}async generateTransactionChunks(t){let i=await this.chunkData(t),r=await this.generateLeaves(i),u=await this.buildLayers(r),a=await this.generateProofs(u),s=i.slice(-1)[0];return s.maxByteRange-s.minByteRange===0&&(i.splice(i.length-1,1),a.splice(a.length-1,1)),{data_root:u.id,chunks:i,proofs:a}}async buildLayers(t,i=0){if(t.length<2)return t[0];let r=[];for(let u=0;u<t.length;u+=2)r.push(await this.hashBranch(t[u],t[u+1]));return this.buildLayers(r,i+1)}generateProofs(t){let i=this.resolveBranchProofs(t);return Array.isArray(i)?dd(i):[i]}resolveBranchProofs(t,i=new Uint8Array,r=0){if(t.type=="leaf")return{offset:t.maxByteRange-1,proof:Tr([i,t.dataHash,Va(t.maxByteRange)])};if(t.type=="branch"){let u=Tr([i,t.leftChild.id,t.rightChild.id,Va(t.byteRange)]);return[this.resolveBranchProofs(t.leftChild,u,r+1),this.resolveBranchProofs(t.rightChild,u,r+1)]}throw new Error("Unexpected node type")}async validatePath(t,i,r,u,a){if(u<=0)return!1;if(i>=u)return this.validatePath(t,0,u-1,u,a);if(i<0)return this.validatePath(t,0,0,u,a);if(a.length==wi+ta){let p=a.slice(0,wi),g=a.slice(p.length,p.length+ta),y=await this.hash([await this.hash(p),await this.hash(g)]);return Dl(t,y)?{offset:u-1,leftBound:r,rightBound:u,chunkSize:u-r}:!1}let s=a.slice(0,wi),e=a.slice(s.length,s.length+wi),o=a.slice(s.length+e.length,s.length+e.length+ta),c=Ll(o),f=a.slice(s.length+e.length+o.length),l=await this.hash([await this.hash(s),await this.hash(e),await this.hash(o)]);return Dl(t,l)?i<c?await this.validatePath(s,i,r,Math.min(u,c),f):await this.validatePath(e,i,Math.max(r,c),u,f):!1}async hashBranch(t,i){return i?{type:"branch",id:await this.hash([await this.hash(t.id),await this.hash(i.id),await this.hash(Va(t.maxByteRange))]),byteRange:t.maxByteRange,maxByteRange:i.maxByteRange,leftChild:t,rightChild:i}:t}async hash(t){return Array.isArray(t)&&(t=zd.utils.concatBuffers(t)),new Uint8Array(await this.crypto.hash(t))}async debug(t,i=""){if(t.byteLength<1)return i;let r=t.slice(0,wi),u=t.slice(r.length,r.length+wi),a=t.slice(r.length+u.length,r.length+u.length+ta),s=Ll(a),e=t.slice(r.length+u.length+a.length),o=await this.hash([await this.hash(r),await this.hash(u),await this.hash(a)]),c=`${i}
${JSON.stringify(Ut.Buffer.from(r))},${JSON.stringify(Ut.Buffer.from(u))},${s} => ${JSON.stringify(o)}`;return this.debug(e,c)}};function dd(t){let i=[];return t.forEach(r=>{Array.isArray(r)?i.push(...dd(r)):i.push(r)}),i}function Va(t){let i=new Uint8Array(ta);for(let r=i.length-1;r>=0;r--){let u=t%256;i[r]=u,t=(t-u)/256}return i}function Ll(t){let i=0;for(let r=0;r<t.length;r++)i*=256,i+=t[r];return i}var Dl=(t,i)=>t.every((r,u)=>i[u]===r),xb=Mb,kb=class{constructor(t){Pt(this,"api");this.api=t}async getTransactionMetadata(t){let i=await this.api.get(`tx/${t}/offset`);if(i.status===200)return i.data;throw new Error(`Unable to get transaction offset: ${aa(i)}`)}async getChunk(t){let i=await this.api.get(`chunk/${t}`);if(i.status===200)return i.data;throw new Error(`Unable to get chunk: ${aa(i)}`)}async getChunkData(t){let i=await this.getChunk(t);return on(i.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t,i){let r=await this.getTransactionMetadata(t),u=parseInt(r.size),a=new Uint8Array(u),s=0;for await(let e of this.concurrentChunkDownloader(t,i))a.set(e,s),s+=e.length;return a}async*concurrentChunkDownloader(t,i){let r={concurrency:10,...i},u=await this.getTransactionMetadata(t),a=new bo(u.offset),s=new bo(u.size),e=a.minus(s).plus(1),o=0,c=Math.ceil(s.dividedBy(Wn).toNumber()),f=m=>this.getChunkData(m.toString()).then(M=>(o+=M.length,M)),l=[],p=c-2,g=Math.min(p,r.concurrency),y=0;for(let m=0;m<g;m++)l.push(f(e.plus(Wn*y++)));for(;y<p;)l.push(f(e.plus(Wn*y++))),yield l.shift();for(;l.length>0;)yield l.shift();if(yield f(e.plus(Wn*y++)),s.isGreaterThan(o)&&(yield f(e.plus(Wn*y++))),!s.isEqualTo(o))throw new Error(`got ${o}B, expected ${s.toString()}B`)}};lt();function Ob(t,i){let r=t;return r.deepHash=new i.deepHash({deps:{utils:{stringToBuffer:je,concatBuffers:Tr},crypto:t}}),r}lt();var Ib=class{constructor({deps:t}){Pt(this,"crypto");Pt(this,"utils");this.crypto=t.crypto,this.utils=t.utils}async deepHash(t){if(Array.isArray(t)){let u=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(t.length.toString())]);return await this.deepHashChunks(t,await this.crypto.hash(u,"SHA-384"))}let i=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(t.byteLength.toString())]),r=this.utils.concatBuffers([await this.crypto.hash(i,"SHA-384"),await this.crypto.hash(t,"SHA-384")]);return await this.crypto.hash(r,"SHA-384")}async deepHashChunks(t,i){if(t.length<1)return i;let r=this.utils.concatBuffers([i,await this.deepHash(t[0])]),u=await this.crypto.hash(r,"SHA-384");return await this.deepHashChunks(t.slice(1),u)}};lt();lt();lt();lt();lt();lt();function pd(t,i){return function(){return t.apply(i,arguments)}}var{toString:Bb}=Object.prototype,{getPrototypeOf:lh}=Object,ss=(t=>i=>{let r=Bb.call(i);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Tn=t=>(t=t.toLowerCase(),i=>ss(i)===t),us=t=>i=>typeof i===t,{isArray:zi}=Array,la=us("undefined");function Cb(t){return t!==null&&!la(t)&&t.constructor!==null&&!la(t.constructor)&&qr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var gd=Tn("ArrayBuffer");function Pb(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&gd(t.buffer),i}var Rb=us("string"),qr=us("function"),md=us("number"),hs=t=>t!==null&&typeof t=="object",Nb=t=>t===!0||t===!1,ro=t=>{if(ss(t)!=="object")return!1;let i=lh(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Lb=Tn("Date"),Db=Tn("File"),jb=Tn("Blob"),Ub=Tn("FileList"),Fb=t=>hs(t)&&qr(t.pipe),Kb=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||qr(t.append)&&((i=ss(t))==="formdata"||i==="object"&&qr(t.toString)&&t.toString()==="[object FormData]"))},zb=Tn("URLSearchParams"),Wb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ia(t,i,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let u,a;if(typeof t!="object"&&(t=[t]),zi(t))for(u=0,a=t.length;u<a;u++)i.call(null,t[u],u,t);else{let s=r?Object.getOwnPropertyNames(t):Object.keys(t),e=s.length,o;for(u=0;u<e;u++)o=s[u],i.call(null,t[o],o,t)}}function yd(t,i){i=i.toLowerCase();let r=Object.keys(t),u=r.length,a;for(;u-- >0;)if(a=r[u],i===a.toLowerCase())return a;return null}var bd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:le,vd=t=>!la(t)&&t!==bd;function Xs(){let{caseless:t}=vd(this)&&this||{},i={},r=(u,a)=>{let s=t&&yd(i,a)||a;ro(i[s])&&ro(u)?i[s]=Xs(i[s],u):ro(u)?i[s]=Xs({},u):zi(u)?i[s]=u.slice():i[s]=u};for(let u=0,a=arguments.length;u<a;u++)arguments[u]&&Ia(arguments[u],r);return i}var qb=(t,i,r,{allOwnKeys:u}={})=>(Ia(i,(a,s)=>{r&&qr(a)?t[s]=pd(a,r):t[s]=a},{allOwnKeys:u}),t),$b=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Hb=(t,i,r,u)=>{t.prototype=Object.create(i.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),r&&Object.assign(t.prototype,r)},Gb=(t,i,r,u)=>{let a,s,e,o={};if(i=i||{},t==null)return i;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)e=a[s],(!u||u(e,t,i))&&!o[e]&&(i[e]=t[e],o[e]=!0);t=r!==!1&&lh(t)}while(t&&(!r||r(t,i))&&t!==Object.prototype);return i},Vb=(t,i,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=i.length;let u=t.indexOf(i,r);return u!==-1&&u===r},Zb=t=>{if(!t)return null;if(zi(t))return t;let i=t.length;if(!md(i))return null;let r=new Array(i);for(;i-- >0;)r[i]=t[i];return r},Jb=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&lh(Uint8Array)),Xb=(t,i)=>{let r=(t&&t[Symbol.iterator]).call(t),u;for(;(u=r.next())&&!u.done;){let a=u.value;i.call(t,a[0],a[1])}},Yb=(t,i)=>{let r,u=[];for(;(r=t.exec(i))!==null;)u.push(r);return u},Qb=Tn("HTMLFormElement"),tv=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,u){return r.toUpperCase()+u}),jl=(({hasOwnProperty:t})=>(i,r)=>t.call(i,r))(Object.prototype),ev=Tn("RegExp"),wd=(t,i)=>{let r=Object.getOwnPropertyDescriptors(t),u={};Ia(r,(a,s)=>{let e;(e=i(a,s,t))!==!1&&(u[s]=e||a)}),Object.defineProperties(t,u)},rv=t=>{wd(t,(i,r)=>{if(qr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let u=t[r];if(qr(u)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nv=(t,i)=>{let r={},u=a=>{a.forEach(s=>{r[s]=!0})};return zi(t)?u(t):u(String(t).split(i)),r},iv=()=>{},av=(t,i)=>(t=+t,Number.isFinite(t)?t:i),Rs="abcdefghijklmnopqrstuvwxyz",Ul="0123456789",_d={DIGIT:Ul,ALPHA:Rs,ALPHA_DIGIT:Rs+Rs.toUpperCase()+Ul},ov=(t=16,i=_d.ALPHA_DIGIT)=>{let r="",{length:u}=i;for(;t--;)r+=i[Math.random()*u|0];return r};function sv(t){return!!(t&&qr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var uv=t=>{let i=new Array(10),r=(u,a)=>{if(hs(u)){if(i.indexOf(u)>=0)return;if(!("toJSON"in u)){i[a]=u;let s=zi(u)?[]:{};return Ia(u,(e,o)=>{let c=r(e,a+1);!la(c)&&(s[o]=c)}),i[a]=void 0,s}}return u};return r(t,0)},hv=Tn("AsyncFunction"),lv=t=>t&&(hs(t)||qr(t))&&qr(t.then)&&qr(t.catch),ne={isArray:zi,isArrayBuffer:gd,isBuffer:Cb,isFormData:Kb,isArrayBufferView:Pb,isString:Rb,isNumber:md,isBoolean:Nb,isObject:hs,isPlainObject:ro,isUndefined:la,isDate:Lb,isFile:Db,isBlob:jb,isRegExp:ev,isFunction:qr,isStream:Fb,isURLSearchParams:zb,isTypedArray:Jb,isFileList:Ub,forEach:Ia,merge:Xs,extend:qb,trim:Wb,stripBOM:$b,inherits:Hb,toFlatObject:Gb,kindOf:ss,kindOfTest:Tn,endsWith:Vb,toArray:Zb,forEachEntry:Xb,matchAll:Yb,isHTMLForm:Qb,hasOwnProperty:jl,hasOwnProp:jl,reduceDescriptors:wd,freezeMethods:rv,toObjectSet:nv,toCamelCase:tv,noop:iv,toFiniteNumber:av,findKey:yd,global:bd,isContextDefined:vd,ALPHABET:_d,generateString:ov,isSpecCompliantForm:sv,toJSONObject:uv,isAsyncFn:hv,isThenable:lv};lt();lt();lt();lt();lt();function Ri(t,i,r,u,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),r&&(this.config=r),u&&(this.request=u),a&&(this.response=a)}ne.inherits(Ri,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ed=Ri.prototype,Sd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Sd[t]={value:t}});Object.defineProperties(Ri,Sd);Object.defineProperty(Ed,"isAxiosError",{value:!0});Ri.from=(t,i,r,u,a,s)=>{let e=Object.create(Ed);return ne.toFlatObject(t,e,function(o){return o!==Error.prototype},o=>o!=="isAxiosError"),Ri.call(e,t.message,i,r,u,a),e.cause=t,e.name=t.name,s&&Object.assign(e,s),e};var Fe=Ri;lt();var fv=null;function Ys(t){return ne.isPlainObject(t)||ne.isArray(t)}function Ad(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function Fl(t,i,r){return t?t.concat(i).map(function(u,a){return u=Ad(u),!r&&a?"["+u+"]":u}).join(r?".":""):i}function cv(t){return ne.isArray(t)&&!t.some(Ys)}var dv=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function pv(t,i,r){if(!ne.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,m){return!ne.isUndefined(m[y])});let u=r.metaTokens,a=r.visitor||f,s=r.dots,e=r.indexes,o=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(i);if(!ne.isFunction(a))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(ne.isDate(y))return y.toISOString();if(!o&&ne.isBlob(y))throw new Fe("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(y)||ne.isTypedArray(y)?o&&typeof Blob=="function"?new Blob([y]):Ut.Buffer.from(y):y}function f(y,m,M){let E=y;if(y&&!M&&typeof y=="object"){if(ne.endsWith(m,"{}"))m=u?m:m.slice(0,-2),y=JSON.stringify(y);else if(ne.isArray(y)&&cv(y)||(ne.isFileList(y)||ne.endsWith(m,"[]"))&&(E=ne.toArray(y)))return m=Ad(m),E.forEach(function(B,x){!(ne.isUndefined(B)||B===null)&&i.append(e===!0?Fl([m],x,s):e===null?m:m+"[]",c(B))}),!1}return Ys(y)?!0:(i.append(Fl(M,m,s),c(y)),!1)}let l=[],p=Object.assign(dv,{defaultVisitor:f,convertValue:c,isVisitable:Ys});function g(y,m){if(!ne.isUndefined(y)){if(l.indexOf(y)!==-1)throw Error("Circular reference detected in "+m.join("."));l.push(y),ne.forEach(y,function(M,E){(!(ne.isUndefined(M)||M===null)&&a.call(i,M,ne.isString(E)?E.trim():E,m,p))===!0&&g(M,m?m.concat(E):[E])}),l.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return g(t),i}var ls=pv;function Kl(t){let i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return i[r]})}function Td(t,i){this._pairs=[],t&&ls(t,this,i)}var Md=Td.prototype;Md.append=function(t,i){this._pairs.push([t,i])};Md.toString=function(t){let i=t?function(r){return t.call(this,r,Kl)}:Kl;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};var xd=Td;function gv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kd(t,i,r){if(!i)return t;let u=r&&r.encode||gv,a=r&&r.serialize,s;if(a?s=a(i,r):s=ne.isURLSearchParams(i)?i.toString():new xd(i,r).toString(u),s){let e=t.indexOf("#");e!==-1&&(t=t.slice(0,e)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}lt();var mv=class{constructor(){this.handlers=[]}use(t,i,r){return this.handlers.push({fulfilled:t,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(i){i!==null&&t(i)})}},zl=mv;lt();lt();lt();lt();var Od={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};lt();lt();lt();lt();var yv=typeof URLSearchParams<"u"?URLSearchParams:xd;lt();var bv=typeof FormData<"u"?FormData:null;lt();var vv=typeof Blob<"u"?Blob:null,wv={isBrowser:!0,classes:{URLSearchParams:yv,FormData:bv,Blob:vv},protocols:["http","https","file","blob","url","data"]},Id={};ba(Id,{hasBrowserEnv:()=>Bd,hasStandardBrowserEnv:()=>_v,hasStandardBrowserWebWorkerEnv:()=>Ev});lt();var Bd=typeof window<"u"&&typeof document<"u",_v=(t=>Bd&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Ev=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vn={...Id,...wv};function Sv(t,i){return ls(t,new vn.classes.URLSearchParams,Object.assign({visitor:function(r,u,a,s){return vn.isNode&&ne.isBuffer(r)?(this.append(u,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},i))}lt();function Av(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Tv(t){let i={},r=Object.keys(t),u,a=r.length,s;for(u=0;u<a;u++)s=r[u],i[s]=t[s];return i}function Mv(t){function i(r,u,a,s){let e=r[s++],o=Number.isFinite(+e),c=s>=r.length;return e=!e&&ne.isArray(a)?a.length:e,c?(ne.hasOwnProp(a,e)?a[e]=[a[e],u]:a[e]=u,!o):((!a[e]||!ne.isObject(a[e]))&&(a[e]=[]),i(r,u,a[e],s)&&ne.isArray(a[e])&&(a[e]=Tv(a[e])),!o)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){let r={};return ne.forEachEntry(t,(u,a)=>{i(Av(u),a,r,0)}),r}return null}var Cd=Mv;function xv(t,i,r){if(ne.isString(t))try{return(i||JSON.parse)(t),ne.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(r||JSON.stringify)(t)}var fh={transitional:Od,adapter:["xhr","http"],transformRequest:[function(t,i){let r=i.getContentType()||"",u=r.indexOf("application/json")>-1,a=ne.isObject(t);if(a&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return u&&u?JSON.stringify(Cd(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Sv(t,this.formSerializer).toString();if((s=ne.isFileList(t))||r.indexOf("multipart/form-data")>-1){let e=this.env&&this.env.FormData;return ls(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return a||u?(i.setContentType("application/json",!1),xv(t)):t}],transformResponse:[function(t){let i=this.transitional||fh.transitional,r=i&&i.forcedJSONParsing,u=this.responseType==="json";if(t&&ne.isString(t)&&(r&&!this.responseType||u)){let a=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(t)}catch(s){if(a)throw s.name==="SyntaxError"?Fe.from(s,Fe.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{fh.headers[t]={}});var ch=fh;lt();lt();var kv=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ov=t=>{let i={},r,u,a;return t&&t.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),u=s.substring(a+1).trim(),!(!r||i[r]&&kv[r])&&(r==="set-cookie"?i[r]?i[r].push(u):i[r]=[u]:i[r]=i[r]?i[r]+", "+u:u)}),i},Wl=Symbol("internals");function Vi(t){return t&&String(t).trim().toLowerCase()}function no(t){return t===!1||t==null?t:ne.isArray(t)?t.map(no):String(t)}function Iv(t){let i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,u;for(;u=r.exec(t);)i[u[1]]=u[2];return i}var Bv=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ns(t,i,r,u,a){if(ne.isFunction(u))return u.call(this,i,r);if(a&&(i=r),!!ne.isString(i)){if(ne.isString(u))return i.indexOf(u)!==-1;if(ne.isRegExp(u))return u.test(i)}}function Cv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,r,u)=>r.toUpperCase()+u)}function Pv(t,i){let r=ne.toCamelCase(" "+i);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+r,{value:function(a,s,e){return this[u].call(this,i,a,s,e)},configurable:!0})})}var fs=class{constructor(t){t&&this.set(t)}set(t,i,r){let u=this;function a(e,o,c){let f=Vi(o);if(!f)throw new Error("header name must be a non-empty string");let l=ne.findKey(u,f);(!l||u[l]===void 0||c===!0||c===void 0&&u[l]!==!1)&&(u[l||o]=no(e))}let s=(e,o)=>ne.forEach(e,(c,f)=>a(c,f,o));return ne.isPlainObject(t)||t instanceof this.constructor?s(t,i):ne.isString(t)&&(t=t.trim())&&!Bv(t)?s(Ov(t),i):t!=null&&a(i,t,r),this}get(t,i){if(t=Vi(t),t){let r=ne.findKey(this,t);if(r){let u=this[r];if(!i)return u;if(i===!0)return Iv(u);if(ne.isFunction(i))return i.call(this,u,r);if(ne.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Vi(t),t){let r=ne.findKey(this,t);return!!(r&&this[r]!==void 0&&(!i||Ns(this,this[r],r,i)))}return!1}delete(t,i){let r=this,u=!1;function a(s){if(s=Vi(s),s){let e=ne.findKey(r,s);e&&(!i||Ns(r,r[e],e,i))&&(delete r[e],u=!0)}}return ne.isArray(t)?t.forEach(a):a(t),u}clear(t){let i=Object.keys(this),r=i.length,u=!1;for(;r--;){let a=i[r];(!t||Ns(this,this[a],a,t,!0))&&(delete this[a],u=!0)}return u}normalize(t){let i=this,r={};return ne.forEach(this,(u,a)=>{let s=ne.findKey(r,a);if(s){i[s]=no(u),delete i[a];return}let e=t?Cv(a):String(a).trim();e!==a&&delete i[a],i[e]=no(u),r[e]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let i=Object.create(null);return ne.forEach(this,(r,u)=>{r!=null&&r!==!1&&(i[u]=t&&ne.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){let r=new this(t);return i.forEach(u=>r.set(u)),r}static accessor(t){let i=(this[Wl]=this[Wl]={accessors:{}}).accessors,r=this.prototype;function u(a){let s=Vi(a);i[s]||(Pv(r,a),i[s]=!0)}return ne.isArray(t)?t.forEach(u):u(t),this}};fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(fs.prototype,({value:t},i)=>{let r=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(u){this[r]=u}}});ne.freezeMethods(fs);var In=fs;function Ls(t,i){let r=this||ch,u=i||r,a=In.from(u.headers),s=u.data;return ne.forEach(t,function(e){s=e.call(r,s,a.normalize(),i?i.status:void 0)}),a.normalize(),s}lt();function Pd(t){return!!(t&&t.__CANCEL__)}lt();function Rd(t,i,r){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,i,r),this.name="CanceledError"}ne.inherits(Rd,Fe,{__CANCEL__:!0});var cs=Rd;lt();lt();lt();function Rv(t,i,r){let u=r.config.validateStatus;!r.status||!u||u(r.status)?t(r):i(new Fe("Request failed with status code "+r.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}lt();var Nv=vn.hasStandardBrowserEnv?function(){return{write:function(t,i,r,u,a,s){let e=[];e.push(t+"="+encodeURIComponent(i)),ne.isNumber(r)&&e.push("expires="+new Date(r).toGMTString()),ne.isString(u)&&e.push("path="+u),ne.isString(a)&&e.push("domain="+a),s===!0&&e.push("secure"),document.cookie=e.join("; ")},read:function(t){let i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();lt();lt();function Lv(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}lt();function Dv(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t}function Nd(t,i){return t&&!Lv(i)?Dv(t,i):i}lt();var jv=vn.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function u(a){let s=a;return t&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=u(window.location.href),function(a){let s=ne.isString(a)?u(a):a;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();lt();function Uv(t){let i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}lt();function Fv(t,i){t=t||10;let r=new Array(t),u=new Array(t),a=0,s=0,e;return i=i!==void 0?i:1e3,function(o){let c=Date.now(),f=u[s];e||(e=c),r[a]=o,u[a]=c;let l=s,p=0;for(;l!==a;)p+=r[l++],l=l%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),c-e<i)return;let g=f&&c-f;return g?Math.round(p*1e3/g):void 0}}var Kv=Fv;function ql(t,i){let r=0,u=Kv(50,250);return a=>{let s=a.loaded,e=a.lengthComputable?a.total:void 0,o=s-r,c=u(o),f=s<=e;r=s;let l={loaded:s,total:e,progress:e?s/e:void 0,bytes:o,rate:c||void 0,estimated:c&&e&&f?(e-s)/c:void 0,event:a};l[i?"download":"upload"]=!0,t(l)}}var zv=typeof XMLHttpRequest<"u",Wv=zv&&function(t){return new Promise(function(i,r){let u=t.data,a=In.from(t.headers).normalize(),s=t.responseType,e;function o(){t.cancelToken&&t.cancelToken.unsubscribe(e),t.signal&&t.signal.removeEventListener("abort",e)}let c;if(ne.isFormData(u)){if(vn.hasStandardBrowserEnv||vn.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((c=a.getContentType())!==!1){let[y,...m]=c?c.split(";").map(M=>M.trim()).filter(Boolean):[];a.setContentType([y||"multipart/form-data",...m].join("; "))}}let f=new XMLHttpRequest;if(t.auth){let y=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(y+":"+m))}let l=Nd(t.baseURL,t.url);f.open(t.method.toUpperCase(),kd(l,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function p(){if(!f)return;let y=In.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),m={data:!s||s==="text"||s==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:y,config:t,request:f};Rv(function(M){i(M),o()},function(M){r(M),o()},m),f=null}if("onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){!f||(r(new Fe("Request aborted",Fe.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",m=t.transitional||Od;t.timeoutErrorMessage&&(y=t.timeoutErrorMessage),r(new Fe(y,m.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,f)),f=null},vn.hasStandardBrowserEnv){let y=jv(l)&&t.xsrfCookieName&&Nv.read(t.xsrfCookieName);y&&a.set(t.xsrfHeaderName,y)}u===void 0&&a.setContentType(null),"setRequestHeader"in f&&ne.forEach(a.toJSON(),function(y,m){f.setRequestHeader(m,y)}),ne.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),s&&s!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",ql(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",ql(t.onUploadProgress)),(t.cancelToken||t.signal)&&(e=y=>{!f||(r(!y||y.type?new cs(null,t,f):y),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(e),t.signal&&(t.signal.aborted?e():t.signal.addEventListener("abort",e)));let g=Uv(l);if(g&&vn.protocols.indexOf(g)===-1){r(new Fe("Unsupported protocol "+g+":",Fe.ERR_BAD_REQUEST,t));return}f.send(u||null)})},Qs={http:fv,xhr:Wv};ne.forEach(Qs,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});var $l=t=>`- ${t}`,qv=t=>ne.isFunction(t)||t===null||t===!1,Ld={getAdapter:t=>{t=ne.isArray(t)?t:[t];let{length:i}=t,r,u,a={};for(let s=0;s<i;s++){r=t[s];let e;if(u=r,!qv(r)&&(u=Qs[(e=String(r)).toLowerCase()],u===void 0))throw new Fe(`Unknown adapter '${e}'`);if(u)break;a[e||"#"+s]=u}if(!u){let s=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build")),e=i?s.length>1?`since :
`+s.map($l).join(`
`):" "+$l(s[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+e,"ERR_NOT_SUPPORT")}return u},adapters:Qs};function Ds(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cs(null,t)}function Hl(t){return Ds(t),t.headers=In.from(t.headers),t.data=Ls.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ld.getAdapter(t.adapter||ch.adapter)(t).then(function(i){return Ds(t),i.data=Ls.call(t,t.transformResponse,i),i.headers=In.from(i.headers),i},function(i){return Pd(i)||(Ds(t),i&&i.response&&(i.response.data=Ls.call(t,t.transformResponse,i.response),i.response.headers=In.from(i.response.headers))),Promise.reject(i)})}lt();var Gl=t=>t instanceof In?t.toJSON():t;function Ni(t,i){i=i||{};let r={};function u(f,l,p){return ne.isPlainObject(f)&&ne.isPlainObject(l)?ne.merge.call({caseless:p},f,l):ne.isPlainObject(l)?ne.merge({},l):ne.isArray(l)?l.slice():l}function a(f,l,p){if(ne.isUndefined(l)){if(!ne.isUndefined(f))return u(void 0,f,p)}else return u(f,l,p)}function s(f,l){if(!ne.isUndefined(l))return u(void 0,l)}function e(f,l){if(ne.isUndefined(l)){if(!ne.isUndefined(f))return u(void 0,f)}else return u(void 0,l)}function o(f,l,p){if(p in i)return u(f,l);if(p in t)return u(void 0,f)}let c={url:s,method:s,data:s,baseURL:e,transformRequest:e,transformResponse:e,paramsSerializer:e,timeout:e,timeoutMessage:e,withCredentials:e,adapter:e,responseType:e,xsrfCookieName:e,xsrfHeaderName:e,onUploadProgress:e,onDownloadProgress:e,decompress:e,maxContentLength:e,maxBodyLength:e,beforeRedirect:e,transport:e,httpAgent:e,httpsAgent:e,cancelToken:e,socketPath:e,responseEncoding:e,validateStatus:o,headers:(f,l)=>a(Gl(f),Gl(l),!0)};return ne.forEach(Object.keys(Object.assign({},t,i)),function(f){let l=c[f]||a,p=l(t[f],i[f],f);ne.isUndefined(p)&&l!==o||(r[f]=p)}),r}lt();lt();var Dd="1.6.1",dh={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{dh[t]=function(r){return typeof r===t||"a"+(i<1?"n ":" ")+t}});var Vl={};dh.transitional=function(t,i,r){function u(a,s){return"[Axios v"+Dd+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,e)=>{if(t===!1)throw new Fe(u(s," has been removed"+(i?" in "+i:"")),Fe.ERR_DEPRECATED);return i&&!Vl[s]&&(Vl[s]=!0,console.warn(u(s," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(a,s,e):!0}};function $v(t,i,r){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);let u=Object.keys(t),a=u.length;for(;a-- >0;){let s=u[a],e=i[s];if(e){let o=t[s],c=o===void 0||e(o,s,t);if(c!==!0)throw new Fe("option "+s+" must be "+c,Fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}var tu={assertOptions:$v,validators:dh},jn=tu.validators,vo=class{constructor(t){this.defaults=t,this.interceptors={request:new zl,response:new zl}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Ni(this.defaults,i);let{transitional:r,paramsSerializer:u,headers:a}=i;r!==void 0&&tu.assertOptions(r,{silentJSONParsing:jn.transitional(jn.boolean),forcedJSONParsing:jn.transitional(jn.boolean),clarifyTimeoutError:jn.transitional(jn.boolean)},!1),u!=null&&(ne.isFunction(u)?i.paramsSerializer={serialize:u}:tu.assertOptions(u,{encode:jn.function,serialize:jn.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let s=a&&ne.merge(a.common,a[i.method]);a&&ne.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),i.headers=In.concat(s,a);let e=[],o=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(i)===!1||(o=o&&y.synchronous,e.unshift(y.fulfilled,y.rejected))});let c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let f,l=0,p;if(!o){let y=[Hl.bind(this),void 0];for(y.unshift.apply(y,e),y.push.apply(y,c),p=y.length,f=Promise.resolve(i);l<p;)f=f.then(y[l++],y[l++]);return f}p=e.length;let g=i;for(l=0;l<p;){let y=e[l++],m=e[l++];try{g=y(g)}catch(M){m.call(this,M);break}}try{f=Hl.call(this,g)}catch(y){return Promise.reject(y)}for(l=0,p=c.length;l<p;)f=f.then(c[l++],c[l++]);return f}getUri(t){t=Ni(this.defaults,t);let i=Nd(t.baseURL,t.url);return kd(i,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){vo.prototype[t]=function(i,r){return this.request(Ni(r||{},{method:t,url:i,data:(r||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function i(r){return function(u,a,s){return this.request(Ni(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:a}))}}vo.prototype[t]=i(),vo.prototype[t+"Form"]=i(!0)});var io=vo;lt();var jd=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});let r=this;this.promise.then(u=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](u);r._listeners=null}),this.promise.then=u=>{let a,s=new Promise(e=>{r.subscribe(e),a=e}).then(u);return s.cancel=function(){r.unsubscribe(a)},s},t(function(u,a,s){r.reason||(r.reason=new cs(u,a,s),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new jd(function(i){t=i}),cancel:t}}},Hv=jd;lt();function Gv(t){return function(i){return t.apply(null,i)}}lt();function Vv(t){return ne.isObject(t)&&t.isAxiosError===!0}lt();var eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eu).forEach(([t,i])=>{eu[i]=t});var Zv=eu;function Ud(t){let i=new io(t),r=pd(io.prototype.request,i);return ne.extend(r,io.prototype,i,{allOwnKeys:!0}),ne.extend(r,i,null,{allOwnKeys:!0}),r.create=function(u){return Ud(Ni(t,u))},r}var dr=Ud(ch);dr.Axios=io;dr.CanceledError=cs;dr.CancelToken=Hv;dr.isCancel=Pd;dr.VERSION=Dd;dr.toFormData=ls;dr.AxiosError=Fe;dr.Cancel=dr.CanceledError;dr.all=function(t){return Promise.all(t)};dr.spread=Gv;dr.isAxiosError=Vv;dr.mergeConfig=Ni;dr.AxiosHeaders=In;dr.formToJSON=t=>Cd(ne.isHTMLForm(t)?new FormData(t):t);dr.getAdapter=Ld.getAdapter;dr.HttpStatusCode=Zv;dr.default=dr;var Jv=dr,Xv=ye(by(),1),Zl=class{constructor(t){Pt(this,"_instance");Pt(this,"cookieMap",new Map);Pt(this,"config");t&&this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(t){let i=this.cookieMap.get(new URL(t.baseURL??"").host);return i&&(t.headers.cookie=i),t}async responseInterceptor(t){var r;let i=(r=t.headers)==null?void 0:r["set-cookie"];return i&&this.cookieMap.set(t.request.host,i),t}mergeDefaults(t){return t.headers??(t.headers={}),t.network&&!Object.keys(t.headers).includes("x-network")&&(t.headers["x-network"]=t.network),{url:t.url,timeout:t.timeout??2e4,logging:t.logging??!1,logger:t.logger??console.log,headers:{...t.headers,"x-irys-arweave-version":zd.VERSION},withCredentials:t.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(t,i){var r;try{return await this.request(t,{...i,method:"GET"})}catch(u){if((r=u.response)!=null&&r.status)return u.response;throw u}}async post(t,i,r){var u;try{return await this.request(t,{data:i,...r,method:"POST"})}catch(a){if((u=a.response)!=null&&u.status)return a.response;throw a}}get instance(){if(this._instance)return this._instance;let t=Jv.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(t.interceptors.request.use(this.requestInterceptor.bind(this)),t.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(t.interceptors.request.use(i=>(this.config.logger(`Requesting: ${i.baseURL}/${i.url}`),i)),t.interceptors.response.use(i=>(this.config.logger(`Response: ${i.config.url} - ${i.status}`),i))),this._instance=t}async request(t,i){let r=this.instance,u=(i==null?void 0:i.url)??new URL(t,this.config.url).toString();return(0,Xv.default)(a=>r({...i,url:u}),{...this.config.retry,...i==null?void 0:i.retry})}},Jl=t=>typeof t!="string"&&"url"in t,Yv={maxAttempts:15,randomlySelect:!0},Qv=class{constructor({gateways:t,miners:i,opts:r}){Pt(this,"minerInstances",[]);Pt(this,"globalConfig");Pt(this,"gatewayInstances",[]);this.globalConfig=(r==null?void 0:r.globalConfig)??{},i&&this.addMiners(i),t&&this.addGateways(t)}async addPeersFrom(t,i){let r=(await this.get("",{url:new URL("/peers",t).toString()})).data;this.addMiners(r.slice(0,i==null?void 0:i.limit).map(u=>`http://${u}`))}addMiners(t){t.forEach(i=>this.minerInstances.push(new Zl(Jl(i)?i:{url:new URL(i),...this.globalConfig})))}addGateways(t){t.forEach(i=>this.gatewayInstances.push(new Zl(Jl(i)?i:{url:new URL(i),...this.globalConfig})))}async get(t,i){return this.request(t,{...i,method:"GET"})}async post(t,i,r){return this.request(t,{data:i,...r,method:"POST"})}async request(t,i){let r={...Yv,...i==null?void 0:i.fallback},u=0,a=i!=null&&i.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),s=Math.min(Math.max(r==null?void 0:r.maxAttempts,1),a.length),e=r==null?void 0:r.onFallback;if(a.length===0)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;u++<s;){let o=a.at(r!=null&&r.randomlySelect?Math.floor(Math.random()*a.length):u-1);if(o)try{return await o.request(t,{...i})}catch(c){if(e==null||e(c,o),u>=s)throw c}}throw new Error("unreachable")}},t3=Qv;lt();var Fd=class{get(t,i){if(!Object.getOwnPropertyNames(this).includes(t))throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);if(this[t]instanceof Uint8Array)return i&&i.decode&&i.string?hh(this[t]):i&&i.decode&&!i.string?this[t]:un(this[t]);if(this[t]instanceof Array){if((i==null?void 0:i.decode)!==void 0||(i==null?void 0:i.string)!==void 0)throw t==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[t]}return i&&i.decode==!0?i&&i.string?ud(this[t]):on(this[t]):this[t]}},e3=class extends Fd{constructor(i,r){super();Pt(this,"name");Pt(this,"value");this.name=i,this.value=r}},Kr=class extends Fd{constructor({attributes:i,deps:r}){super();Pt(this,"format",2);Pt(this,"id","");Pt(this,"last_tx","");Pt(this,"owner","");Pt(this,"tags",[]);Pt(this,"target","");Pt(this,"quantity","0");Pt(this,"data_size","0");Pt(this,"data",new Uint8Array);Pt(this,"data_root","");Pt(this,"reward","0");Pt(this,"signature","");Pt(this,"merkle");Pt(this,"deepHash");Pt(this,"chunks");this.merkle=r.merkle,this.deepHash=r.deepHash,Object.assign(this,i),typeof this.data=="string"&&(this.data=on(this.data)),i.tags&&(this.tags=i.tags)}addTag(i,r){this.tags.push({name:Js(i),value:Js(r)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:un(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(i){this.owner=i}setSignature({id:i,owner:r,reward:u,tags:a,signature:s}){this.id=i,this.owner=r,u&&(this.reward=u),a&&(this.tags=a),this.signature=s}async prepareChunks(i){!this.chunks&&i.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(i),this.data_root=un(this.chunks.data_root)),!this.chunks&&i.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(i,r){if(!this.chunks)throw new Error("Chunks have not been prepared");let u=this.chunks.proofs[i],a=this.chunks.chunks[i];return{data_root:this.data_root,data_size:this.data_size,data_path:un(u.proof),offset:u.offset.toString(),chunk:un(r.slice(a.minByteRange,a.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let i=this.tags.reduce((u,a)=>Tr([u,on(a.name),on(a.value)]),new Uint8Array);return Tr([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),je(this.quantity),je(this.reward),this.get("last_tx",{decode:!0,string:!1}),i]);case 2:this.data_root||await this.prepareChunks(this.data);let r=this.tags.map(u=>[on(u.name),on(u.value)]);return await this.deepHash.deepHash([je(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),je(this.quantity),je(this.reward),this.get("last_tx",{decode:!0,string:!1}),r,je(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};lt();var r3=class{constructor(t){Pt(this,"api");this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}};lt();lt();var Xl=1,n3=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],Yl=1e3*40,ao=class{constructor({deps:t,transaction:i}){Pt(this,"chunkIndex",0);Pt(this,"txPosted",!1);Pt(this,"transaction");Pt(this,"lastRequestTimeEnd",0);Pt(this,"totalErrors",0);Pt(this,"data");Pt(this,"lastResponseStatus",0);Pt(this,"lastResponseError","");Pt(this,"crypto");Pt(this,"api");Pt(this,"merkle");Pt(this,"deepHash");if(!i.id)throw new Error("Transaction is not signed");if(!i.chunks)throw new Error("Transaction chunks not prepared");this.api=t.api,this.crypto=t.crypto,this.merkle=t.merkle,this.deepHash=t.deepHash,this.data=i.data,this.transaction=new Kr({attributes:Object.assign({},i,{data:new Uint8Array(0)}),deps:{merkle:t.merkle,deepHash:t.deepHash}})}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(t){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let i=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+Yl-Date.now(),Yl);if(i>0&&(i=i-i*Math.random()*.3,await new Promise(a=>setTimeout(a,i))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}t&&(this.chunkIndex=t);let r=this.transaction.getChunk(t||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(r.offset),0,parseInt(r.data_size),on(r.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let u=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(a=>(console.error(a.message),{status:-1,data:{error:a.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=u.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=aa(u),n3.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:t,data:i,deps:r}){if(!t||typeof t.chunkIndex!="number"||typeof t.transaction!="object")throw new Error("Serialized object does not match expected format.");let u=new Kr(t.transaction);u.chunks||await u.prepareChunks(i);let a=new ao({deps:r,transaction:u});if(a.chunkIndex=t.chunkIndex,a.lastRequestTimeEnd=t.lastRequestTimeEnd,a.lastResponseError=t.lastResponseError,a.lastResponseStatus=t.lastResponseStatus,a.txPosted=t.txPosted,a.data=i,a.transaction.data_root!==t.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return a}static async fromTransactionId(t,i){let r=await t.get(`tx/${i}`);if(r.status!==200)throw new Error(`Tx ${i} not found: ${r.status}`);let u=r.data;return u.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:u}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=Xl){this.transaction.data=this.data;let i=await this.api.post("tx",this.transaction).catch(r=>(console.error(r),{status:-1,data:{error:r.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=i.status,this.transaction.data=new Uint8Array(0),i.status>=200&&i.status<300){this.txPosted=!0,this.chunkIndex=Xl;return}throw this.lastResponseError=aa(i),new Error(`Unable to upload transaction: ${i.status}, ${this.lastResponseError}`)}let t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=aa(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}},i3=class{constructor({deps:t}){Pt(this,"api");Pt(this,"crypto");Pt(this,"chunks");Pt(this,"merkle");Pt(this,"deepHash");this.api=t.api,this.crypto=t.crypto,this.chunks=t.chunks,this.merkle=t.merkle,this.deepHash=t.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(t=>t.data)}getPrice(t,i){let r=i?`price/${t}/${i}`:`price/${t}`;return this.api.get(r,{transformResponse:[function(u){return u}]}).then(u=>u.data)}async get(t){let i=await this.api.get(`tx/${t}`);if(i.status==200){let r=parseInt(i.data.data_size);if(i.data.format>=2&&r>0&&r<=1024*1024*12){let u=await this.getData(t);return new Kr({attributes:{...i.data,data:u},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new Kr({attributes:{...i.data,format:i.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}throw i.status===404?new ia("TX_NOT_FOUND"):i.status===410?new ia("TX_FAILED"):new ia("TX_INVALID")}fromRaw(t){return new Kr({attributes:t,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(t){return this.api.get(`tx/${t}/status`).then(i=>i.status===200?{status:200,confirmed:i.data}:{status:i.status,confirmed:null})}async getData(t){let i;try{i=(await this.api.get(`/${t}`,{responseType:"arraybuffer"})).data}catch(r){console.error(`Error while trying to download contiguous data from gateway cache for ${t}`),console.error(r)}if(!i){console.warn(`Falling back to chunks for ${t}`);try{i=await this.chunks.downloadChunkedData(t)}catch(r){console.error(`Error while trying to download chunked data for ${t}`),console.error(r)}}if(!i)throw new Error(`${t} data was not found!`);return i}async getDataStream(t){let i;try{let r=(await this.api.get(`/${t}`,{responseType:"arraybuffer"})).data;i=async function*(){yield r}()}catch(r){console.error(`Error while trying to download contiguous data from gateway cache for ${t}`),console.error(r)}if(!i){console.warn(`Falling back to chunks for ${t}`);try{i=this.chunks.concurrentChunkDownloader(t)}catch(r){console.error(`Error while trying to download chunked data for ${t}`),console.error(r)}}if(!i)throw new Error(`${t} data was not found!`);return i}async sign(t,i,r){let u=typeof i=="object"&&(s=>{let e=!0;return["n","e","d","p","q","dp","dq","qi"].map(o=>!(o in s)&&(e=!1)),e})(i),a=typeof arweaveWallet=="object";if(!u&&!a)throw new Error("No valid JWK or external wallet found to sign transaction.");if(a){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}t.tags=t.tags.map(e=>new e3(e.name,e.value));let s=await arweaveWallet.sign(t,r);t.setSignature({id:s.id,owner:s.owner,reward:s.reward,tags:s.tags,signature:s.signature})}else if(u){t.setOwner(i.n);let s=await t.getSignatureData(),e=await this.crypto.sign(i,s,r),o=await this.crypto.hash(e);t.setSignature({id:un(o),owner:i.n,signature:un(e)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(t){let i=await t.getSignatureData(),r=t.get("signature",{decode:!0,string:!1}),u=un(await this.crypto.hash(r));if(t.id!==u)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(t.owner,i,r)}async post(t){if(typeof t=="string"?t=new Kr({attributes:JSON.parse(t),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof t.readInt32BE=="function"?t=new Kr({attributes:JSON.parse(t.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof t=="object"&&!(t instanceof Kr)&&(t=new Kr({attributes:t,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(t instanceof Kr))throw new Error("Must be Transaction object");t.chunks||await t.prepareChunks(t.data);let i=await this.getUploader(t,t.data);try{for(;!i.isComplete;)await i.uploadChunk()}catch(r){if(i.lastResponseStatus>0)return{status:i.lastResponseStatus,statusText:i.lastResponseError,data:{error:i.lastResponseError}};throw r}return{status:200,statusText:"OK",data:{}}}async getUploader(t,i){let r;if(i instanceof ArrayBuffer&&(i=new Uint8Array(i)),t instanceof Kr){if(i||(i=t.data),!(i instanceof Uint8Array))throw new Error("Data format is invalid");t.chunks||await t.prepareChunks(i),r=new ao({transaction:t,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),(!r.data||r.data.length===0)&&(r.data=i)}else{if(typeof t=="string"&&(t=await ao.fromTransactionId(this.api,t)),!i||!(i instanceof Uint8Array))throw new Error("Must provide data when resuming upload");r=await ao.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:t,data:i})}return r}async*upload(t,i){let r=await this.getUploader(t,i);for(;!r.isComplete;)await r.uploadChunk(),yield r;return r}};lt();var a3=class{constructor(t,i){Pt(this,"api");Pt(this,"crypto");this.api=t,this.crypto=i}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(i){return i}]}).then(i=>i.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(i=>i.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return!t||t==="use_wallet"?this.getAddress():this.getAddress(t)}async getAddress(t){if(!t||t==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(t.n)}async ownerToAddress(t){return un(await this.crypto.hash(on(t)))}},Kd=class{constructor(t){Pt(this,"config");Pt(this,"api");Pt(this,"wallets");Pt(this,"transactions");Pt(this,"network");Pt(this,"blocks");Pt(this,"chunks");Pt(this,"crypto");Pt(this,"deepHash");Pt(this,"merkle");if(this.config=t,!t.crypto)throw new Error("config.crypto is required");this.crypto=Ob(t.crypto,{deepHash:Ib}),this.deepHash=this.crypto.deepHash;let i=t.gateways?Array.isArray(t.gateways)?t.gateways:[t.gateways]:void 0;this.api=new t3({gateways:i,miners:t.miners}),this.wallets=new a3(this.api,this.crypto),this.chunks=new kb(this.api),this.network=new r3(this.api),this.blocks=new Ab(this.api,this.network),this.merkle=new xb({deps:{crypto:this.crypto}}),this.transactions=new i3({deps:{api:this.api,crypto:t.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return Kd.utils}getConfig(){return this.config}async createTransaction(t,i){let r={};if(Object.assign(r,t),!t.data&&!(t.target&&t.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(t.owner==null&&i&&i!=="use_wallet"&&(r.owner=i.n),t.last_tx==null&&(r.last_tx=await this.transactions.getTransactionAnchor()),typeof t.data=="string"&&(t.data=je(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),t.data&&!(t.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(t.reward==null){let a=t.data?t.data.byteLength:0;r.reward=await this.transactions.getPrice(a,r.target)}r.data_root="",r.data_size=t.data?t.data.byteLength.toString():"0",r.data=t.data||new Uint8Array(0);let u=new Kr({attributes:r,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await u.getSignatureData(),u}},oa=Kd;Wr(oa,"init"),Wr(oa,"utils",ad),Wr(oa,"VERSION","0.0.1");var zd=oa,Wd=class extends oa{constructor(t,i){super({crypto:(i==null?void 0:i.crypto)??new eo,...i,gateways:t??"https://arweave.net"})}static init(t){return new Wd(t)}},o3=eo.default?eo.default:eo,qd=class extends o3{getPublicKey(t){throw new Error("Unimplemented")}},s3;function Ar(){return s3??(s3=new qd)}var u3=ye(Gr(),1),Ql=ye(gi(),1),$d=class{constructor(t,i){Pt(this,"_key");Pt(this,"pk");Pt(this,"signatureType",1);Pt(this,"ownerLength",qe[1].pubLength);Pt(this,"signatureLength",qe[1].sigLength);Pt(this,"_publicKey");this._key=t,this.pk=i,i||(this.pk=Ar().getPublicKey(JSON.parse(t)))}get publicKey(){return this._publicKey}sign(t){return(0,Ql.createSign)("sha256").update(t).sign({key:this._key,padding:Ql.constants.RSA_PKCS1_PSS_PADDING})}static async verify(t,i,r){return await Ar().verify(Ut.Buffer.isBuffer(t)?u3.default.encode(t):t,i,r)}};lt();var h3=ye($0(),1),Hd=ye(sr(),1),mi=h3.default.define,l3=mi("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),Gd=mi("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())});mi("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Gd),this.key("publicKey").bitstr())});var Vd=mi("Version",function(){this.int({0:"two-prime",1:"multi"})}),f3=mi("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),c3=mi("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(Vd),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(f3))});mi("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(Vd),this.key("algorithm").use(Gd),this.key("privateKey").bitstr())});function d3(t){return{n:Un(t.n),e:Un(t.e),d:t.d&&Un(t.d),p:t.p&&Un(t.p),q:t.q&&Un(t.q),dp:t.dp&&Un(t.dp),dq:t.dq&&Un(t.dq),qi:t.qi&&Un(t.qi)}}function p3(t){return new Hd.default(Ut.Buffer.from(t,"base64"))}function Un(t){return/^[0-9]+$/.test(t)?new Hd.default(t,10):p3(t)}function g3(t){let i=d3(t),r=!!i.d,u=r?"PRIVATE":"PUBLIC",a="-----BEGIN RSA "+u+` KEY-----
`,s=`
-----END RSA `+u+` KEY-----
`,e=Ut.Buffer.alloc(0);r?(i.version="two-prime",e=c3.encode(i,"der")):e=l3.encode(i,"der");let o=e.toString("base64").match(/.{1,64}/g).join(`
`);return a+o+s}var m3=ye(Gr(),1),Zd=class extends $d{constructor(i){super(g3(i),i.n);Pt(this,"jwk");this.jwk=i}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return m3.default.toBuffer(this.pk)}sign(i){return Ar().sign(this.jwk,i)}static async verify(i,r,u){return await Ar().verify(i,r,u)}};lt();var y3=ye(Gr(),1),Jd=class{constructor(t){Pt(this,"_publicKey");Pt(this,"ownerLength",qe[2].pubLength);Pt(this,"signatureLength",qe[2].sigLength);Pt(this,"signatureType",2);Pt(this,"pem");Pt(this,"provider");if(this.provider=t,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(t){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(t)}static async verify(t,i,r){let u=t;return typeof t=="string"&&(u=y3.default.toBuffer(t)),os(Ut.Buffer.from(r),Ut.Buffer.from(i),Ut.Buffer.from(u))}};lt();lt();lt();lt();var b3=ye(vy());lt();lt();lt();var v3="logger/5.7.0",tf=!1,ef=!1,oo={debug:1,default:2,info:2,warning:3,error:4,off:5},rf=oo.default,js=null;function w3(){try{let t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(i=>{try{if("test".normalize(i)!=="test")throw new Error("bad normalize")}catch{t.push(i)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}var nf=w3(),ru;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(ru||(ru={}));var rn;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(rn||(rn={}));var af="0123456789abcdef",de=class{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,i){let r=t.toLowerCase();oo[r]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(rf>oo[r])&&console.log.apply(console,i)}debug(...t){this._log(de.levels.DEBUG,t)}info(...t){this._log(de.levels.INFO,t)}warn(...t){this._log(de.levels.WARNING,t)}makeError(t,i,r){if(ef)return this.makeError("censored error",i,{});i||(i=de.errors.UNKNOWN_ERROR),r||(r={});let u=[];Object.keys(r).forEach(o=>{let c=r[o];try{if(c instanceof Uint8Array){let f="";for(let l=0;l<c.length;l++)f+=af[c[l]>>4],f+=af[c[l]&15];u.push(o+"=Uint8Array(0x"+f+")")}else u.push(o+"="+JSON.stringify(c))}catch{u.push(o+"="+JSON.stringify(r[o].toString()))}}),u.push(`code=${i}`),u.push(`version=${this.version}`);let a=t,s="";switch(i){case rn.NUMERIC_FAULT:{s="NUMERIC_FAULT";let o=t;switch(o){case"overflow":case"underflow":case"division-by-zero":s+="-"+o;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case rn.CALL_EXCEPTION:case rn.INSUFFICIENT_FUNDS:case rn.MISSING_NEW:case rn.NONCE_EXPIRED:case rn.REPLACEMENT_UNDERPRICED:case rn.TRANSACTION_REPLACED:case rn.UNPREDICTABLE_GAS_LIMIT:s=i;break}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),u.length&&(t+=" ("+u.join(", ")+")");let e=new Error(t);return e.reason=a,e.code=i,Object.keys(r).forEach(function(o){e[o]=r[o]}),e}throwError(t,i,r){throw this.makeError(t,i,r)}throwArgumentError(t,i,r){return this.throwError(t,de.errors.INVALID_ARGUMENT,{argument:i,value:r})}assert(t,i,r,u){t||this.throwError(i,r,u)}assertArgument(t,i,r,u){t||this.throwArgumentError(i,r,u)}checkNormalize(t){nf&&this.throwError("platform missing String.prototype.normalize",de.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:nf})}checkSafeUint53(t,i){typeof t=="number"&&(i==null&&(i="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(i,de.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(i,de.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,i,r){r?r=": "+r:r="",t<i&&this.throwError("missing argument"+r,de.errors.MISSING_ARGUMENT,{count:t,expectedCount:i}),t>i&&this.throwError("too many arguments"+r,de.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:i})}checkNew(t,i){(t===Object||t==null)&&this.throwError("missing new",de.errors.MISSING_NEW,{name:i.name})}checkAbstract(t,i){t===i?this.throwError("cannot instantiate abstract class "+JSON.stringify(i.name)+" directly; use a sub-class",de.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",de.errors.MISSING_NEW,{name:i.name})}static globalLogger(){return js||(js=new de(v3)),js}static setCensorship(t,i){if(!t&&i&&this.globalLogger().throwError("cannot permanently disable censorship",de.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),tf){if(!t)return;this.globalLogger().throwError("error censorship permanent",de.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ef=!!t,tf=!!i}static setLogLevel(t){let i=oo[t.toLowerCase()];if(i==null){de.globalLogger().warn("invalid log level - "+t);return}rf=i}static from(t){return new de(t)}};de.errors=rn;de.levels=ru;lt();var _3="bytes/5.7.0",hr=new de(_3);function Xd(t){return!!t.toHexString}function xi(t){return t.slice||(t.slice=function(){let i=Array.prototype.slice.call(arguments);return xi(new Uint8Array(Array.prototype.slice.apply(t,i)))}),t}function ph(t){return xr(t)&&!(t.length%2)||ds(t)}function of(t){return typeof t=="number"&&t==t&&t%1===0}function ds(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!of(t.length)||t.length<0)return!1;for(let i=0;i<t.length;i++){let r=t[i];if(!of(r)||r<0||r>=256)return!1}return!0}function ue(t,i){if(i||(i={}),typeof t=="number"){hr.checkSafeUint53(t,"invalid arrayify value");let r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),xi(new Uint8Array(r))}if(i.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Xd(t)&&(t=t.toHexString()),xr(t)){let r=t.substring(2);r.length%2&&(i.hexPad==="left"?r="0"+r:i.hexPad==="right"?r+="0":hr.throwArgumentError("hex data is odd-length","value",t));let u=[];for(let a=0;a<r.length;a+=2)u.push(parseInt(r.substring(a,a+2),16));return xi(new Uint8Array(u))}return ds(t)?xi(new Uint8Array(t)):hr.throwArgumentError("invalid arrayify value","value",t)}function Vn(t){let i=t.map(a=>ue(a)),r=i.reduce((a,s)=>a+s.length,0),u=new Uint8Array(r);return i.reduce((a,s)=>(u.set(s,a),a+s.length),0),xi(u)}function $n(t){let i=ue(t);if(i.length===0)return i;let r=0;for(;r<i.length&&i[r]===0;)r++;return r&&(i=i.slice(r)),i}function E3(t,i){t=ue(t),t.length>i&&hr.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(i);return r.set(t,i-t.length),xi(r)}function xr(t,i){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||i&&t.length!==2+2*i)}var Us="0123456789abcdef";function be(t,i){if(i||(i={}),typeof t=="number"){hr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Us[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(i.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Xd(t))return t.toHexString();if(xr(t))return t.length%2&&(i.hexPad==="left"?t="0x0"+t.substring(2):i.hexPad==="right"?t+="0":hr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ds(t)){let r="0x";for(let u=0;u<t.length;u++){let a=t[u];r+=Us[(a&240)>>4]+Us[a&15]}return r}return hr.throwArgumentError("invalid hexlify value","value",t)}function Yd(t){if(typeof t!="string")t=be(t);else if(!xr(t)||t.length%2)return null;return(t.length-2)/2}function fa(t,i,r){return typeof t!="string"?t=be(t):(!xr(t)||t.length%2)&&hr.throwArgumentError("invalid hexData","value",t),i=2+2*i,r!=null?"0x"+t.substring(i,2+2*r):"0x"+t.substring(i)}function ki(t){let i="0x";return t.forEach(r=>{i+=be(r).substring(2)}),i}function $r(t,i){for(typeof t!="string"?t=be(t):xr(t)||hr.throwArgumentError("invalid hex string","value",t),t.length>2*i+2&&hr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*i+2;)t="0x0"+t.substring(2);return t}function Wi(t){let i={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ph(t)){let r=ue(t);r.length===64?(i.v=27+(r[32]>>7),r[32]&=127,i.r=be(r.slice(0,32)),i.s=be(r.slice(32,64))):r.length===65?(i.r=be(r.slice(0,32)),i.s=be(r.slice(32,64)),i.v=r[64]):hr.throwArgumentError("invalid signature string","signature",t),i.v<27&&(i.v===0||i.v===1?i.v+=27:hr.throwArgumentError("signature invalid v byte","signature",t)),i.recoveryParam=1-i.v%2,i.recoveryParam&&(r[32]|=128),i._vs=be(r.slice(32,64))}else{if(i.r=t.r,i.s=t.s,i.v=t.v,i.recoveryParam=t.recoveryParam,i._vs=t._vs,i._vs!=null){let a=E3(ue(i._vs),32);i._vs=be(a);let s=a[0]>=128?1:0;i.recoveryParam==null?i.recoveryParam=s:i.recoveryParam!==s&&hr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),a[0]&=127;let e=be(a);i.s==null?i.s=e:i.s!==e&&hr.throwArgumentError("signature v mismatch _vs","signature",t)}if(i.recoveryParam==null)i.v==null?hr.throwArgumentError("signature missing v and recoveryParam","signature",t):i.v===0||i.v===1?i.recoveryParam=i.v:i.recoveryParam=1-i.v%2;else if(i.v==null)i.v=27+i.recoveryParam;else{let a=i.v===0||i.v===1?i.v:1-i.v%2;i.recoveryParam!==a&&hr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}i.r==null||!xr(i.r)?hr.throwArgumentError("signature missing or invalid r","signature",t):i.r=$r(i.r,32),i.s==null||!xr(i.s)?hr.throwArgumentError("signature missing or invalid s","signature",t):i.s=$r(i.s,32);let r=ue(i.s);r[0]>=128&&hr.throwArgumentError("signature s out of range","signature",t),i.recoveryParam&&(r[0]|=128);let u=be(r);i._vs&&(xr(i._vs)||hr.throwArgumentError("signature invalid _vs","signature",t),i._vs=$r(i._vs,32)),i._vs==null?i._vs=u:i._vs!==u&&hr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return i.yParityAndS=i._vs,i.compact=i.r+i.yParityAndS.substring(2),i}function sf(t){return t=Wi(t),be(Vn([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}function Mr(t){return"0x"+b3.default.keccak_256(ue(t))}lt();lt();lt();var S3=ye(wy());lt();var A3="bignumber/5.7.0",wo=S3.default.BN,kn=new de(A3),Fs={},uf=9007199254740991,hf=!1,Qe=class{constructor(t,i){t!==Fs&&kn.throwError("cannot call constructor directly; use BigNumber.from",de.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=i,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Or(Me(this).fromTwos(t))}toTwos(t){return Or(Me(this).toTwos(t))}abs(){return this._hex[0]==="-"?Qe.from(this._hex.substring(1)):this}add(t){return Or(Me(this).add(Me(t)))}sub(t){return Or(Me(this).sub(Me(t)))}div(t){return Qe.from(t).isZero()&&jr("division-by-zero","div"),Or(Me(this).div(Me(t)))}mul(t){return Or(Me(this).mul(Me(t)))}mod(t){let i=Me(t);return i.isNeg()&&jr("division-by-zero","mod"),Or(Me(this).umod(i))}pow(t){let i=Me(t);return i.isNeg()&&jr("negative-power","pow"),Or(Me(this).pow(i))}and(t){let i=Me(t);return(this.isNegative()||i.isNeg())&&jr("unbound-bitwise-result","and"),Or(Me(this).and(i))}or(t){let i=Me(t);return(this.isNegative()||i.isNeg())&&jr("unbound-bitwise-result","or"),Or(Me(this).or(i))}xor(t){let i=Me(t);return(this.isNegative()||i.isNeg())&&jr("unbound-bitwise-result","xor"),Or(Me(this).xor(i))}mask(t){return(this.isNegative()||t<0)&&jr("negative-width","mask"),Or(Me(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&jr("negative-width","shl"),Or(Me(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&jr("negative-width","shr"),Or(Me(this).shrn(t))}eq(t){return Me(this).eq(Me(t))}lt(t){return Me(this).lt(Me(t))}lte(t){return Me(this).lte(Me(t))}gt(t){return Me(this).gt(Me(t))}gte(t){return Me(this).gte(Me(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Me(this).isZero()}toNumber(){try{return Me(this).toNumber()}catch{jr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return kn.throwError("this platform does not support BigInt",de.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?hf||(hf=!0,kn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?kn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",de.errors.UNEXPECTED_ARGUMENT,{}):kn.throwError("BigNumber.toString does not accept parameters",de.errors.UNEXPECTED_ARGUMENT,{})),Me(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Qe)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Qe(Fs,ca(t)):t.match(/^-?[0-9]+$/)?new Qe(Fs,ca(new wo(t))):kn.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&jr("underflow","BigNumber.from",t),(t>=uf||t<=-uf)&&jr("overflow","BigNumber.from",t),Qe.from(String(t));let i=t;if(typeof i=="bigint")return Qe.from(i.toString());if(ds(i))return Qe.from(be(i));if(i)if(i.toHexString){let r=i.toHexString();if(typeof r=="string")return Qe.from(r)}else{let r=i._hex;if(r==null&&i.type==="BigNumber"&&(r=i.hex),typeof r=="string"&&(xr(r)||r[0]==="-"&&xr(r.substring(1))))return Qe.from(r)}return kn.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function ca(t){if(typeof t!="string")return ca(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&kn.throwArgumentError("invalid hex","value",t),t=ca(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Or(t){return Qe.from(ca(t))}function Me(t){let i=Qe.from(t).toHexString();return i[0]==="-"?new wo("-"+i.substring(3),16):new wo(i.substring(2),16)}function jr(t,i,r){let u={fault:t,operation:i};return r!=null&&(u.value=r),kn.throwError(t,de.errors.NUMERIC_FAULT,u)}function T3(t){return new wo(t,36).toString(16)}lt();lt();var M3="strings/5.7.0",x3=new de(M3),fi;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(fi||(fi={}));var lf;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(lf||(lf={}));function Bn(t,i=fi.current){i!=fi.current&&(x3.checkNormalize(),t=t.normalize(i));let r=[];for(let u=0;u<t.length;u++){let a=t.charCodeAt(u);if(a<128)r.push(a);else if(a<2048)r.push(a>>6|192),r.push(a&63|128);else if((a&64512)==55296){u++;let s=t.charCodeAt(u);if(u>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let e=65536+((a&1023)<<10)+(s&1023);r.push(e>>18|240),r.push(e>>12&63|128),r.push(e>>6&63|128),r.push(e&63|128)}else r.push(a>>12|224),r.push(a>>6&63|128),r.push(a&63|128)}return ue(r)}function gh(t){return Mr(Bn(t))}lt();var k3="hash/5.7.0";lt();var O3=`Ethereum Signed Message:
`;function ps(t){return typeof t=="string"&&(t=Bn(t)),Mr(Vn([Bn(O3),Bn(String(t.length)),t]))}lt();lt();lt();lt();var I3="rlp/5.7.0",B3=new de(I3);function ff(t){let i=[];for(;t;)i.unshift(t&255),t>>=8;return i}function Qd(t){if(Array.isArray(t)){let u=[];if(t.forEach(function(s){u=u.concat(Qd(s))}),u.length<=55)return u.unshift(192+u.length),u;let a=ff(u.length);return a.unshift(247+a.length),a.concat(u)}ph(t)||B3.throwArgumentError("RLP object must be BytesLike","object",t);let i=Array.prototype.slice.call(ue(t));if(i.length===1&&i[0]<=127)return i;if(i.length<=55)return i.unshift(128+i.length),i;let r=ff(i.length);return r.unshift(183+r.length),r.concat(i)}function _o(t){return be(Qd(t))}lt();var C3="address/5.7.0",ea=new de(C3);function cf(t){xr(t,20)||ea.throwArgumentError("invalid address","address",t),t=t.toLowerCase();let i=t.substring(2).split(""),r=new Uint8Array(40);for(let a=0;a<40;a++)r[a]=i[a].charCodeAt(0);let u=ue(Mr(r));for(let a=0;a<40;a+=2)u[a>>1]>>4>=8&&(i[a]=i[a].toUpperCase()),(u[a>>1]&15)>=8&&(i[a+1]=i[a+1].toUpperCase());return"0x"+i.join("")}var P3=9007199254740991;function R3(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}var mh={};for(let t=0;t<10;t++)mh[String(t)]=String(t);for(let t=0;t<26;t++)mh[String.fromCharCode(65+t)]=String(10+t);var df=Math.floor(R3(P3));function N3(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let i=t.split("").map(u=>mh[u]).join("");for(;i.length>=df;){let u=i.substring(0,df);i=parseInt(u,10)%97+i.substring(u.length)}let r=String(98-parseInt(i,10)%97);for(;r.length<2;)r="0"+r;return r}function ln(t){let i=null;if(typeof t!="string"&&ea.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),i=cf(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&i!==t&&ea.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==N3(t)&&ea.throwArgumentError("bad icap checksum","address",t),i=T3(t.substring(4));i.length<40;)i="0"+i;i=cf("0x"+i)}else ea.throwArgumentError("invalid address","address",t);return i}lt();lt();var L3="properties/5.7.0",D3=function(t,i,r,u){function a(s){return s instanceof r?s:new r(function(e){e(s)})}return new(r||(r=Promise))(function(s,e){function o(l){try{f(u.next(l))}catch(p){e(p)}}function c(l){try{f(u.throw(l))}catch(p){e(p)}}function f(l){l.done?s(l.value):a(l.value).then(o,c)}f((u=u.apply(t,i||[])).next())})},Eo=new de(L3);function we(t,i,r){Object.defineProperty(t,i,{enumerable:!0,value:r,writable:!1})}function Mi(t){return D3(this,void 0,void 0,function*(){let i=Object.keys(t).map(r=>{let u=t[r];return Promise.resolve(u).then(a=>({key:r,value:a}))});return(yield Promise.all(i)).reduce((r,u)=>(r[u.key]=u.value,r),{})})}function j3(t,i){(!t||typeof t!="object")&&Eo.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{i[r]||Eo.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function nu(t){let i={};for(let r in t)i[r]=t[r];return i}var U3={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function t1(t){if(t==null||U3[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let i=Object.keys(t);for(let r=0;r<i.length;r++){let u=null;try{u=t[i[r]]}catch{continue}if(!t1(u))return!1}return!0}return Eo.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function F3(t){if(t1(t))return t;if(Array.isArray(t))return Object.freeze(t.map(i=>So(i)));if(typeof t=="object"){let i={};for(let r in t){let u=t[r];u!==void 0&&we(i,r,So(u))}return i}return Eo.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function So(t){return F3(t)}var e1=class{constructor(t){for(let i in t)this[i]=So(t[i])}},K3=function(t,i,r,u){function a(s){return s instanceof r?s:new r(function(e){e(s)})}return new(r||(r=Promise))(function(s,e){function o(l){try{f(u.next(l))}catch(p){e(p)}}function c(l){try{f(u.throw(l))}catch(p){e(p)}}function f(l){l.done?s(l.value):a(l.value).then(o,c)}f((u=u.apply(t,i||[])).next())})},ir=new de(k3),r1=new Uint8Array(32);r1.fill(0);var z3=Qe.from(-1),n1=Qe.from(0),i1=Qe.from(1),W3=Qe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function q3(t){let i=ue(t),r=i.length%32;return r?ki([i,r1.slice(r)]):be(i)}var $3=$r(i1.toHexString(),32),H3=$r(n1.toHexString(),32),pf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ks=["name","version","chainId","verifyingContract","salt"];function gf(t){return function(i){return typeof i!="string"&&ir.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,i),i}}var G3={name:gf("name"),version:gf("version"),chainId:function(t){try{return Qe.from(t).toString()}catch{}return ir.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ln(t).toLowerCase()}catch{}return ir.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{let i=ue(t);if(i.length!==32)throw new Error("bad length");return be(i)}catch{}return ir.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function zs(t){{let i=t.match(/^(u?)int(\d*)$/);if(i){let r=i[1]==="",u=parseInt(i[2]||"256");(u%8!==0||u>256||i[2]&&i[2]!==String(u))&&ir.throwArgumentError("invalid numeric width","type",t);let a=W3.mask(r?u-1:u),s=r?a.add(i1).mul(z3):n1;return function(e){let o=Qe.from(e);return(o.lt(s)||o.gt(a))&&ir.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),$r(o.toTwos(256).toHexString(),32)}}}{let i=t.match(/^bytes(\d+)$/);if(i){let r=parseInt(i[1]);return(r===0||r>32||i[1]!==String(r))&&ir.throwArgumentError("invalid bytes width","type",t),function(u){return ue(u).length!==r&&ir.throwArgumentError(`invalid length for ${t}`,"value",u),q3(u)}}}switch(t){case"address":return function(i){return $r(ln(i),32)};case"bool":return function(i){return i?$3:H3};case"bytes":return function(i){return Mr(i)};case"string":return function(i){return gh(i)}}return null}function mf(t,i){return`${t}(${i.map(({name:r,type:u})=>u+" "+r).join(",")})`}var Cr=class{constructor(t){we(this,"types",Object.freeze(So(t))),we(this,"_encoderCache",{}),we(this,"_types",{});let i={},r={},u={};Object.keys(t).forEach(e=>{i[e]={},r[e]=[],u[e]={}});for(let e in t){let o={};t[e].forEach(c=>{o[c.name]&&ir.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(e)}`,"types",t),o[c.name]=!0;let f=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];f===e&&ir.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",t),!zs(f)&&(r[f]||ir.throwArgumentError(`unknown type ${JSON.stringify(f)}`,"types",t),r[f].push(e),i[e][f]=!0)})}let a=Object.keys(r).filter(e=>r[e].length===0);a.length===0?ir.throwArgumentError("missing primary type","types",t):a.length>1&&ir.throwArgumentError(`ambiguous primary types or unused types: ${a.map(e=>JSON.stringify(e)).join(", ")}`,"types",t),we(this,"primaryType",a[0]);function s(e,o){o[e]&&ir.throwArgumentError(`circular type reference to ${JSON.stringify(e)}`,"types",t),o[e]=!0,Object.keys(i[e]).forEach(c=>{!r[c]||(s(c,o),Object.keys(o).forEach(f=>{u[f][c]=!0}))}),delete o[e]}s(this.primaryType,{});for(let e in u){let o=Object.keys(u[e]);o.sort(),this._types[e]=mf(e,t[e])+o.map(c=>mf(c,t[c])).join("")}}getEncoder(t){let i=this._encoderCache[t];return i||(i=this._encoderCache[t]=this._getEncoder(t)),i}_getEncoder(t){{let u=zs(t);if(u)return u}let i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let u=i[1],a=this.getEncoder(u),s=parseInt(i[3]);return e=>{s>=0&&e.length!==s&&ir.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let o=e.map(a);return this._types[u]&&(o=o.map(Mr)),Mr(ki(o))}}let r=this.types[t];if(r){let u=gh(this._types[t]);return a=>{let s=r.map(({name:e,type:o})=>{let c=this.getEncoder(o)(a[e]);return this._types[o]?Mr(c):c});return s.unshift(u),ki(s)}}return ir.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){let i=this._types[t];return i||ir.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),i}encodeData(t,i){return this.getEncoder(t)(i)}hashStruct(t,i){return Mr(this.encodeData(t,i))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,i,r){if(zs(t))return r(t,i);let u=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(u){let s=u[1],e=parseInt(u[3]);return e>=0&&i.length!==e&&ir.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",i),i.map(o=>this._visit(s,o,r))}let a=this.types[t];return a?a.reduce((s,{name:e,type:o})=>(s[e]=this._visit(o,i[e],r),s),{}):ir.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,i){return this._visit(this.primaryType,t,i)}static from(t){return new Cr(t)}static getPrimaryType(t){return Cr.from(t).primaryType}static hashStruct(t,i,r){return Cr.from(i).hashStruct(t,r)}static hashDomain(t){let i=[];for(let r in t){let u=pf[r];u||ir.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),i.push({name:r,type:u})}return i.sort((r,u)=>Ks.indexOf(r.name)-Ks.indexOf(u.name)),Cr.hashStruct("EIP712Domain",{EIP712Domain:i},t)}static encode(t,i,r){return ki(["0x1901",Cr.hashDomain(t),Cr.from(i).hash(r)])}static hash(t,i,r){return Mr(Cr.encode(t,i,r))}static resolveNames(t,i,r,u){return K3(this,void 0,void 0,function*(){t=nu(t);let a={};t.verifyingContract&&!xr(t.verifyingContract,20)&&(a[t.verifyingContract]="0x");let s=Cr.from(i);s.visit(r,(e,o)=>(e==="address"&&!xr(o,20)&&(a[o]="0x"),o));for(let e in a)a[e]=yield u(e);return t.verifyingContract&&a[t.verifyingContract]&&(t.verifyingContract=a[t.verifyingContract]),r=s.visit(r,(e,o)=>e==="address"&&a[o]?a[o]:o),{domain:t,value:r}})}static getPayload(t,i,r){Cr.hashDomain(t);let u={},a=[];Ks.forEach(o=>{let c=t[o];c!=null&&(u[o]=G3[o](c),a.push({name:o,type:pf[o]}))});let s=Cr.from(i),e=nu(i);return e.EIP712Domain?ir.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",i):e.EIP712Domain=a,s.encode(r),{types:e,domain:u,primaryType:s.primaryType,message:s.visit(r,(o,c)=>{if(o.match(/^bytes(\d*)/))return be(ue(c));if(o.match(/^u?int/))return Qe.from(c).toString();switch(o){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&ir.throwArgumentError("invalid string","value",c),c}return ir.throwArgumentError("unsupported type","type",o)})}}};lt();lt();var _e=ye(_y()),xn=ye(Ta());function qi(t,i,r){return r={path:i,exports:{},require:function(u,a){return V3(u,a??r.path)}},t(r,r.exports),r.exports}function V3(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var yh=a1;function a1(t,i){if(!t)throw new Error(i||"Assertion failed")}a1.equal=function(t,i,r){if(t!=i)throw new Error(r||"Assertion failed: "+t+" != "+i)};var hn=qi(function(t,i){var r=i;function u(e,o){if(Array.isArray(e))return e.slice();if(!e)return[];var c=[];if(typeof e!="string"){for(var f=0;f<e.length;f++)c[f]=e[f]|0;return c}if(o==="hex"){e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e);for(var f=0;f<e.length;f+=2)c.push(parseInt(e[f]+e[f+1],16))}else for(var f=0;f<e.length;f++){var l=e.charCodeAt(f),p=l>>8,g=l&255;p?c.push(p,g):c.push(g)}return c}r.toArray=u;function a(e){return e.length===1?"0"+e:e}r.zero2=a;function s(e){for(var o="",c=0;c<e.length;c++)o+=a(e[c].toString(16));return o}r.toHex=s,r.encode=function(e,o){return o==="hex"?s(e):e}}),Rr=qi(function(t,i){var r=i;r.assert=yh,r.toArray=hn.toArray,r.zero2=hn.zero2,r.toHex=hn.toHex,r.encode=hn.encode;function u(c,f,l){var p=new Array(Math.max(c.bitLength(),l)+1);p.fill(0);for(var g=1<<f+1,y=c.clone(),m=0;m<p.length;m++){var M,E=y.andln(g-1);y.isOdd()?(E>(g>>1)-1?M=(g>>1)-E:M=E,y.isubn(M)):M=0,p[m]=M,y.iushrn(1)}return p}r.getNAF=u;function a(c,f){var l=[[],[]];c=c.clone(),f=f.clone();for(var p=0,g=0,y;c.cmpn(-p)>0||f.cmpn(-g)>0;){var m=c.andln(3)+p&3,M=f.andln(3)+g&3;m===3&&(m=-1),M===3&&(M=-1);var E;m&1?(y=c.andln(7)+p&7,(y===3||y===5)&&M===2?E=-m:E=m):E=0,l[0].push(E);var B;M&1?(y=f.andln(7)+g&7,(y===3||y===5)&&m===2?B=-M:B=M):B=0,l[1].push(B),2*p===E+1&&(p=1-p),2*g===B+1&&(g=1-g),c.iushrn(1),f.iushrn(1)}return l}r.getJSF=a;function s(c,f,l){var p="_"+f;c.prototype[f]=function(){return this[p]!==void 0?this[p]:this[p]=l.call(this)}}r.cachedProperty=s;function e(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=e;function o(c){return new _e.default(c,"hex","le")}r.intFromLE=o}),Ao=Rr.getNAF,Z3=Rr.getJSF,To=Rr.assert;function ti(t,i){this.type=t,this.p=new _e.default(i.p,16),this.red=i.prime?_e.default.red(i.prime):_e.default.mont(this.p),this.zero=new _e.default(0).toRed(this.red),this.one=new _e.default(1).toRed(this.red),this.two=new _e.default(2).toRed(this.red),this.n=i.n&&new _e.default(i.n,16),this.g=i.g&&this.pointFromJSON(i.g,i.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var yi=ti;ti.prototype.point=function(){throw new Error("Not implemented")};ti.prototype.validate=function(){throw new Error("Not implemented")};ti.prototype._fixedNafMul=function(t,i){To(t.precomputed);var r=t._getDoubles(),u=Ao(i,1,this._bitLength),a=(1<<r.step+1)-(r.step%2===0?2:1);a/=3;var s=[],e,o;for(e=0;e<u.length;e+=r.step){o=0;for(var c=e+r.step-1;c>=e;c--)o=(o<<1)+u[c];s.push(o)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),p=a;p>0;p--){for(e=0;e<s.length;e++)o=s[e],o===p?l=l.mixedAdd(r.points[e]):o===-p&&(l=l.mixedAdd(r.points[e].neg()));f=f.add(l)}return f.toP()};ti.prototype._wnafMul=function(t,i){var r=4,u=t._getNAFPoints(r);r=u.wnd;for(var a=u.points,s=Ao(i,r,this._bitLength),e=this.jpoint(null,null,null),o=s.length-1;o>=0;o--){for(var c=0;o>=0&&s[o]===0;o--)c++;if(o>=0&&c++,e=e.dblp(c),o<0)break;var f=s[o];To(f!==0),t.type==="affine"?f>0?e=e.mixedAdd(a[f-1>>1]):e=e.mixedAdd(a[-f-1>>1].neg()):f>0?e=e.add(a[f-1>>1]):e=e.add(a[-f-1>>1].neg())}return t.type==="affine"?e.toP():e};ti.prototype._wnafMulAdd=function(t,i,r,u,a){var s=this._wnafT1,e=this._wnafT2,o=this._wnafT3,c=0,f,l,p;for(f=0;f<u;f++){p=i[f];var g=p._getNAFPoints(t);s[f]=g.wnd,e[f]=g.points}for(f=u-1;f>=1;f-=2){var y=f-1,m=f;if(s[y]!==1||s[m]!==1){o[y]=Ao(r[y],s[y],this._bitLength),o[m]=Ao(r[m],s[m],this._bitLength),c=Math.max(o[y].length,c),c=Math.max(o[m].length,c);continue}var M=[i[y],null,null,i[m]];i[y].y.cmp(i[m].y)===0?(M[1]=i[y].add(i[m]),M[2]=i[y].toJ().mixedAdd(i[m].neg())):i[y].y.cmp(i[m].y.redNeg())===0?(M[1]=i[y].toJ().mixedAdd(i[m]),M[2]=i[y].add(i[m].neg())):(M[1]=i[y].toJ().mixedAdd(i[m]),M[2]=i[y].toJ().mixedAdd(i[m].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],B=Z3(r[y],r[m]);for(c=Math.max(B[0].length,c),o[y]=new Array(c),o[m]=new Array(c),l=0;l<c;l++){var x=B[0][l]|0,C=B[1][l]|0;o[y][l]=E[(x+1)*3+(C+1)],o[m][l]=0,e[y]=M}}var N=this.jpoint(null,null,null),F=this._wnafT4;for(f=c;f>=0;f--){for(var I=0;f>=0;){var U=!0;for(l=0;l<u;l++)F[l]=o[l][f]|0,F[l]!==0&&(U=!1);if(!U)break;I++,f--}if(f>=0&&I++,N=N.dblp(I),f<0)break;for(l=0;l<u;l++){var P=F[l];P!==0&&(P>0?p=e[l][P-1>>1]:P<0&&(p=e[l][-P-1>>1].neg()),p.type==="affine"?N=N.mixedAdd(p):N=N.add(p))}}for(f=0;f<u;f++)e[f]=null;return a?N:N.toP()};function Jr(t,i){this.curve=t,this.type=i,this.precomputed=null}ti.BasePoint=Jr;Jr.prototype.eq=function(){throw new Error("Not implemented")};Jr.prototype.validate=function(){return this.curve.validate(this)};ti.prototype.decodePoint=function(t,i){t=Rr.toArray(t,i);var r=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*r){t[0]===6?To(t[t.length-1]%2===0):t[0]===7&&To(t[t.length-1]%2===1);var u=this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));return u}else if((t[0]===2||t[0]===3)&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),t[0]===3);throw new Error("Unknown point format")};Jr.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Jr.prototype._encode=function(t){var i=this.curve.p.byteLength(),r=this.getX().toArray("be",i);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",i))};Jr.prototype.encode=function(t,i){return Rr.encode(this._encode(i),t)};Jr.prototype.precompute=function(t){if(this.precomputed)return this;var i={doubles:null,naf:null,beta:null};return i.naf=this._getNAFPoints(8),i.doubles=this._getDoubles(4,t),i.beta=this._getBeta(),this.precomputed=i,this};Jr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var i=this.precomputed.doubles;return i?i.points.length>=Math.ceil((t.bitLength()+1)/i.step):!1};Jr.prototype._getDoubles=function(t,i){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],u=this,a=0;a<i;a+=t){for(var s=0;s<t;s++)u=u.dbl();r.push(u)}return{step:t,points:r}};Jr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var i=[this],r=(1<<t)-1,u=r===1?null:this.dbl(),a=1;a<r;a++)i[a]=i[a-1].add(u);return{wnd:t,points:i}};Jr.prototype._getBeta=function(){return null};Jr.prototype.dblp=function(t){for(var i=this,r=0;r<t;r++)i=i.dbl();return i};var bh=qi(function(t){typeof Object.create=="function"?t.exports=function(i,r){r&&(i.super_=r,i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(i,r){if(r){i.super_=r;var u=function(){};u.prototype=r.prototype,i.prototype=new u,i.prototype.constructor=i}}}),J3=Rr.assert;function Xr(t){yi.call(this,"short",t),this.a=new _e.default(t.a,16).toRed(this.red),this.b=new _e.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}bh(Xr,yi);var X3=Xr;Xr.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var i,r;if(t.beta)i=new _e.default(t.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);i=u[0].cmp(u[1])<0?u[0]:u[1],i=i.toRed(this.red)}if(t.lambda)r=new _e.default(t.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(i))===0?r=a[0]:(r=a[1],J3(this.g.mul(r).x.cmp(this.g.x.redMul(i))===0))}var s;return t.basis?s=t.basis.map(function(e){return{a:new _e.default(e.a,16),b:new _e.default(e.b,16)}}):s=this._getEndoBasis(r),{beta:i,lambda:r,basis:s}}};Xr.prototype._getEndoRoots=function(t){var i=t===this.p?this.red:_e.default.mont(t),r=new _e.default(2).toRed(i).redInvm(),u=r.redNeg(),a=new _e.default(3).toRed(i).redNeg().redSqrt().redMul(r),s=u.redAdd(a).fromRed(),e=u.redSub(a).fromRed();return[s,e]};Xr.prototype._getEndoBasis=function(t){for(var i=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=t,u=this.n.clone(),a=new _e.default(1),s=new _e.default(0),e=new _e.default(0),o=new _e.default(1),c,f,l,p,g,y,m,M=0,E,B;r.cmpn(0)!==0;){var x=u.div(r);E=u.sub(x.mul(r)),B=e.sub(x.mul(a));var C=o.sub(x.mul(s));if(!l&&E.cmp(i)<0)c=m.neg(),f=a,l=E.neg(),p=B;else if(l&&++M===2)break;m=E,u=r,r=E,e=a,a=B,o=s,s=C}g=E.neg(),y=B;var N=l.sqr().add(p.sqr()),F=g.sqr().add(y.sqr());return F.cmp(N)>=0&&(g=c,y=f),l.negative&&(l=l.neg(),p=p.neg()),g.negative&&(g=g.neg(),y=y.neg()),[{a:l,b:p},{a:g,b:y}]};Xr.prototype._endoSplit=function(t){var i=this.endo.basis,r=i[0],u=i[1],a=u.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),e=a.mul(r.a),o=s.mul(u.a),c=a.mul(r.b),f=s.mul(u.b),l=t.sub(e).sub(o),p=c.add(f).neg();return{k1:l,k2:p}};Xr.prototype.pointFromX=function(t,i){t=new _e.default(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),u=r.redSqrt();if(u.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var a=u.fromRed().isOdd();return(i&&!a||!i&&a)&&(u=u.redNeg()),this.point(t,u)};Xr.prototype.validate=function(t){if(t.inf)return!0;var i=t.x,r=t.y,u=this.a.redMul(i),a=i.redSqr().redMul(i).redIAdd(u).redIAdd(this.b);return r.redSqr().redISub(a).cmpn(0)===0};Xr.prototype._endoWnafMulAdd=function(t,i,r){for(var u=this._endoWnafT1,a=this._endoWnafT2,s=0;s<t.length;s++){var e=this._endoSplit(i[s]),o=t[s],c=o._getBeta();e.k1.negative&&(e.k1.ineg(),o=o.neg(!0)),e.k2.negative&&(e.k2.ineg(),c=c.neg(!0)),u[s*2]=o,u[s*2+1]=c,a[s*2]=e.k1,a[s*2+1]=e.k2}for(var f=this._wnafMulAdd(1,u,a,s*2,r),l=0;l<s*2;l++)u[l]=null,a[l]=null;return f};function yr(t,i,r,u){yi.BasePoint.call(this,t,"affine"),i===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _e.default(i,16),this.y=new _e.default(r,16),u&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}bh(yr,yi.BasePoint);Xr.prototype.point=function(t,i,r){return new yr(this,t,i,r)};Xr.prototype.pointFromJSON=function(t,i){return yr.fromJSON(this,t,i)};yr.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var i=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,u=function(a){return r.point(a.x.redMul(r.endo.beta),a.y)};t.beta=i,i.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(u)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(u)}}}return i}};yr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};yr.fromJSON=function(t,i,r){typeof i=="string"&&(i=JSON.parse(i));var u=t.point(i[0],i[1],r);if(!i[2])return u;function a(e){return t.point(e[0],e[1],r)}var s=i[2];return u.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[u].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[u].concat(s.naf.points.map(a))}},u};yr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};yr.prototype.isInfinity=function(){return this.inf};yr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var i=this.y.redSub(t.y);i.cmpn(0)!==0&&(i=i.redMul(this.x.redSub(t.x).redInvm()));var r=i.redSqr().redISub(this.x).redISub(t.x),u=i.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,u)};yr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var i=this.curve.a,r=this.x.redSqr(),u=t.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(i).redMul(u),s=a.redSqr().redISub(this.x.redAdd(this.x)),e=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,e)};yr.prototype.getX=function(){return this.x.fromRed()};yr.prototype.getY=function(){return this.y.fromRed()};yr.prototype.mul=function(t){return t=new _e.default(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};yr.prototype.mulAdd=function(t,i,r){var u=[this,i],a=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(u,a):this.curve._wnafMulAdd(1,u,a,2)};yr.prototype.jmulAdd=function(t,i,r){var u=[this,i],a=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(u,a,!0):this.curve._wnafMulAdd(1,u,a,2,!0)};yr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};yr.prototype.neg=function(t){if(this.inf)return this;var i=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,u=function(a){return a.neg()};i.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(u)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(u)}}}return i};yr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function wr(t,i,r,u){yi.BasePoint.call(this,t,"jacobian"),i===null&&r===null&&u===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _e.default(0)):(this.x=new _e.default(i,16),this.y=new _e.default(r,16),this.z=new _e.default(u,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}bh(wr,yi.BasePoint);Xr.prototype.jpoint=function(t,i,r){return new wr(this,t,i,r)};wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),i=t.redSqr(),r=this.x.redMul(i),u=this.y.redMul(i).redMul(t);return this.curve.point(r,u)};wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};wr.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var i=t.z.redSqr(),r=this.z.redSqr(),u=this.x.redMul(i),a=t.x.redMul(r),s=this.y.redMul(i.redMul(t.z)),e=t.y.redMul(r.redMul(this.z)),o=u.redSub(a),c=s.redSub(e);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),l=f.redMul(o),p=u.redMul(f),g=c.redSqr().redIAdd(l).redISub(p).redISub(p),y=c.redMul(p.redISub(g)).redISub(s.redMul(l)),m=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(g,y,m)};wr.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var i=this.z.redSqr(),r=this.x,u=t.x.redMul(i),a=this.y,s=t.y.redMul(i).redMul(this.z),e=r.redSub(u),o=a.redSub(s);if(e.cmpn(0)===0)return o.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=e.redSqr(),f=c.redMul(e),l=r.redMul(c),p=o.redSqr().redIAdd(f).redISub(l).redISub(l),g=o.redMul(l.redISub(p)).redISub(a.redMul(f)),y=this.z.redMul(e);return this.curve.jpoint(p,g,y)};wr.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var i;if(this.curve.zeroA||this.curve.threeA){var r=this;for(i=0;i<t;i++)r=r.dbl();return r}var u=this.curve.a,a=this.curve.tinv,s=this.x,e=this.y,o=this.z,c=o.redSqr().redSqr(),f=e.redAdd(e);for(i=0;i<t;i++){var l=s.redSqr(),p=f.redSqr(),g=p.redSqr(),y=l.redAdd(l).redIAdd(l).redIAdd(u.redMul(c)),m=s.redMul(p),M=y.redSqr().redISub(m.redAdd(m)),E=m.redISub(M),B=y.redMul(E);B=B.redIAdd(B).redISub(g);var x=f.redMul(o);i+1<t&&(c=c.redMul(g)),s=M,o=x,f=B}return this.curve.jpoint(s,f.redMul(a),o)};wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};wr.prototype._zeroDbl=function(){var t,i,r;if(this.zOne){var u=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),e=this.x.redAdd(a).redSqr().redISub(u).redISub(s);e=e.redIAdd(e);var o=u.redAdd(u).redIAdd(u),c=o.redSqr().redISub(e).redISub(e),f=s.redIAdd(s);f=f.redIAdd(f),f=f.redIAdd(f),t=c,i=o.redMul(e.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),y=this.x.redAdd(p).redSqr().redISub(l).redISub(g);y=y.redIAdd(y);var m=l.redAdd(l).redIAdd(l),M=m.redSqr(),E=g.redIAdd(g);E=E.redIAdd(E),E=E.redIAdd(E),t=M.redISub(y).redISub(y),i=m.redMul(y.redISub(t)).redISub(E),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(t,i,r)};wr.prototype._threeDbl=function(){var t,i,r;if(this.zOne){var u=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),e=this.x.redAdd(a).redSqr().redISub(u).redISub(s);e=e.redIAdd(e);var o=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),c=o.redSqr().redISub(e).redISub(e);t=c;var f=s.redIAdd(s);f=f.redIAdd(f),f=f.redIAdd(f),i=o.redMul(e.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),g=this.x.redMul(p),y=this.x.redSub(l).redMul(this.x.redAdd(l));y=y.redAdd(y).redIAdd(y);var m=g.redIAdd(g);m=m.redIAdd(m);var M=m.redAdd(m);t=y.redSqr().redISub(M),r=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var E=p.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),i=y.redMul(m.redISub(t)).redISub(E)}return this.curve.jpoint(t,i,r)};wr.prototype._dbl=function(){var t=this.curve.a,i=this.x,r=this.y,u=this.z,a=u.redSqr().redSqr(),s=i.redSqr(),e=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(a)),c=i.redAdd(i);c=c.redIAdd(c);var f=c.redMul(e),l=o.redSqr().redISub(f.redAdd(f)),p=f.redISub(l),g=e.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var y=o.redMul(p).redISub(g),m=r.redAdd(r).redMul(u);return this.curve.jpoint(l,y,m)};wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),i=this.y.redSqr(),r=this.z.redSqr(),u=i.redSqr(),a=t.redAdd(t).redIAdd(t),s=a.redSqr(),e=this.x.redAdd(i).redSqr().redISub(t).redISub(u);e=e.redIAdd(e),e=e.redAdd(e).redIAdd(e),e=e.redISub(s);var o=e.redSqr(),c=u.redIAdd(u);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var f=a.redIAdd(e).redSqr().redISub(s).redISub(o).redISub(c),l=i.redMul(f);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.x.redMul(o).redISub(l);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.y.redMul(f.redMul(c.redISub(f)).redISub(e.redMul(o)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var y=this.z.redAdd(e).redSqr().redISub(r).redISub(o);return this.curve.jpoint(p,g,y)};wr.prototype.mul=function(t,i){return t=new _e.default(t,i),this.curve._wnafMul(this,t)};wr.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var i=this.z.redSqr(),r=t.z.redSqr();if(this.x.redMul(r).redISub(t.x.redMul(i)).cmpn(0)!==0)return!1;var u=i.redMul(this.z),a=r.redMul(t.z);return this.y.redMul(a).redISub(t.y.redMul(u)).cmpn(0)===0};wr.prototype.eqXToP=function(t){var i=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(i);if(this.x.cmp(r)===0)return!0;for(var u=t.clone(),a=this.curve.redN.redMul(i);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};wr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var so=qi(function(t,i){var r=i;r.base=yi,r.short=X3,r.mont=null,r.edwards=null}),uo=qi(function(t,i){var r=i,u=Rr.assert;function a(o){o.type==="short"?this.curve=new so.short(o):o.type==="edwards"?this.curve=new so.edwards(o):this.curve=new so.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=a;function s(o,c){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var f=new a(c);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:f}),f}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:xn.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:xn.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:xn.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:xn.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:xn.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xn.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xn.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var e;try{e=null.crash()}catch{e=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:xn.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",e]})});function Zn(t){if(!(this instanceof Zn))return new Zn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=hn.toArray(t.entropy,t.entropyEnc||"hex"),r=hn.toArray(t.nonce,t.nonceEnc||"hex"),u=hn.toArray(t.pers,t.persEnc||"hex");yh(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,r,u)}var o1=Zn;Zn.prototype._init=function(t,i,r){var u=t.concat(i).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656};Zn.prototype._hmac=function(){return new xn.default.hmac(this.hash,this.K)};Zn.prototype._update=function(t){var i=this._hmac().update(this.V).update([0]);t&&(i=i.update(t)),this.K=i.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Zn.prototype.reseed=function(t,i,r,u){typeof i!="string"&&(u=r,r=i,i=null),t=hn.toArray(t,i),r=hn.toArray(r,u),yh(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1};Zn.prototype.generate=function(t,i,r,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof i!="string"&&(u=r,r=i,i=null),r&&(r=hn.toArray(r,u||"hex"),this._update(r));for(var a=[];a.length<t;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,t);return this._update(r),this._reseed++,hn.encode(s,i)};var iu=Rr.assert;function _r(t,i){this.ec=t,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}var vh=_r;_r.fromPublic=function(t,i,r){return i instanceof _r?i:new _r(t,{pub:i,pubEnc:r})};_r.fromPrivate=function(t,i,r){return i instanceof _r?i:new _r(t,{priv:i,privEnc:r})};_r.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};_r.prototype.getPublic=function(t,i){return typeof t=="string"&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub};_r.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};_r.prototype._importPrivate=function(t,i){this.priv=new _e.default(t,i||16),this.priv=this.priv.umod(this.ec.curve.n)};_r.prototype._importPublic=function(t,i){if(t.x||t.y){this.ec.curve.type==="mont"?iu(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&iu(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,i)};_r.prototype.derive=function(t){return t.validate()||iu(t.validate(),"public point not validated"),t.mul(this.priv).getX()};_r.prototype.sign=function(t,i,r){return this.ec.sign(t,this,i,r)};_r.prototype.verify=function(t,i){return this.ec.verify(t,i,this)};_r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Y3=Rr.assert;function gs(t,i){if(t instanceof gs)return t;this._importDER(t,i)||(Y3(t.r&&t.s,"Signature without r or s"),this.r=new _e.default(t.r,16),this.s=new _e.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ms=gs;function Q3(){this.place=0}function Ws(t,i){var r=t[i.place++];if(!(r&128))return r;var u=r&15;if(u===0||u>4)return!1;for(var a=0,s=0,e=i.place;s<u;s++,e++)a<<=8,a|=t[e],a>>>=0;return a<=127?!1:(i.place=e,a)}function yf(t){for(var i=0,r=t.length-1;!t[i]&&!(t[i+1]&128)&&i<r;)i++;return i===0?t:t.slice(i)}gs.prototype._importDER=function(t,i){t=Rr.toArray(t,i);var r=new Q3;if(t[r.place++]!==48)return!1;var u=Ws(t,r);if(u===!1||u+r.place!==t.length||t[r.place++]!==2)return!1;var a=Ws(t,r);if(a===!1)return!1;var s=t.slice(r.place,a+r.place);if(r.place+=a,t[r.place++]!==2)return!1;var e=Ws(t,r);if(e===!1||t.length!==e+r.place)return!1;var o=t.slice(r.place,e+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;return this.r=new _e.default(s),this.s=new _e.default(o),this.recoveryParam=null,!0};function qs(t,i){if(i<128){t.push(i);return}var r=1+(Math.log(i)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(i>>>(r<<3)&255);t.push(i)}gs.prototype.toDER=function(t){var i=this.r.toArray(),r=this.s.toArray();for(i[0]&128&&(i=[0].concat(i)),r[0]&128&&(r=[0].concat(r)),i=yf(i),r=yf(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var u=[2];qs(u,i.length),u=u.concat(i),u.push(2),qs(u,r.length);var a=u.concat(r),s=[48];return qs(s,a.length),s=s.concat(a),Rr.encode(s,t)};var t6=function(){throw new Error("unsupported")},s1=Rr.assert;function Hr(t){if(!(this instanceof Hr))return new Hr(t);typeof t=="string"&&(s1(Object.prototype.hasOwnProperty.call(uo,t),"Unknown curve "+t),t=uo[t]),t instanceof uo.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var e6=Hr;Hr.prototype.keyPair=function(t){return new vh(this,t)};Hr.prototype.keyFromPrivate=function(t,i){return vh.fromPrivate(this,t,i)};Hr.prototype.keyFromPublic=function(t,i){return vh.fromPublic(this,t,i)};Hr.prototype.genKeyPair=function(t){t||(t={});for(var i=new o1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||t6(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),u=this.n.sub(new _e.default(2));;){var a=new _e.default(i.generate(r));if(!(a.cmp(u)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Hr.prototype._truncateToN=function(t,i){var r=t.byteLength()*8-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!i&&t.cmp(this.n)>=0?t.sub(this.n):t};Hr.prototype.sign=function(t,i,r,u){typeof r=="object"&&(u=r,r=null),u||(u={}),i=this.keyFromPrivate(i,r),t=this._truncateToN(new _e.default(t,16));for(var a=this.n.byteLength(),s=i.getPrivate().toArray("be",a),e=t.toArray("be",a),o=new o1({hash:this.hash,entropy:s,nonce:e,pers:u.pers,persEnc:u.persEnc||"utf8"}),c=this.n.sub(new _e.default(1)),f=0;;f++){var l=u.k?u.k(f):new _e.default(o.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(c)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var g=p.getX(),y=g.umod(this.n);if(y.cmpn(0)!==0){var m=l.invm(this.n).mul(y.mul(i.getPrivate()).iadd(t));if(m=m.umod(this.n),m.cmpn(0)!==0){var M=(p.getY().isOdd()?1:0)|(g.cmp(y)!==0?2:0);return u.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),M^=1),new ms({r:y,s:m,recoveryParam:M})}}}}}};Hr.prototype.verify=function(t,i,r,u){t=this._truncateToN(new _e.default(t,16)),r=this.keyFromPublic(r,u),i=new ms(i,"hex");var a=i.r,s=i.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var e=s.invm(this.n),o=e.mul(t).umod(this.n),c=e.mul(a).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(o,r.getPublic(),c),f.isInfinity()?!1:f.eqXToP(a)):(f=this.g.mulAdd(o,r.getPublic(),c),f.isInfinity()?!1:f.getX().umod(this.n).cmp(a)===0)};Hr.prototype.recoverPubKey=function(t,i,r,u){s1((3&r)===r,"The recovery param is more than two bits"),i=new ms(i,u);var a=this.n,s=new _e.default(t),e=i.r,o=i.s,c=r&1,f=r>>1;if(e.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?e=this.curve.pointFromX(e.add(this.curve.n),c):e=this.curve.pointFromX(e,c);var l=i.r.invm(a),p=a.sub(s).mul(l).umod(a),g=o.mul(l).umod(a);return this.g.mulAdd(p,e,g)};Hr.prototype.getKeyRecoveryParam=function(t,i,r,u){if(i=new ms(i,u),i.recoveryParam!==null)return i.recoveryParam;for(var a=0;a<4;a++){var s;try{s=this.recoverPubKey(t,i,a)}catch{continue}if(s.eq(r))return a}throw new Error("Unable to find valid recovery factor")};var r6=qi(function(t,i){var r=i;r.version="6.5.4",r.utils=Rr,r.rand=function(){throw new Error("unsupported")},r.curve=so,r.curves=uo,r.ec=e6,r.eddsa=null}),n6=r6.ec;lt();var i6="signing-key/5.7.0",au=new de(i6),$s=null;function bn(){return $s||($s=new n6("secp256k1")),$s}var Oi=class{constructor(t){we(this,"curve","secp256k1"),we(this,"privateKey",be(t)),Yd(this.privateKey)!==32&&au.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let i=bn().keyFromPrivate(ue(this.privateKey));we(this,"publicKey","0x"+i.getPublic(!1,"hex")),we(this,"compressedPublicKey","0x"+i.getPublic(!0,"hex")),we(this,"_isSigningKey",!0)}_addPoint(t){let i=bn().keyFromPublic(ue(this.publicKey)),r=bn().keyFromPublic(ue(t));return"0x"+i.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){let i=bn().keyFromPrivate(ue(this.privateKey)),r=ue(t);r.length!==32&&au.throwArgumentError("bad digest length","digest",t);let u=i.sign(r,{canonical:!0});return Wi({recoveryParam:u.recoveryParam,r:$r("0x"+u.r.toString(16),32),s:$r("0x"+u.s.toString(16),32)})}computeSharedSecret(t){let i=bn().keyFromPrivate(ue(this.privateKey)),r=bn().keyFromPublic(ue(h1(t)));return $r("0x"+i.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}};function u1(t,i){let r=Wi(i),u={r:ue(r.r),s:ue(r.s)};return"0x"+bn().recoverPubKey(ue(t),u,r.recoveryParam).encode("hex",!1)}function h1(t,i){let r=ue(t);if(r.length===32){let u=new Oi(r);return i?"0x"+bn().keyFromPrivate(r).getPublic(!0,"hex"):u.publicKey}else{if(r.length===33)return i?be(r):"0x"+bn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return i?"0x"+bn().keyFromPublic(r).getPublic(!0,"hex"):be(r)}return au.throwArgumentError("invalid public or private key","key","[REDACTED]")}lt();lt();var a6="transactions/5.7.0",sn=new de(a6),bf;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(bf||(bf={}));var o6=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],s6={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Hn(t){let i=h1(t);return ln(fa(Mr(fa(i,1)),12))}function l1(t,i){return Hn(u1(ue(t),i))}function Pr(t,i){let r=$n(Qe.from(t).toHexString());return r.length>32&&sn.throwArgumentError("invalid length for "+i,"transaction:"+i,t),r}function Hs(t,i){return{address:ln(t),storageKeys:(i||[]).map((r,u)=>(Yd(r)!==32&&sn.throwArgumentError("invalid access list storageKey",`accessList[${t}:${u}]`,r),r.toLowerCase()))}}function u6(t){if(Array.isArray(t))return t.map((r,u)=>Array.isArray(r)?(r.length>2&&sn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${u}]`,r),Hs(r[0],r[1])):Hs(r.address,r.storageKeys));let i=Object.keys(t).map(r=>{let u=t[r].reduce((a,s)=>(a[s]=!0,a),{});return Hs(r,Object.keys(u).sort())});return i.sort((r,u)=>r.address.localeCompare(u.address)),i}function f1(t){return u6(t).map(i=>[i.address,i.storageKeys])}function h6(t,i){if(t.gasPrice!=null){let u=Qe.from(t.gasPrice),a=Qe.from(t.maxFeePerGas||0);u.eq(a)||sn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:u,maxFeePerGas:a})}let r=[Pr(t.chainId||0,"chainId"),Pr(t.nonce||0,"nonce"),Pr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pr(t.maxFeePerGas||0,"maxFeePerGas"),Pr(t.gasLimit||0,"gasLimit"),t.to!=null?ln(t.to):"0x",Pr(t.value||0,"value"),t.data||"0x",f1(t.accessList||[])];if(i){let u=Wi(i);r.push(Pr(u.recoveryParam,"recoveryParam")),r.push($n(u.r)),r.push($n(u.s))}return ki(["0x02",_o(r)])}function l6(t,i){let r=[Pr(t.chainId||0,"chainId"),Pr(t.nonce||0,"nonce"),Pr(t.gasPrice||0,"gasPrice"),Pr(t.gasLimit||0,"gasLimit"),t.to!=null?ln(t.to):"0x",Pr(t.value||0,"value"),t.data||"0x",f1(t.accessList||[])];if(i){let u=Wi(i);r.push(Pr(u.recoveryParam,"recoveryParam")),r.push($n(u.r)),r.push($n(u.s))}return ki(["0x01",_o(r)])}function f6(t,i){j3(t,s6);let r=[];o6.forEach(function(e){let o=t[e.name]||[],c={};e.numeric&&(c.hexPad="left"),o=ue(be(o,c)),e.length&&o.length!==e.length&&o.length>0&&sn.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,o),e.maxLength&&(o=$n(o),o.length>e.maxLength&&sn.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,o)),r.push(be(o))});let u=0;if(t.chainId!=null?(u=t.chainId,typeof u!="number"&&sn.throwArgumentError("invalid transaction.chainId","transaction",t)):i&&!ph(i)&&i.v>28&&(u=Math.floor((i.v-35)/2)),u!==0&&(r.push(be(u)),r.push("0x"),r.push("0x")),!i)return _o(r);let a=Wi(i),s=27+a.recoveryParam;return u!==0?(r.pop(),r.pop(),r.pop(),s+=u*2+8,a.v>28&&a.v!==s&&sn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",i)):a.v!==s&&sn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",i),r.push(be(s)),r.push($n(ue(a.r))),r.push($n(ue(a.s))),_o(r)}function vf(t,i){if(t.type==null||t.type===0)return t.accessList!=null&&sn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),f6(t,i);switch(t.type){case 1:return l6(t,i);case 2:return h6(t,i)}return sn.throwError(`unsupported transaction type: ${t.type}`,de.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}lt();lt();lt();var c6="abstract-provider/5.7.0",d6=function(t,i,r,u){function a(s){return s instanceof r?s:new r(function(e){e(s)})}return new(r||(r=Promise))(function(s,e){function o(l){try{f(u.next(l))}catch(p){e(p)}}function c(l){try{f(u.throw(l))}catch(p){e(p)}}function f(l){l.done?s(l.value):a(l.value).then(o,c)}f((u=u.apply(t,i||[])).next())})},p6=new de(c6),c1=class{constructor(){p6.checkAbstract(new.target,c1),we(this,"_isProvider",!0)}getFeeData(){return d6(this,void 0,void 0,function*(){let{block:t,gasPrice:i}=yield Mi({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),r=null,u=null,a=null;return t&&t.baseFeePerGas&&(r=t.baseFeePerGas,a=Qe.from("1500000000"),u=t.baseFeePerGas.mul(2).add(a)),{lastBaseFeePerGas:r,maxFeePerGas:u,maxPriorityFeePerGas:a,gasPrice:i}})}addListener(t,i){return this.on(t,i)}removeListener(t,i){return this.off(t,i)}static isProvider(t){return!!(t&&t._isProvider)}};lt();lt();var g6="abstract-signer/5.7.0",tn=function(t,i,r,u){function a(s){return s instanceof r?s:new r(function(e){e(s)})}return new(r||(r=Promise))(function(s,e){function o(l){try{f(u.next(l))}catch(p){e(p)}}function c(l){try{f(u.throw(l))}catch(p){e(p)}}function f(l){l.done?s(l.value):a(l.value).then(o,c)}f((u=u.apply(t,i||[])).next())})},en=new de(g6),m6=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],y6=[de.errors.INSUFFICIENT_FUNDS,de.errors.NONCE_EXPIRED,de.errors.REPLACEMENT_UNDERPRICED],d1=class{constructor(){en.checkAbstract(new.target,d1),we(this,"_isSigner",!0)}getBalance(t){return tn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return tn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return tn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let i=yield Mi(this.checkTransaction(t));return yield this.provider.estimateGas(i)})}call(t,i){return tn(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield Mi(this.checkTransaction(t));return yield this.provider.call(r,i)})}sendTransaction(t){return tn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let i=yield this.populateTransaction(t),r=yield this.signTransaction(i);return yield this.provider.sendTransaction(r)})}getChainId(){return tn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return tn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return tn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return tn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(let r in t)m6.indexOf(r)===-1&&en.throwArgumentError("invalid transaction key: "+r,"transaction",t);let i=nu(t);return i.from==null?i.from=this.getAddress():i.from=Promise.all([Promise.resolve(i.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&en.throwArgumentError("from address mismatch","transaction",t),r[0])),i}populateTransaction(t){return tn(this,void 0,void 0,function*(){let i=yield Mi(this.checkTransaction(t));i.to!=null&&(i.to=Promise.resolve(i.to).then(u=>tn(this,void 0,void 0,function*(){if(u==null)return null;let a=yield this.resolveName(u);return a==null&&en.throwArgumentError("provided ENS name resolves to null","tx.to",u),a})),i.to.catch(u=>{}));let r=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||r)?en.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(i.type===0||i.type===1)&&r&&en.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1)i.gasPrice==null&&(i.gasPrice=this.getGasPrice());else{let u=yield this.getFeeData();if(i.type==null)if(u.maxFeePerGas!=null&&u.maxPriorityFeePerGas!=null)if(i.type=2,i.gasPrice!=null){let a=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=a,i.maxPriorityFeePerGas=a}else i.maxFeePerGas==null&&(i.maxFeePerGas=u.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=u.maxPriorityFeePerGas);else u.gasPrice!=null?(r&&en.throwError("network does not support EIP-1559",de.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=u.gasPrice),i.type=0):en.throwError("failed to get consistent fee data",de.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else i.type===2&&(i.maxFeePerGas==null&&(i.maxFeePerGas=u.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=u.maxPriorityFeePerGas))}return i.nonce==null&&(i.nonce=this.getTransactionCount("pending")),i.gasLimit==null&&(i.gasLimit=this.estimateGas(i).catch(u=>{if(y6.indexOf(u.code)>=0)throw u;return en.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",de.errors.UNPREDICTABLE_GAS_LIMIT,{error:u,tx:i})})),i.chainId==null?i.chainId=this.getChainId():i.chainId=Promise.all([Promise.resolve(i.chainId),this.getChainId()]).then(u=>(u[1]!==0&&u[0]!==u[1]&&en.throwArgumentError("chainId address mismatch","transaction",t),u[0])),yield Mi(i)})}_checkProvider(t){this.provider||en.throwError("missing provider",de.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}};lt();lt();var p1=class{constructor(t){we(this,"alphabet",t),we(this,"base",t.length),we(this,"_alphabetMap",{}),we(this,"_leader",t.charAt(0));for(let i=0;i<t.length;i++)this._alphabetMap[t.charAt(i)]=i}encode(t){let i=ue(t);if(i.length===0)return"";let r=[0];for(let a=0;a<i.length;++a){let s=i[a];for(let e=0;e<r.length;++e)s+=r[e]<<8,r[e]=s%this.base,s=s/this.base|0;for(;s>0;)r.push(s%this.base),s=s/this.base|0}let u="";for(let a=0;i[a]===0&&a<i.length-1;++a)u+=this._leader;for(let a=r.length-1;a>=0;--a)u+=this.alphabet[r[a]];return u}decode(t){if(typeof t!="string")throw new TypeError("Expected String");let i=[];if(t.length===0)return new Uint8Array(i);i.push(0);for(let r=0;r<t.length;r++){let u=this._alphabetMap[t[r]];if(u===void 0)throw new Error("Non-base"+this.base+" character");let a=u;for(let s=0;s<i.length;++s)a+=i[s]*this.base,i[s]=a&255,a>>=8;for(;a>0;)i.push(a&255),a>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)i.push(0);return ue(new Uint8Array(i.reverse()))}};new p1("abcdefghijklmnopqrstuvwxyz234567");var g1=new p1("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");lt();lt();lt();lt();var Mo=ye(Ta());lt();var da;(function(t){t.sha256="sha256",t.sha512="sha512"})(da||(da={}));lt();var b6="sha2/5.7.0",v6=new de(b6);function w6(t){return"0x"+Mo.default.ripemd160().update(ue(t)).digest("hex")}function pa(t){return"0x"+Mo.default.sha256().update(ue(t)).digest("hex")}function xo(t,i,r){return da[t]||v6.throwError("unsupported algorithm "+t,de.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Mo.default.hmac(Mo.default[t],ue(i)).update(ue(r)).digest("hex")}function wh(t,i,r,u,a){t=ue(t),i=ue(i);let s,e=1,o=new Uint8Array(u),c=new Uint8Array(i.length+4);c.set(i);let f,l;for(let p=1;p<=e;p++){c[i.length]=p>>24&255,c[i.length+1]=p>>16&255,c[i.length+2]=p>>8&255,c[i.length+3]=p&255;let g=ue(xo(a,t,c));s||(s=g.length,l=new Uint8Array(s),e=Math.ceil(u/s),f=u-(e-1)*s),l.set(g);for(let M=1;M<r;M++){g=ue(xo(a,t,g));for(let E=0;E<s;E++)l[E]^=g[E]}let y=(p-1)*s,m=p===e?f:s;o.set(ue(l).slice(0,m),y)}return be(o)}lt();lt();lt();var _6="wordlists/5.7.0",E6=!1,S6=new de(_6),ys=class{constructor(t){S6.checkAbstract(new.target,ys),we(this,"locale",t)}split(t){return t.toLowerCase().split(/ +/g)}join(t){return t.join(" ")}static check(t){let i=[];for(let r=0;r<2048;r++){let u=t.getWord(r);if(r!==t.getWordIndex(u))return"0x";i.push(u)}return gh(i.join(`
`)+`
`)}static register(t,i){i||(i=t.locale)}};lt();lt();var A6="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",sa=null;function wf(t){if(sa==null&&(sa=A6.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),ys.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw sa=null,new Error("BIP39 Wordlist for en (English) FAILED")}var T6=class extends ys{constructor(){super("en")}getWord(t){return wf(this),sa[t]}getWordIndex(t){return wf(this),sa.indexOf(t)}},m1=new T6;ys.register(m1);var _f={en:m1};lt();var M6="hdnode/5.7.0",ko=new de(M6),x6=Qe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),k6=Bn("Bitcoin seed"),Zi=2147483648;function y1(t){return(1<<t)-1<<8-t}function O6(t){return(1<<t)-1}function Za(t){return $r(be(t),32)}function Ef(t){return g1.encode(Vn([t,fa(pa(pa(t)),0,4)]))}function _h(t){if(t==null)return _f.en;if(typeof t=="string"){let i=_f[t];return i==null&&ko.throwArgumentError("unknown locale","wordlist",t),i}return t}var _i={},ga="m/44'/60'/0'/0/0",nn=class{constructor(t,i,r,u,a,s,e,o){if(t!==_i)throw new Error("HDNode constructor cannot be called directly");if(i){let c=new Oi(i);we(this,"privateKey",c.privateKey),we(this,"publicKey",c.compressedPublicKey)}else we(this,"privateKey",null),we(this,"publicKey",be(r));we(this,"parentFingerprint",u),we(this,"fingerprint",fa(w6(pa(this.publicKey)),0,4)),we(this,"address",Hn(this.publicKey)),we(this,"chainCode",a),we(this,"index",s),we(this,"depth",e),o==null?(we(this,"mnemonic",null),we(this,"path",null)):typeof o=="string"?(we(this,"mnemonic",null),we(this,"path",o)):(we(this,"mnemonic",o),we(this,"path",o.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Ef(Vn([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",be(this.depth),this.parentFingerprint,$r(be(this.index),4),this.chainCode,this.privateKey!=null?Vn(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new nn(_i,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(t){if(t>4294967295)throw new Error("invalid index - "+String(t));let i=this.path;i&&(i+="/"+(t&~Zi));let r=new Uint8Array(37);if(t&Zi){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(ue(this.privateKey),1),i&&(i+="'")}else r.set(ue(this.publicKey));for(let l=24;l>=0;l-=8)r[33+(l>>3)]=t>>24-l&255;let u=ue(xo(da.sha512,this.chainCode,r)),a=u.slice(0,32),s=u.slice(32),e=null,o=null;this.privateKey?e=Za(Qe.from(a).add(this.privateKey).mod(x6)):o=new Oi(be(a))._addPoint(this.publicKey);let c=i,f=this.mnemonic;return f&&(c=Object.freeze({phrase:f.phrase,path:i,locale:f.locale||"en"})),new nn(_i,e,o,this.fingerprint,Za(s),t,this.depth+1,c)}derivePath(t){let i=t.split("/");if(i.length===0||i[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+t);i[0]==="m"&&i.shift();let r=this;for(let u=0;u<i.length;u++){let a=i[u];if(a.match(/^[0-9]+'$/)){let s=parseInt(a.substring(0,a.length-1));if(s>=Zi)throw new Error("invalid path index - "+a);r=r._derive(Zi+s)}else if(a.match(/^[0-9]+$/)){let s=parseInt(a);if(s>=Zi)throw new Error("invalid path index - "+a);r=r._derive(s)}else throw new Error("invalid path component - "+a)}return r}static _fromSeed(t,i){let r=ue(t);if(r.length<16||r.length>64)throw new Error("invalid seed");let u=ue(xo(da.sha512,k6,r));return new nn(_i,Za(u.slice(0,32)),null,"0x00000000",Za(u.slice(32)),0,0,i)}static fromMnemonic(t,i,r){return r=_h(r),t=Eh(b1(t,r),r),nn._fromSeed(I6(t,i),{phrase:t,path:"m",locale:r.locale})}static fromSeed(t){return nn._fromSeed(t,null)}static fromExtendedKey(t){let i=g1.decode(t);(i.length!==82||Ef(i.slice(0,78))!==t)&&ko.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let r=i[4],u=be(i.slice(5,9)),a=parseInt(be(i.slice(9,13)).substring(2),16),s=be(i.slice(13,45)),e=i.slice(45,78);switch(be(i.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new nn(_i,null,be(e),u,s,a,r,null);case"0x0488ade4":case"0x04358394 ":if(e[0]!==0)break;return new nn(_i,be(e.slice(1)),null,u,s,a,r,null)}return ko.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function I6(t,i){i||(i="");let r=Bn("mnemonic"+i,fi.NFKD);return wh(Bn(t,fi.NFKD),r,2048,64,"sha512")}function b1(t,i){i=_h(i),ko.checkNormalize();let r=i.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let u=ue(new Uint8Array(Math.ceil(11*r.length/8))),a=0;for(let c=0;c<r.length;c++){let f=i.getWordIndex(r[c].normalize("NFKD"));if(f===-1)throw new Error("invalid mnemonic");for(let l=0;l<11;l++)f&1<<10-l&&(u[a>>3]|=1<<7-a%8),a++}let s=32*r.length/3,e=r.length/3,o=y1(e);if((ue(pa(u.slice(0,s/8)))[0]&o)!==(u[u.length-1]&o))throw new Error("invalid checksum");return be(u.slice(0,s/8))}function Eh(t,i){if(i=_h(i),t=ue(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],u=11;for(let e=0;e<t.length;e++)u>8?(r[r.length-1]<<=8,r[r.length-1]|=t[e],u-=8):(r[r.length-1]<<=u,r[r.length-1]|=t[e]>>8-u,r.push(t[e]&O6(8-u)),u+=3);let a=t.length/4,s=ue(pa(t))[0]&y1(a);return r[r.length-1]<<=a,r[r.length-1]|=s>>8-a,i.join(r.map(e=>i.getWord(e)))}lt();lt();lt();var B6="random/5.7.0",ou=new de(B6);function C6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof le<"u")return le;throw new Error("unable to locate global object")}var Sf=C6(),ho=Sf.crypto||Sf.msCrypto;(!ho||!ho.getRandomValues)&&(ou.warn("WARNING: Missing strong random number source"),ho={getRandomValues:function(t){return ou.throwError("no secure random source avaialble",de.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ra(t){(t<=0||t>1024||t%1||t!=t)&&ou.throwArgumentError("invalid length","length",t);let i=new Uint8Array(t);return ho.getRandomValues(i),ue(i)}lt();lt();var Af=ye(X0());lt();var v1="json-wallets/5.7.0";lt();function ui(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),ue(t)}function Ji(t,i){for(t=String(t);t.length<i;)t="0"+t;return t}function Sh(t){return typeof t=="string"?Bn(t,fi.NFKC):ue(t)}function lr(t,i){let r=t,u=i.toLowerCase().split("/");for(let a=0;a<u.length;a++){let s=null;for(let e in r)if(e.toLowerCase()===u[a]){s=r[e];break}if(s===null)return null;r=s}return r}function P6(t){let i=ue(t);i[6]=i[6]&15|64,i[8]=i[8]&63|128;let r=be(i);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var R6=new de(v1),N6=class extends e1{isCrowdsaleAccount(t){return!!(t&&t._isCrowdsaleAccount)}};function w1(t,i){let r=JSON.parse(t);i=Sh(i);let u=ln(lr(r,"ethaddr")),a=ui(lr(r,"encseed"));(!a||a.length%16!==0)&&R6.throwArgumentError("invalid encseed","json",t);let s=ue(wh(i,i,2e3,32,"sha256")).slice(0,16),e=a.slice(0,16),o=a.slice(16),c=new Af.default.ModeOfOperation.cbc(s,e),f=Af.default.padding.pkcs7.strip(ue(c.decrypt(o))),l="";for(let y=0;y<f.length;y++)l+=String.fromCharCode(f[y]);let p=Bn(l),g=Mr(p);return new N6({_isCrowdsaleAccount:!0,address:u,privateKey:g})}lt();function _1(t){let i=null;try{i=JSON.parse(t)}catch{return!1}return i.encseed&&i.ethaddr}function E1(t){let i=null;try{i=JSON.parse(t)}catch{return!1}return!(!i.version||parseInt(i.version)!==i.version||parseInt(i.version)!==3)}lt();var qn=ye(X0()),Ah=ye(Ey()),L6=function(t,i,r,u){function a(s){return s instanceof r?s:new r(function(e){e(s)})}return new(r||(r=Promise))(function(s,e){function o(l){try{f(u.next(l))}catch(p){e(p)}}function c(l){try{f(u.throw(l))}catch(p){e(p)}}function f(l){l.done?s(l.value):a(l.value).then(o,c)}f((u=u.apply(t,i||[])).next())})},su=new de(v1);function Tf(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}var D6=class extends e1{isKeystoreAccount(t){return!!(t&&t._isKeystoreAccount)}};function j6(t,i,r){if(lr(t,"crypto/cipher")==="aes-128-ctr"){let u=ui(lr(t,"crypto/cipherparams/iv")),a=new qn.default.Counter(u),s=new qn.default.ModeOfOperation.ctr(i,a);return ue(s.decrypt(r))}return null}function S1(t,i){let r=ui(lr(t,"crypto/ciphertext"));if(be(Mr(Vn([i.slice(16,32),r]))).substring(2)!==lr(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let u=j6(t,i.slice(0,16),r);u||su.throwError("unsupported cipher",de.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let a=i.slice(32,64),s=Hn(u);if(t.address){let o=t.address.toLowerCase();if(o.substring(0,2)!=="0x"&&(o="0x"+o),ln(o)!==s)throw new Error("address mismatch")}let e={_isKeystoreAccount:!0,address:s,privateKey:be(u)};if(lr(t,"x-ethers/version")==="0.1"){let o=ui(lr(t,"x-ethers/mnemonicCiphertext")),c=ui(lr(t,"x-ethers/mnemonicCounter")),f=new qn.default.Counter(c),l=new qn.default.ModeOfOperation.ctr(a,f),p=lr(t,"x-ethers/path")||ga,g=lr(t,"x-ethers/locale")||"en",y=ue(l.decrypt(o));try{let m=Eh(y,g),M=nn.fromMnemonic(m,null,g).derivePath(p);if(M.privateKey!=e.privateKey)throw new Error("mnemonic mismatch");e.mnemonic=M.mnemonic}catch(m){if(m.code!==de.errors.INVALID_ARGUMENT||m.argument!=="wordlist")throw m}}return new D6(e)}function A1(t,i,r,u,a){return ue(wh(t,i,r,u,a))}function U6(t,i,r,u,a){return Promise.resolve(A1(t,i,r,u,a))}function T1(t,i,r,u,a){let s=Sh(i),e=lr(t,"crypto/kdf");if(e&&typeof e=="string"){let o=function(c,f){return su.throwArgumentError("invalid key-derivation function parameters",c,f)};if(e.toLowerCase()==="scrypt"){let c=ui(lr(t,"crypto/kdfparams/salt")),f=parseInt(lr(t,"crypto/kdfparams/n")),l=parseInt(lr(t,"crypto/kdfparams/r")),p=parseInt(lr(t,"crypto/kdfparams/p"));(!f||!l||!p)&&o("kdf",e),f&f-1&&o("N",f);let g=parseInt(lr(t,"crypto/kdfparams/dklen"));return g!==32&&o("dklen",g),u(s,c,f,l,p,64,a)}else if(e.toLowerCase()==="pbkdf2"){let c=ui(lr(t,"crypto/kdfparams/salt")),f=null,l=lr(t,"crypto/kdfparams/prf");l==="hmac-sha256"?f="sha256":l==="hmac-sha512"?f="sha512":o("prf",l);let p=parseInt(lr(t,"crypto/kdfparams/c")),g=parseInt(lr(t,"crypto/kdfparams/dklen"));return g!==32&&o("dklen",g),r(s,c,p,g,f)}}return su.throwArgumentError("unsupported key-derivation function","kdf",e)}function F6(t,i){let r=JSON.parse(t),u=T1(r,i,A1,Ah.default.syncScrypt);return S1(r,u)}function K6(t,i,r){return L6(this,void 0,void 0,function*(){let u=JSON.parse(t),a=yield T1(u,i,U6,Ah.default.scrypt,r);return S1(u,a)})}function z6(t,i,r,u){try{if(ln(t.address)!==Hn(t.privateKey))throw new Error("address/privateKey mismatch");if(Tf(t)){let E=t.mnemonic;if(nn.fromMnemonic(E.phrase,null,E.locale).derivePath(E.path||ga).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(E){return Promise.reject(E)}typeof r=="function"&&!u&&(u=r,r={}),r||(r={});let a=ue(t.privateKey),s=Sh(i),e=null,o=null,c=null;if(Tf(t)){let E=t.mnemonic;e=ue(b1(E.phrase,E.locale||"en")),o=E.path||ga,c=E.locale||"en"}let f=r.client;f||(f="ethers.js");let l=null;r.salt?l=ue(r.salt):l=ra(32);let p=null;if(r.iv){if(p=ue(r.iv),p.length!==16)throw new Error("invalid iv")}else p=ra(16);let g=null;if(r.uuid){if(g=ue(r.uuid),g.length!==16)throw new Error("invalid uuid")}else g=ra(16);let y=1<<17,m=8,M=1;return r.scrypt&&(r.scrypt.N&&(y=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(M=r.scrypt.p)),Ah.default.scrypt(s,l,y,m,M,64,u).then(E=>{E=ue(E);let B=E.slice(0,16),x=E.slice(16,32),C=E.slice(32,64),N=new qn.default.Counter(p),F=new qn.default.ModeOfOperation.ctr(B,N),I=ue(F.encrypt(a)),U=Mr(Vn([x,I])),P={address:t.address.substring(2).toLowerCase(),id:P6(g),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:be(p).substring(2)},ciphertext:be(I).substring(2),kdf:"scrypt",kdfparams:{salt:be(l).substring(2),n:y,dklen:32,p:M,r:m},mac:U.substring(2)}};if(e){let D=ra(16),W=new qn.default.Counter(D),q=new qn.default.ModeOfOperation.ctr(C,W),O=ue(q.encrypt(e)),L=new Date,n=L.getUTCFullYear()+"-"+Ji(L.getUTCMonth()+1,2)+"-"+Ji(L.getUTCDate(),2)+"T"+Ji(L.getUTCHours(),2)+"-"+Ji(L.getUTCMinutes(),2)+"-"+Ji(L.getUTCSeconds(),2)+".0Z";P["x-ethers"]={client:f,gethFilename:"UTC--"+n+"--"+P.address,mnemonicCounter:be(D).substring(2),mnemonicCiphertext:be(O).substring(2),path:o,locale:c,version:"0.1"}}return JSON.stringify(P)})}function W6(t,i,r){if(_1(t)){r&&r(0);let u=w1(t,i);return r&&r(1),Promise.resolve(u)}return E1(t)?K6(t,i,r):Promise.reject(new Error("invalid JSON wallet"))}function q6(t,i){if(_1(t))return w1(t,i);if(E1(t))return F6(t,i);throw new Error("invalid JSON wallet")}lt();var $6="wallet/5.7.0",Mf=function(t,i,r,u){function a(s){return s instanceof r?s:new r(function(e){e(s)})}return new(r||(r=Promise))(function(s,e){function o(l){try{f(u.next(l))}catch(p){e(p)}}function c(l){try{f(u.throw(l))}catch(p){e(p)}}function f(l){l.done?s(l.value):a(l.value).then(o,c)}f((u=u.apply(t,i||[])).next())})},Ei=new de($6);function H6(t){return t!=null&&xr(t.privateKey,32)&&t.address!=null}function G6(t){let i=t.mnemonic;return i&&i.phrase}var oi=class extends d1{constructor(t,i){if(super(),H6(t)){let r=new Oi(t.privateKey);if(we(this,"_signingKey",()=>r),we(this,"address",Hn(this.publicKey)),this.address!==ln(t.address)&&Ei.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),G6(t)){let u=t.mnemonic;we(this,"_mnemonic",()=>({phrase:u.phrase,path:u.path||ga,locale:u.locale||"en"}));let a=this.mnemonic,s=nn.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path);Hn(s.privateKey)!==this.address&&Ei.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else we(this,"_mnemonic",()=>null)}else{if(Oi.isSigningKey(t))t.curve!=="secp256k1"&&Ei.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),we(this,"_signingKey",()=>t);else{typeof t=="string"&&t.match(/^[0-9a-f]*$/i)&&t.length===64&&(t="0x"+t);let r=new Oi(t);we(this,"_signingKey",()=>r)}we(this,"_mnemonic",()=>null),we(this,"address",Hn(this.publicKey))}i&&!c1.isProvider(i)&&Ei.throwArgumentError("invalid provider","provider",i),we(this,"provider",i||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(t){return new oi(this,t)}signTransaction(t){return Mi(t).then(i=>{i.from!=null&&(ln(i.from)!==this.address&&Ei.throwArgumentError("transaction from address mismatch","transaction.from",t.from),delete i.from);let r=this._signingKey().signDigest(Mr(vf(i)));return vf(i,r)})}signMessage(t){return Mf(this,void 0,void 0,function*(){return sf(this._signingKey().signDigest(ps(t)))})}_signTypedData(t,i,r){return Mf(this,void 0,void 0,function*(){let u=yield Cr.resolveNames(t,i,r,a=>(this.provider==null&&Ei.throwError("cannot resolve ENS names without a provider",de.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:a}),this.provider.resolveName(a)));return sf(this._signingKey().signDigest(Cr.hash(u.domain,i,u.value)))})}encrypt(t,i,r){if(typeof i=="function"&&!r&&(r=i,i={}),r&&typeof r!="function")throw new Error("invalid callback");return i||(i={}),z6(this,t,i,r)}static createRandom(t){let i=ra(16);t||(t={}),t.extraEntropy&&(i=ue(fa(Mr(Vn([i,t.extraEntropy])),0,16)));let r=Eh(i,t.locale);return oi.fromMnemonic(r,t.path,t.locale)}static fromEncryptedJson(t,i,r){return W6(t,i,r).then(u=>new oi(u))}static fromEncryptedJsonSync(t,i){return new oi(q6(t,i))}static fromMnemonic(t,i,r){return i||(i=ga),new oi(nn.fromMnemonic(t,null,r).derivePath(i))}};function V6(t,i){return l1(ps(t),i)}function M1(t,i,r,u){return l1(Cr.hash(t,i,r),u)}var Z6=class{constructor(t){Pt(this,"signer");Pt(this,"publicKey");Pt(this,"ownerLength",qe[Ae.ETHEREUM].pubLength);Pt(this,"signatureLength",qe[Ae.ETHEREUM].sigLength);Pt(this,"signatureType",Ae.ETHEREUM);this.signer=t.getSigner()}async setPublicKey(){let t="sign this message to connect to Bundlr.Network",i=await this.signer.signMessage(t),r=await ps(t),u=u1(ue(r),i);this.publicKey=Ut.Buffer.from(ue(u))}async sign(t){this.publicKey||await this.setPublicKey();let i=await this.signer.signMessage(t);return Ut.Buffer.from(i.slice(2),"hex")}static verify(t,i,r){let u=Hn(t);return V6(i,r)===u}};lt();var Xi=ye(Ay(),1),Th=class extends ka{get publicKey(){return Xi.default.decode(this.pk)}get key(){return Xi.default.decode(this._key)}constructor(t){let i=Xi.default.decode(t);super(Xi.default.encode(i.subarray(0,32)),Xi.default.encode(i.subarray(32,64)))}};lt();lt();lt();var J6=ye(Gr(),1),xf=ye(Y0(),1);lt();var X6=ye(sr(),1),Kn=ye($e(),1),Y6=ye(Cy(),1);function Mh(t){return t=x1(t),(0,Y6.default)("keccak256").update(t).digest()}function x1(t){if(!Kn.Buffer.isBuffer(t))if(Array.isArray(t))t=Kn.Buffer.from(t);else if(typeof t=="string")k1(t)?t=Kn.Buffer.from(xh(O1(t)),"hex"):t=Kn.Buffer.from(t);else if(typeof t=="number")t=B1(t);else if(t==null)t=Kn.Buffer.allocUnsafe(0);else if(X6.default.isBN(t))t=t.toArrayLike(Kn.Buffer);else if(t.toArray)t=Kn.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function k1(t,i){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||i&&t.length!==2+2*i)}function xh(t){if(typeof t!="string")throw new Error(`while padding to even, value must be string, is currently ${typeof t}, while padToEven.`);return t.length%2&&(t=`0${t}`),t}function O1(t){return typeof t!="string"?t:I1(t)?t.slice(2):t}function I1(t){if(typeof t!="string")throw new Error("value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.startsWith("0x")}function B1(t){let i=C1(t);return Kn.Buffer.from(xh(i.slice(2)),"hex")}function C1(t){return`0x${t.toString(16)}`}typeof window<"u"&&(window.keccak256=Mh);var uu=Mh,Q6={intToBuffer:B1,intToHex:C1,isHexPrefixed:I1,stripHexPrefix:O1,padToEven:xh,isHexString:k1,toBuffer:x1},P1=class{constructor(t,i){Pt(this,"_key");Pt(this,"ownerLength",qe[Ae.ETHEREUM].pubLength);Pt(this,"signatureLength",qe[Ae.ETHEREUM].sigLength);Pt(this,"signatureType",Ae.ETHEREUM);Pt(this,"pk");this._key=t,this.pk=i.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return Ut.Buffer.from(this._key,"hex")}static async verify(t,i,r){let u=t;typeof t=="string"&&(u=J6.default.toBuffer(t));let a=!1;try{a=xf.default.ecdsaVerify(r,uu(Ut.Buffer.from(i)),u)}catch{}return a}async sign(t){return xf.default.ecdsaSign(uu(Ut.Buffer.from(t)),Ut.Buffer.from(this.key)).signature}},kf=ye(Y0(),1),tw=ye(Gr(),1),bs=class extends P1{get publicKey(){return Ut.Buffer.from(this.pk,"hex")}constructor(t){t.startsWith("0x")&&(t=t.slice(2));let i=Ut.Buffer.from(t,"hex"),r=kf.default.publicKeyCreate(i,!1);super(t,Ut.Buffer.from(r))}async sign(t){return new oi(this._key).signMessage(t).then(i=>Ut.Buffer.from(i.slice(2),"hex"))}static async verify(t,i,r){return kf.default.ecdsaVerify(r.length===65?r.slice(0,-1):r,ue(ps(i)),typeof t=="string"?tw.default.toBuffer(t):t)}},ew=class extends bs{};lt();var rw=class extends Th{constructor(t){super(t.replace("ed25519:",""))}};lt();var nw=class extends ka{get publicKey(){return Ut.Buffer.from(this.pk)}get key(){return Ut.Buffer.from(this._key)}constructor(t,i){super(t.subarray(0,32),i)}};lt();var R1=class extends Jd{constructor(i){super(i);Pt(this,"signatureType",4)}async sign(i){return super.sign(Ut.Buffer.from(Ut.Buffer.from(i).toString("hex")))}static async verify(i,r,u){return super.verify(i,Ut.Buffer.from(Ut.Buffer.from(r).toString("hex")),u)}};lt();var iw=class extends Th{constructor(i){super(i);Pt(this,"signatureType",4)}async sign(i){return super.sign(Ut.Buffer.from(Ut.Buffer.from(i).toString("hex")))}static async verify(i,r,u){return super.verify(i,Ut.Buffer.from(Ut.Buffer.from(r).toString("hex")),u)}};lt();var aw=class extends ka{constructor(t,i){super(t,i)}get publicKey(){return Ut.Buffer.from(this.pk.slice(2),"hex")}get key(){return Ut.Buffer.from(this._key.slice(2),"hex")}};lt();var N1=class{constructor(t,i){Pt(this,"_publicKey");Pt(this,"ownerLength",qe[Ae.INJECTEDAPTOS].pubLength);Pt(this,"signatureLength",qe[Ae.INJECTEDAPTOS].sigLength);Pt(this,"signatureType",Ae.INJECTEDAPTOS);Pt(this,"pem");Pt(this,"provider");this.provider=t,this._publicKey=i}get publicKey(){return this._publicKey}async sign(t){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");let i=await this.provider.signMessage({message:Ut.Buffer.from(t).toString("hex"),nonce:"bundlr"});return Ut.Buffer.from(i.signature,"hex")}static async verify(t,i,r){let u=t;return os(Ut.Buffer.from(r),Ut.Buffer.from(`APTOS
message: ${Ut.Buffer.from(i).toString("hex")}
nonce: bundlr`),Ut.Buffer.from(u))}};lt();var L1=class{constructor(t,i){Pt(this,"_publicKey");Pt(this,"ownerLength",qe[Ae.MULTIAPTOS].pubLength);Pt(this,"signatureLength",qe[Ae.MULTIAPTOS].sigLength);Pt(this,"signatureType",Ae.MULTIAPTOS);Pt(this,"collectSignatures");Pt(this,"provider");this._publicKey=t,this.collectSignatures=i}get publicKey(){return this._publicKey}async sign(t){let{signatures:i,bitmap:r}=await this.collectSignatures(t),u=128,a=new Uint8Array([0,0,0,0]),s=new Set;r.forEach(c=>{if(c>=32)throw new Error(`Invalid bit value ${c}.`);if(s.has(c))throw new Error("Duplicated bits detected.");s.add(c);let f=Math.floor(c/8),l=a[f];l|=u>>c%8,a[f]=l});let e=Ut.Buffer.alloc(this.signatureLength),o=0;for(let c=0;c<32;c++)a.includes(c)&&e.set(i[o++],c*64);return e.set(a,this.signatureLength-4),e}static async verify(t,i,r){let u=qe[Ae.MULTIAPTOS].sigLength-4,a=r.slice(0,u),s=r.slice(u),e=!1;for(let o=0;o<32;o++){let c=Math.floor(o/8),f=o-c*8;if(s[c]&128>>f){let l=a.slice(o*64,(o+1)*64),p=t.slice(o*32,(o+1)*32);await os(Ut.Buffer.from(l),Ut.Buffer.from(i),Ut.Buffer.from(p))||(e=!0)}}return!e}};lt();var D1=class extends bs{constructor(i){super(i);Pt(this,"ownerLength",qe[Ae.TYPEDETHEREUM].pubLength);Pt(this,"signatureLength",qe[Ae.TYPEDETHEREUM].sigLength);Pt(this,"signatureType",Ae.TYPEDETHEREUM);Pt(this,"address");Pt(this,"signer");this.address="0x"+uu(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new oi(i)}get publicKey(){return Ut.Buffer.from(this.address)}async sign(i){let r=await this.signer._signTypedData(Oo,Io,{address:this.address,"Transaction hash":i});return Ut.Buffer.from(r.slice(2),"hex")}static async verify(i,r,u){let a=i.toString(),s=M1(Oo,Io,{address:a,"Transaction hash":r},u);return a.toLowerCase()===s.toLowerCase()}},Oo={name:"Bundlr",version:"1"},Io={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]};lt();var ow=class{constructor(t){Pt(this,"ownerLength",qe[Ae.TYPEDETHEREUM].pubLength);Pt(this,"signatureLength",qe[Ae.TYPEDETHEREUM].sigLength);Pt(this,"signatureType",Ae.TYPEDETHEREUM);Pt(this,"address");Pt(this,"signer");Pt(this,"publicKey");this.signer=t.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=Ut.Buffer.from(this.address)}async sign(t){let i=await this.signer._signTypedData(Oo,Io,{address:this.address,"Transaction hash":t});return Ut.Buffer.from(i.slice(2),"hex")}static verify(t,i,r){let u=t.toString(),a=M1(Oo,Io,{address:u,"Transaction hash":i},r);return u.toLowerCase()===a.toLowerCase()}};lt();var sw=ye(Gr(),1),uw=class{constructor(t,i){Pt(this,"signer");Pt(this,"publicKey");Pt(this,"ownerLength",qe[Ae.ARWEAVE].pubLength);Pt(this,"signatureLength",qe[Ae.ARWEAVE].sigLength);Pt(this,"signatureType",Ae.ARWEAVE);Pt(this,"arweave");this.signer=t,this.arweave=i}async setPublicKey(){let t=await this.signer.getActivePublicKey();this.publicKey=sw.default.toBuffer(t)}async sign(t){this.publicKey||await this.setPublicKey();let i={name:"RSA-PSS",saltLength:32},r=await this.signer.signature(t,i);return new Uint8Array(Object.values(r).map(u=>+u))}static async verify(t,i,r){return await Ar().verify(t,i,r)}},kh={1:Zd,2:ka,3:bs,4:R1,5:N1,6:L1,7:D1};lt();lt();async function hw(t){return Oa([je("dataitem"),je("1"),je(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}var hu=hw;lt();lt();function Ba(t,i){let r=new Uint8Array(t);if(i<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(i>2**(t*8)-1)throw new Error(`Number ${i} is too large for an array of ${t} bytes`);for(let u=0;u<r.length;u++){let a=i&255;r[u]=a,i=(i-a)/256}return r}function lu(t){return Ba(8,t)}function j1(t){return Ba(2,t)}function lw(t){return Ba(16,t)}function fu(t){return Ba(32,t)}function pr(t){let i=0;for(let r=t.length-1;r>=0;r--)i=i*256+t[r];return i}lt();var Ja=ye(Gr(),1);lt();var mn=ye(Gr(),1),Yi=ye($e(),1);lt();var Oh=class{constructor(t=Ut.Buffer.alloc(Bh),i=0){Pt(this,"buf");Pt(this,"pos");this.buf=t,this.pos=i}writeTags(t){if(!Array.isArray(t))throw new Error("input must be array");let i=t.length,r;if(i)for(this.writeLong(i),r=0;r<i;r++){let u=t[r];if(typeof(u==null?void 0:u.name)!="string"||typeof(u==null?void 0:u.value)!="string")throw new Error(`Invalid tag format for ${u}, expected {name:string, value: string}`);this.writeString(u.name),this.writeString(u.value)}this.writeLong(0)}toBuffer(){let t=Ut.Buffer.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(t,0,0,this.pos),t}writeLong(t){let i=this.buf,r,u;if(t>=-1073741824&&t<1073741824){u=t>=0?t<<1:~t<<1|1;do i[this.pos]=u&127,u>>=7;while(u&&(i[this.pos++]|=128))}else{r=t>=0?t*2:-t*2-1;do i[this.pos]=r&127,r/=128;while(r>=1&&(i[this.pos++]|=128))}this.pos++,this.buf=i}writeString(t){let i=Ut.Buffer.byteLength(t),r=this.buf;this.writeLong(i);let u=this.pos;if(this.pos+=i,!(this.pos>r.length)){if(i>64)this.buf.write(t,this.pos-i,i,"utf8");else{let a,s,e,o;for(a=0,s=i;a<s;a++)e=t.charCodeAt(a),e<128?r[u++]=e:e<2048?(r[u++]=e>>6|192,r[u++]=e&63|128):(e&64512)===55296&&((o=t.charCodeAt(a+1))&64512)===56320?(e=65536+((e&1023)<<10)+(o&1023),a++,r[u++]=e>>18|240,r[u++]=e>>12&63|128,r[u++]=e>>6&63|128,r[u++]=e&63|128):(r[u++]=e>>12|224,r[u++]=e>>6&63|128,r[u++]=e&63|128)}this.buf=r}}readLong(){let t=0,i=0,r=this.buf,u,a,s,e;do u=r[this.pos++],a=u&128,t|=(u&127)<<i,i+=7;while(a&&i<28);if(a){s=t,e=268435456;do u=r[this.pos++],s+=(u&127)*e,e*=128;while(u&128);return(s%2?-(s+1):s)/2}return t>>1^-(t&1)}skipLong(){let t=this.buf;for(;t[this.pos++]&128;);}readTags(){let t=[],i;for(;i=this.readLong();)for(i<0&&(i=-i,this.skipLong());i--;){let r=this.readString(),u=this.readString();t.push({name:r,value:u})}return t}readString(){let t=this.readLong(),i=this.pos,r=this.buf;if(this.pos+=t,this.pos>r.length)throw new Error("TAP Position out of range");return this.buf.slice(i,i+t).toString()}};function U1(t){if((t==null?void 0:t.length)===0)return Ut.Buffer.allocUnsafe(0);let i=new Oh;return i.writeTags(t),i.toBuffer()}function Bo(t){return new Oh(t).readTags()}var fw=ye(gi(),1),Ih=80,Bh=4096,ma=class{constructor(t){Pt(this,"binary");Pt(this,"_id");this.binary=t}static isDataItem(t){return t.binary!==void 0}get signatureType(){let t=pr(this.binary.subarray(0,2));if((Ae==null?void 0:Ae[t])!==void 0)return t;throw new Error("Unknown signature type: "+t)}async isValid(){return ma.verify(this.binary)}get id(){return mn.default.encode(this.rawId)}set id(t){this._id=mn.default.toBuffer(t)}get rawId(){return(0,fw.createHash)("sha256").update(this.rawSignature).digest()}set rawId(t){this._id=t}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return mn.default.encode(this.rawSignature)}set rawOwner(t){if(t.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${t.byteLength} bytes.`);this.binary.set(t,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return qe[this.signatureType].sigLength}get owner(){return mn.default.encode(this.rawOwner)}get ownerLength(){return qe[this.signatureType].pubLength}get rawTarget(){let t=this.getTargetStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):Yi.Buffer.alloc(0)}get target(){return mn.default.encode(this.rawTarget)}get rawAnchor(){let t=this.getAnchorStart();return this.binary[t]==1?this.binary.subarray(t+1,t+33):Yi.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){let t=this.getTagsStart(),i=pr(this.binary.subarray(t+8,t+16));return this.binary.subarray(t+16,t+16+i)}get tags(){let t=this.getTagsStart();if(pr(this.binary.subarray(t,t+8))==0)return[];let i=pr(this.binary.subarray(t+8,t+16));return Bo(Yi.Buffer.from(this.binary.subarray(t+16,t+16+i)))}get tagsB64Url(){return this.tags.map(t=>({name:mn.default.encode(t.name),value:mn.default.encode(t.value)}))}getStartOfData(){let t=this.getTagsStart(),i=this.binary.subarray(t+8,t+16),r=pr(i);return t+16+r}get rawData(){let t=this.getTagsStart(),i=this.binary.subarray(t+8,t+16),r=pr(i),u=t+16+r;return this.binary.subarray(u,this.binary.length)}get data(){return mn.default.encode(this.rawData)}getRaw(){return this.binary}async sign(t){return this._id=await Ch(this,t),this.rawId}async setSignature(t){this.binary.set(t,2),this._id=Yi.Buffer.from(await Ar().hash(t))}isSigned(){var t;return(((t=this._id)==null?void 0:t.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(t=>({name:mn.default.encode(t.name),value:mn.default.encode(t.value)})),data:this.data}}static async verify(t){if(t.byteLength<Ih)return!1;let i=new ma(t),r=i.signatureType,u=i.getTagsStart(),a=pr(t.subarray(u,u+8)),s=t.subarray(u+8,u+16),e=pr(s);if(e>Bh)return!1;if(a>0)try{if(Bo(Yi.Buffer.from(t.subarray(u+16,u+16+e))).length!==a)return!1}catch{return!1}let o=kh[r],c=await hu(i);return await o.verify(i.rawOwner,c,i.rawSignature)}async getSignatureData(){return hu(this)}getTagsStart(){let t=this.getTargetStart(),i=this.binary[t]==1,r=t+(i?33:1),u=this.binary[r]==1;return r+=u?33:1,r}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let t=this.getTargetStart()+1,i=this.binary[this.getTargetStart()]==1;return t+=i?32:0,t}},lo=ma,cw=ye(gi(),1),yn=32,F1=class{constructor(t){Pt(this,"length");Pt(this,"items");Pt(this,"binary");this.binary=t,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(t){if(typeof t=="number"){if(t>=this.length)throw new RangeError("Index out of range");return this.getByIndex(t)}else return this.getById(t)}getSizes(){let t=[];for(let i=yn;i<yn+64*this.length;i+=64)t.push(pr(this.binary.subarray(i,i+32)));return t}getIds(){let t=[];for(let i=yn;i<yn+64*this.length;i+=64){let r=this.binary.subarray(i+32,i+64);if(r.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");t.push(Ja.default.encode(r))}return t}getIdBy(t){if(t>this.length-1)throw new RangeError("Index of bundle out of range");let i=64+64*t;return Ja.default.encode(this.binary.subarray(i,i+32))}async toTransaction(t,i,r){let u=await i.createTransaction({data:this.binary,...t},r);return u.addTag("Bundle-Format","binary"),u.addTag("Bundle-Version","2.0.0"),u}async verify(){for(let t of this.items){let i=await t.isValid(),r=(0,Ja.default)((0,cw.createHash)("sha256").update(t.rawSignature).digest());if(!(i&&t.id===r))return!1}return!0}getOffset(t){let i=0;for(let r=yn;r<yn+64*this.length;r+=64){let u=pr(this.binary.subarray(r,r+32));i+=u;let a=this.binary.subarray(r+32,r+64);if(Ut.Buffer.compare(a,t)===0)return{startOffset:i,size:u}}return{startOffset:-1,size:-1}}getByIndex(t){let i=0,r=this.getBundleStart(),u=0,a,s;for(let f=yn;f<yn+64*this.length;f+=64){if(a=pr(this.binary.subarray(f,f+32)),u++===t){s=this.binary.subarray(f+32,f+64);break}i+=a}let e=r+i,o=this.binary.subarray(e,e+a),c=new lo(o);return c.rawId=s,c}getById(t){let i=Ja.default.toBuffer(t),r=this.getOffset(i);if(r.startOffset===-1)throw new Error("Transaction not found");let u=this.getBundleStart()+r.startOffset;return new lo(this.binary.subarray(u,u+r.size))}getDataItemCount(){return pr(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){let t=new Array(this.length),i=0,r=this.getBundleStart(),u=0;for(let a=yn;a<yn+64*this.length;a+=64){let s=pr(this.binary.subarray(a,a+32)),e=this.binary.subarray(a+32,a+64);if(e.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");let o=r+i,c=this.binary.subarray(o,o+s);i+=s;let f=new lo(c);f.rawId=e,t[u]=f,u++}return t}},K1=F1;function dw(t){return new K1(t)}async function pw(t,i){let r=new Uint8Array(64*t.length),u=await Promise.all(t.map(async(s,e)=>{let o=s.isSigned()?s.rawId:await Ch(s,i),c=new Uint8Array(64);return c.set(fu(s.getRaw().byteLength),0),c.set(o,32),r.set(c,64*e),s.getRaw()})).then(s=>Ut.Buffer.concat(s)),a=Ut.Buffer.concat([Ut.Buffer.from(fu(t.length)),Ut.Buffer.from(r),u]);return new K1(a)}async function z1(t,i){let r=await hu(t),u=await i.sign(r),a=await Ar().hash(u);return{signature:Ut.Buffer.from(u),id:Ut.Buffer.from(a)}}async function Ch(t,i){let{signature:r,id:u}=await z1(t,i);return t.getRaw().set(r,2),u}lt();var gw=ye(Gr(),1);function W1(t,i,r){var C,N;let u=i.publicKey,a=r!=null&&r.target?gw.default.toBuffer(r.target):null,s=1+((a==null?void 0:a.byteLength)??0),e=r!=null&&r.anchor?Ut.Buffer.from(r.anchor):null,o=1+((e==null?void 0:e.byteLength)??0),c=(((C=r==null?void 0:r.tags)==null?void 0:C.length)??0)>0?U1(r==null?void 0:r.tags):null,f=16+(c?c.byteLength:0),l=Ut.Buffer.from(t),p=l.byteLength,g=2+i.signatureLength+i.ownerLength+s+o+f+p,y=Ut.Buffer.alloc(g);if(y.set(j1(i.signatureType),0),y.set(new Uint8Array(i.signatureLength).fill(0),2),u.byteLength!==i.ownerLength)throw new Error(`Owner must be ${i.ownerLength} bytes, but was incorrectly ${u.byteLength}`);y.set(u,2+i.signatureLength);let m=2+i.signatureLength+i.ownerLength;if(y[m]=a?1:0,a){if(a.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${a.byteLength}`);y.set(a,m+1)}let M=m+s,E=M+1;if(y[M]=e?1:0,e){if(E+=e.byteLength,e.byteLength!==32)throw new Error("Anchor must be 32 bytes");y.set(e,M+1)}y.set(lu(((N=r==null?void 0:r.tags)==null?void 0:N.length)??0),E);let B=lu((c==null?void 0:c.byteLength)??0);y.set(B,E+8),c&&y.set(c,E+16);let x=E+f;return y.set(l,x),new lo(y)}lt();lt();var mw=class{constructor(){Pt(this,"signatureType");Pt(this,"rawSignature");Pt(this,"signature");Pt(this,"signatureLength");Pt(this,"rawOwner");Pt(this,"owner");Pt(this,"ownerLength");Pt(this,"rawTarget");Pt(this,"target");Pt(this,"rawAnchor");Pt(this,"anchor");Pt(this,"rawTags");Pt(this,"tags");Pt(this,"rawData");Pt(this,"data")}static async verify(...t){throw new Error("You must implement `verify`")}};lt();lt();var q1={};ba(q1,{default:()=>vw,processStream:()=>H1,streamExportForTesting:()=>ww,streamSigner:()=>bw});lt();var $1=ye(Cn(),1),Si=ye(Gr(),1),yw=ye(gi(),1);async function H1(t){let i=G1(t),r=(await i.next()).value;r=await Sr(i,r,32);let u=pr(r.subarray(0,32));r=r.subarray(32);let a=64*u;r=await Sr(i,r,a);let s=new Array(u);for(let c=0;c<a;c+=64)s[c/64]=[pr(r.subarray(c,c+32)),(0,Si.default)(Ut.Buffer.from(r.subarray(c+32,c+64)))];r=r.subarray(a);let e=32+a,o=[];for(let[c,f]of s){r=await Sr(i,r,Ih),r=await Sr(i,r,2);let l=pr(r.subarray(0,2));r=r.subarray(2);let{sigLength:p,pubLength:g,sigName:y}=qe[l];r=await Sr(i,r,p);let m=r.subarray(0,p);r=r.subarray(p),r=await Sr(i,r,g);let M=r.subarray(0,g);r=r.subarray(g),r=await Sr(i,r,1);let E=r[0]===1;E&&(r=await Sr(i,r,33));let B=E?r.subarray(1,33):Ut.Buffer.allocUnsafe(0);r=r.subarray(E?33:1),r=await Sr(i,r,1);let x=r[0]===1;x&&(r=await Sr(i,r,33));let C=x?r.subarray(1,33):Ut.Buffer.allocUnsafe(0);r=r.subarray(x?33:1),r=await Sr(i,r,8);let N=pr(r.subarray(0,8));r=r.subarray(8),r=await Sr(i,r,8);let F=pr(r.subarray(0,8));r=r.subarray(8),r=await Sr(i,r,F);let I=r.subarray(0,F),U=N!==0&&F!==0?Bo(Ut.Buffer.from(I)):[];if(U.length!==N)throw new Error("Tags lengths don't match");r=r.subarray(F);let P=new $1.Transform;P._transform=function(O,L,n){this.push(O),n()};let D=Oa([je("dataitem"),je("1"),je(l.toString()),M,B,C,I,P]),W=2+p+g+(E?33:1)+(x?33:1)+16+F,q=c-W;if(r.byteLength>q)P.write(r.subarray(0,q)),r=r.subarray(q);else{let O=r.byteLength;for(P.write(r);q>O;){if(r=(await i.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${q} received: ${O}`);O+=r.byteLength,O>q?P.write(r.subarray(0,r.byteLength-(O-q))):P.write(r)}r=r.subarray(r.byteLength-(O-q))}if(P.end(),f!==(0,Si.default)((0,yw.createHash)("sha256").update(m).digest()))throw new Error("ID doesn't match signature");if(!await kh[l].verify(M,await D,m))throw new Error("Invalid signature");o.push({id:f,sigName:y,signature:(0,Si.default)(Ut.Buffer.from(m)),target:(0,Si.default)(Ut.Buffer.from(B)),anchor:(0,Si.default)(Ut.Buffer.from(C)),owner:(0,Si.default)(Ut.Buffer.from(M)),tags:U,dataOffset:e+W,dataSize:q}),e+=W+q}return o}async function bw(t,i,r,u){let a=W1("",r,u),s=new $1.PassThrough,e=[je("dataitem"),je("1"),je(a.signatureType.toString()),a.rawOwner,a.rawTarget,a.rawAnchor,a.rawTags,t],o=await Oa(e),c=Ut.Buffer.from(await r.sign(o));return a.setSignature(c),s.write(a.getRaw()),i.pipe(s)}async function Sr(t,i,r){if(i.byteLength>=r)return i;let{done:u,value:a}=await t.next();if(u&&!a)throw new Error("Invalid buffer");return Sr(t,Ut.Buffer.concat([Ut.Buffer.from(i),Ut.Buffer.from(a)]),r)}async function*G1(t){for await(let i of t)yield i}var vw=H1,ww={readBytes:Sr,getReader:G1},V1={...rd,stream:q1};globalThis.arbundles??(globalThis.arbundles=V1);var Tw=V1,_w=ye(Hy()),Ew=ye(Gr()),Mw=class{constructor(t){Pt(this,"signer");Pt(this,"publicKey");Pt(this,"ownerLength",qe[Ae.ARWEAVE].pubLength);Pt(this,"signatureLength",qe[Ae.ARWEAVE].sigLength);Pt(this,"signatureType",Ae.ARWEAVE);this.signer=t}async setPublicKey(){let t;this.signer.getPublicKey?t=await this.signer.getPublicKey():t=await this.signer.getActivePublicKey(),this.publicKey=Ew.default.toBuffer(t)}async sign(t){this.publicKey||await this.setPublicKey();let i={name:"RSA-PSS",saltLength:0},r=await this.signer.signature(t,i);return new Uint8Array(Object.values(r))}async signDataItem(t,i){return this.publicKey||await this.setPublicKey(),new ma(Ut.Buffer.from(await this.signer.signDataItem({data:t,tags:i})))}static async verify(t,i,r){return await _w.default.crypto.verify(t,i,r)}};lt();lt();lt();/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*//*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 *//*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*//*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *//*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 *//**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 *//**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 *//**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 *//**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 *//**
 * ZipStream
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
 * @copyright (c) 2014 Chris Talkington, contributors.
 *//**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */export{Zd as ArweaveSigner,Qy as CreateContractImpl,Aw as DeployPlugin,Tw as EthereumSigner,Mw as InjectedArweaveSigner,Z6 as InjectedEthereumSigner,Yy as SourceImpl,kl as isDataItem,Ti as isSigner};
